---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
title: Diferencias de configuración comunes entre el desarrollo y producción (C#) | Microsoft Docs
author: rick-anderson
description: En los tutoriales anteriores, hemos implementado nuestro sitio Web copiando todos los archivos pertinentes desde el entorno de desarrollo en el entorno de producción. Sin embargo,...
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 721a5c37-7e21-48e0-832e-535c6351dcae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/common-configuration-differences-between-development-and-production-cs
msc.type: authoredcontent
ms.openlocfilehash: b9d4ed08ea1e8429c1895d0631e1acac9c7eaba9
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59391460"
---
# <a name="common-configuration-differences-between-development-and-production-c"></a><span data-ttu-id="09944-104">Diferencias de configuración comunes entre el desarrollo y la producción (C#)</span><span class="sxs-lookup"><span data-stu-id="09944-104">Common Configuration Differences Between Development and Production (C#)</span></span>

<span data-ttu-id="09944-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="09944-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="09944-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="09944-106">Download PDF</span></span>](http://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial05_ConfigDifferences_cs.pdf)

> <span data-ttu-id="09944-107">En los tutoriales anteriores, hemos implementado nuestro sitio Web copiando todos los archivos pertinentes desde el entorno de desarrollo en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-107">In earlier tutorials we deployed our website by copying all of the pertinent files from the development environment to the production environment.</span></span> <span data-ttu-id="09944-108">Sin embargo, no es raro que haya diferencias de configuración entre entornos, lo que necesita que cada entorno tiene un único archivo Web.config.</span><span class="sxs-lookup"><span data-stu-id="09944-108">However, it is not uncommon for there to be configuration differences between environments, which necessitates that each environment have a unique Web.config file.</span></span> <span data-ttu-id="09944-109">Este tutorial examina las diferencias de configuración típicos y se examina las estrategias para mantener la información de configuración independiente.</span><span class="sxs-lookup"><span data-stu-id="09944-109">This tutorial examines typical configuration differences and looks at strategies for maintaining separate configuration information.</span></span>


## <a name="introduction"></a><span data-ttu-id="09944-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="09944-110">Introduction</span></span>


<span data-ttu-id="09944-111">Los dos últimos tutoriales ha avanzado a través de la implementación de una aplicación web sencilla.</span><span class="sxs-lookup"><span data-stu-id="09944-111">The last two tutorials walked through deploying a simple web application.</span></span> <span data-ttu-id="09944-112">El [ *implementar el sitio mediante un cliente FTP* ](deploying-your-site-using-an-ftp-client-cs.md) tutorial ha mostrado cómo usar un cliente FTP independiente para copiar los archivos necesarios del entorno de desarrollo hasta la producción.</span><span class="sxs-lookup"><span data-stu-id="09944-112">The [*Deploying Your Site Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) tutorial showed how to use a stand-alone FTP client to copy the necessary files from the development environment up to production.</span></span> <span data-ttu-id="09944-113">El tutorial anterior, [ *implementar su sitio con Visual Studio*](deploying-your-site-using-visual-studio-cs.md), buscar en la implementación mediante la herramienta Copiar sitio Web y la opción de publicación de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09944-113">The preceding tutorial, [*Deploying Your Site Using Visual Studio*](deploying-your-site-using-visual-studio-cs.md), looked at deployment using Visual Studio's Copy Web Site tool and Publish option.</span></span> <span data-ttu-id="09944-114">En ambos tutoriales todos los archivos en el entorno de producción era una copia de un archivo en el entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="09944-114">In both tutorials every file in the production environment was a copy of a file on the development environment.</span></span> <span data-ttu-id="09944-115">Sin embargo, no es infrecuente que los archivos de configuración en el entorno de producción diferentes a los del entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="09944-115">However, it is not uncommon for configuration files in the production environment to differ from those in the development environment.</span></span> <span data-ttu-id="09944-116">Configuración de la aplicación web se almacena en la `Web.config` de archivos y suele incluir información acerca de los recursos externos, como la base de datos, web y servidores de correo electrónico.</span><span class="sxs-lookup"><span data-stu-id="09944-116">A web application's configuration is stored in the `Web.config` file and typically includes information about external resources, such as database, web, and email servers.</span></span> <span data-ttu-id="09944-117">También detalla el comportamiento de la aplicación en determinadas situaciones, como el curso de acción que se realizará cuando se produce una excepción no controlada.</span><span class="sxs-lookup"><span data-stu-id="09944-117">It also spells out the behavior of the application in certain situations, such as the course of action to take when an unhandled exception occurs.</span></span>

<span data-ttu-id="09944-118">Al implementar una aplicación web es importante que la información de configuración correcto que terminen en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-118">When deploying a web application it is important that the correct configuration information end up in the production environment.</span></span> <span data-ttu-id="09944-119">En la mayoría de los casos el `Web.config` no se puede copiar el archivo en el entorno de desarrollo al entorno de producción como-es.</span><span class="sxs-lookup"><span data-stu-id="09944-119">In most cases the `Web.config` file in the development environment cannot be copied to the production environment as-is.</span></span> <span data-ttu-id="09944-120">En su lugar, una versión personalizada de `Web.config` debe cargarse en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-120">Instead, a customized version of `Web.config` needs to be uploaded to production.</span></span> <span data-ttu-id="09944-121">En este tutorial se revisa brevemente algunas de las diferencias de configuración más comunes; También resume algunas técnicas para mantener la información de configuración diferente entre los entornos.</span><span class="sxs-lookup"><span data-stu-id="09944-121">This tutorial briefly reviews some of the more common configuration differences; it also summarizes some techniques for maintaining different configuration information between the environments.</span></span>

## <a name="typical-configuration-differences-between-the-development-and-production-environments"></a><span data-ttu-id="09944-122">Configuración típica de diferencias entre los entornos de producción y desarrollo</span><span class="sxs-lookup"><span data-stu-id="09944-122">Typical Configuration Differences Between the Development and Production Environments</span></span>

<span data-ttu-id="09944-123">El `Web.config` archivo incluye una gran variedad de información de configuración para una aplicación ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09944-123">The `Web.config` file includes an assortment of configuration information for an ASP.NET application.</span></span> <span data-ttu-id="09944-124">Parte de esta información de configuración es el mismo independientemente del entorno.</span><span class="sxs-lookup"><span data-stu-id="09944-124">Some of this configuration information is the same regardless of the environment.</span></span> <span data-ttu-id="09944-125">Por ejemplo, la configuración de autenticación y las reglas de autorización de dirección URL especificada en el `Web.config` del archivo `<authentication>` y `<authorization>` elementos suelen ser el mismo independientemente del entorno.</span><span class="sxs-lookup"><span data-stu-id="09944-125">For instance, the authentication settings and URL authorization rules spelled out in the `Web.config` file's `<authentication>` and `<authorization>` elements are usually the same regardless of the environment.</span></span> <span data-ttu-id="09944-126">Pero otra información de configuración - como información sobre los recursos externos - normalmente difiere según el entorno.</span><span class="sxs-lookup"><span data-stu-id="09944-126">But other configuration information - such as information about external resources - typically differs depending on the environment.</span></span>

<span data-ttu-id="09944-127">Cadenas de conexiones de base de datos son un buen ejemplo de información de configuración que difiere en función del entorno.</span><span class="sxs-lookup"><span data-stu-id="09944-127">Database connections strings are a prime example of configuration information that differs based on the environment.</span></span> <span data-ttu-id="09944-128">Cuando una aplicación web se comunica con un servidor de base de datos primero debe establecer una conexión, y esto se consigue a través de un [cadena de conexión](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span><span class="sxs-lookup"><span data-stu-id="09944-128">When a web application communicates with a database server it must first establish a connection, and that is achieved through a [connection string](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string).</span></span> <span data-ttu-id="09944-129">Aunque es posible codificar la cadena de conexión de base de datos directamente en las páginas web o el código que se conecta a la base de datos, es preferible colocarlo `Web.config`del [ `<connectionStrings>` elemento](https://msdn.microsoft.com/library/bf7sd233.aspx) para que la cadena de conexión información está en una única ubicación centralizada.</span><span class="sxs-lookup"><span data-stu-id="09944-129">While it is possible to hard-code the database connection string directly in the web pages or the code that connects to the database, it is best to place it `Web.config`'s [`<connectionStrings>` element](https://msdn.microsoft.com/library/bf7sd233.aspx) so that the connection string information is in a single, centralized location.</span></span> <span data-ttu-id="09944-130">A menudo se usa otra base de datos durante el desarrollo que se usa en producción; por lo tanto, la información de la cadena de conexión debe ser única para cada entorno.</span><span class="sxs-lookup"><span data-stu-id="09944-130">Oftentimes a different database is used during development than is used in production; consequently, the connection string information must be unique for each environment.</span></span>

> [!NOTE]
> <span data-ttu-id="09944-131">Tutoriales futuros exploran la implementación de aplicaciones controladas por datos, momento en que analizaremos en profundidad los detalles de cómo se almacenan cadenas de conexión de base de datos en el archivo de configuración.</span><span class="sxs-lookup"><span data-stu-id="09944-131">Future tutorials explore deploying data-driven applications, at which point we'll dive into the specifics of how database connection strings are stored in the configuration file.</span></span>


<span data-ttu-id="09944-132">El comportamiento previsto de los entornos de desarrollo y producción difiere considerablemente.</span><span class="sxs-lookup"><span data-stu-id="09944-132">The intended behavior of the development and production environments differs substantially.</span></span> <span data-ttu-id="09944-133">Una aplicación web en el entorno de desarrollo se está creando, probado y depurado por un pequeño grupo de desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="09944-133">A web application in the development environment is being created, tested, and debugged by a small group of developers.</span></span> <span data-ttu-id="09944-134">En el entorno de producción que se está visitando la misma aplicación por distintos usuarios simultáneos.</span><span class="sxs-lookup"><span data-stu-id="09944-134">In the production environment that same application is being visited by many different simultaneous users.</span></span> <span data-ttu-id="09944-135">ASP.NET incluye una serie de características que ayudan a los desarrolladores probar y depurar una aplicación, pero se deben deshabilitar estas características por motivos de seguridad en el entorno de producción y rendimiento.</span><span class="sxs-lookup"><span data-stu-id="09944-135">ASP.NET includes a number of features that help developers in testing and debugging an application, but these features should be disabled for performance and security reasons when in the production environment.</span></span> <span data-ttu-id="09944-136">Echemos un vistazo a algunas opciones de configuración de dicha configuración.</span><span class="sxs-lookup"><span data-stu-id="09944-136">Let's look at a few such configuration settings.</span></span>

### <a name="configuration-settings-that-impact-performance"></a><span data-ttu-id="09944-137">Opciones de configuración que afectan al rendimiento</span><span class="sxs-lookup"><span data-stu-id="09944-137">Configuration Settings That Impact Performance</span></span>

<span data-ttu-id="09944-138">Cuando se visita una página ASP.NET para la primera vez (o la primera vez después de haya cambiado), se debe convertir su marcado declarativo en una clase y esta clase se debe compilar.</span><span class="sxs-lookup"><span data-stu-id="09944-138">When an ASP.NET page is visited for the first time (or the first time after it has changed), its declarative markup must be converted into a class and this class must be compiled.</span></span> <span data-ttu-id="09944-139">Si la aplicación web usa una compilación automática, a continuación, la clase de código subyacente de la página debe compilarse, demasiado.</span><span class="sxs-lookup"><span data-stu-id="09944-139">If the web application uses automatic compilation then the page's code-behind class needs to be compiled, too.</span></span> <span data-ttu-id="09944-140">Puede configurar una gran variedad de opciones de compilación a través de la `Web.config` del archivo [ `<compilation>` elemento](https://msdn.microsoft.com/library/s10awwz0.aspx).</span><span class="sxs-lookup"><span data-stu-id="09944-140">You can configure an assortment of compilation options via the `Web.config` file's [`<compilation>` element](https://msdn.microsoft.com/library/s10awwz0.aspx).</span></span>

<span data-ttu-id="09944-141">El atributo de depuración es uno de los atributos más importantes en el `<compilation>` elemento.</span><span class="sxs-lookup"><span data-stu-id="09944-141">The debug attribute is one of the most important attributes in the `<compilation>` element.</span></span> <span data-ttu-id="09944-142">Si el `debug` atributo está establecido en "true", a continuación, los ensamblados compilados incluyen símbolos de depuración, que son necesarias al depurar una aplicación en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09944-142">If the `debug` attribute is set to "true" then the compiled assemblies include debug symbols, which are needed when debugging an application in Visual Studio.</span></span> <span data-ttu-id="09944-143">Pero aumentan el tamaño del conjunto de símbolos de depuración e imponen requisitos adicionales de memoria cuando se ejecuta el código.</span><span class="sxs-lookup"><span data-stu-id="09944-143">But debug symbols increase the size of the assembly and impose additional memory requirements when running the code.</span></span> <span data-ttu-id="09944-144">Además, cuando el `debug` atributo está establecido en "true", cualquier contenido devuelto por `WebResource.axd` no está en caché, lo que significa que cada vez que un usuario visita una página tendrán que volver a descargar el contenido estático que devuelve `WebResource.axd`.</span><span class="sxs-lookup"><span data-stu-id="09944-144">Furthermore, when the `debug` attribute is set to "true" any content returned by `WebResource.axd` is not cached, meaning that each time a user visits a page they will need to re-download the static content returned by `WebResource.axd`.</span></span>

> [!NOTE]
> `WebResource.axd` <span data-ttu-id="09944-145">es un controlador HTTP integrado presentado en ASP.NET 2.0 que utilizan los controles de servidor para recuperar los recursos incrustados, como archivos de script, imágenes, archivos CSS y otro contenido.</span><span class="sxs-lookup"><span data-stu-id="09944-145">is a built-in HTTP Handler introduced in ASP.NET 2.0 that server controls use to retrieve embedded resources, such as script files, images, CSS files, and other content.</span></span> <span data-ttu-id="09944-146">Para obtener más información acerca de cómo `WebResource.axd` funciona y cómo puede utilizarlo para tener acceso a los recursos incrustados desde los controles de servidor personalizado, vea [acceso incrustado recursos a través de una dirección URL usando `WebResource.axd` ](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="09944-146">For more information on how `WebResource.axd` works and how you can use it to access embedded resources from your custom server controls, see [Accessing Embedded Resources Through a URL Using `WebResource.axd`](http://aspnet.4guysfromrolla.com/articles/080906-1.aspx).</span></span>


<span data-ttu-id="09944-147">El `<compilation>` del elemento `debug` atributo normalmente se establece en "true" en el entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="09944-147">The `<compilation>` element's `debug` attribute is usually set to "true" in the development environment.</span></span> <span data-ttu-id="09944-148">De hecho, este atributo debe establecerse en "true" para depurar una aplicación web; Si se intenta depurar una aplicación ASP.NET desde Visual Studio y el `debug` está establecido en "false", Visual Studio mostrará un mensaje que explica que no se puede depurar la aplicación hasta que el `debug` atributo está establecido en "true" y le oferta para realizar este cambio automáticamente.</span><span class="sxs-lookup"><span data-stu-id="09944-148">In fact, this attribute must be set to "true" in order to debug a web application; if you try to debug an ASP.NET application from Visual Studio and the `debug` attribute is set to "false", Visual Studio will display a message explaining that the application cannot be debugged until the `debug` attribute is set to "true" and will offer to make this change for you.</span></span>

<span data-ttu-id="09944-149">Debería **nunca** tienen la `debug` atributo establecido en "true" en un entorno de producción debido a su impacto en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="09944-149">You should **never** have the `debug` attribute set to "true" in a production environment because of its impact on performance.</span></span> <span data-ttu-id="09944-150">Para obtener una explicación más completa sobre este tema, consulte [Scott Guthrie](https://weblogs.asp.net/scottgu/)de entrada de blog, [no ejecutar producción ASP.NET aplicaciones con `debug="true"` habilitado](https://weblogs.asp.net/scottgu/442448).</span><span class="sxs-lookup"><span data-stu-id="09944-150">For a more thorough discussion on this topic, refer to [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Don't Run Production ASP.NET Applications With `debug="true"` Enabled](https://weblogs.asp.net/scottgu/442448).</span></span>

### <a name="custom-errors-and-tracing"></a><span data-ttu-id="09944-151">Seguimiento y los errores personalizados</span><span class="sxs-lookup"><span data-stu-id="09944-151">Custom Errors and Tracing</span></span>

<span data-ttu-id="09944-152">Cuando se produce una excepción no controlada en una aplicación ASP.NET propaga hasta el tiempo de ejecución en ese momento se produce una de estas tres cosas:</span><span class="sxs-lookup"><span data-stu-id="09944-152">When an unhandled exception occurs in an ASP.NET application it bubbles up to the runtime at which point one of three things happens:</span></span>

- <span data-ttu-id="09944-153">Se muestra un mensaje de error genérico en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="09944-153">A generic runtime error message is displayed.</span></span> <span data-ttu-id="09944-154">Esta página informa al usuario que se ha producido un error en tiempo de ejecución, pero no proporciona los detalles sobre el error.</span><span class="sxs-lookup"><span data-stu-id="09944-154">This page informs the user that there was a runtime error, but does not provide any details about the error.</span></span>
- <span data-ttu-id="09944-155">Se muestra un mensaje de detalles de excepción, que incluye información sobre la excepción que se produce solo.</span><span class="sxs-lookup"><span data-stu-id="09944-155">An exception details message is displayed, which includes information on the exception that was just thrown.</span></span>
- <span data-ttu-id="09944-156">Se muestra una página de error personalizada, que es una página ASP.NET que cree que muestra cualquier mensaje que desee.</span><span class="sxs-lookup"><span data-stu-id="09944-156">A custom error page is displayed, which is an ASP.NET page that you create that displays any message you desire.</span></span>

<span data-ttu-id="09944-157">¿Qué ocurre en el caso de una excepción no controlada depende de la `Web.config` del archivo [ `<customErrors>` sección](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span><span class="sxs-lookup"><span data-stu-id="09944-157">What happens in the face of an unhandled exception depends on the `Web.config` file's [`<customErrors>` section](https://msdn.microsoft.com/library/h0hfz6fc.aspx).</span></span>

<span data-ttu-id="09944-158">Al desarrollar y probar una aplicación que ayuda a ver los detalles de cualquier excepción en el explorador.</span><span class="sxs-lookup"><span data-stu-id="09944-158">When developing and testing an application it helps to see details of any exception in the browser.</span></span> <span data-ttu-id="09944-159">Sin embargo, que muestra los detalles de la excepción en una aplicación en producción es un riesgo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="09944-159">However, showing exception details in an application on production is a potential security risk.</span></span> <span data-ttu-id="09944-160">Además, es unflattering y hace que su sitio Web parezca poco profesional.</span><span class="sxs-lookup"><span data-stu-id="09944-160">Moreover, it's unflattering and makes your website look unprofessional.</span></span> <span data-ttu-id="09944-161">Lo ideal es que, si se produce una excepción no controlada una aplicación web en el entorno de desarrollo mostrará los detalles de la excepción mientras la misma aplicación en producción mostrará una página de error personalizada.</span><span class="sxs-lookup"><span data-stu-id="09944-161">Ideally, in the event of an unhandled exception a web application in the development environment will show the exception's details while the same application in production will show a custom error page.</span></span>

> [!NOTE]
> <span data-ttu-id="09944-162">El valor predeterminado `<customErrors>` valor de la sección muestra los detalles de la excepción del mensaje sólo cuando la página se visita a través de localhost y, en caso contrario, muestra la página de error genérico en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="09944-162">The default `<customErrors>` section setting shows the exception details message only when the page is being visited through localhost, and shows the generic runtime error page otherwise.</span></span> <span data-ttu-id="09944-163">Esto no es lo ideal, pero se garantiza para saber que el comportamiento predeterminado no mostrar los detalles de excepción para los visitantes no locales.</span><span class="sxs-lookup"><span data-stu-id="09944-163">This isn't ideal, but it's assuring to know that the default behavior doesn't reveal exception details to non-local visitors.</span></span> <span data-ttu-id="09944-164">Un futuro tutorial examina el `<customErrors>` sección con más detalle y se muestra cómo hacer que una página de error personalizado que se muestra cuando se produce un error en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-164">A future tutorial examines the `<customErrors>` section in more detail and shows how to have a custom error page shown when an error occurs in production.</span></span>


<span data-ttu-id="09944-165">Otra característica ASP.NET que es útil durante el desarrollo de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="09944-165">Another ASP.NET feature that is useful during development is tracing.</span></span> <span data-ttu-id="09944-166">Seguimiento, si está habilitada, registra información acerca de cada solicitud entrante y proporciona una página web especial, `Trace.axd`, para ver los detalles de solicitud reciente.</span><span class="sxs-lookup"><span data-stu-id="09944-166">Tracing, if enabled, records information about each incoming request and provides a special web page, `Trace.axd`, for viewing recent request details.</span></span> <span data-ttu-id="09944-167">Puede activar y configurar el seguimiento a través de la [ `<trace>` elemento](https://msdn.microsoft.com/library/6915t83k.aspx) en `Web.config`.</span><span class="sxs-lookup"><span data-stu-id="09944-167">You can turn on and configure tracing via the [`<trace>` element](https://msdn.microsoft.com/library/6915t83k.aspx) in `Web.config`.</span></span>

<span data-ttu-id="09944-168">Si habilita la traza Asegúrese de que TI está deshabilitada en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-168">If you enable tracing make sure that it is disabled in production.</span></span> <span data-ttu-id="09944-169">Dado que la información de seguimiento incluye las cookies, datos de la sesión y otra información potencialmente confidencial, es importante deshabilitar el seguimiento en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-169">Because the trace information includes cookies, session data, and other potentially sensitive information, it is important to disable tracing in production.</span></span> <span data-ttu-id="09944-170">La buena noticia es que, de forma predeterminada, el seguimiento está deshabilitado y el `Trace.axd` archivo solo es accesible a través de localhost.</span><span class="sxs-lookup"><span data-stu-id="09944-170">The good news is that, by default, tracing is disabled and the `Trace.axd` file is only accessible through localhost.</span></span> <span data-ttu-id="09944-171">Si cambia estos valores predeterminados en el desarrollo, asegúrese de que están desactivados volver en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-171">If you change these default settings in development make sure that they are turned back off in production.</span></span>

## <a name="techniques-for-maintaining-separate-configuration-information"></a><span data-ttu-id="09944-172">Técnicas para mantener la información de configuración independiente</span><span class="sxs-lookup"><span data-stu-id="09944-172">Techniques for Maintaining Separate Configuration Information</span></span>

<span data-ttu-id="09944-173">Tener distintos valores de configuración en los entornos de desarrollo y producción complica el proceso de implementación.</span><span class="sxs-lookup"><span data-stu-id="09944-173">Having different configuration settings in the development and production environments complicates the deployment process.</span></span> <span data-ttu-id="09944-174">En los dos tutoriales anteriores el proceso de implementación implica copiar todos los archivos necesarios desde el desarrollo en producción, pero ese enfoque solo funciona si la información de configuración es la misma en ambos entornos.</span><span class="sxs-lookup"><span data-stu-id="09944-174">In the previous two tutorials the deployment process involved copying all of the necessary files from development to production, but that approach only works if the configuration information is the same in both environments.</span></span> <span data-ttu-id="09944-175">Hay una variedad de técnicas para implementar una aplicación con información de configuración diferentes.</span><span class="sxs-lookup"><span data-stu-id="09944-175">There are a variety of techniques for deploying an application with varying configuration information.</span></span> <span data-ttu-id="09944-176">Vamos a catálogo algunas de estas opciones para aplicaciones web hospedadas.</span><span class="sxs-lookup"><span data-stu-id="09944-176">Let's catalog some of these options for hosted web applications.</span></span>

### <a name="manually-deploying-the-production-environment-configuration-file"></a><span data-ttu-id="09944-177">Implementar manualmente el archivo de configuración del entorno de producción</span><span class="sxs-lookup"><span data-stu-id="09944-177">Manually Deploying the Production Environment Configuration File</span></span>

<span data-ttu-id="09944-178">El enfoque más sencillo consiste en mantener dos versiones de la `Web.config` archivos: uno para el entorno de desarrollo y otra para el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-178">The simplest approach is to maintain two versions of the `Web.config` file: one for the development environment and one for the production environment.</span></span> <span data-ttu-id="09944-179">Implementar un sitio de producción implica copiar todos los archivos en el servidor de producción en el entorno de desarrollo *excepto* para el `Web.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="09944-179">Deploying a site to production entails copying all of the files to the production server in the development environment *except* for the `Web.config` file.</span></span> <span data-ttu-id="09944-180">En su lugar, el entorno de producción específicos `Web.config` archivos se copian a producción.</span><span class="sxs-lookup"><span data-stu-id="09944-180">Instead, the production environment-specific `Web.config` file would be copied to production.</span></span>

<span data-ttu-id="09944-181">Este enfoque no es muy sofisticado, pero es fácil de implementar porque la información de configuración cambia con poca frecuencia.</span><span class="sxs-lookup"><span data-stu-id="09944-181">This approach is not very sophisticated, but it is easy to implement because configuration information changes infrequently.</span></span> <span data-ttu-id="09944-182">Funciona mejor para las aplicaciones con un equipo de desarrollo pequeños que se hospedan en un único servidor web y cuya información de configuración se cambia con poca frecuencia.</span><span class="sxs-lookup"><span data-stu-id="09944-182">It works best for applications with a small development team that are hosted on a single web server and whose configuration information is infrequently changed.</span></span> <span data-ttu-id="09944-183">Es más tenable al implementar manualmente los archivos de aplicación mediante un cliente FTP independiente.</span><span class="sxs-lookup"><span data-stu-id="09944-183">It's most tenable when manually deploying the application files using a stand-alone FTP client.</span></span> <span data-ttu-id="09944-184">Cuando se usa la herramienta Copiar sitio Web o la opción de publicación de Visual Studio, deberá primero intercambiar la implementación específica `Web.config` de archivos con la producción específica antes de implementar y, después, intercambie después de que finalice la implementación.</span><span class="sxs-lookup"><span data-stu-id="09944-184">When using Visual Studio's Copy Web Site tool or Publish option you'll need to first swap out the deployment-specific `Web.config` file with the production-specific one before deploying, and then swap them back after deployment completes.</span></span>

### <a name="change-the-configuration-during-the-build-or-deployment-process"></a><span data-ttu-id="09944-185">Cambiar la configuración durante la compilación o el proceso de implementación</span><span class="sxs-lookup"><span data-stu-id="09944-185">Change the Configuration During the Build or Deployment Process</span></span>

<span data-ttu-id="09944-186">Las discusiones hasta ahora suponen que un proceso de compilación e implementación de ad hoc.</span><span class="sxs-lookup"><span data-stu-id="09944-186">The discussions thus far have assumed an ad-hoc build and deployment process.</span></span> <span data-ttu-id="09944-187">Muchos proyectos de software más grandes han formalizado más procesos que hacen uso de código abierto, internamente, o herramientas de terceros.</span><span class="sxs-lookup"><span data-stu-id="09944-187">Many larger software projects have more formalized processes that make use of open-source, home-grown, or third-party tools.</span></span> <span data-ttu-id="09944-188">Para estos proyectos es probable que puede personalizar el proceso de compilación o implementación para modificar correctamente la información de configuración antes de que se inserte en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-188">For such projects you can likely customize the build or deployment process to appropriately modify the configuration information before it is pushed to production.</span></span> <span data-ttu-id="09944-189">Si compila la aplicación web mediante [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), o alguna otra herramienta de compilación, es probable que se puede agregar un paso de compilación para modificar el `Web.config` archivo para incluir la configuración específica de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-189">If you build your web application using [MSBuild](http://en.wikipedia.org/wiki/MSBuild), [NAnt](http://nant.sourceforge.net/), or some other build tool, you can likely add a build step to modify the `Web.config` file to include the production-specific settings.</span></span> <span data-ttu-id="09944-190">O el flujo de trabajo de implementación mediante programación puede conectarse al servidor de control de código fuente y recuperar adecuado `Web.config` archivo.</span><span class="sxs-lookup"><span data-stu-id="09944-190">Or your deployment workflow could programmatically connect to the source control server and retrieve the appropriate `Web.config` file.</span></span>

<span data-ttu-id="09944-191">El enfoque para obtener la información de configuración correspondiente a la producción real varía ampliamente en función de sus herramientas y flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="09944-191">The actual approach for getting the appropriate configuration information to production varies widely based on your tools and workflow.</span></span> <span data-ttu-id="09944-192">Por lo tanto, no se ahondará en este tema aún más.</span><span class="sxs-lookup"><span data-stu-id="09944-192">As such, we will not delve into this topic further.</span></span> <span data-ttu-id="09944-193">Si usa una herramienta de compilación populares como MSBuild o NAnt encontrará tutoriales y artículos de implementación específicos de estas herramientas a través de una búsqueda web.</span><span class="sxs-lookup"><span data-stu-id="09944-193">If you are using a popular build tool like MSBuild or NAnt you can find deployment articles and tutorials specific to these tools through a web search.</span></span>

### <a name="managing-configuration-differences-via-the-web-deployment-project-add-in"></a><span data-ttu-id="09944-194">Diferencias de configuración de administración a través de la implementación Web de proyecto complemento</span><span class="sxs-lookup"><span data-stu-id="09944-194">Managing Configuration Differences via the Web Deployment Project Add-In</span></span>

<span data-ttu-id="09944-195">En 2006 Microsoft publicó el complemento de Project de desarrollo Web para Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="09944-195">In 2006 Microsoft released the Web Development Project Add-In for Visual Studio 2005.</span></span> <span data-ttu-id="09944-196">Un complemento para Visual Studio 2008 se publicó en 2008.</span><span class="sxs-lookup"><span data-stu-id="09944-196">An Add-In for Visual Studio 2008 was released in 2008.</span></span> <span data-ttu-id="09944-197">Este complemento permite a los desarrolladores ASP.NET crear un proyecto de implementación Web independiente junto con su proyecto de aplicación web, cuando compila, explícitamente compila la aplicación web y copia los archivos para implementar en un directorio de salida local.</span><span class="sxs-lookup"><span data-stu-id="09944-197">This Add-In allows for ASP.NET developers to create a separate Web Deployment Project alongside their web application project that, when built, explicitly compiles the web application and copies the files to deploy to a local output directory.</span></span> <span data-ttu-id="09944-198">El proyecto de aplicación Web usa MSBuild en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="09944-198">The Web Application Project uses MSBuild behind the scenes.</span></span>

<span data-ttu-id="09944-199">De forma de predeterminada, el entorno de desarrollo `Web.config` archivo se copia en el directorio de salida, pero puede configurar el proyecto de implementación Web para personalizar el</span><span class="sxs-lookup"><span data-stu-id="09944-199">By default, the development environment's `Web.config` file is copied to the output directory, but you can setup the Web Deployment Project to customize the</span></span>

<span data-ttu-id="09944-200">información de configuración que se copie en este directorio de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="09944-200">configuration information that gets copied to this directory in the following ways:</span></span>

- <span data-ttu-id="09944-201">A través de `Web.config` reemplazo de sección, en el que se especifique la sección para reemplazar y un archivo XML que contiene el texto de reemplazo de archivos.</span><span class="sxs-lookup"><span data-stu-id="09944-201">Via `Web.config` file section replacement, in which you specify the section to replace and an XML file that contains the replacement text.</span></span>
- <span data-ttu-id="09944-202">Al proporcionar una ruta de acceso a un archivo de origen de configuración externo.</span><span class="sxs-lookup"><span data-stu-id="09944-202">By providing a path to an external configuration source file.</span></span> <span data-ttu-id="09944-203">Con esta opción seleccionada, el proyecto de implementación Web copia un determinado `Web.config` archivo al directorio de salida (en lugar de `Web.config` archivo usado en el entorno de desarrollo).</span><span class="sxs-lookup"><span data-stu-id="09944-203">With this option selected, the Web Deployment Project copies a particular `Web.config` file to the output directory (rather than the `Web.config` file used in the development environment).</span></span>
- <span data-ttu-id="09944-204">Mediante la adición de reglas personalizadas para el archivo de MSBuild utilizado por el proyecto de implementación Web.</span><span class="sxs-lookup"><span data-stu-id="09944-204">By adding custom rules to the MSBuild file used by the Web Deployment Project.</span></span>

<span data-ttu-id="09944-205">Para implementar la compilación el proyecto de implementación Web de la aplicación web y, a continuación, copie los archivos de la carpeta de salida del proyecto en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-205">To deploy the web application build the Web Deployment Project and then copy the files from the project's output folder to the production environment.</span></span>

<span data-ttu-id="09944-206">Para obtener información sobre cómo usar el proyecto de implementación Web, consulte [en este artículo de proyectos de implementación Web](https://msdn.microsoft.com/magazine/cc163448.aspx) de la edición de abril de 2007 de [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), o consulte los vínculos en la sección Lecturas adicionales en el final de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="09944-206">To learn more about using the Web Deployment Project check out [this Web Deployment Projects article](https://msdn.microsoft.com/magazine/cc163448.aspx) from the April 2007 issue of [MSDN Magazine](https://msdn.microsoft.com/magazine/default.aspx), or consult the links in the Further Reading section at the end of this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="09944-207">No se puede usar el proyecto de implementación Web con Visual Web Developer porque el proyecto de implementación Web se implementa como un Visual Studio Add-In y Visual Studio Express Editions (incluyendo Visual Web Developer) no admiten complementos.</span><span class="sxs-lookup"><span data-stu-id="09944-207">You cannot use the Web Deployment Project with Visual Web Developer because the Web Deployment Project is implemented as a Visual Studio Add-In and the Visual Studio Express Editions (including Visual Web Developer) do not support Add-Ins.</span></span>


## <a name="summary"></a><span data-ttu-id="09944-208">Resumen</span><span class="sxs-lookup"><span data-stu-id="09944-208">Summary</span></span>

<span data-ttu-id="09944-209">Los recursos externos y el comportamiento de una aplicación web en el desarrollo son normalmente diferentes que cuando sea la misma aplicación en producción.</span><span class="sxs-lookup"><span data-stu-id="09944-209">The external resources and behavior of a web application in development are typically different than when the same application is in production.</span></span> <span data-ttu-id="09944-210">Por ejemplo, las cadenas de conexión de base de datos, las opciones de compilación y el comportamiento cuando se produce una excepción no controlada normalmente difieren entre entornos.</span><span class="sxs-lookup"><span data-stu-id="09944-210">For instance, database connection strings, compilation options, and the behavior when an unhandled exception occurs commonly differ between environments.</span></span> <span data-ttu-id="09944-211">El proceso de implementación debe dar cabida a estas diferencias.</span><span class="sxs-lookup"><span data-stu-id="09944-211">The deployment process must accommodate these differences.</span></span> <span data-ttu-id="09944-212">Como se explicó en este tutorial, el enfoque más sencillo es copiar manualmente un archivo de configuración alternativa en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="09944-212">As we discussed in this tutorial, the simplest approach is to manually copy an alternate configuration file to the production environment.</span></span> <span data-ttu-id="09944-213">Soluciones más inteligentes son posibles cuando se usa el complemento de Project de implementación Web o con un proceso de compilación o implementación más formal que puede dar cabida a estas personalizaciones.</span><span class="sxs-lookup"><span data-stu-id="09944-213">More elegant solutions are possible when using the Web Deployment Project Add-In or with a more formalized build or deployment process that can accommodate such customizations.</span></span>

<span data-ttu-id="09944-214">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="09944-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="09944-215">Información adicional</span><span class="sxs-lookup"><span data-stu-id="09944-215">Further Reading</span></span>

<span data-ttu-id="09944-216">Para obtener más información sobre los temas tratados en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="09944-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="09944-217">Explicados las cadenas de conexión</span><span class="sxs-lookup"><span data-stu-id="09944-217">Connection Strings Explained</span></span>](http://www.connectionstrings.com/Articles/Show/what-is-a-connection-string)
- [<span data-ttu-id="09944-218">@ ConnectionStrings.com de cadenas de conexión de base de datos</span><span class="sxs-lookup"><span data-stu-id="09944-218">Database Connection Strings @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="09944-219">No se ejecutan las aplicaciones de ASP.NET de producción con `debug="true"` habilitado</span><span class="sxs-lookup"><span data-stu-id="09944-219">Don't Run Production ASP.NET Applications with `debug="true"` Enabled</span></span>](https://weblogs.asp.net/scottgu/Don_1920_t-run-production-ASP.NET-Applications-with-debug_3D001D20_true_1D20_-enabled)
- [<span data-ttu-id="09944-220">Responder correctamente a las excepciones no controladas - mostrar páginas de Error descriptivo</span><span class="sxs-lookup"><span data-stu-id="09944-220">Gracefully Responding to Unhandled Exceptions - Displaying User-Friendly Error Pages</span></span>](http://aspnet.4guysfromrolla.com/articles/090606-1.aspx)
- [<span data-ttu-id="09944-221">¿Cómo lo hago?: ¿Usar un proyecto de implementación Web de Visual Studio 2008?</span><span class="sxs-lookup"><span data-stu-id="09944-221">How Do I: Use a Visual Studio 2008 Web Deployment Project?</span></span>](../../../videos/how-do-i/how-do-i-use-a-visual-studio-2008-web-deployment-project.md)
- [<span data-ttu-id="09944-222">Opciones de configuración principales al implementar una base de datos</span><span class="sxs-lookup"><span data-stu-id="09944-222">Key Configuration Settings When Deploying a Database</span></span>](http://aspnet.4guysfromrolla.com/articles/121008-1.aspx)
- <span data-ttu-id="09944-223">[Descarga de proyectos de Visual Studio 2008 Web implementación](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [descarga de proyectos de Visual Studio 2005 Web Deployment](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span><span class="sxs-lookup"><span data-stu-id="09944-223">[Visual Studio 2008 Web Deployment Projects Download](https://www.microsoft.com/downloads/details.aspx?FamilyId=0AA30AE8-C73B-4BDD-BB1B-FE697256C459&amp;displaylang=en) | [Visual Studio 2005 Web Deployment Projects Download](https://download.microsoft.com/download/9/4/9/9496adc4-574e-4043-bb70-bc841e27f13c/WebDeploymentSetup.msi)</span></span>
- <span data-ttu-id="09944-224">[Proyectos de implementación Web de VS 2008](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 implementación compatibilidad con proyectos Web publicado](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span><span class="sxs-lookup"><span data-stu-id="09944-224">[VS 2008 Web Deployment Projects](https://weblogs.asp.net/scottgu/archive/2005/11/06/429723.aspx) | [VS 2008 Web Deployment Project Support Released](https://weblogs.asp.net/scottgu/archive/2008/01/28/vs-2008-web-deployment-project-support-released.aspx)</span></span>
- [<span data-ttu-id="09944-225">Proyectos de implementación web</span><span class="sxs-lookup"><span data-stu-id="09944-225">Web Deployment Projects</span></span>](https://msdn.microsoft.com/magazine/cc163448.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="09944-226">[Anterior](deploying-your-site-using-visual-studio-cs.md)
> [Siguiente](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span><span class="sxs-lookup"><span data-stu-id="09944-226">[Previous](deploying-your-site-using-visual-studio-cs.md)
[Next](core-differences-between-iis-and-the-asp-net-development-server-cs.md)</span></span>

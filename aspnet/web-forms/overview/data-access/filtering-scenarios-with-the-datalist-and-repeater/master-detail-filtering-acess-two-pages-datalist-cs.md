---
uid: web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
title: Maestro y detalles de filtrado a través de dos páginas (C#) | Microsoft Docs
author: rick-anderson
description: En este tutorial, nos centramos en cómo separar un informe de maestro y detalles en dos páginas. En la página 'master' se usa un control Repeater para presentar una lista de categoría...
ms.author: riande
ms.date: 10/30/2010
ms.assetid: 68b8c023-92fa-4df6-9563-1764e16e4b04
msc.legacyurl: /web-forms/overview/data-access/filtering-scenarios-with-the-datalist-and-repeater/master-detail-filtering-acess-two-pages-datalist-cs
msc.type: authoredcontent
ms.openlocfilehash: 4fbb165f8ce80d560589a43c60920a6e68893d46
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59390511"
---
# <a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="224eb-104">Filtrado de maestro y detalles en dos páginas (C#)</span><span class="sxs-lookup"><span data-stu-id="224eb-104">Master/Detail Filtering Across Two Pages (C#)</span></span>

<span data-ttu-id="224eb-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="224eb-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="224eb-106">[Descargue la aplicación de ejemplo](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) o [descargar PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="224eb-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_34_CS.exe) or [Download PDF](master-detail-filtering-acess-two-pages-datalist-cs/_static/datatutorial34cs1.pdf)</span></span>

> <span data-ttu-id="224eb-107">En este tutorial, nos centramos en cómo separar un informe de maestro y detalles en dos páginas.</span><span class="sxs-lookup"><span data-stu-id="224eb-107">In this tutorial we look at how to separate a master/detail report across two pages.</span></span> <span data-ttu-id="224eb-108">En la página "maestra" se usa un control Repeater para presentar una lista de categorías que, al hacer clic en, llevará al usuario a la página "Detalles" donde aquellos productos que pertenecen a la categoría seleccionada se muestra un control DataList de dos columnas.</span><span class="sxs-lookup"><span data-stu-id="224eb-108">In the "master" page we use a Repeater control to render a list of categories that, when clicked, will take the user to the "details" page where a two-column DataList shows those products belonging to the selected category.</span></span>


## <a name="introduction"></a><span data-ttu-id="224eb-109">Introducción</span><span class="sxs-lookup"><span data-stu-id="224eb-109">Introduction</span></span>

<span data-ttu-id="224eb-110">En el [tutorial anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) vimos cómo mostrar informes de maestro y detalles en una única página web con listas desplegables para mostrar los registros de "maestros" y un control DataList para mostrar "Detalles".</span><span class="sxs-lookup"><span data-stu-id="224eb-110">In the [preceding tutorial](master-detail-filtering-with-a-dropdownlist-datalist-cs.md) we saw how to display master/detail reports in a single web page using DropDownLists to display the "master" records and a DataList to display the "details."</span></span> <span data-ttu-id="224eb-111">Otro patrón común que se usa para los informes de maestro y detalles es que los registros maestros en una página web y los detalles en otro.</span><span class="sxs-lookup"><span data-stu-id="224eb-111">Another common pattern used for master/detail reports is to have the master records on one web page and the details on another.</span></span> <span data-ttu-id="224eb-112">En el anterior [filtrado de maestro y detalles en dos páginas](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, hemos visto este patrón mediante un GridView para mostrar todos los proveedores en el sistema.</span><span class="sxs-lookup"><span data-stu-id="224eb-112">In the earlier [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial, we examined this pattern using a GridView to display all of the suppliers in the system.</span></span> <span data-ttu-id="224eb-113">Este GridView incluye un campo HYPERLINK, que se representa como un vínculo a una segunda página, pasando el `SupplierID` en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="224eb-113">This GridView included a HyperLinkField, which rendered as a link to a second page, passing along the `SupplierID` in the querystring.</span></span> <span data-ttu-id="224eb-114">La segunda página usa un control GridView para enumerar los productos suministrados por el proveedor seleccionado.</span><span class="sxs-lookup"><span data-stu-id="224eb-114">The second page used a GridView to list those products provided by the selected supplier.</span></span>

<span data-ttu-id="224eb-115">Estos informes de maestro y detalles de dos páginas pueden realizarse mediante también los controles DataList y Repeater.</span><span class="sxs-lookup"><span data-stu-id="224eb-115">Such two-page master/detail reports can be accomplished using DataList and Repeater controls as well.</span></span> <span data-ttu-id="224eb-116">La única diferencia es que el control DataList ni el control Repeater proporciona compatibilidad para el control de campo Hyperlink.</span><span class="sxs-lookup"><span data-stu-id="224eb-116">The only difference is that neither the DataList nor the Repeater provides support for the HyperLinkField control.</span></span> <span data-ttu-id="224eb-117">En su lugar, debemos agregar un control de hipervínculo Web o un elemento delimitador HTML (`<a>`) dentro del control `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="224eb-117">Instead, we must add a HyperLink Web control or an anchor HTML element (`<a>`) within the control's `ItemTemplate`.</span></span> <span data-ttu-id="224eb-118">El hipervínculo `NavigateUrl` propiedad o el delimitador `href` atributo, a continuación, se puede personalizar con enfoques declarativos o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="224eb-118">The HyperLink's `NavigateUrl` property or the anchor's `href` attribute can then be customized using declarative or programmatic approaches.</span></span>

<span data-ttu-id="224eb-119">En este tutorial, veremos un ejemplo que muestra las categorías en una lista con viñetas en una sola página mediante un control Repeater.</span><span class="sxs-lookup"><span data-stu-id="224eb-119">In this tutorial we'll explore an example that lists the categories in a bulleted list on one page using a Repeater control.</span></span> <span data-ttu-id="224eb-120">Cada elemento de lista incluirá nombre y una descripción, la categoría con el nombre de categoría aparece como un vínculo a otra página.</span><span class="sxs-lookup"><span data-stu-id="224eb-120">Each list item will include the category's name and description, with the category name displayed as a link to a second page.</span></span> <span data-ttu-id="224eb-121">Al hacer clic en este vínculo se captar el usuario a la segunda página, donde un control DataList mostrará aquellos productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="224eb-121">Clicking on this link will whisk the user to the second page, where a DataList will show those products that belong to the selected category.</span></span>

## <a name="step-1-displaying-the-categories-in-a-bulleted-list"></a><span data-ttu-id="224eb-122">Paso 1: Mostrar las categorías en una lista con viñetas</span><span class="sxs-lookup"><span data-stu-id="224eb-122">Step 1: Displaying the Categories in a Bulleted List</span></span>

<span data-ttu-id="224eb-123">Es el primer paso para crear los informes de maestro y detalles para que comience por mostrar los registros de "master".</span><span class="sxs-lookup"><span data-stu-id="224eb-123">The first step in creating any master/detail report is to start by displaying the "master" records.</span></span> <span data-ttu-id="224eb-124">Por lo tanto, nuestra primera tarea consiste en mostrar las categorías en la página "maestra".</span><span class="sxs-lookup"><span data-stu-id="224eb-124">Therefore, our first task is to display the categories in the "master" page.</span></span> <span data-ttu-id="224eb-125">Abra el `CategoryListMaster.aspx` página en el `DataListRepeaterFiltering` carpeta, agregue un control Repeater y, en la etiqueta inteligente, optar por agregar un nuevo origen ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="224eb-125">Open the `CategoryListMaster.aspx` page in the `DataListRepeaterFiltering` folder, add a Repeater control, and, from the smart tag, opt to add a new ObjectDataSource.</span></span> <span data-ttu-id="224eb-126">Configurar el nuevo origen ObjectDataSource para que tiene acceso a sus datos desde el `CategoriesBLL` la clase `GetCategories` (método) (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="224eb-126">Configure the new ObjectDataSource so that it accesses its data from the `CategoriesBLL` class's `GetCategories` method (see Figure 1).</span></span>


[![C<span data-ttu-id="224eb-127">configurar el origen ObjectDataSource para usar el método de la clase CategoriesBLL GetCategories]</span><span class="sxs-lookup"><span data-stu-id="224eb-127">onfigure the ObjectDataSource to Use the CategoriesBLL Class's GetCategories Method]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image2.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image1.png)

<span data-ttu-id="224eb-128">**Figura 1**: Configurar el origen ObjectDataSource que se usarán el `CategoriesBLL` la clase `GetCategories` método ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-128">**Figure 1**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class's `GetCategories` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image3.png))</span></span>


<span data-ttu-id="224eb-129">A continuación, defina las plantillas de Repeater, que muestra cada nombre de categoría y una descripción como un elemento en una lista con viñetas.</span><span class="sxs-lookup"><span data-stu-id="224eb-129">Next, define the Repeater's templates such that it displays each category name and description as an item in a bulleted list.</span></span> <span data-ttu-id="224eb-130">Vamos a todavía no preocuparse por cada categoría de vínculo a la página de detalles.</span><span class="sxs-lookup"><span data-stu-id="224eb-130">Let's not yet worry about having each category link to the details page.</span></span> <span data-ttu-id="224eb-131">La siguiente muestra el marcado declarativo para el control Repeater y ObjectDataSource:</span><span class="sxs-lookup"><span data-stu-id="224eb-131">The following shows the declarative markup for the Repeater and ObjectDataSource:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample1.aspx)]

<span data-ttu-id="224eb-132">Con este marcado completa, dedique un momento para ver nuestro progreso a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="224eb-132">With this markup complete, take a moment to view our progress through a browser.</span></span> <span data-ttu-id="224eb-133">Como se muestra en la figura 2, el control Repeater se representa como una lista con viñetas que se muestra el nombre y una descripción de cada categoría.</span><span class="sxs-lookup"><span data-stu-id="224eb-133">As Figure 2 shows, the Repeater renders as a bulleted list showing each category's name and description.</span></span>


[![E<span data-ttu-id="224eb-134">ACH que categoría se muestra como un elemento de lista con viñetas]</span><span class="sxs-lookup"><span data-stu-id="224eb-134">ach Category is Displayed as a Bulleted List Item]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image5.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image4.png)

<span data-ttu-id="224eb-135">**Figura 2**: Cada categoría se muestra como un elemento de lista con viñetas ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-135">**Figure 2**: Each Category is Displayed as a Bulleted List Item ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image6.png))</span></span>


## <a name="step-2-turning-the-category-name-into-a-link-to-the-details-page"></a><span data-ttu-id="224eb-136">Paso 2: Convertir el nombre de categoría en un vínculo a la página de detalles</span><span class="sxs-lookup"><span data-stu-id="224eb-136">Step 2: Turning the Category Name into a Link to the Details Page</span></span>

<span data-ttu-id="224eb-137">Para permitir que un usuario mostrar la información de "Detalles" para una categoría determinada, necesitamos agregar un vínculo a cada lista con viñetas de elemento que, al hacer clic en, llevará al usuario a la segunda página (`ProductsForCategoryDetails.aspx`).</span><span class="sxs-lookup"><span data-stu-id="224eb-137">To allow a user to display the "details" information for a given category, we need to add a link to each bulleted list item that, when clicked, will take the user to the second page (`ProductsForCategoryDetails.aspx`).</span></span> <span data-ttu-id="224eb-138">Esta segunda página, a continuación, mostrará los productos de la categoría seleccionada con un control DataList.</span><span class="sxs-lookup"><span data-stu-id="224eb-138">This second page will then display the products for the selected category using a DataList.</span></span> <span data-ttu-id="224eb-139">Con el fin de determinar la categoría cuyo vínculo se hizo clic, necesitamos pasar la categoría donde ha hecho clic `CategoryID` a la segunda página a través de algún mecanismo.</span><span class="sxs-lookup"><span data-stu-id="224eb-139">In order to determine the category whose link was clicked, we need to pass the clicked category's `CategoryID` to the second page through some mechanism.</span></span> <span data-ttu-id="224eb-140">La forma más sencilla y más sencilla para transferir datos escalar de una página a otra es a través de la cadena de consulta, que es la opción que usaremos en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="224eb-140">The simplest, most straightforward way to transfer scalar data from one page to another is through the querystring, which is the option we'll use in this tutorial.</span></span> <span data-ttu-id="224eb-141">En concreto, el `ProductsForCategoryDetails.aspx` página esperará seleccionado *`categoryID`* valor va a pasar un campo de cadena de consulta denominado `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="224eb-141">In particular, the `ProductsForCategoryDetails.aspx` page will expect the selected *`categoryID`* value to be passed through a querystring field named `CategoryID`.</span></span> <span data-ttu-id="224eb-142">Por ejemplo, para ver los productos para la categoría Bebidas, que tiene un `CategoryID` de 1, un usuario visitarán `ProductsForCategoryDetails.aspx?CategoryID=1`.</span><span class="sxs-lookup"><span data-stu-id="224eb-142">For example, to view the products for the Beverages category, which has a `CategoryID` of 1, a user would visit `ProductsForCategoryDetails.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="224eb-143">Para crear un hipervínculo para cada elemento de lista con viñetas en el control Repeater es necesario agregar un control de hipervínculo Web o un elemento delimitador HTML (`<a>`) a la `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="224eb-143">To create a hyperlink for each bulleted list item in the Repeater we need to either add a HyperLink Web control or an HTML anchor element (`<a>`) to the `ItemTemplate`.</span></span> <span data-ttu-id="224eb-144">En escenarios donde el hipervínculo muestran la misma para cada fila, bastará con cualquiera de los enfoques.</span><span class="sxs-lookup"><span data-stu-id="224eb-144">In scenarios where the hyperlink is displayed the same for each row, either approach will suffice.</span></span> <span data-ttu-id="224eb-145">Para repetidores, prefiero usar el elemento delimitador.</span><span class="sxs-lookup"><span data-stu-id="224eb-145">For Repeaters, I prefer using the anchor element.</span></span> <span data-ttu-id="224eb-146">Para usar el elemento delimitador, actualice ItemTemplate de Repeater para:</span><span class="sxs-lookup"><span data-stu-id="224eb-146">To use the anchor element, update the Repeater's ItemTemplate to:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample2.aspx)]

<span data-ttu-id="224eb-147">Tenga en cuenta que el `CategoryID` se puede insertar directamente dentro del elemento delimitador `href` atributo; sin embargo, para así que determinados delimitar el `href` valor del atributo con apóstrofos (y las comillas de nota) desde el `Eval` método dentro de la `href` atributo delimita la cadena (`"CategoryID"`) con las comillas.</span><span class="sxs-lookup"><span data-stu-id="224eb-147">Note that the `CategoryID` can be injected directly within the anchor element's `href` attribute; however, to do so be certain to delimit the `href` attribute's value with apostrophes (and note quotation marks) since the `Eval` method within the `href` attribute delimits its string (`"CategoryID"`) with quotation marks.</span></span> <span data-ttu-id="224eb-148">Como alternativa, se puede usar un control de hipervínculo Web:</span><span class="sxs-lookup"><span data-stu-id="224eb-148">Alternatively, a HyperLink Web control can be used instead:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample3.aspx)]

<span data-ttu-id="224eb-149">Tenga en cuenta cómo la parte de la dirección URL estática: `ProductsForCategoryDetails.aspx?CategoryID` , se anexa al resultado de `Eval("CategoryID")` directamente dentro de la sintaxis de enlace de datos mediante la concatenación de cadenas.</span><span class="sxs-lookup"><span data-stu-id="224eb-149">Note how the static portion of the URL — `ProductsForCategoryDetails.aspx?CategoryID` — is appended to the result of `Eval("CategoryID")` directly within the databinding syntax using string concatenation.</span></span>

<span data-ttu-id="224eb-150">Una ventaja de usar el control de hipervínculo es que se puede tener acceso mediante programación desde el repetidor `ItemDataBound` controlador de eventos, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="224eb-150">One benefit of using the HyperLink control is that it can be programmatically accessed from the Repeater's `ItemDataBound` event handler, if needed.</span></span> <span data-ttu-id="224eb-151">Por ejemplo, puede mostrar el nombre de categoría como texto en lugar de como un vínculo para las categorías con ningún producto asociado.</span><span class="sxs-lookup"><span data-stu-id="224eb-151">For example, you might want to display the category name as text rather than as a link for categories with no associated products.</span></span> <span data-ttu-id="224eb-152">Esta comprobación se podría realizar mediante programación en el `ItemDataBound` controlador de eventos; para categorías no productos asociados, el hipervínculo del `NavigateUrl` propiedad puede establecerse en una cadena vacía, lo que resulta en ese nombre de categoría en particular representación como texto sin formato (en lugar de como un vínculo).</span><span class="sxs-lookup"><span data-stu-id="224eb-152">Such a check could be programmatically performed in the `ItemDataBound` event handler; for categories with no associated products, the HyperLink's `NavigateUrl` property could be set to a blank string, thereby resulting in that particular category name rendering as plain text (rather than as a link).</span></span> <span data-ttu-id="224eb-153">Vuelva a consultar el [dar formato a los controles DataList y Repeater basándose en datos](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial para obtener más información en el formato del contenido de los controles DataList y Repeater en función de la lógica de programación a través de la `ItemDataBound` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="224eb-153">Refer back to the [Formatting the DataList and Repeater Based Upon Data](../displaying-data-with-the-datalist-and-repeater/formatting-the-datalist-and-repeater-based-upon-data-cs.md) tutorial for more information on formatting the DataList and Repeater's contents based on programmatic logic through the `ItemDataBound` event handler.</span></span>

<span data-ttu-id="224eb-154">Si está siguiendo el tutorial, no dude en usar el elemento delimitador o el método de control de hipervínculo en la página.</span><span class="sxs-lookup"><span data-stu-id="224eb-154">If you are following along, feel free to use either the anchor element or HyperLink control approach in your page.</span></span> <span data-ttu-id="224eb-155">Independientemente del enfoque, al ver la página a través de un explorador en cada nombre de categoría se debe representar como un vínculo a `ProductsForCategoryDetails.aspx`, pasando aplicable `CategoryID` valor (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="224eb-155">Regardless of the approach, when viewing the page through a browser each category name should be rendered as a link to `ProductsForCategoryDetails.aspx`, passing in the applicable `CategoryID` value (see Figure 3).</span></span>


[![T<span data-ttu-id="224eb-156">él vínculo con ahora de los nombres de categoría a ProductsForCategoryDetails.aspx]</span><span class="sxs-lookup"><span data-stu-id="224eb-156">he Category Names Now Link to ProductsForCategoryDetails.aspx]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image8.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image7.png)

<span data-ttu-id="224eb-157">**Figura 3**: Los nombres ahora vínculo de categoría a `ProductsForCategoryDetails.aspx` ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-157">**Figure 3**: The Category Names Now Link to `ProductsForCategoryDetails.aspx` ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image9.png))</span></span>


## <a name="step-3-listing-the-products-that-belong-to-the-selected-category"></a><span data-ttu-id="224eb-158">Paso 3: Lista de los productos que pertenecen a la categoría seleccionada</span><span class="sxs-lookup"><span data-stu-id="224eb-158">Step 3: Listing the Products that Belong to the Selected Category</span></span>

<span data-ttu-id="224eb-159">Con el `CategoryListMaster.aspx` página completa, ya estamos listos para prestar atención a la implementación de la página "Detalles", `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="224eb-159">With the `CategoryListMaster.aspx` page complete, we're ready to turn our attention to implementing the "details" page, `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="224eb-160">Abra esta página, arrastre un control DataList de cuadro de herramientas hasta el diseñador y establezca su `ID` propiedad `ProductsInCategory`.</span><span class="sxs-lookup"><span data-stu-id="224eb-160">Open this page, drag a DataList from the Toolbox onto the Designer, and set its `ID` property to `ProductsInCategory`.</span></span> <span data-ttu-id="224eb-161">A continuación, desde la etiqueta inteligente de DataList optar por agregar un nuevo origen ObjectDataSource a la página, asígnele el nombre `ProductsInCategoryDataSource`.</span><span class="sxs-lookup"><span data-stu-id="224eb-161">Next, from the DataList's smart tag choose to add a new ObjectDataSource to the page, naming it `ProductsInCategoryDataSource`.</span></span> <span data-ttu-id="224eb-162">Configurarlo de forma que llama a la `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método; el conjunto de la lista desplegable se enumera en las pestañas INSERT, UPDATE y DELETE en (None).</span><span class="sxs-lookup"><span data-stu-id="224eb-162">Configure it such that it calls the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method; set the drop-down lists in the INSERT, UPDATE, and DELETE tabs to (None).</span></span>


[![C<span data-ttu-id="224eb-163">configurar el origen ObjectDataSource para usar GetProductsByCategoryID(categoryID) método la clase ProductsBLL]</span><span class="sxs-lookup"><span data-stu-id="224eb-163">onfigure the ObjectDataSource to Use the ProductsBLL Class's GetProductsByCategoryID(categoryID) Method]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image11.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image10.png)

<span data-ttu-id="224eb-164">**Figura 4**: Configurar el origen ObjectDataSource que se usarán el `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-164">**Figure 4**: Configure the ObjectDataSource to Use the `ProductsBLL` Class's `GetProductsByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image12.png))</span></span>


<span data-ttu-id="224eb-165">Puesto que la `GetProductsByCategoryID(categoryID)` método acepta un parámetro de entrada (*`categoryID`*), el Asistente para orígenes de datos elija nos ofrece una oportunidad para especificar el origen del parámetro.</span><span class="sxs-lookup"><span data-stu-id="224eb-165">Since the `GetProductsByCategoryID(categoryID)` method accepts an input parameter (*`categoryID`*), the Choose Data Source wizard offers us an opportunity to specify the parameter's source.</span></span> <span data-ttu-id="224eb-166">Establecer el origen de los parámetros para la cadena de consulta mediante el QueryStringField `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="224eb-166">Set the parameter source to QueryString using the QueryStringField `CategoryID`.</span></span>


[![U<span data-ttu-id="224eb-167">se el CategoryID de campo de cadena de consulta como origen del parámetro]</span><span class="sxs-lookup"><span data-stu-id="224eb-167">se the Querystring Field CategoryID as the Parameter's Source]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image14.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image13.png)

<span data-ttu-id="224eb-168">**Figura 5**: Utilice el Querystring Field `CategoryID` como origen del parámetro ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-168">**Figure 5**: Use the Querystring Field `CategoryID` as the Parameter's Source ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image15.png))</span></span>


<span data-ttu-id="224eb-169">Como hemos visto en los tutoriales anteriores después de completar el Asistente para elegir origen de datos, Visual Studio crea automáticamente un `ItemTemplate` para el control DataList que enumera cada nombre de campo de datos y el valor.</span><span class="sxs-lookup"><span data-stu-id="224eb-169">As we've seen in previous tutorials, after completing the Choose Data Source wizard, Visual Studio automatically creates an `ItemTemplate` for the DataList that lists each data field name and value.</span></span> <span data-ttu-id="224eb-170">Reemplace esta plantilla con el que se muestran sólo nombre del producto, proveedor y precio.</span><span class="sxs-lookup"><span data-stu-id="224eb-170">Replace this template with one that lists only the product's name, supplier, and price.</span></span> <span data-ttu-id="224eb-171">Además, establezca el DataList `RepeatColumns` propiedad en 2.</span><span class="sxs-lookup"><span data-stu-id="224eb-171">Also, set the DataList's `RepeatColumns` property to 2.</span></span> <span data-ttu-id="224eb-172">Después de estos cambios, los controles DataList y de ObjectDataSource marcado declarativo debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="224eb-172">After these changes, your DataList and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample4.aspx)]

<span data-ttu-id="224eb-173">Para ver esta página en acción, inicie desde el `CategoryListMaster.aspx` página; a continuación, haga clic en un vínculo en la lista con viñetas de categorías.</span><span class="sxs-lookup"><span data-stu-id="224eb-173">To view this page in action, start from the `CategoryListMaster.aspx` page; next, click on a link in the categories bulleted list.</span></span> <span data-ttu-id="224eb-174">Si lo hace, le llevará a `ProductsForCategoryDetails.aspx`, pasando a lo largo de la `CategoryID` a través de la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="224eb-174">Doing so will take you to `ProductsForCategoryDetails.aspx`, passing along the `CategoryID` through the querystring.</span></span> <span data-ttu-id="224eb-175">El `ProductsInCategoryDataSource` ObjectDataSource en `ProductsForCategoryDetails.aspx` , a continuación, obtendrá aquellos productos para la categoría especificada y mostrarlos en el control DataList, que representa los dos productos por cada fila.</span><span class="sxs-lookup"><span data-stu-id="224eb-175">The `ProductsInCategoryDataSource` ObjectDataSource in `ProductsForCategoryDetails.aspx` will then get just those products for the specified category and display them in the DataList, which renders two products per row.</span></span> <span data-ttu-id="224eb-176">Figura 6 se muestra una captura de pantalla de `ProductsForCategoryDetails.aspx` cuando se visualizan las bebidas.</span><span class="sxs-lookup"><span data-stu-id="224eb-176">Figure 6 shows a screenshot of `ProductsForCategoryDetails.aspx` when viewing the Beverages.</span></span>


[![T<span data-ttu-id="224eb-177">He aparecen bebidas, dos por fila]</span><span class="sxs-lookup"><span data-stu-id="224eb-177">he Beverages are Displayed, Two per Row]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image17.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image16.png)

<span data-ttu-id="224eb-178">**Figura 6**: Se muestran las bebidas, dos por fila ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-178">**Figure 6**: The Beverages are Displayed, Two per Row ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image18.png))</span></span>


## <a name="step-4-displaying-category-information-on-productsforcategorydetailsaspx"></a><span data-ttu-id="224eb-179">Paso 4: Mostrar información de categoría en ProductsForCategoryDetails.aspx</span><span class="sxs-lookup"><span data-stu-id="224eb-179">Step 4: Displaying Category Information on ProductsForCategoryDetails.aspx</span></span>

<span data-ttu-id="224eb-180">Cuando un usuario hace clic en una categoría en `CategoryListMaster.aspx`, que se tomaron para `ProductsForCategoryDetails.aspx` y muestra los productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="224eb-180">When a user clicks on a category in `CategoryListMaster.aspx`, they are taken to `ProductsForCategoryDetails.aspx` and shown the products that belong to the selected category.</span></span> <span data-ttu-id="224eb-181">Sin embargo, en `ProductsForCategoryDetails.aspx` no hay indicaciones visuales sobre qué categoría se ha seleccionado.</span><span class="sxs-lookup"><span data-stu-id="224eb-181">However, in `ProductsForCategoryDetails.aspx` there are no visual cues as to what category was selected.</span></span> <span data-ttu-id="224eb-182">Un usuario que deseaba hacer clic en bebidas, pero los condimentos accidentalmente hace clic en él, no tiene manera de darse cuenta sus errores cuando alcanzan `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="224eb-182">A user that meant to click Beverages, but accidentally clicked Condiments, has no way of realizing their mistake once they reach `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="224eb-183">Para mitigar este posible problema, podemos mostrar información acerca de la categoría seleccionada, su nombre y descripción, en la parte superior de la `ProductsForCategoryDetails.aspx` página.</span><span class="sxs-lookup"><span data-stu-id="224eb-183">To alleviate this potential problem, we can display information about the selected category — its name and description — at the top of the `ProductsForCategoryDetails.aspx` page.</span></span>

<span data-ttu-id="224eb-184">Para ello, agregue un FormView encima del control Repeater en `ProductsForCategoryDetails.aspx`.</span><span class="sxs-lookup"><span data-stu-id="224eb-184">To accomplish this, add a FormView above the Repeater control in `ProductsForCategoryDetails.aspx`.</span></span> <span data-ttu-id="224eb-185">A continuación, agregue un nuevo origen ObjectDataSource a la página de etiquetas inteligentes de FormView denominado `CategoryDataSource` y configúrelo para utilizar el `CategoriesBLL` la clase `GetCategoryByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="224eb-185">Next, add a new ObjectDataSource to the page from the FormView's smart tag named `CategoryDataSource` and configure it to use the `CategoriesBLL` class's `GetCategoryByCategoryID(categoryID)` method.</span></span>


[![A<span data-ttu-id="224eb-186">Información acerca de la categoría a través de GetCategoryByCategoryID(categoryID) método la clase CategoriesBLL cceso]</span><span class="sxs-lookup"><span data-stu-id="224eb-186">ccess Information about the Category through the CategoriesBLL Class's GetCategoryByCategoryID(categoryID) Method]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image20.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image19.png)

<span data-ttu-id="224eb-187">**Figura 7**: Obtener acceso a información acerca de la categoría a través de la `CategoriesBLL` la clase `GetCategoryByCategoryID(categoryID)` método ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-187">**Figure 7**: Access Information about the Category through the `CategoriesBLL` Class's `GetCategoryByCategoryID(categoryID)` Method ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image21.png))</span></span>


<span data-ttu-id="224eb-188">Igual que con el `ProductsInCategoryDataSource` ObjectDataSource agregado en el paso 3, el `CategoryDataSource`del Asistente para configurar el origen de datos nos pide un origen para el `GetCategoryByCategoryID(categoryID)` el parámetro de entrada del método.</span><span class="sxs-lookup"><span data-stu-id="224eb-188">As with the `ProductsInCategoryDataSource` ObjectDataSource added in Step 3, the `CategoryDataSource`'s Configure Data Source wizard prompts us for a source for the `GetCategoryByCategoryID(categoryID)` method's input parameter.</span></span> <span data-ttu-id="224eb-189">Usar exactamente la misma configuración que antes, establezca el origen de parámetro en la cadena de consulta y el valor de QueryStringField en `CategoryID` (consulte la vuelta a la figura 5).</span><span class="sxs-lookup"><span data-stu-id="224eb-189">Use the exact same settings as before, setting the parameter source to QueryString and the QueryStringField value to `CategoryID` (refer back to Figure 5).</span></span>

<span data-ttu-id="224eb-190">Después de completar el asistente, Visual Studio crea automáticamente un `ItemTemplate`, `EditItemTemplate`, y `InsertItemTemplate` de FormView.</span><span class="sxs-lookup"><span data-stu-id="224eb-190">After completing the wizard, Visual Studio automatically creates an `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate` for the FormView.</span></span> <span data-ttu-id="224eb-191">Puesto que proporcionamos una interfaz de solo lectura, no dude en quitar el `EditItemTemplate` y `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="224eb-191">Since we're providing a read-only interface, feel free to remove the `EditItemTemplate` and `InsertItemTemplate`.</span></span> <span data-ttu-id="224eb-192">Además, no dude en Personalizar de FormView `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="224eb-192">Also, feel free to customize the FormView's `ItemTemplate`.</span></span> <span data-ttu-id="224eb-193">Después de quitar las plantillas superfluas y personalizar la plantilla ItemTemplate, su FormView y de ObjectDataSource marcado declarativo debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="224eb-193">After removing the superfluous templates and customizing the ItemTemplate, your FormView and ObjectDataSource's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample5.aspx)]

<span data-ttu-id="224eb-194">Figura 8 muestra una captura de pantalla cuando viendo esta página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="224eb-194">Figure 8 shows a screen shot when viewing this page through a browser.</span></span>

> [!NOTE]
> <span data-ttu-id="224eb-195">Además de FormView, he agregado un control de hipervínculo anteriormente FormView que llevará al usuario a la lista de categorías (`CategoryListMaster.aspx`).</span><span class="sxs-lookup"><span data-stu-id="224eb-195">In addition to the FormView, I've also added a HyperLink control above the FormView that will take the user back to the list of categories (`CategoryListMaster.aspx`).</span></span> <span data-ttu-id="224eb-196">Puede colocar este vínculo en otro lugar o para omitirlo.</span><span class="sxs-lookup"><span data-stu-id="224eb-196">Feel free to place this link elsewhere or to omit it altogether.</span></span>


[![C<span data-ttu-id="224eb-197">Información de categorías es ahora se muestra en la parte superior de la página]</span><span class="sxs-lookup"><span data-stu-id="224eb-197">ategory Information is Now Displayed at the Top of the Page]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image23.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image22.png)

<span data-ttu-id="224eb-198">**Figura 8**: Información de categorías es ahora se muestra en la parte superior de la página ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-198">**Figure 8**: Category Information is Now Displayed at the Top of the Page ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image24.png))</span></span>


## <a name="step-5-displaying-a-message-if-no-products-belong-to-the-selected-category"></a><span data-ttu-id="224eb-199">Paso 5: Mostrar un mensaje si no hay productos que pertenecen a la categoría seleccionada</span><span class="sxs-lookup"><span data-stu-id="224eb-199">Step 5: Displaying a Message if No Products Belong to the Selected Category</span></span>

<span data-ttu-id="224eb-200">El `CategoryListMaster.aspx` página enumera todas las categorías en el sistema, independientemente de si hay algún productos asociados.</span><span class="sxs-lookup"><span data-stu-id="224eb-200">The `CategoryListMaster.aspx` page lists all categories in the system, regardless of whether there are any associated products.</span></span> <span data-ttu-id="224eb-201">Si un usuario hace clic en una categoría con ningún productos asociados, el control DataList en `ProductsForCategoryDetails.aspx` no se representará, como su origen de datos no tendrán ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="224eb-201">If a user clicks on a category with no associated products, the DataList in `ProductsForCategoryDetails.aspx` will not be rendered, as its data source will not have any items.</span></span> <span data-ttu-id="224eb-202">Como hemos visto en los tutoriales anteriores, el control GridView proporciona un `EmptyDataText` propiedad que puede utilizarse para especificar un mensaje de texto para mostrar si no hay ningún registro en su origen de datos.</span><span class="sxs-lookup"><span data-stu-id="224eb-202">As we've seen in past tutorials, the GridView provides an `EmptyDataText` property that can be used to specify a text message to display if there are no records in its data source.</span></span> <span data-ttu-id="224eb-203">Por desgracia, ni el control DataList ni Repeater tiene dicha propiedad.</span><span class="sxs-lookup"><span data-stu-id="224eb-203">Unfortunately, neither the DataList nor Repeater has such a property.</span></span>

<span data-ttu-id="224eb-204">Con el fin de mostrar un mensaje que informa al usuario que no hay ningún producto coincidente para la categoría seleccionada, tenemos que agregar una etiqueta de control a la página cuya `Text` propiedad se asigna el mensaje que se mostrará en caso de que no hay ningún producto coincidente.</span><span class="sxs-lookup"><span data-stu-id="224eb-204">In order to display a message informing the user that there are no matching products for the selected category, we need to add a Label control to the page whose `Text` property is assigned the message to display in the event that there are no matching products.</span></span> <span data-ttu-id="224eb-205">A continuación, debemos establecer mediante programación su `Visible` propiedad en función de si el control DataList contiene todos los elementos.</span><span class="sxs-lookup"><span data-stu-id="224eb-205">We then need to programmatically set its `Visible` property based on whether or not the DataList contains any items.</span></span>

<span data-ttu-id="224eb-206">Para lograr esto, empiece por agregar una etiqueta bajo el control DataList.</span><span class="sxs-lookup"><span data-stu-id="224eb-206">To accomplish this, start by adding a Label beneath the DataList.</span></span> <span data-ttu-id="224eb-207">Establezca su `ID` propiedad `NoProductsMessage` y su `Text` propiedad en "No hay productos para la categoría seleccionada..." A continuación, se debe establecer mediante programación esta etiqueta `Visible` propiedad en función de si los datos se enlazan con el `ProductsInCategory` DataList.</span><span class="sxs-lookup"><span data-stu-id="224eb-207">Set its `ID` property to `NoProductsMessage` and its `Text` property to "There are no products for the selected category…" Next, we need to programmatically set this Label's `Visible` property based on whether or not any data was bound to the `ProductsInCategory` DataList.</span></span> <span data-ttu-id="224eb-208">Esta asignación se debe realizar después de que los datos se ha enlazado con el control DataList.</span><span class="sxs-lookup"><span data-stu-id="224eb-208">This assignment must be made after the data has been bound to the DataList.</span></span> <span data-ttu-id="224eb-209">Para el control GridView, DetailsView y FormView, podríamos crear un controlador de eventos para el control `DataBound` eventos, que se desencadena después de que ha completado el enlace de datos.</span><span class="sxs-lookup"><span data-stu-id="224eb-209">For the GridView, DetailsView, and FormView, we could create an event handler for the control's `DataBound` event, which fires after databinding has completed.</span></span> <span data-ttu-id="224eb-210">Sin embargo, el control DataList ni el control Repeater tiene un `DataBound` eventos disponibles.</span><span class="sxs-lookup"><span data-stu-id="224eb-210">However, neither the DataList nor the Repeater has a `DataBound` event available.</span></span>

<span data-ttu-id="224eb-211">En este ejemplo concreto, podemos asignamos la etiqueta `Visible` propiedad en el `Page_Load` controlador de eventos, ya que habrá asignados los datos para el control DataList antes de la página `Load` eventos.</span><span class="sxs-lookup"><span data-stu-id="224eb-211">For this particular example we can assign the Label's `Visible` property in the `Page_Load` event handler, since the data will have been assigned to the DataList prior to the page's `Load` event.</span></span> <span data-ttu-id="224eb-212">Sin embargo, este enfoque no funcionaría en el caso general, como los datos desde el origen ObjectDataSource pueden estar enlazados al control DataList más adelante en el ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="224eb-212">However, this approach would not work in the general case, as the data from the ObjectDataSource might be bound to the DataList later in the page's lifecycle.</span></span> <span data-ttu-id="224eb-213">Por ejemplo, si los datos mostrados se basan en el valor de otro control, como tal al mostrar un informe de maestro y detalles usando DropDownList para contener los registros de "master", los datos pueden no vuelve a enlazar al control Web de datos hasta el `PreRender` almacenar provisionalmente en el ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="224eb-213">For example, if the displayed data is based upon the value in another control, such as it is when displaying a master/detail report using a DropDownList to hold the "master" records, the data may not rebound to the data Web control until the `PreRender` stage in the page's life cycle.</span></span>

<span data-ttu-id="224eb-214">Una solución que funcionará para todos los casos consiste en asignar el `Visible` propiedad `False` en el control de DataList `ItemDataBound` (o `ItemCreated`) controlador de eventos cuando un tipo de elemento de enlace `Item` o `AlternatingItem`.</span><span class="sxs-lookup"><span data-stu-id="224eb-214">One solution which will work for all cases is to assign the `Visible` property to `False` in the DataList's `ItemDataBound` (or `ItemCreated`) event handler when binding an item type of `Item` or `AlternatingItem`.</span></span> <span data-ttu-id="224eb-215">En este caso se sabe que no hay datos al menos un elemento del origen de datos y, por tanto, puede ocultar la `NoProductsMessage` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="224eb-215">In such a case we know that there is at least one data item in the data source and therefore can hide the `NoProductsMessage` Label.</span></span> <span data-ttu-id="224eb-216">Además de este controlador de eventos, también es necesario un controlador de eventos para el control de DataList `DataBinding` eventos, donde se inicialice la etiqueta `Visible` propiedad `True`.</span><span class="sxs-lookup"><span data-stu-id="224eb-216">In addition to this event handler, we also need an event handler for the DataList's `DataBinding` event, where we initialize the Label's `Visible` property to `True`.</span></span> <span data-ttu-id="224eb-217">Puesto que la `DataBinding` evento se desencadena antes de la `ItemDataBound` del eventos, la etiqueta `Visible` propiedad se establecerá inicialmente en `True`; si no hay ningún elemento de datos, sin embargo, se establecerá en `False`.</span><span class="sxs-lookup"><span data-stu-id="224eb-217">Since the `DataBinding` event fires before the `ItemDataBound` events, the Label's `Visible` property will initially be set to `True`; if there are any data items, however, it will be set to `False`.</span></span> <span data-ttu-id="224eb-218">El código siguiente implementa esta lógica:</span><span class="sxs-lookup"><span data-stu-id="224eb-218">The following code implements this logic:</span></span>

[!code-csharp[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample6.cs)]

<span data-ttu-id="224eb-219">Todas las categorías en la base de datos Northwind se asocian con uno o varios productos.</span><span class="sxs-lookup"><span data-stu-id="224eb-219">All of the categories in the Northwind database are associated with one or more products.</span></span> <span data-ttu-id="224eb-220">Para probar esta característica, he ajustado manualmente la base de datos Northwind para este tutorial, la reasignación de todos los productos asociados con la categoría de producto (`CategoryID` = 7) a la categoría mariscos (`CategoryID` = 8).</span><span class="sxs-lookup"><span data-stu-id="224eb-220">To test this feature, I've manually adjusted the Northwind database for this tutorial, reassigning all products associated with the Produce category (`CategoryID` = 7) to the Seafood category (`CategoryID` = 8).</span></span> <span data-ttu-id="224eb-221">Esto puede realizarse desde el Explorador de servidores, elija la nueva consulta y con los siguientes `UPDATE` instrucción:</span><span class="sxs-lookup"><span data-stu-id="224eb-221">This can be accomplished from the Server Explorer by choosing New Query and using the following `UPDATE` statement:</span></span>

[!code-sql[Main](master-detail-filtering-acess-two-pages-datalist-cs/samples/sample7.sql)]

<span data-ttu-id="224eb-222">Después de actualizar la base de datos en consecuencia, volver a la `CategoryListMaster.aspx` página y haga clic en el vínculo de producir.</span><span class="sxs-lookup"><span data-stu-id="224eb-222">After updating the database accordingly, return to the `CategoryListMaster.aspx` page and click on the Produce link.</span></span> <span data-ttu-id="224eb-223">Puesto que ya no hay productos que pertenecen a la categoría de productos, debería ver el mensaje "Hay productos para la categoría seleccionada...", tal como se muestra en la figura 9.</span><span class="sxs-lookup"><span data-stu-id="224eb-223">Since there are no longer any products belonging to the Produce category, you should see the "There are no products for the selected category…" message, as shown in Figure 9.</span></span>


[![A <span data-ttu-id="224eb-224">Si no hay ningún productos pertenecientes a la categoría seleccionada, se muestra el mensaje]</span><span class="sxs-lookup"><span data-stu-id="224eb-224">Message is Displayed if there are No Products Belonging to the Selected Category]</span></span>(master-detail-filtering-acess-two-pages-datalist-cs/_static/image26.png)](master-detail-filtering-acess-two-pages-datalist-cs/_static/image25.png)

<span data-ttu-id="224eb-225">**Figura 9**: Se muestra un mensaje si hay n productos pertenecientes a la categoría seleccionada ([haga clic aquí para ver imagen en tamaño completo](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="224eb-225">**Figure 9**: A Message is Displayed if there are No Products Belonging to the Selected Category ([Click to view full-size image](master-detail-filtering-acess-two-pages-datalist-cs/_static/image27.png))</span></span>


## <a name="summary"></a><span data-ttu-id="224eb-226">Resumen</span><span class="sxs-lookup"><span data-stu-id="224eb-226">Summary</span></span>

<span data-ttu-id="224eb-227">Mientras los informes de maestro y detalles pueden mostrar tanto los registros maestro como detalle en una sola página, en muchos sitios Web se dividen en dos páginas web.</span><span class="sxs-lookup"><span data-stu-id="224eb-227">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="224eb-228">En este tutorial tratamos cómo implementar un informe de maestro y detalles haciendo que las categorías enumeradas en una lista con viñetas con un control Repeater en la página web "principal" y los productos asociados aparecen en la página "Detalles".</span><span class="sxs-lookup"><span data-stu-id="224eb-228">In this tutorial we looked at how to implement such a master/detail report by having the categories listed in a bulleted list using a Repeater in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="224eb-229">Cada elemento de lista en la página web principal contiene un vínculo a la página de detalles que se pasa a lo largo de la fila `CategoryID` valor.</span><span class="sxs-lookup"><span data-stu-id="224eb-229">Each list item in the master web page contained a link to the details page that passed along the row's `CategoryID` value.</span></span>

<span data-ttu-id="224eb-230">En la página de detalles de la recuperación de esos productos para el proveedor especificado se lograba a través de la `ProductsBLL` la clase `GetProductsByCategoryID(categoryID)` método.</span><span class="sxs-lookup"><span data-stu-id="224eb-230">In the details page retrieving those products for the specified supplier was accomplished through the `ProductsBLL` class's `GetProductsByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="224eb-231">El *`categoryID`* se especificó el valor del parámetro mediante declaración utilizando el `CategoryID` valor de cadena de consulta como origen del parámetro.</span><span class="sxs-lookup"><span data-stu-id="224eb-231">The *`categoryID`* parameter value was specified declaratively using the `CategoryID` querystring value as the parameter source.</span></span> <span data-ttu-id="224eb-232">También analizamos cómo mostrar detalles de la categoría en la página de detalles mediante un FormView y cómo mostrar un mensaje si no hubiera ningún productos que pertenecen a la categoría seleccionada.</span><span class="sxs-lookup"><span data-stu-id="224eb-232">We also looked at how to display category details in the details page using a FormView and how to display a message if there were no products belonging to the selected category.</span></span>

<span data-ttu-id="224eb-233">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="224eb-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="224eb-234">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="224eb-234">About the Author</span></span>

<span data-ttu-id="224eb-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), trabaja con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="224eb-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="224eb-236">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="224eb-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="224eb-237">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="224eb-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="224eb-238">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="224eb-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="224eb-239">o a través de su blog, que puede encontrarse en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="224eb-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="224eb-240">Agradecimientos especiales a...</span><span class="sxs-lookup"><span data-stu-id="224eb-240">Special Thanks To…</span></span>

<span data-ttu-id="224eb-241">Esta serie de tutoriales ha sido revisada por muchos revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="224eb-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="224eb-242">Los revisores para este tutorial fueron Zack Jones y Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="224eb-242">Lead reviewers for this tutorial were Zack Jones and Liz Shulok.</span></span> <span data-ttu-id="224eb-243">¿Está interesado en leer mi próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="224eb-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="224eb-244">Si es así, envíeme una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="224eb-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="224eb-245">[Anterior](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
> [Siguiente](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span><span class="sxs-lookup"><span data-stu-id="224eb-245">[Previous](master-detail-filtering-with-a-dropdownlist-datalist-cs.md)
[Next](master-detail-using-a-bulleted-list-of-master-records-with-a-details-datalist-cs.md)</span></span>

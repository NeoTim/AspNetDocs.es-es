---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: Enrutamiento de direcciones URL | Microsoft Docs
author: Erikre
description: Esta serie de tutoriales aprenderá los conceptos básicos de la creación de una aplicación de formularios Web Forms ASP.NET con ASP.NET 4.5 y Microsoft Visual Studio Express 2013 para se...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: 992cea256302231ee7031a21c798117b73eaa01c
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59384329"
---
# <a name="url-routing"></a><span data-ttu-id="3a462-103">Enrutamiento de direcciones URL</span><span class="sxs-lookup"><span data-stu-id="3a462-103">URL Routing</span></span>

<span data-ttu-id="3a462-104">por [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="3a462-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="3a462-105">[Descargar el proyecto de ejemplo de Wingtip Toys (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) o [descargar eBook (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="3a462-105">[Download Wingtip Toys Sample Project (C#)](http://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](http://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="3a462-106">Esta serie de tutoriales aprenderá los conceptos básicos de la creación de una aplicación de formularios Web Forms ASP.NET con ASP.NET 4.5 y Microsoft Visual Studio Express 2013 para Web.</span><span class="sxs-lookup"><span data-stu-id="3a462-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="3a462-107">Un Visual Studio 2013 [proyecto con código fuente de C#](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) está disponible para acompañar esta serie de tutoriales.</span><span class="sxs-lookup"><span data-stu-id="3a462-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>


<span data-ttu-id="3a462-108">En este tutorial, modificará la aplicación de ejemplo Wingtip Toys para admitir el enrutamiento de direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="3a462-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="3a462-109">Enrutamiento permite que la aplicación web utilizar direcciones URL que descriptivo, más fácil de recordar sean mejor admitidas por los motores de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="3a462-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="3a462-110">Este tutorial se basa en el tutorial anterior, "Pertenencia y administración" y forma parte de la serie de tutoriales de Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="3a462-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="3a462-111">Lo que aprenderá:</span><span class="sxs-lookup"><span data-stu-id="3a462-111">What you'll learn:</span></span>

- <span data-ttu-id="3a462-112">Cómo registrar las rutas de una aplicación de formularios Web Forms de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3a462-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="3a462-113">Cómo agregar rutas a una página web.</span><span class="sxs-lookup"><span data-stu-id="3a462-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="3a462-114">Cómo seleccionar datos de una base de datos para admitir las rutas.</span><span class="sxs-lookup"><span data-stu-id="3a462-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="3a462-115">Introducción al enrutamiento de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="3a462-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="3a462-116">Enrutamiento de direcciones URL le permite configurar una aplicación para aceptar solicitudes de direcciones URL que no se asignan a los archivos físicos.</span><span class="sxs-lookup"><span data-stu-id="3a462-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="3a462-117">Una dirección URL de solicitud es simplemente la dirección URL de un usuario escribe en su explorador para buscar una página en el sitio web.</span><span class="sxs-lookup"><span data-stu-id="3a462-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="3a462-118">Utilizar el enrutamiento para definir direcciones URL que son semánticamente significativos para los usuarios y que puede ayudarle con la optimización de motor de búsqueda (SEO).</span><span class="sxs-lookup"><span data-stu-id="3a462-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="3a462-119">De forma predeterminada, la plantilla de formularios Web Forms incluye [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span><span class="sxs-lookup"><span data-stu-id="3a462-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="3a462-120">Gran parte del trabajo de enrutamiento básico se implementará mediante el uso de *Friendly URLs*.</span><span class="sxs-lookup"><span data-stu-id="3a462-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="3a462-121">Sin embargo, en este tutorial agregará las funcionalidades de enrutamiento personalizadas.</span><span class="sxs-lookup"><span data-stu-id="3a462-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="3a462-122">Antes de personalizar el enrutamiento de direcciones URL, la aplicación de ejemplo Wingtip Toys puede vincular a un producto con la dirección URL siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a462-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="3a462-123">Al personalizar el enrutamiento de direcciones URL, la aplicación de ejemplo Wingtip Toys se vinculará al mismo producto mediante una más fácil de leer la dirección URL:</span><span class="sxs-lookup"><span data-stu-id="3a462-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="3a462-124">Rutas</span><span class="sxs-lookup"><span data-stu-id="3a462-124">Routes</span></span>

<span data-ttu-id="3a462-125">Una ruta es un patrón de dirección URL que se asigna a un controlador.</span><span class="sxs-lookup"><span data-stu-id="3a462-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="3a462-126">El controlador puede ser un archivo físico, como un archivo .aspx en una aplicación de formularios Web Forms.</span><span class="sxs-lookup"><span data-stu-id="3a462-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="3a462-127">Un controlador también puede ser una clase que procesa la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3a462-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="3a462-128">Para definir una ruta, cree una instancia de la clase de ruta especificando el patrón de dirección URL, el controlador y, opcionalmente, un nombre para la ruta.</span><span class="sxs-lookup"><span data-stu-id="3a462-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="3a462-129">Agregue la ruta a la aplicación agregando el `Route` objeto estático `Routes` propiedad de la `RouteTable` clase.</span><span class="sxs-lookup"><span data-stu-id="3a462-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="3a462-130">La propiedad de las rutas es una `RouteCollection` objeto que almacena todas las rutas para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3a462-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="3a462-131">Patrones de URL</span><span class="sxs-lookup"><span data-stu-id="3a462-131">URL Patterns</span></span>

<span data-ttu-id="3a462-132">Un patrón de dirección URL puede contener valores literales y marcadores de posición de variables (denominados parámetros de URL).</span><span class="sxs-lookup"><span data-stu-id="3a462-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="3a462-133">Los literales y marcadores de posición se encuentran en segmentos de la dirección URL que están delimitadas por la barra diagonal (`/`) caracteres.</span><span class="sxs-lookup"><span data-stu-id="3a462-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="3a462-134">Cuando se realiza una solicitud a la aplicación web, se analiza la dirección URL en segmentos y marcadores de posición, y se proporcionan los valores de variable para el controlador de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="3a462-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="3a462-135">Este proceso es similar a la forma en que los datos en una cadena de consulta se analiza y se pasa al controlador de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="3a462-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="3a462-136">En ambos casos, información sobre las variable está incluido en la dirección URL y pasa al controlador en forma de pares clave-valor.</span><span class="sxs-lookup"><span data-stu-id="3a462-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="3a462-137">Para las cadenas de consulta, las claves y los valores están en la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="3a462-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="3a462-138">Para las rutas, las claves son los nombres de marcador de posición en el patrón de dirección URL y solo los valores están en la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="3a462-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="3a462-139">En un modelo de dirección URL, definir los marcadores de posición encerrándolos entre llaves ( `{` y `}` ).</span><span class="sxs-lookup"><span data-stu-id="3a462-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="3a462-140">Puede definir más de un marcador de posición en un segmento, pero los marcadores de posición deben estar separados por un valor literal.</span><span class="sxs-lookup"><span data-stu-id="3a462-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="3a462-141">Por ejemplo, `{language}-{country}/{action}` es un patrón de ruta válido.</span><span class="sxs-lookup"><span data-stu-id="3a462-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="3a462-142">Sin embargo, `{language}{country}/{action}` no es un patrón válido, porque no hay ningún valor literal o un delimitador entre los marcadores de posición.</span><span class="sxs-lookup"><span data-stu-id="3a462-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="3a462-143">Por lo tanto, el enrutamiento no puede determinar dónde debe separar el valor del marcador de posición de idioma desde el valor del marcador de posición de país.</span><span class="sxs-lookup"><span data-stu-id="3a462-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="3a462-144">Asignación y registrar las rutas</span><span class="sxs-lookup"><span data-stu-id="3a462-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="3a462-145">Antes de poder incluir rutas a las páginas de la aplicación de ejemplo Wingtip Toys, debe registrar las rutas cuando se inicia la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3a462-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="3a462-146">Para registrar las rutas, modificará el `Application_Start` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3a462-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="3a462-147">En **el Explorador de soluciones**de Visual Studio, busque y abra el *Global.asax.cs* archivo.</span><span class="sxs-lookup"><span data-stu-id="3a462-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="3a462-148">Agregue el código resaltado en amarillo en la *Global.asax.cs* archivo como sigue:</span><span class="sxs-lookup"><span data-stu-id="3a462-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="3a462-149">Cuando se inicia la aplicación de ejemplo la Wingtip Toys, llama a la `Application_Start` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3a462-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="3a462-150">Al final de este controlador de eventos, el `RegisterCustomRoutes` se llama al método.</span><span class="sxs-lookup"><span data-stu-id="3a462-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="3a462-151">El `RegisterCustomRoutes` método agrega cada ruta mediante una llamada a la `MapPageRoute` método de la `RouteCollection` objeto.</span><span class="sxs-lookup"><span data-stu-id="3a462-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="3a462-152">Las rutas se definen mediante un nombre de ruta, una dirección URL de ruta y una dirección URL física.</span><span class="sxs-lookup"><span data-stu-id="3a462-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="3a462-153">El primer parámetro ("`ProductsByCategoryRoute`") es el nombre de ruta.</span><span class="sxs-lookup"><span data-stu-id="3a462-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="3a462-154">Sirve para llamar a la ruta cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="3a462-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="3a462-155">El segundo parámetro ("`Category/{categoryName}`") define la dirección URL que puede ser dinámico según el código de sustitución descriptiva.</span><span class="sxs-lookup"><span data-stu-id="3a462-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="3a462-156">Usar esta ruta cuando va a llenar un control de datos con vínculos que se generan según los datos.</span><span class="sxs-lookup"><span data-stu-id="3a462-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="3a462-157">Una ruta se muestra como sigue:</span><span class="sxs-lookup"><span data-stu-id="3a462-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="3a462-158">El segundo parámetro de la ruta incluye un valor dinámico especificado por llaves (`{ }`).</span><span class="sxs-lookup"><span data-stu-id="3a462-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="3a462-159">En este caso, el `categoryName` es una variable que se usará para determinar la ruta de acceso de enrutamiento adecuada.</span><span class="sxs-lookup"><span data-stu-id="3a462-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> **<span data-ttu-id="3a462-160">Optional</span><span class="sxs-lookup"><span data-stu-id="3a462-160">Optional</span></span>**
> 
> <span data-ttu-id="3a462-161">Le resultará más fácil de administrar el código al mover el `RegisterCustomRoutes` método en una clase independiente.</span><span class="sxs-lookup"><span data-stu-id="3a462-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="3a462-162">En el *lógica* carpeta, cree otro `RouteActions` clase.</span><span class="sxs-lookup"><span data-stu-id="3a462-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="3a462-163">Mover el anterior `RegisterCustomRoutes` método desde el *Global.asax.cs* archivo en el nuevo `RoutesActions` clase.</span><span class="sxs-lookup"><span data-stu-id="3a462-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="3a462-164">Use la `RoleActions` clase y el `createAdmin` método como un ejemplo de cómo llamar a la `RegisterCustomRoutes` método desde el *Global.asax.cs* archivo.</span><span class="sxs-lookup"><span data-stu-id="3a462-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>


<span data-ttu-id="3a462-165">Es posible que también haya observado el `RegisterRoutes` llamada de método con el `RouteConfig` objeto situado al principio de la `Application_Start` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="3a462-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="3a462-166">Esta llamada se realiza para implementar el enrutamiento predeterminado.</span><span class="sxs-lookup"><span data-stu-id="3a462-166">This call is made to implement default routing.</span></span> <span data-ttu-id="3a462-167">Se ha incluido como código de forma predeterminada al crear la aplicación mediante la plantilla de formularios Web Forms de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3a462-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="3a462-168">Recuperar y utilizar los datos de ruta</span><span class="sxs-lookup"><span data-stu-id="3a462-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="3a462-169">Como se mencionó anteriormente, se pueden definir las rutas.</span><span class="sxs-lookup"><span data-stu-id="3a462-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="3a462-170">El código que agregó a la `Application_Start` controlador de eventos en el *Global.asax.cs* las rutas definibles por el archivo carga.</span><span class="sxs-lookup"><span data-stu-id="3a462-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="3a462-171">Rutas de configuración</span><span class="sxs-lookup"><span data-stu-id="3a462-171">Setting Routes</span></span>

<span data-ttu-id="3a462-172">Rutas requieren que se va a agregar código adicional.</span><span class="sxs-lookup"><span data-stu-id="3a462-172">Routes require you to add additional code.</span></span> <span data-ttu-id="3a462-173">En este tutorial, utilizará el enlace de modelos para recuperar un `RouteValueDictionary` objeto que se usa al generar las rutas con los datos de un control de datos.</span><span class="sxs-lookup"><span data-stu-id="3a462-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="3a462-174">La `RouteValueDictionary` objeto contendrá una lista de nombres de productos que pertenecen a una categoría de productos específica.</span><span class="sxs-lookup"><span data-stu-id="3a462-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="3a462-175">Se crea un vínculo para cada producto en función de los datos y la ruta.</span><span class="sxs-lookup"><span data-stu-id="3a462-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="3a462-176">Habilitar las rutas para las categorías y productos</span><span class="sxs-lookup"><span data-stu-id="3a462-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="3a462-177">A continuación, actualizará la aplicación para usar el `ProductsByCategoryRoute` para determinar la ruta correcta para incluir para cada vínculo de categoría de producto.</span><span class="sxs-lookup"><span data-stu-id="3a462-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="3a462-178">También actualizará el *ProductList.aspx* página para incluir un vínculo enrutado para cada producto.</span><span class="sxs-lookup"><span data-stu-id="3a462-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="3a462-179">Los vínculos se mostrará como eran antes del cambio, sin embargo, los vínculos, ahora se usarán enrutamiento de direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="3a462-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="3a462-180">En **el Explorador de soluciones**, abra el *Site.Master* página si no está ya abierto.</span><span class="sxs-lookup"><span data-stu-id="3a462-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="3a462-181">Actualización de la **ListView** control denominado "`categoryList`" con los cambios que se resaltan en amarillo, por lo que el marcado aparece como sigue:</span><span class="sxs-lookup"><span data-stu-id="3a462-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="3a462-182">En **el Explorador de soluciones**, abra el *ProductList.aspx* página.</span><span class="sxs-lookup"><span data-stu-id="3a462-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="3a462-183">Actualización de la `ItemTemplate` elemento de la *ProductList.aspx* página con las actualizaciones que se resaltan en amarillo, por lo que el marcado aparece como sigue:</span><span class="sxs-lookup"><span data-stu-id="3a462-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="3a462-184">Abra el código subyacente de *ProductList.aspx.cs* y agregue el siguiente espacio de nombres como señalado en amarillo:</span><span class="sxs-lookup"><span data-stu-id="3a462-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="3a462-185">Reemplace el `GetProducts` método de código subyacente (*ProductList.aspx.cs*) con el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a462-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="3a462-186">Agregue código para obtener más información de producto</span><span class="sxs-lookup"><span data-stu-id="3a462-186">Add Code for Product Details</span></span>

<span data-ttu-id="3a462-187">Ahora, actualice el código subyacente (*ProductDetails.aspx.cs*) para el *ProductDetails.aspx* página va a usar los datos de ruta.</span><span class="sxs-lookup"><span data-stu-id="3a462-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="3a462-188">Tenga en cuenta que el nuevo `GetProduct` método también acepta un valor de cadena de consulta para el caso donde el usuario tenga un vínculo de un marcador que se usa la dirección de URL no preparadas, no enrutadas anterior.</span><span class="sxs-lookup"><span data-stu-id="3a462-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="3a462-189">Reemplace el `GetProduct` método de código subyacente (*ProductDetails.aspx.cs*) con el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a462-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="3a462-190">Ejecutar la aplicación</span><span class="sxs-lookup"><span data-stu-id="3a462-190">Running the Application</span></span>

<span data-ttu-id="3a462-191">Puede ejecutar la aplicación ahora para ver las rutas actualizadas.</span><span class="sxs-lookup"><span data-stu-id="3a462-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="3a462-192">Presione **F5** para ejecutar la aplicación de ejemplo Wingtip Toys.</span><span class="sxs-lookup"><span data-stu-id="3a462-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="3a462-193">El explorador se abre y muestra el *Default.aspx* página.</span><span class="sxs-lookup"><span data-stu-id="3a462-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="3a462-194">Haga clic en el **productos** vínculo en la parte superior de la página.</span><span class="sxs-lookup"><span data-stu-id="3a462-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="3a462-195">Todos los productos se muestran en el *ProductList.aspx* página.</span><span class="sxs-lookup"><span data-stu-id="3a462-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="3a462-196">Para el explorador se muestra la siguiente dirección URL (con el número de puerto):</span><span class="sxs-lookup"><span data-stu-id="3a462-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="3a462-197">A continuación, haga clic en el **automóviles** vínculo de categoría en la parte superior de la página.</span><span class="sxs-lookup"><span data-stu-id="3a462-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="3a462-198">Solo los automóviles se muestran en el *ProductList.aspx* página.</span><span class="sxs-lookup"><span data-stu-id="3a462-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="3a462-199">Para el explorador se muestra la siguiente dirección URL (con el número de puerto):</span><span class="sxs-lookup"><span data-stu-id="3a462-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="3a462-200">Haga clic en el vínculo que contiene el nombre del primer automóvil aparece en la página ("**automóvil Convertible**") para mostrar los detalles del producto.</span><span class="sxs-lookup"><span data-stu-id="3a462-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="3a462-201">Para el explorador se muestra la siguiente dirección URL (con el número de puerto):</span><span class="sxs-lookup"><span data-stu-id="3a462-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="3a462-202">A continuación, escriba la siguiente URL no enrutadas (con el número de puerto) en el explorador:</span><span class="sxs-lookup"><span data-stu-id="3a462-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="3a462-203">El código aún reconoce una dirección URL que incluya una cadena de consulta para el caso de que un usuario tiene un vínculo de un marcador.</span><span class="sxs-lookup"><span data-stu-id="3a462-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="3a462-204">Resumen</span><span class="sxs-lookup"><span data-stu-id="3a462-204">Summary</span></span>

<span data-ttu-id="3a462-205">En este tutorial, ha agregado las rutas para las categorías y productos.</span><span class="sxs-lookup"><span data-stu-id="3a462-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="3a462-206">Ha aprendido cómo las rutas se pueden integrar con controles de datos que utilizan el enlace de modelos.</span><span class="sxs-lookup"><span data-stu-id="3a462-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="3a462-207">En el siguiente tutorial, implementará el control de errores global.</span><span class="sxs-lookup"><span data-stu-id="3a462-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3a462-208">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="3a462-208">Additional Resources</span></span>

[<span data-ttu-id="3a462-209">ASP.NET Friendly URLs</span><span class="sxs-lookup"><span data-stu-id="3a462-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="3a462-210">Implementar una aplicación de formularios Web ASP.NET segura con pertenencia, OAuth y SQL Database en Azure App Service</span><span class="sxs-lookup"><span data-stu-id="3a462-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="3a462-211">Microsoft Azure - evaluación gratuita</span><span class="sxs-lookup"><span data-stu-id="3a462-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

> [!div class="step-by-step"]
> <span data-ttu-id="3a462-212">[Anterior](membership-and-administration.md)
> [Siguiente](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="3a462-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>

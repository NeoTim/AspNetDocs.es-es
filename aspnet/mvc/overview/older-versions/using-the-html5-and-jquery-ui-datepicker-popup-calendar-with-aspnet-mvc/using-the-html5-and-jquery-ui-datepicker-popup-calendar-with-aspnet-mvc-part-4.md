---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Usar el calendario emergente del DatePicker de la interfaz de usuario de HTML5 y jQuery con ASP.NET MVC, parte 4 | Microsoft Docs
author: Rick-Anderson
description: Este tutorial le enseñará los aspectos básicos de cómo trabajar con plantillas de editor, plantillas de pantalla y el calendario emergente de DatePicker de la interfaz de usuario de jQuery en un ASP.NET...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 583e782641efea9a9517edb31f7718b28203d756
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78433255"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="55e67-103">Usar el calendario emergente del DatePicker de la interfaz de usuario de HTML5 y jQuery con ASP.NET MVC, parte 4</span><span class="sxs-lookup"><span data-stu-id="55e67-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="55e67-104">por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="55e67-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="55e67-105">Este tutorial le enseñará los aspectos básicos de cómo trabajar con plantillas de editor, plantillas de pantalla y el calendario emergente de DatePicker de la interfaz de usuario de jQuery en una aplicación web MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="55e67-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>

### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="55e67-106">Agregar una plantilla para editar fechas</span><span class="sxs-lookup"><span data-stu-id="55e67-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="55e67-107">En esta sección, creará una plantilla para editar las fechas que se aplicarán cuando ASP.NET MVC muestre la interfaz de usuario para editar las propiedades del modelo marcadas con la enumeración **Date** del atributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) .</span><span class="sxs-lookup"><span data-stu-id="55e67-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="55e67-108">La plantilla solo representará la fecha; no se mostrará la hora.</span><span class="sxs-lookup"><span data-stu-id="55e67-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="55e67-109">En la plantilla, usará el calendario emergente DatePicker de la [interfaz de usuario de jQuery](http://jqueryui.com/demos/datepicker/) para proporcionar una manera de editar fechas.</span><span class="sxs-lookup"><span data-stu-id="55e67-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="55e67-110">Para empezar, abra el archivo *Movie.CS* y agregue el atributo [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) con la enumeración **Date** a la propiedad `ReleaseDate`, como se muestra en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="55e67-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="55e67-111">Este código hace que el campo de `ReleaseDate` se muestre sin el tiempo en las plantillas para mostrar y en las plantillas de edición.</span><span class="sxs-lookup"><span data-stu-id="55e67-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="55e67-112">Si la aplicación contiene una plantilla *Date. cshtml* en la carpeta *Views\Shared\EditorTemplates* o en la carpeta *Views\Movies\EditorTemplates* , esa plantilla se utilizará para representar cualquier `DateTime` propiedad mientras se edita.</span><span class="sxs-lookup"><span data-stu-id="55e67-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="55e67-113">De lo contrario, el sistema integrado de plantillas de ASP.NET mostrará la propiedad como una fecha.</span><span class="sxs-lookup"><span data-stu-id="55e67-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="55e67-114">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="55e67-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="55e67-115">Seleccione un vínculo de edición para comprobar que el campo de entrada de la fecha de lanzamiento muestra solo la fecha.</span><span class="sxs-lookup"><span data-stu-id="55e67-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="55e67-116">En **Explorador de soluciones**, expanda la carpeta *vistas* , expanda la carpeta *compartida* y, a continuación, haga clic con el botón secundario en la carpeta *Views\Shared\EditorTemplates*</span><span class="sxs-lookup"><span data-stu-id="55e67-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="55e67-117">Haga clic en **Agregar**y, a continuación, en **Ver**.</span><span class="sxs-lookup"><span data-stu-id="55e67-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="55e67-118">Se muestra el cuadro de diálogo **Agregar vista** .</span><span class="sxs-lookup"><span data-stu-id="55e67-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="55e67-119">En el cuadro **nombre de vista** , escriba &quot;fecha&quot;.</span><span class="sxs-lookup"><span data-stu-id="55e67-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="55e67-120">Active la casilla **crear como vista parcial** .</span><span class="sxs-lookup"><span data-stu-id="55e67-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="55e67-121">Asegúrese de que las casillas **usar un diseño o página maestra** y **crear una vista fuertemente tipada** no estén seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="55e67-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="55e67-122">Haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="55e67-122">Click **Add**.</span></span> <span data-ttu-id="55e67-123">Se crea la plantilla *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="55e67-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="55e67-124">Agregue el código siguiente a la plantilla *Views\Shared\EditorTemplates\Date.cshtml* .</span><span class="sxs-lookup"><span data-stu-id="55e67-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="55e67-125">La primera línea declara el modelo para que sea un tipo de `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="55e67-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="55e67-126">Aunque no es necesario declarar el tipo de modelo en las plantillas de edición y visualización, es un procedimiento recomendado para obtener la comprobación en tiempo de compilación del modelo que se pasa a la vista.</span><span class="sxs-lookup"><span data-stu-id="55e67-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="55e67-127">(Otra ventaja es que, a continuación, obtiene IntelliSense para el modelo en la vista de Visual Studio). Si no se declara el tipo de modelo, ASP.NET MVC lo considera un tipo [dinámico](https://msdn.microsoft.com/library/dd264741.aspx) y no hay ninguna comprobación de tipos en tiempo de compilación.</span><span class="sxs-lookup"><span data-stu-id="55e67-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="55e67-128">Si declara que el modelo es de tipo `DateTime`, se vuelve fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="55e67-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="55e67-129">La segunda línea es simplemente un marcado HTML literal que muestra &quot;mediante una plantilla de fecha&quot; antes de un campo de fecha.</span><span class="sxs-lookup"><span data-stu-id="55e67-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="55e67-130">Usará esta línea temporalmente para comprobar que se está usando esta plantilla de fecha.</span><span class="sxs-lookup"><span data-stu-id="55e67-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="55e67-131">La siguiente línea es una aplicación auxiliar [HTML. TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) que representa un campo de `input` que es un cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="55e67-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="55e67-132">El tercer parámetro del ayudante usa un tipo anónimo para establecer la clase del cuadro de texto que se va a `datefield` y el tipo que se va a `date`.</span><span class="sxs-lookup"><span data-stu-id="55e67-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="55e67-133">(Dado que `class` es un reservado C#en, debe usar el carácter `@` para escapar el atributo `class` en el C# analizador).</span><span class="sxs-lookup"><span data-stu-id="55e67-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="55e67-134">El tipo de `date` es un tipo de entrada de HTML5 que permite que los exploradores compatibles con HTML5 representen un control de calendario de HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="55e67-135">Más adelante, agregará JavaScript para enlazar el DatePicker de jQuery al elemento `Html.TextBox` con la clase `datefield`.</span><span class="sxs-lookup"><span data-stu-id="55e67-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="55e67-136">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="55e67-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="55e67-137">Puede comprobar que la propiedad `ReleaseDate` de la vista edición está usando la plantilla editar porque la plantilla muestra &quot;mediante la plantilla de fecha&quot; justo antes del cuadro de entrada texto `ReleaseDate`, como se muestra en esta imagen:</span><span class="sxs-lookup"><span data-stu-id="55e67-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="55e67-138">En el explorador, vea el origen de la página.</span><span class="sxs-lookup"><span data-stu-id="55e67-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="55e67-139">(Por ejemplo, haga clic con el botón secundario en la página y seleccione **Ver código fuente**). En el ejemplo siguiente se muestra parte del marcado de la página, que ilustra los atributos `class` y `type` en el HTML representado.</span><span class="sxs-lookup"><span data-stu-id="55e67-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="55e67-140">Vuelva a la plantilla *Views\Shared\EditorTemplates\Date.cshtml* y quite el &quot;mediante el marcado de la plantilla de fecha&quot;.</span><span class="sxs-lookup"><span data-stu-id="55e67-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="55e67-141">Ahora la plantilla completada tiene el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="55e67-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="55e67-142">Adición de un calendario emergente DatePicker de jQuery UI con NuGet</span><span class="sxs-lookup"><span data-stu-id="55e67-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="55e67-143">En esta sección, agregará el calendario emergente DatePicker de la [interfaz de usuario de jQuery](http://jqueryui.com/demos/datepicker/) a la plantilla de fecha y edición.</span><span class="sxs-lookup"><span data-stu-id="55e67-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="55e67-144">La biblioteca de [jQuery UI](http://jqueryui.com/) proporciona compatibilidad con animación, efectos avanzados y widgets personalizables.</span><span class="sxs-lookup"><span data-stu-id="55e67-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="55e67-145">Se basa en la biblioteca de jQuery JavaScript.</span><span class="sxs-lookup"><span data-stu-id="55e67-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="55e67-146">El calendario emergente DatePicker facilita y natural la entrada de fechas mediante un calendario en lugar de escribir una cadena.</span><span class="sxs-lookup"><span data-stu-id="55e67-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="55e67-147">El calendario emergente también limita a los usuarios a fechas legales: la entrada de texto normal para una fecha le permite escribir algo como `2/33/1999` (febrero 33rd, 1999), pero el calendario emergente DatePicker de la [interfaz de usuario de jQuery](http://jqueryui.com/demos/datepicker/) no lo permite.</span><span class="sxs-lookup"><span data-stu-id="55e67-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="55e67-148">En primer lugar, debe instalar las bibliotecas de jQuery UI.</span><span class="sxs-lookup"><span data-stu-id="55e67-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="55e67-149">Para ello, usará NuGet, que es un administrador de paquetes que se incluye en las versiones SP1 de Visual Studio 2010 y Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="55e67-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="55e67-150">En Visual Web Developer, en el menú **herramientas** , seleccione **Administrador de paquetes Nuget** y, a continuación, seleccione **administrar paquetes Nuget**.</span><span class="sxs-lookup"><span data-stu-id="55e67-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="55e67-151">Nota: Si el menú **herramientas** no muestra el comando **Administrador de paquetes Nuget** , debe instalar Nuget siguiendo las instrucciones de la página [instalación de NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) del sitio web de Nuget.</span><span class="sxs-lookup"><span data-stu-id="55e67-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="55e67-152">Si usa Visual Studio en lugar de Visual Web Developer, en el menú **herramientas** , seleccione Administrador de **paquetes NuGet** y, a continuación, seleccione **Agregar referencia de paquete de biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="55e67-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="55e67-153">En el cuadro de diálogo **MVCMovie-Manage NuGet Packages** , haga clic en la pestaña **en línea** de la izquierda y, a continuación, escriba &quot;jQuery. UI&quot; en el cuadro de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="55e67-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="55e67-154">Seleccione j **query UI widgets: DatePicker**y, luego, seleccione el botón **instalar** .</span><span class="sxs-lookup"><span data-stu-id="55e67-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="55e67-155">NuGet agrega estas versiones de depuración y las versiones de reducida de jQuery UI Core y el selector de fecha de la interfaz de usuario de jQuery al proyecto:</span><span class="sxs-lookup"><span data-stu-id="55e67-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- <span data-ttu-id="55e67-156">*jQuery. UI. Core. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-156">*jquery.ui.core.js*</span></span>
- <span data-ttu-id="55e67-157">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-157">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="55e67-158">*jQuery. UI. DatePicker. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-158">*jquery.ui.datepicker.js*</span></span>
- <span data-ttu-id="55e67-159">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-159">*jquery.ui.datepicker.min.js*</span></span>

<span data-ttu-id="55e67-160">Nota: las versiones de depuración (los archivos sin la extensión *. min. js* ) son útiles para la depuración, pero en un sitio de producción, solo incluiría las versiones de reducida.</span><span class="sxs-lookup"><span data-stu-id="55e67-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="55e67-161">Para usar el selector de fecha de jQuery, debe crear un script de jQuery que enlazará el widget de calendario a la plantilla de edición.</span><span class="sxs-lookup"><span data-stu-id="55e67-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="55e67-162">En **Explorador de soluciones**, haga clic con el botón secundario en la carpeta *scripts* y seleccione **Agregar**, **nuevo elemento**y, a continuación, **archivo JScript**.</span><span class="sxs-lookup"><span data-stu-id="55e67-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="55e67-163">Asigne al archivo el nombre *DatePickerReady. js*.</span><span class="sxs-lookup"><span data-stu-id="55e67-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="55e67-164">Agregue el código siguiente al archivo *DatePickerReady. js* :</span><span class="sxs-lookup"><span data-stu-id="55e67-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="55e67-165">Si no está familiarizado con jQuery, esta es una breve explicación de lo que hace esto: la primera línea es la &quot;función de&quot; preparada para jQuery, a la que se llama cuando todos los elementos DOM de una página se han cargado.</span><span class="sxs-lookup"><span data-stu-id="55e67-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="55e67-166">La segunda línea selecciona todos los elementos DOM que tienen el nombre de clase `datefield`y, a continuación, invoca la función de `datepicker` para cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="55e67-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="55e67-167">(Recuerde que ha agregado la clase `datefield` a la plantilla *Views\Shared\EditorTemplates\Date.cshtml* anteriormente en el tutorial).</span><span class="sxs-lookup"><span data-stu-id="55e67-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="55e67-168">A continuación, abra el archivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="55e67-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="55e67-169">Debe agregar referencias a los siguientes archivos, que son necesarios para que pueda usar el selector de fecha:</span><span class="sxs-lookup"><span data-stu-id="55e67-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- <span data-ttu-id="55e67-170">*Content/themes/base/jQuery. UI. Core. CSS*</span><span class="sxs-lookup"><span data-stu-id="55e67-170">*Content/themes/base/jquery.ui.core.css*</span></span>
- <span data-ttu-id="55e67-171">*Content/themes/base/jQuery. UI. DatePicker. CSS*</span><span class="sxs-lookup"><span data-stu-id="55e67-171">*Content/themes/base/jquery.ui.datepicker.css*</span></span>
- <span data-ttu-id="55e67-172">*Content/themes/base/jQuery. UI. theme. CSS*</span><span class="sxs-lookup"><span data-stu-id="55e67-172">*Content/themes/base/jquery.ui.theme.css*</span></span>
- <span data-ttu-id="55e67-173">*jQuery. UI. Core. min. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-173">*jquery.ui.core.min.js*</span></span>
- <span data-ttu-id="55e67-174">*jQuery. UI. DatePicker. min. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-174">*jquery.ui.datepicker.min.js*</span></span>
- <span data-ttu-id="55e67-175">*DatePickerReady. js*</span><span class="sxs-lookup"><span data-stu-id="55e67-175">*DatePickerReady.js*</span></span>

<span data-ttu-id="55e67-176">En el ejemplo siguiente se muestra el código real que se debe agregar en la parte inferior del elemento `head` en el archivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="55e67-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="55e67-177">Aquí se muestra la sección `head` completa:</span><span class="sxs-lookup"><span data-stu-id="55e67-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="55e67-178">El método auxiliar de contenido de la [dirección URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) convierte la ruta de acceso al recurso en una ruta de acceso absoluta.</span><span class="sxs-lookup"><span data-stu-id="55e67-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="55e67-179">Debe utilizar `@URL.Content` para hacer referencia correctamente a estos recursos cuando la aplicación se ejecuta en IIS.</span><span class="sxs-lookup"><span data-stu-id="55e67-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="55e67-180">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="55e67-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="55e67-181">Seleccione un vínculo de edición y, a continuación, coloque el punto de inserción en el campo **ReleaseDate** .</span><span class="sxs-lookup"><span data-stu-id="55e67-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="55e67-182">Se muestra el calendario emergente de la interfaz de usuario de jQuery.</span><span class="sxs-lookup"><span data-stu-id="55e67-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="55e67-183">Como la mayoría de los controles de jQuery, el DatePicker le permite personalizarlo en gran medida.</span><span class="sxs-lookup"><span data-stu-id="55e67-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="55e67-184">Para obtener más información, vea [Personalización visual: diseñar un tema de jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) en el sitio de [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) .</span><span class="sxs-lookup"><span data-stu-id="55e67-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="55e67-185">Compatibilidad con el control de entrada de fecha HTML5</span><span class="sxs-lookup"><span data-stu-id="55e67-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="55e67-186">A medida que más exploradores admitan HTML5, querrá usar la entrada nativa de HTML5, como el elemento de entrada `date` y no usar el calendario de jQuery UI.</span><span class="sxs-lookup"><span data-stu-id="55e67-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="55e67-187">Puede agregar lógica a la aplicación para usar automáticamente los controles HTML5 si el explorador los admite.</span><span class="sxs-lookup"><span data-stu-id="55e67-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="55e67-188">Para ello, reemplace el contenido del archivo *DatePickerReady. js* por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="55e67-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="55e67-189">La primera línea de este script usa Modernizr para comprobar que se admite la entrada de fecha de HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="55e67-190">Si no se admite, el selector de fecha de la interfaz de usuario de jQuery se enlaza en su lugar.</span><span class="sxs-lookup"><span data-stu-id="55e67-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="55e67-191">([Modernizr](http://www.modernizr.com/docs/) es una biblioteca JavaScript de código abierto que detecta la disponibilidad de las implementaciones nativas de HTML5 y CSS3.</span><span class="sxs-lookup"><span data-stu-id="55e67-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="55e67-192">Modernizr se incluye en cualquier nuevo proyecto de ASP.NET MVC que cree).</span><span class="sxs-lookup"><span data-stu-id="55e67-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="55e67-193">Después de realizar este cambio, puede probarlo mediante un explorador que admita HTML5, como Opera 11.</span><span class="sxs-lookup"><span data-stu-id="55e67-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="55e67-194">Ejecute la aplicación mediante un explorador compatible con HTML5 y edite una entrada de película.</span><span class="sxs-lookup"><span data-stu-id="55e67-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="55e67-195">El control de fecha de HTML5 se usa en lugar del calendario emergente de la interfaz de usuario de jQuery:</span><span class="sxs-lookup"><span data-stu-id="55e67-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="55e67-196">Dado que las nuevas versiones de los exploradores implementan HTML5 de forma incremental, un buen método para ahora es agregar código a su sitio web que admita una amplia variedad de compatibilidad con HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="55e67-197">Por ejemplo, a continuación se muestra un script de *DatePickerReady. js* más sólido que permite que el sitio admita exploradores que solo admiten parcialmente el control de fecha de HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="55e67-198">Este script selecciona los elementos de `input` HTML5 de tipo `date` que no son totalmente compatibles con el control de fecha de HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="55e67-199">Para esos elementos, enlaza el calendario emergente de la interfaz de usuario de jQuery y, a continuación, cambia el atributo `type` de `date` a `text`.</span><span class="sxs-lookup"><span data-stu-id="55e67-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="55e67-200">Al cambiar el atributo `type` de `date` a `text`, se elimina la compatibilidad parcial de la fecha de HTML5.</span><span class="sxs-lookup"><span data-stu-id="55e67-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="55e67-201">Puede encontrar un script de *DatePickerReady. js* aún más sólido en [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="55e67-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="55e67-202">Agregar fechas que aceptan valores NULL a las plantillas</span><span class="sxs-lookup"><span data-stu-id="55e67-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="55e67-203">Si usa una de las plantillas de fecha existentes y pasa una fecha nula, obtendrá un error en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="55e67-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="55e67-204">Para que las plantillas de fecha sean más sólidas, las cambiará para controlar valores NULL.</span><span class="sxs-lookup"><span data-stu-id="55e67-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="55e67-205">Para admitir fechas que aceptan valores NULL, cambie el código de *Views\Shared\DisplayTemplates\DateTime.cshtml* por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="55e67-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="55e67-206">El código devuelve una cadena vacía cuando el modelo es **null**.</span><span class="sxs-lookup"><span data-stu-id="55e67-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="55e67-207">Cambie el código del archivo *Views\Shared\EditorTemplates\Date.cshtml* por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="55e67-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="55e67-208">Cuando se ejecuta este código, si el modelo no es null, se usa el valor de `DateTime` del modelo.</span><span class="sxs-lookup"><span data-stu-id="55e67-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="55e67-209">Si el modelo es null, se utiliza la fecha actual en su lugar.</span><span class="sxs-lookup"><span data-stu-id="55e67-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="55e67-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="55e67-210">Wrapup</span></span>

<span data-ttu-id="55e67-211">En este tutorial se han tratado los aspectos básicos de las aplicaciones auxiliares con plantilla de ASP.NET y se muestra cómo usar el calendario emergente DatePicker de la interfaz de usuario de jQuery en una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="55e67-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="55e67-212">Para obtener más información, pruebe estos recursos:</span><span class="sxs-lookup"><span data-stu-id="55e67-212">For more information, try these resources:</span></span>

- <span data-ttu-id="55e67-213">Para obtener información sobre la localización, consulte el blog de Rajeesh [JQueryUI DatePicker en ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="55e67-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="55e67-214">Para obtener información sobre jQuery UI, consulte [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="55e67-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="55e67-215">Para obtener información sobre cómo localizar el control DatePicker, consulte [UI/DatePicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="55e67-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="55e67-216">Para obtener más información acerca de las plantillas de ASP.NET MVC, consulte la serie de blog de Brad Wilson en [las plantillas de ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="55e67-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="55e67-217">Aunque la serie se ha escrito para ASP.NET MVC 2, el material se aplica también a la versión actual de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="55e67-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="55e67-218">Anterior</span><span class="sxs-lookup"><span data-stu-id="55e67-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)

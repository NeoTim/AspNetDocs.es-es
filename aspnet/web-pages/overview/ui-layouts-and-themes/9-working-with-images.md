---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Uso de imágenes en un sitio de ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: En este capítulo se muestra cómo agregar, mostrar y manipular imágenes (cambiar el tamaño, voltear y agregar marcas de agua) en el sitio Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: 53514b3c314fc182a43c82974ffcfa8158a636a1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78512881"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="74a4b-103">Trabajar con imágenes en un sitio de ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="74a4b-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="74a4b-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="74a4b-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="74a4b-105">En este artículo se muestra cómo agregar, mostrar y manipular imágenes (cambiar el tamaño, voltear y agregar marcas de agua) en un sitio web de ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="74a4b-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="74a4b-106">Temas que se abordarán:</span><span class="sxs-lookup"><span data-stu-id="74a4b-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="74a4b-107">Cómo agregar una imagen a una página dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="74a4b-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="74a4b-108">Cómo permitir que los usuarios carguen una imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="74a4b-109">Cómo cambiar el tamaño de una imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-109">How to resize an image.</span></span>
> - <span data-ttu-id="74a4b-110">Cómo voltear o girar una imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="74a4b-111">Cómo agregar una marca de agua a una imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="74a4b-112">Cómo usar una imagen como marca de agua.</span><span class="sxs-lookup"><span data-stu-id="74a4b-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="74a4b-113">Estas son las características de programación de ASP.NET que se introdujeron en el artículo:</span><span class="sxs-lookup"><span data-stu-id="74a4b-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="74a4b-114">Aplicación auxiliar de `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="74a4b-115">El objeto `Path`, que proporciona métodos que permiten manipular nombres de archivo y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="74a4b-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="74a4b-116">Versiones de software usadas en el tutorial</span><span class="sxs-lookup"><span data-stu-id="74a4b-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="74a4b-117">ASP.NET Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="74a4b-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="74a4b-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="74a4b-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="74a4b-119">Este tutorial también funciona con WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="74a4b-119">This tutorial also works with WebMatrix 3.</span></span>

<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="74a4b-120">Agregar una imagen a una página web dinámicamente</span><span class="sxs-lookup"><span data-stu-id="74a4b-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="74a4b-121">Puede Agregar imágenes al sitio web y a páginas individuales mientras está desarrollando el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="74a4b-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="74a4b-122">También puede permitir que los usuarios carguen imágenes, lo que puede resultar útil para tareas como permitirles agregar una foto de perfil.</span><span class="sxs-lookup"><span data-stu-id="74a4b-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="74a4b-123">Si ya hay una imagen disponible en el sitio y solo desea mostrarla en una página, use un elemento de `<img>` HTML como este:</span><span class="sxs-lookup"><span data-stu-id="74a4b-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="74a4b-124">Sin embargo, a veces es necesario poder mostrar imágenes de forma dinámica, &#8212; es decir, no se sabe qué imagen se debe mostrar hasta que la página se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="74a4b-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="74a4b-125">En el procedimiento de esta sección se muestra cómo mostrar una imagen sobre la marcha en la que los usuarios especifican el nombre del archivo de imagen en una lista de nombres de imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="74a4b-126">Seleccionan el nombre de la imagen en una lista desplegable y, cuando envían la página, se muestra la imagen que seleccionó.</span><span class="sxs-lookup"><span data-stu-id="74a4b-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="74a4b-127">![impresión](9-working-with-images/_static/image1.jpg "ch9images-1. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="74a4b-128">En WebMatrix, cree un nuevo sitio Web.</span><span class="sxs-lookup"><span data-stu-id="74a4b-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="74a4b-129">Agregue una nueva página denominada *DynamicImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="74a4b-130">En la carpeta raíz del sitio web, agregue una nueva carpeta y asígnele el nombre *imágenes*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="74a4b-131">Agregue cuatro imágenes a la carpeta *images* que acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="74a4b-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="74a4b-132">(Las imágenes que tenga resultan útiles, pero deben ajustarse a una página). Cambie el nombre de las imágenes *Photo1. jpg*, *Photo2. jpg*, *Photo3. jpg*y *Photo4. jpg*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="74a4b-133">(No usará *Photo4. jpg* en este procedimiento, pero lo usará más adelante en el artículo).</span><span class="sxs-lookup"><span data-stu-id="74a4b-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="74a4b-134">Compruebe que las cuatro imágenes no estén marcadas como de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="74a4b-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="74a4b-135">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="74a4b-136">El cuerpo de la página tiene una lista desplegable (un elemento `<select>`) denominada `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="74a4b-137">La lista tiene tres opciones y el atributo `value` de cada opción de lista tiene el nombre de una de las imágenes que se colocan en la carpeta *imágenes* .</span><span class="sxs-lookup"><span data-stu-id="74a4b-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="74a4b-138">En esencia, la lista permite al usuario seleccionar un nombre descriptivo como &quot;foto 1&quot;y, a continuación, pasa el nombre del archivo *. jpg* cuando se envía la página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="74a4b-139">En el código, puede obtener la selección del usuario (es decir, el nombre del archivo de imagen) de la lista leyendo `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="74a4b-140">En primer lugar, verá si hay una selección en absoluto.</span><span class="sxs-lookup"><span data-stu-id="74a4b-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="74a4b-141">Si existe, se crea una ruta de acceso para la imagen que consta del nombre de la carpeta para las imágenes y el nombre del archivo de imagen del usuario.</span><span class="sxs-lookup"><span data-stu-id="74a4b-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="74a4b-142">(Si intentó crear una ruta de acceso pero no había nada en `Request["photoChoice"]`, obtendría un error). Esto da como resultado una ruta de acceso relativa como esta:</span><span class="sxs-lookup"><span data-stu-id="74a4b-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    <span data-ttu-id="74a4b-143">*images/Photo1. jpg*</span><span class="sxs-lookup"><span data-stu-id="74a4b-143">*images/Photo1.jpg*</span></span>

    <span data-ttu-id="74a4b-144">La ruta de acceso se almacena en la variable denominada `imagePath` que necesitará más adelante en la página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="74a4b-145">En el cuerpo, hay también un elemento `<img>` que se usa para mostrar la imagen que el usuario ha seleccionado.</span><span class="sxs-lookup"><span data-stu-id="74a4b-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="74a4b-146">El atributo `src` no se establece en un nombre de archivo o una dirección URL, como haría para mostrar un elemento estático.</span><span class="sxs-lookup"><span data-stu-id="74a4b-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="74a4b-147">En su lugar, se establece en `@imagePath`, lo que significa que obtiene su valor de la ruta de acceso establecida en el código.</span><span class="sxs-lookup"><span data-stu-id="74a4b-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="74a4b-148">La primera vez que se ejecuta la página, sin embargo, no hay ninguna imagen que mostrar, porque el usuario no ha seleccionado nada.</span><span class="sxs-lookup"><span data-stu-id="74a4b-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="74a4b-149">Normalmente, esto significaría que el atributo `src`ría estar vacío y la imagen se mostraría como una&quot; roja &quot;x (o cualquier otra cosa que se represente en el explorador cuando no pueda encontrar una imagen).</span><span class="sxs-lookup"><span data-stu-id="74a4b-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="74a4b-150">Para evitarlo, coloque el elemento `<img>` en un bloque de `if` que prueba para ver si la variable `imagePath` tiene cualquier elemento.</span><span class="sxs-lookup"><span data-stu-id="74a4b-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="74a4b-151">Si el usuario realizó una selección, `imagePath` contiene la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="74a4b-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="74a4b-152">Si el usuario no ha seleccionado una imagen o si es la primera vez que se muestra la página, el elemento `<img>` no se representa incluso.</span><span class="sxs-lookup"><span data-stu-id="74a4b-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="74a4b-153">Guarde el archivo y ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="74a4b-154">(Asegúrese de que la página esté seleccionada en el área de trabajo **archivos** antes de ejecutarla).</span><span class="sxs-lookup"><span data-stu-id="74a4b-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="74a4b-155">Seleccione una imagen en la lista desplegable y, a continuación, haga clic en **imagen de ejemplo**.</span><span class="sxs-lookup"><span data-stu-id="74a4b-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="74a4b-156">Asegúrese de que ve imágenes diferentes para distintas opciones.</span><span class="sxs-lookup"><span data-stu-id="74a4b-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="74a4b-157">Carga de una imagen</span><span class="sxs-lookup"><span data-stu-id="74a4b-157">Uploading an Image</span></span>

<span data-ttu-id="74a4b-158">En el ejemplo anterior se mostró cómo mostrar una imagen dinámicamente, pero solo funcionaba con imágenes que ya estaban en el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="74a4b-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="74a4b-159">Este procedimiento muestra cómo permitir que los usuarios carguen una imagen, que se muestra en la página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="74a4b-160">En ASP.NET, puede manipular imágenes sobre la marcha con la aplicación auxiliar de `WebImage`, que tiene métodos que permiten crear, manipular y guardar imágenes.</span><span class="sxs-lookup"><span data-stu-id="74a4b-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="74a4b-161">La aplicación auxiliar de `WebImage` admite todos los tipos de archivo de imagen web comunes, incluidos *. jpg*, *. png*y *. bmp*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="74a4b-162">En este artículo, usará imágenes *. jpg* , pero puede usar cualquiera de los tipos de imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="74a4b-163">![impresión](9-working-with-images/_static/image2.jpg "ch9images-2. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="74a4b-164">Agregue una nueva página y asígnele el nombre *UploadImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="74a4b-165">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="74a4b-166">El cuerpo del texto tiene un elemento `<input type="file">`, que permite a los usuarios seleccionar un archivo para cargarlo.</span><span class="sxs-lookup"><span data-stu-id="74a4b-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="74a4b-167">Cuando hacen clic en **Enviar**, el archivo que ha seleccionado se envía junto con el formulario.</span><span class="sxs-lookup"><span data-stu-id="74a4b-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="74a4b-168">Para obtener la imagen cargada, use la aplicación auxiliar `WebImage`, que tiene todo tipo de métodos útiles para trabajar con imágenes.</span><span class="sxs-lookup"><span data-stu-id="74a4b-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="74a4b-169">En concreto, se usa `WebImage.GetImageFromRequest` para obtener la imagen cargada (si existe) y almacenarla en una variable denominada `photo`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="74a4b-170">Una gran parte del trabajo en este ejemplo implica obtener y establecer nombres de archivo y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="74a4b-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="74a4b-171">El problema es que desea obtener el nombre (y solo el nombre) de la imagen que ha cargado el usuario y, a continuación, crear una nueva ruta de acceso para la ubicación en la que va a almacenar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="74a4b-172">Dado que es posible que los usuarios carguen varias imágenes que tengan el mismo nombre, utilice un poco de código adicional para crear nombres únicos y asegurarse de que los usuarios no sobrescribirán las imágenes existentes.</span><span class="sxs-lookup"><span data-stu-id="74a4b-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="74a4b-173">Si una imagen se ha cargado realmente (la prueba `if (photo != null)`), obtendrá el nombre de la imagen de la propiedad `FileName` de la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="74a4b-174">Cuando el usuario carga la imagen, `FileName` contiene el nombre original del usuario, que incluye la ruta de acceso del equipo del usuario.</span><span class="sxs-lookup"><span data-stu-id="74a4b-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="74a4b-175">Podría tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="74a4b-175">It might look like this:</span></span>

    <span data-ttu-id="74a4b-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span><span class="sxs-lookup"><span data-stu-id="74a4b-176">*C:\Users\Joe\Pictures\SamplePhoto1.jpg*</span></span>

    <span data-ttu-id="74a4b-177">No desea toda la información de la ruta de &#8212; acceso, aunque solo desea el nombre de archivo real (*SamplePhoto1. jpg*).</span><span class="sxs-lookup"><span data-stu-id="74a4b-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="74a4b-178">Puede quitar solo el archivo de una ruta de acceso mediante el método `Path.GetFileName`, de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="74a4b-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="74a4b-179">Después, puede crear un nuevo nombre de archivo único agregando un GUID al nombre original.</span><span class="sxs-lookup"><span data-stu-id="74a4b-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="74a4b-180">(Para obtener más información acerca de los GUID, consulte Acerca de los [GUID](#SB_AboutGUIDs) más adelante en este artículo). A continuación, se crea una ruta de acceso completa que se puede usar para guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="74a4b-181">La ruta de acceso de guardado se compone del nuevo nombre de archivo, la carpeta (imágenes) y la ubicación del sitio web actual.</span><span class="sxs-lookup"><span data-stu-id="74a4b-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="74a4b-182">Para que el código guarde los archivos en la carpeta *images* , la aplicación necesita permisos de lectura y escritura para esa carpeta.</span><span class="sxs-lookup"><span data-stu-id="74a4b-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="74a4b-183">En el equipo de desarrollo, esto no suele ser un problema.</span><span class="sxs-lookup"><span data-stu-id="74a4b-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="74a4b-184">Sin embargo, al publicar el sitio en el servidor Web de un proveedor de hospedaje, puede que tenga que establecer esos permisos explícitamente.</span><span class="sxs-lookup"><span data-stu-id="74a4b-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="74a4b-185">Si ejecuta este código en el servidor de un proveedor de hospedaje y obtiene errores, consulte con el proveedor de hospedaje para averiguar cómo establecer esos permisos.</span><span class="sxs-lookup"><span data-stu-id="74a4b-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="74a4b-186">Por último, se pasa la ruta de acceso de guardado al método `Save` de la aplicación auxiliar de `WebImage`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="74a4b-187">Esto almacena la imagen cargada con el nuevo nombre.</span><span class="sxs-lookup"><span data-stu-id="74a4b-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="74a4b-188">El método Save tiene el siguiente aspecto: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="74a4b-189">La ruta de acceso completa se anexa a `@"~\"`, que es la ubicación del sitio web actual.</span><span class="sxs-lookup"><span data-stu-id="74a4b-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="74a4b-190">(Para obtener información sobre el operador `~`, consulte [Introduction to ASP.net web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths)).</span><span class="sxs-lookup"><span data-stu-id="74a4b-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="74a4b-191">Como en el ejemplo anterior, el cuerpo de la página contiene un elemento `<img>` para mostrar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="74a4b-192">Si se ha establecido `imagePath`, se representará el elemento `<img>` y su atributo `src` se establecerá en el valor `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="74a4b-193">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="74a4b-194">Cargue una imagen y asegúrese de que se muestra en la página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="74a4b-195">En el sitio, abra la carpeta *images* .</span><span class="sxs-lookup"><span data-stu-id="74a4b-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="74a4b-196">Verá que se ha agregado un nuevo archivo cuyo nombre de archivo tiene un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    <span data-ttu-id="74a4b-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_fotophoto. png*</span><span class="sxs-lookup"><span data-stu-id="74a4b-197">*45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png*</span></span>

    <span data-ttu-id="74a4b-198">Esta es la imagen que ha cargado con un GUID con el prefijo del nombre.</span><span class="sxs-lookup"><span data-stu-id="74a4b-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="74a4b-199">(Su propio archivo tendrá un GUID diferente y, probablemente, se asignará un nombre distinto al de *foto. png*).</span><span class="sxs-lookup"><span data-stu-id="74a4b-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="74a4b-200">Acerca de los GUID</span><span class="sxs-lookup"><span data-stu-id="74a4b-200">About GUIDs</span></span>
> 
> <span data-ttu-id="74a4b-201">Un GUID (identificador único global) es un identificador que normalmente se representa en un formato similar al siguiente: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="74a4b-202">Los números y letras (de A-F) se diferencian en cada GUID, pero siguen el patrón de uso de grupos de 8-4-4-4-12 caracteres.</span><span class="sxs-lookup"><span data-stu-id="74a4b-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="74a4b-203">(Técnicamente, un GUID es un número de 16 bytes/128 bits). Cuando necesite un GUID, puede llamar a código especializado que genere un GUID automáticamente.</span><span class="sxs-lookup"><span data-stu-id="74a4b-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="74a4b-204">La idea subyacente a los GUID es que entre el tamaño enorme del número (3,4 x 10<sup>38</sup>) y el algoritmo para generarlo, se garantiza prácticamente que el número resultante es uno de un tipo.</span><span class="sxs-lookup"><span data-stu-id="74a4b-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="74a4b-205">Por lo tanto, los GUID son una buena manera de generar nombres para las cosas cuando se debe garantizar que no se utilizará el mismo nombre dos veces.</span><span class="sxs-lookup"><span data-stu-id="74a4b-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="74a4b-206">Por supuesto, el inconveniente es que los GUID no son especialmente descriptivos, por lo que se suelen usar cuando el nombre se usa solo en el código.</span><span class="sxs-lookup"><span data-stu-id="74a4b-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>

<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="74a4b-207">Cambiar el tamaño de una imagen</span><span class="sxs-lookup"><span data-stu-id="74a4b-207">Resizing an Image</span></span>

<span data-ttu-id="74a4b-208">Si el sitio web acepta imágenes de un usuario, es posible que desee cambiar el tamaño de las imágenes antes de mostrarlas o guardarlas.</span><span class="sxs-lookup"><span data-stu-id="74a4b-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="74a4b-209">Puede usar de nuevo la aplicación auxiliar `WebImage` para ello.</span><span class="sxs-lookup"><span data-stu-id="74a4b-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="74a4b-210">En este procedimiento se muestra cómo cambiar el tamaño de una imagen cargada para crear una miniatura y, a continuación, guardar la imagen en miniatura y la imagen original en el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="74a4b-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="74a4b-211">La miniatura de la página se muestra y se usa un hipervínculo para redirigir a los usuarios a la imagen de tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="74a4b-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="74a4b-212">![impresión](9-working-with-images/_static/image3.jpg "ch9images-3. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="74a4b-213">Agregue una nueva página denominada *thumbnail. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="74a4b-214">En la carpeta *images* , cree una subcarpeta denominada *Thumbs*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="74a4b-215">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="74a4b-216">Este código es similar al código del ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="74a4b-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="74a4b-217">La diferencia es que este código guarda la imagen dos veces, una vez por lo general y una vez después de crear una copia en miniatura de la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="74a4b-218">En primer lugar, se obtiene la imagen cargada y se guarda en la carpeta *images* .</span><span class="sxs-lookup"><span data-stu-id="74a4b-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="74a4b-219">A continuación, cree una nueva ruta de acceso para la imagen en miniatura.</span><span class="sxs-lookup"><span data-stu-id="74a4b-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="74a4b-220">Para crear realmente la miniatura, llame al método `Resize` del ayudante `WebImage` para crear una imagen de 60 píxeles por 60 píxeles.</span><span class="sxs-lookup"><span data-stu-id="74a4b-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="74a4b-221">En el ejemplo se muestra cómo se conserva la relación de aspecto y cómo se puede evitar que la imagen se amplíe (en caso de que el nuevo tamaño haga que la imagen sea más grande).</span><span class="sxs-lookup"><span data-stu-id="74a4b-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="74a4b-222">La imagen cuyo tamaño se ha cambiado se guarda en la subcarpeta *Thumbs* .</span><span class="sxs-lookup"><span data-stu-id="74a4b-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="74a4b-223">Al final del marcado, se usa el mismo elemento `<img>` con el atributo de `src` dinámico que se ha visto en los ejemplos anteriores para mostrar condicionalmente la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="74a4b-224">En este caso, se muestra la miniatura.</span><span class="sxs-lookup"><span data-stu-id="74a4b-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="74a4b-225">También se usa un elemento `<a>` para crear un hipervínculo a la versión grande de la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="74a4b-226">Al igual que con el atributo `src` del elemento `<img>`, se establece dinámicamente el atributo `href` del elemento `<a>` en el `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="74a4b-227">Para asegurarse de que la ruta de acceso puede funcionar como dirección URL, pase `imagePath` al método `Html.AttributeEncode`, que convierte los caracteres reservados en la ruta de acceso en caracteres que son correctos en una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="74a4b-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="74a4b-228">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="74a4b-229">Cargue una foto y compruebe que se muestra la miniatura.</span><span class="sxs-lookup"><span data-stu-id="74a4b-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="74a4b-230">Haga clic en la miniatura para ver la imagen a tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="74a4b-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="74a4b-231">En *imágenes* e *imágenes/miniaturas*, tenga en cuenta que se han agregado nuevos archivos.</span><span class="sxs-lookup"><span data-stu-id="74a4b-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="74a4b-232">Rotación y volteo de una imagen</span><span class="sxs-lookup"><span data-stu-id="74a4b-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="74a4b-233">La aplicación auxiliar de `WebImage` también le permite voltear y girar imágenes.</span><span class="sxs-lookup"><span data-stu-id="74a4b-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="74a4b-234">Este procedimiento muestra cómo obtener una imagen del servidor, voltear la imagen hacia abajo (verticalmente), guardarla y, a continuación, Mostrar la imagen volteada en la página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="74a4b-235">En este ejemplo, está usando simplemente un archivo que ya existe en el servidor (*Photo2. jpg*).</span><span class="sxs-lookup"><span data-stu-id="74a4b-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="74a4b-236">En una aplicación real, probablemente podría voltear una imagen cuyo nombre obtiene dinámicamente, como hizo en ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="74a4b-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="74a4b-237">![impresión](9-working-with-images/_static/image4.jpg "ch9images-4. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="74a4b-238">Agregue una nueva página denominada *FlipImage. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="74a4b-239">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="74a4b-240">El código usa la aplicación auxiliar de `WebImage` para obtener una imagen del servidor.</span><span class="sxs-lookup"><span data-stu-id="74a4b-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="74a4b-241">Puede crear la ruta de acceso a la imagen con la misma técnica que usó en ejemplos anteriores para guardar imágenes y pasar esa ruta de acceso al crear una imagen mediante `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="74a4b-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="74a4b-242">Si se encuentra una imagen, cree una nueva ruta de acceso y nombre de archivo, como hizo en ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="74a4b-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="74a4b-243">Para voltear la imagen, llame al método `FlipVertical` y, a continuación, vuelva a guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="74a4b-244">La imagen se muestra de nuevo en la página mediante el elemento `<img>` con el atributo `src` establecido en `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="74a4b-245">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-245">Run the page in a browser.</span></span> <span data-ttu-id="74a4b-246">La imagen de *Photo2. jpg* se muestra al revés.</span><span class="sxs-lookup"><span data-stu-id="74a4b-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="74a4b-247">Actualice la página o vuelva a solicitar la página para ver que la imagen se voltea hacia la derecha hacia arriba.</span><span class="sxs-lookup"><span data-stu-id="74a4b-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="74a4b-248">Para girar una imagen, se usa el mismo código, salvo que, en lugar de llamar al `FlipVertical` o `FlipHorizontal`, se llama a `RotateLeft` o `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="74a4b-249">Agregar una marca de agua a una imagen</span><span class="sxs-lookup"><span data-stu-id="74a4b-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="74a4b-250">Al agregar imágenes al sitio web, puede que desee agregar una marca de agua a la imagen antes de guardarla o mostrarla en una página.</span><span class="sxs-lookup"><span data-stu-id="74a4b-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="74a4b-251">Las personas suelen usar marcas de agua para agregar información de copyright a una imagen o para anunciar el nombre de su empresa.</span><span class="sxs-lookup"><span data-stu-id="74a4b-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="74a4b-252">![impresión](9-working-with-images/_static/image5.jpg "ch9images-5. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="74a4b-253">Agregue una nueva página denominada *marca de agua. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="74a4b-254">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="74a4b-255">Este código es como el código de la página *FlipImage. cshtml* anterior (aunque esta vez usa el archivo *Photo3. jpg* ).</span><span class="sxs-lookup"><span data-stu-id="74a4b-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="74a4b-256">Para agregar la marca de agua, llame al método `AddTextWatermark` del ayudante `WebImage` antes de guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="74a4b-257">En la llamada a `AddTextWatermark`, pase el texto &quot;la marca de agua&quot;, establezca el color de la fuente en amarillo y establezca la familia de fuentes en Arial.</span><span class="sxs-lookup"><span data-stu-id="74a4b-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="74a4b-258">(Aunque no se muestra aquí, la aplicación auxiliar de `WebImage` también le permite especificar la opacidad, la familia de fuentes y el tamaño de fuente, y la posición del texto de marca de agua). Al guardar la imagen, no debe ser de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="74a4b-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="74a4b-259">Como ha visto antes, la imagen se muestra en la página mediante el elemento `<img>` con el atributo src establecido en `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="74a4b-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="74a4b-260">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-260">Run the page in a browser.</span></span> <span data-ttu-id="74a4b-261">Observe el texto "mi marca de agua" en la esquina inferior derecha de la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="74a4b-262">Usar una imagen como una marca de agua</span><span class="sxs-lookup"><span data-stu-id="74a4b-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="74a4b-263">En lugar de utilizar texto para una marca de agua, puede usar otra imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="74a4b-264">A veces, las personas usan imágenes como el logotipo de la empresa como una marca de agua, o bien usan una imagen de marca de agua en lugar de texto para la información de copyright.</span><span class="sxs-lookup"><span data-stu-id="74a4b-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="74a4b-265">![impresión](9-working-with-images/_static/image6.jpg "ch9images-6. jpg")</span><span class="sxs-lookup"><span data-stu-id="74a4b-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="74a4b-266">Agregue una nueva página denominada *ImageWatermark. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="74a4b-267">Agregue una imagen a la carpeta *images* que puede usar como logotipo y cambie el nombre de la imagen *MyCompanyLogo. jpg*.</span><span class="sxs-lookup"><span data-stu-id="74a4b-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="74a4b-268">Esta imagen debe ser una imagen que puede ver claramente cuando se establece en 80 píxeles de ancho y 20 píxeles de alto.</span><span class="sxs-lookup"><span data-stu-id="74a4b-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="74a4b-269">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="74a4b-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="74a4b-270">Esta es otra variación del código de los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="74a4b-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="74a4b-271">En este caso, se llama a `AddImageWatermark` para agregar la imagen de marca de agua a la imagen de destino (*Photo3. jpg*) antes de guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="74a4b-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="74a4b-272">Cuando se llama a `AddImageWatermark`, se establece su ancho en 80 píxeles y el alto en 20 píxeles.</span><span class="sxs-lookup"><span data-stu-id="74a4b-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="74a4b-273">La imagen *MyCompanyLogo. jpg* se alinea horizontalmente en el centro y verticalmente en la parte inferior de la imagen de destino.</span><span class="sxs-lookup"><span data-stu-id="74a4b-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="74a4b-274">La opacidad se establece en 100% y el relleno se establece en 10 píxeles.</span><span class="sxs-lookup"><span data-stu-id="74a4b-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="74a4b-275">Si la imagen de marca de agua es mayor que la imagen de destino, no ocurrirá nada.</span><span class="sxs-lookup"><span data-stu-id="74a4b-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="74a4b-276">Si la imagen de marca de agua es mayor que la imagen de destino y establece el relleno de la marca de agua de la imagen en cero, se omite la marca de agua.</span><span class="sxs-lookup"><span data-stu-id="74a4b-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="74a4b-277">Como antes, se muestra la imagen mediante el elemento `<img>` y un atributo de `src` dinámico.</span><span class="sxs-lookup"><span data-stu-id="74a4b-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="74a4b-278">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="74a4b-278">Run the page in a browser.</span></span> <span data-ttu-id="74a4b-279">Observe que la imagen de marca de agua aparece en la parte inferior de la imagen principal.</span><span class="sxs-lookup"><span data-stu-id="74a4b-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="74a4b-280">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="74a4b-280">Additional Resources</span></span>

[<span data-ttu-id="74a4b-281">Trabajar con archivos en un sitio de ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="74a4b-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="74a4b-282">Introducción a la programación de ASP.NET Web Pages mediante la sintaxis Razor</span><span class="sxs-lookup"><span data-stu-id="74a4b-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)

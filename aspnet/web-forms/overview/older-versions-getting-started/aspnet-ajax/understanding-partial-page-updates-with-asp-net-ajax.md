---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: Descripción de las actualizaciones parciales de página con ASP.NET AJAX | Microsoft Docs
author: scottcate
description: Quizás la característica más visible de ASP.NET AJAX Extensions es la capacidad para realizar las actualizaciones de una página parcial o incremental sin tener que realizar una devolución completa a t...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: d2d7982a4e0175824ffede965dc8206219485df2
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2019
ms.locfileid: "59396478"
---
# <a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="06353-103">Descripción de las actualizaciones de página parcial con ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="06353-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>

<span data-ttu-id="06353-104">por [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="06353-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="06353-105">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="06353-105">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="06353-106">Quizás la característica más visible de ASP.NET AJAX Extensions es la capacidad para realizar las actualizaciones de una página parcial o incremental sin tener que realizar una devolución completa al servidor, sin cambios en el código y los cambios de marcado mínimo.</span><span class="sxs-lookup"><span data-stu-id="06353-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="06353-107">Las ventajas son inmensas: no se ha modificado el estado de los archivos multimedia (por ejemplo, Adobe Flash o de Windows Media), se reducen los costos de ancho de banda y el cliente no experimenta el parpadeo normalmente asociado a un postback.</span><span class="sxs-lookup"><span data-stu-id="06353-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>


## <a name="introduction"></a><span data-ttu-id="06353-108">Introducción</span><span class="sxs-lookup"><span data-stu-id="06353-108">Introduction</span></span>

<span data-ttu-id="06353-109">La tecnología de Microsoft ASP.NET ofrece un modelo de programación orientada a objetos y controlado por eventos y une con las ventajas del código compilado.</span><span class="sxs-lookup"><span data-stu-id="06353-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="06353-110">Sin embargo, su modelo de procesamiento en el servidor tiene varias desventajas inherentes a la tecnología:</span><span class="sxs-lookup"><span data-stu-id="06353-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="06353-111">Las actualizaciones de página requieren una vuelta al servidor, lo que requiere una actualización de la página.</span><span class="sxs-lookup"><span data-stu-id="06353-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="06353-112">Ida y vuelta no conserva los efectos generados por Javascript u otra tecnología de cliente (por ejemplo, Adobe Flash)</span><span class="sxs-lookup"><span data-stu-id="06353-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="06353-113">Durante la devolución de datos, los exploradores que no sean de Microsoft Internet Explorer no admiten restaurar automáticamente la posición de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="06353-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="06353-114">Y, incluso en Internet Explorer, todavía hay un parpadeo mientras se actualiza la página.</span><span class="sxs-lookup"><span data-stu-id="06353-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="06353-115">Las devoluciones de datos pueden implicar una gran cantidad de ancho de banda como la \_ \_puede alcanzar el campo de formulario VIEWSTATE, especialmente cuando se trabaja con controles, como el control GridView o Repeater.</span><span class="sxs-lookup"><span data-stu-id="06353-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="06353-116">No hay ningún modelo unificado para tener acceso a servicios Web a través de JavaScript o de otra tecnología del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="06353-117">Escriba las extensiones de AJAX de ASP.NET de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="06353-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="06353-118">AJAX, que es el acrónimo **A** sincrónica **J** avaScript **A** nd **X** ML, es un marco integrado para proporcionar una página incremental las actualizaciones a través de JavaScript de multiplataforma, formado por código de servidor que incluye el marco de AJAX de Microsoft y un componente de script denominado la secuencia de comandos de Microsoft AJAX Library.</span><span class="sxs-lookup"><span data-stu-id="06353-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="06353-119">Las extensiones de ASP.NET AJAX también proporcionan compatibilidad multiplataforma para tener acceso a servicios Web de ASP.NET a través de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="06353-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="06353-120">Este artículo examina la funcionalidad de las actualizaciones parciales de página de ASP.NET AJAX Extensions, que incluye el componente de ScriptManager, el control UpdatePanel y el control UpdateProgress y tiene en cuenta los escenarios en que se debe o no debe ser la designación.</span><span class="sxs-lookup"><span data-stu-id="06353-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="06353-121">Estas notas del producto se basan en la versión Beta 2 de Visual Studio 2008 y .NET Framework 3.5, que integra las extensiones de AJAX de ASP.NET en la biblioteca de clases Base (que era anteriormente un componente complementario disponible para ASP.NET 2.0).</span><span class="sxs-lookup"><span data-stu-id="06353-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="06353-122">Estas notas del producto también se da por supuesto que usa Visual Studio 2008 y no Visual Web Developer Express Edition; Algunas plantillas de proyecto que se hace referencia no pueden estar disponibles para los usuarios de Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="06353-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="06353-123">Actualizaciones parciales de página</span><span class="sxs-lookup"><span data-stu-id="06353-123">Partial Page Updates</span></span>

<span data-ttu-id="06353-124">Quizás la característica más visible de ASP.NET AJAX Extensions es la capacidad para realizar las actualizaciones de una página parcial o incremental sin tener que realizar una devolución completa al servidor, sin cambios en el código y los cambios de marcado mínimo.</span><span class="sxs-lookup"><span data-stu-id="06353-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="06353-125">Las ventajas son inmensas: no se ha modificado el estado de los archivos multimedia (por ejemplo, Adobe Flash o de Windows Media), se reducen los costos de ancho de banda y el cliente no experimenta el parpadeo normalmente asociado a un postback.</span><span class="sxs-lookup"><span data-stu-id="06353-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="06353-126">La capacidad de integrar la representación de página parcial está integrada en ASP.NET con cambios mínimos en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="06353-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="06353-127">Tutorial: Integración de la representación parcial en un proyecto existente</span><span class="sxs-lookup"><span data-stu-id="06353-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>


1. <span data-ttu-id="06353-128">En Microsoft Visual Studio 2008, cree un nuevo proyecto de sitio Web de ASP.NET, vaya a <em>archivo</em>  <em>- &gt; New</em>  <em>- &gt; el sitio Web</em> y seleccione el sitio Web de ASP.NET en el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="06353-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="06353-129">Puede asignarle el nombre que prefiera y puede instalar en el sistema de archivos o en Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="06353-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="06353-130">Aparecerá la página en blanco de forma predeterminada con marcado básicos de ASP.NET (un formulario de servidor y un `@Page` directiva).</span><span class="sxs-lookup"><span data-stu-id="06353-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="06353-131">Quitar una etiqueta denominada `Label1` y un botón denominado `Button1` hasta la página dentro del elemento de formulario.</span><span class="sxs-lookup"><span data-stu-id="06353-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="06353-132">Puede establecer sus propiedades de texto que prefiera.</span><span class="sxs-lookup"><span data-stu-id="06353-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="06353-133">En la vista Diseño, haga doble clic en `Button1` para generar un controlador de eventos de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="06353-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="06353-134">Dentro de este controlador de eventos, establecer `Label1.Text` al hacer clic en el botón!</span><span class="sxs-lookup"><span data-stu-id="06353-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="06353-135">.</span><span class="sxs-lookup"><span data-stu-id="06353-135">.</span></span>

<span data-ttu-id="06353-136">**Listado 1: Marcado de default.aspx antes de habilita la representación parcial**</span><span class="sxs-lookup"><span data-stu-id="06353-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="06353-137">**Listado 2: Código subyacente (recortada) en default.aspx.cs**</span><span class="sxs-lookup"><span data-stu-id="06353-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="06353-138">Presione F5 para iniciar el sitio web.</span><span class="sxs-lookup"><span data-stu-id="06353-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="06353-139">Visual Studio le solicitará que agregue un archivo web.config para habilitar la depuración; hacerlo.</span><span class="sxs-lookup"><span data-stu-id="06353-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="06353-140">Al hacer clic en el botón, tenga en cuenta que actualice la página para cambiar el texto en la etiqueta, y hay un breve parpadeo como la página se vuelve a dibujar.</span><span class="sxs-lookup"><span data-stu-id="06353-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="06353-141">Después de cerrar la ventana del explorador, vuelva a Visual Studio y, a la página de marcado.</span><span class="sxs-lookup"><span data-stu-id="06353-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="06353-142">Desplácese hacia abajo en el cuadro de herramientas de Visual Studio y busque la pestaña Extensiones de AJAX.</span><span class="sxs-lookup"><span data-stu-id="06353-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="06353-143">(Si no tiene esta pestaña porque está usando una versión anterior de las extensiones AJAX o Atlas, consulte el tutorial para registrar los elementos de cuadro de herramientas de extensiones de AJAX más adelante en estas notas del producto o instale la versión actual con el instalador de Windows que se puede descargar desde el sitio de Web).</span><span class="sxs-lookup"><span data-stu-id="06353-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="06353-144">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="06353-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>


1. <span data-ttu-id="06353-145"><em>Problema conocido:</em>si instala Visual Studio 2008 en un equipo que ya tiene Visual Studio 2005 instalado con ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 se importarán los elementos de cuadro de herramientas de AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="06353-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="06353-146">Puede determinar si este es el caso examinando la información sobre herramientas de los componentes; dicen versión 3.5.0.0.</span><span class="sxs-lookup"><span data-stu-id="06353-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="06353-147">Si dicen que la versión 2.0.0.0, a continuación, ha importado los elementos del cuadro de herramientas anterior y deberá importarlos manualmente mediante el cuadro de diálogo Elegir elementos del cuadro de herramientas en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="06353-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="06353-148">Podrá agregar controles de la versión 2 a través del diseñador.</span><span class="sxs-lookup"><span data-stu-id="06353-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="06353-149">Antes de la `<asp:Label>` etiqueta comienza, crear una línea de espacio en blanco y haga doble clic en el control UpdatePanel en el cuadro de herramientas.</span><span class="sxs-lookup"><span data-stu-id="06353-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="06353-150">Tenga en cuenta que un nuevo `@Register` directiva se incluye en la parte superior de la página, que indica que los controles dentro del espacio de nombres System.Web.UI deben importarse con el `asp:` prefijo.</span><span class="sxs-lookup"><span data-stu-id="06353-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="06353-151">Arrastre el cierre `</asp:UpdatePanel>` etiqueta más allá del final del elemento Button, por lo que el elemento está bien formado con los controles de etiqueta y botón ajustados.</span><span class="sxs-lookup"><span data-stu-id="06353-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="06353-152">Después de la apertura `<asp:UpdatePanel>` de etiquetas, comience a una nueva etiqueta de apertura.</span><span class="sxs-lookup"><span data-stu-id="06353-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="06353-153">Tenga en cuenta que IntelliSense le indicará con dos opciones.</span><span class="sxs-lookup"><span data-stu-id="06353-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="06353-154">En este caso, cree un `<ContentTemplate>` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="06353-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="06353-155">Asegúrese de ajustar esta etiqueta en torno a la etiqueta y un botón para que el marcado es correcto.</span><span class="sxs-lookup"><span data-stu-id="06353-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="06353-156">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="06353-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>


1. <span data-ttu-id="06353-157">En cualquier lugar dentro de la `<form>` elemento, incluir un control ScriptManager haciendo doble clic en el `ScriptManager` elemento en el cuadro de herramientas.</span><span class="sxs-lookup"><span data-stu-id="06353-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="06353-158">Editar el `<asp:ScriptManager>` etiquetar para que incluya el atributo `EnablePartialRendering= true`.</span><span class="sxs-lookup"><span data-stu-id="06353-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="06353-159">**Listado 3: Marcado de default.aspx con la representación parcial habilitada**</span><span class="sxs-lookup"><span data-stu-id="06353-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="06353-160">Abra el archivo web.config.</span><span class="sxs-lookup"><span data-stu-id="06353-160">Open your web.config file.</span></span> <span data-ttu-id="06353-161">Tenga en cuenta que Visual Studio ha agregado automáticamente una referencia de compilación a System.Web.Extensions.dll.</span><span class="sxs-lookup"><span data-stu-id="06353-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="06353-162">Novedades en Visual Studio 2008: El archivo web.config que se incluye con el sitio Web ASP.NET las plantillas de proyecto automáticamente incluye todas las referencias necesarias a las extensiones de AJAX de ASP.NET e incluye comentarios las secciones de información de configuración que puede ser sin comentada para habilitar adicionales funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="06353-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="06353-163">Visual Studio 2005 tenía plantillas similares al instalar ASP.NET 2.0 AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="06353-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="06353-164">Sin embargo, en Visual Studio 2008, las extensiones de AJAX son participar de forma predeterminada (es decir, se hace referencia de forma predeterminada, pero se pueden quitar como referencias).</span><span class="sxs-lookup"><span data-stu-id="06353-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="06353-165">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="06353-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>


1. <span data-ttu-id="06353-166">Presione F5 para iniciar el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="06353-166">Press F5 to launch your website.</span></span> <span data-ttu-id="06353-167">Tenga en cuenta cómo eran necesarios para admitir la representación parcial no hay cambios de código fuente - solo de marcado se ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="06353-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="06353-168">Al iniciar el sitio Web, debería ver que la representación parcial está ahora habilitada, porque al hacer clic en el botón existe no estará parpadeo ni se producirá ningún cambio en la posición de desplazamiento de página (en este ejemplo no muestra que).</span><span class="sxs-lookup"><span data-stu-id="06353-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="06353-169">Si tuviera que ver en el origen de la página representado tras hacer clic en el botón, se confirmará que en realidad no se ha producido una devolución de datos: el texto de la etiqueta original sigue siendo parte del marcado de origen y la etiqueta ha cambiado a través de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="06353-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="06353-170">Visual Studio 2008 no parecen venir con una plantilla predefinida para un sitio web de ASP.NET con AJAX habilitado.</span><span class="sxs-lookup"><span data-stu-id="06353-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="06353-171">Sin embargo, dicha plantilla no estaba disponible en Visual Studio 2005 si se instalaron los Visual Studio 2005 y ASP.NET 2.0 AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="06353-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="06353-172">Por lo tanto, configurar un sitio web y a partir de la plantilla sitio de Web habilitado para AJAX probablemente será aún más fáciles, como la plantilla debe incluir un archivo web.config configura totalmente (compatibles con todas las extensiones de AJAX de ASP.NET, incluido el acceso de los servicios Web y la serialización de JSON - JavaScript Object Notation) e incluye un UpdatePanel y ContentTemplate dentro de la página principal de formularios Web Forms de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="06353-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="06353-173">Habilitación de la representación parcial con esta página predeterminada es tan sencillo como volver a visitar paso 10 de este tutorial y colocando controles en la página.</span><span class="sxs-lookup"><span data-stu-id="06353-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="06353-174">El Control ScriptManager</span><span class="sxs-lookup"><span data-stu-id="06353-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="06353-175">Referencia de Control de ScriptManager</span><span class="sxs-lookup"><span data-stu-id="06353-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="06353-176">Propiedades de marcado habilitados:</span><span class="sxs-lookup"><span data-stu-id="06353-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="06353-177">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="06353-177">**Property Name**</span></span> | <span data-ttu-id="06353-178">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-178">**Type**</span></span> | <span data-ttu-id="06353-179">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="06353-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="06353-181">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-181">Bool</span></span> | <span data-ttu-id="06353-182">Especifica si se debe usar la sección de errores personalizados del archivo web.config para controlar los errores.</span><span class="sxs-lookup"><span data-stu-id="06353-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="06353-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="06353-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="06353-184">String</span><span class="sxs-lookup"><span data-stu-id="06353-184">String</span></span> | <span data-ttu-id="06353-185">Obtiene o establece el mensaje de error enviado al cliente si se produce un error.</span><span class="sxs-lookup"><span data-stu-id="06353-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="06353-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="06353-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="06353-187">Int32</span><span class="sxs-lookup"><span data-stu-id="06353-187">Int32</span></span> | <span data-ttu-id="06353-188">Obtiene o establece la cantidad predeterminada de una hora en que un cliente debe esperar que finalice la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="06353-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="06353-189">EnableScript-Globalization</span></span> | <span data-ttu-id="06353-190">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-190">Bool</span></span> | <span data-ttu-id="06353-191">Obtiene o establece si se habilita la globalización de la secuencia de comandos.</span><span class="sxs-lookup"><span data-stu-id="06353-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="06353-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="06353-192">EnableScript-Localization</span></span> | <span data-ttu-id="06353-193">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-193">Bool</span></span> | <span data-ttu-id="06353-194">Obtiene o establece si se habilita la localización del script.</span><span class="sxs-lookup"><span data-stu-id="06353-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="06353-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="06353-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="06353-196">Int32</span><span class="sxs-lookup"><span data-stu-id="06353-196">Int32</span></span> | <span data-ttu-id="06353-197">Determina el número de segundos que se permiten para cargar los scripts en el cliente</span><span class="sxs-lookup"><span data-stu-id="06353-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="06353-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="06353-198">ScriptMode</span></span> | <span data-ttu-id="06353-199">Enum (Auto, Debug, Release, heredar)</span><span class="sxs-lookup"><span data-stu-id="06353-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="06353-200">Obtiene o establece si se debe representar las versiones de las secuencias de comandos</span><span class="sxs-lookup"><span data-stu-id="06353-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="06353-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="06353-201">ScriptPath</span></span> | <span data-ttu-id="06353-202">String</span><span class="sxs-lookup"><span data-stu-id="06353-202">String</span></span> | <span data-ttu-id="06353-203">Obtiene o establece la ruta de acceso a la ubicación de archivos de script que se envía al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="06353-204">Propiedades de sólo código:</span><span class="sxs-lookup"><span data-stu-id="06353-204">Code-Only Properties:</span></span>

| <span data-ttu-id="06353-205">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="06353-205">**Property Name**</span></span> | <span data-ttu-id="06353-206">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-206">**Type**</span></span> | <span data-ttu-id="06353-207">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="06353-208">AuthenticationService</span></span> | <span data-ttu-id="06353-209">AuthenticationService-Manager</span><span class="sxs-lookup"><span data-stu-id="06353-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="06353-210">Obtiene información detallada sobre el proxy de servicio de autenticación de ASP.NET que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="06353-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="06353-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="06353-212">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-212">Bool</span></span> | <span data-ttu-id="06353-213">Obtiene si scripts y está habilitada la depuración de código.</span><span class="sxs-lookup"><span data-stu-id="06353-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="06353-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="06353-214">IsInAsyncPostback</span></span> | <span data-ttu-id="06353-215">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-215">Bool</span></span> | <span data-ttu-id="06353-216">Obtiene si la página está actualmente en una solicitud de devolución asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="06353-217">ProfileService</span><span class="sxs-lookup"><span data-stu-id="06353-217">ProfileService</span></span> | <span data-ttu-id="06353-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="06353-218">ProfileService-Manager</span></span> | <span data-ttu-id="06353-219">Obtiene información detallada sobre el proxy de servicio de generación de perfiles de ASP.NET que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="06353-220">Scripts</span><span class="sxs-lookup"><span data-stu-id="06353-220">Scripts</span></span> | <span data-ttu-id="06353-221">Colección&lt;referencia de Script&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="06353-222">Obtiene una colección de referencias de script que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="06353-223">Servicios</span><span class="sxs-lookup"><span data-stu-id="06353-223">Services</span></span> | <span data-ttu-id="06353-224">Colección&lt;referencia de servicio&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="06353-225">Obtiene una colección de referencias de proxy de servicio Web que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="06353-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="06353-226">SupportsPartialRendering</span></span> | <span data-ttu-id="06353-227">Bool</span><span class="sxs-lookup"><span data-stu-id="06353-227">Bool</span></span> | <span data-ttu-id="06353-228">Obtiene si el cliente actual admite la representación parcial.</span><span class="sxs-lookup"><span data-stu-id="06353-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="06353-229">Si esta propiedad devuelve **false**, entonces todas las solicitudes de página, se producirá devoluciones de datos estándares.</span><span class="sxs-lookup"><span data-stu-id="06353-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="06353-230">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="06353-230">Public Code Methods:</span></span>

| <span data-ttu-id="06353-231">**Nombre del método**</span><span class="sxs-lookup"><span data-stu-id="06353-231">**Method Name**</span></span> | <span data-ttu-id="06353-232">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-232">**Type**</span></span> | <span data-ttu-id="06353-233">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="06353-234">SetFocus(string)</span></span> | <span data-ttu-id="06353-235">Void</span><span class="sxs-lookup"><span data-stu-id="06353-235">Void</span></span> | <span data-ttu-id="06353-236">Establece el foco del cliente a un control determinado cuando se haya completado la solicitud.</span><span class="sxs-lookup"><span data-stu-id="06353-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="06353-237">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="06353-237">Markup Descendants:</span></span>

| <span data-ttu-id="06353-238">**Tag**</span><span class="sxs-lookup"><span data-stu-id="06353-238">**Tag**</span></span> | <span data-ttu-id="06353-239">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="06353-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="06353-241">Proporciona detalles sobre el proxy al servicio de autenticación de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="06353-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="06353-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="06353-243">Proporciona detalles sobre el proxy para el servicio de generación de perfiles de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="06353-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="06353-244">&lt;Scripts&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="06353-245">Proporciona las referencias de script adicionales.</span><span class="sxs-lookup"><span data-stu-id="06353-245">Provides additional script references.</span></span> |
| <span data-ttu-id="06353-246">&lt;asp:ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="06353-247">Denota una referencia de script específicos.</span><span class="sxs-lookup"><span data-stu-id="06353-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="06353-248">&lt;Servicio&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-248">&lt;Service&gt;</span></span> | <span data-ttu-id="06353-249">Proporciona las referencias de servicio Web adicionales que tendrán las clases de proxy generadas.</span><span class="sxs-lookup"><span data-stu-id="06353-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="06353-250">&lt;asp:ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="06353-251">Denota una referencia de servicio Web específica.</span><span class="sxs-lookup"><span data-stu-id="06353-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="06353-252">El control ScriptManager es el núcleo esencial para las extensiones de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="06353-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="06353-253">Proporciona acceso a la biblioteca de scripts (incluido el sistema de tipos extenso del script de cliente), admite la representación parcial y proporciona una amplia compatibilidad para servicios adicionales de ASP.NET (por ejemplo, autenticación y generación de perfiles, sino también otros servicios Web).</span><span class="sxs-lookup"><span data-stu-id="06353-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="06353-254">El control ScriptManager también proporciona compatibilidad con la globalización y localización los scripts de cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alternative-and-supplemental-scripts"></a><span data-ttu-id="06353-255">Proporciona secuencias de comandos adicionales y alternativos</span><span class="sxs-lookup"><span data-stu-id="06353-255">Providing Alternative and Supplemental Scripts</span></span>

<span data-ttu-id="06353-256">Aunque Microsoft ASP.NET 2.0 AJAX Extensions incluyen el código de secuencia de comandos completa en ambas versiones de depuración y versión ediciones como recursos incrustados en los ensamblados de referencia, los desarrolladores son gratuitos redirigir el ScriptManager a archivos de script personalizado, así como para registrar scripts necesarios adicionales.</span><span class="sxs-lookup"><span data-stu-id="06353-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="06353-257">Para reemplazar el enlace predeterminado para las secuencias de comandos incluyen normalmente (por ejemplo, aquellos que son compatibles con el espacio de nombres Sys.WebForms y el sistema de escritura personalizado), puede registrarse para obtener el `ResolveScriptReference` eventos de la clase ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="06353-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="06353-258">Cuando se llama a este método, el controlador de eventos tiene la oportunidad de cambiar la ruta de acceso al archivo de script en cuestión. el director de scripts, a continuación, enviará una copia diferente o personalizada de las secuencias de comandos al cliente.</span><span class="sxs-lookup"><span data-stu-id="06353-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="06353-259">Además, las referencias de script (representado por la `ScriptReference` clase) se pueden incluir, mediante programación o a través de marcado.</span><span class="sxs-lookup"><span data-stu-id="06353-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="06353-260">Para ello, modifique mediante programación el `ScriptManager.Scripts` colección, o incluir `<asp:ScriptReference>` etiquetas en la `<Scripts>` etiqueta, que es un elemento secundario de primer nivel del control ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="06353-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="06353-261">Control UpdatePanel de errores personalizado</span><span class="sxs-lookup"><span data-stu-id="06353-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="06353-262">Aunque las actualizaciones se controlan mediante desencadenadores especificados por controles UpdatePanel, la compatibilidad con control de errores y mensajes de error personalizados se controla mediante la instancia del control de ScriptManager de la página.</span><span class="sxs-lookup"><span data-stu-id="06353-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="06353-263">Esto se hace mediante la exposición de un evento, `AsyncPostBackError`, la página que puede, a continuación, proporcionar lógica personalizada de control de excepciones.</span><span class="sxs-lookup"><span data-stu-id="06353-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="06353-264">Al consumir el evento AsyncPostBackError, puede especificar el `AsyncPostBackErrorMessage` propiedad, que, a continuación, hace que un cuadro de alerta que se genera tras la finalización de la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="06353-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="06353-265">Personalización del lado cliente también es posible en lugar de usar el cuadro de alerta de forma predeterminada; Por ejemplo, es posible que desea mostrar una personalizada `<div>` elemento en lugar de con el cuadro de diálogo modal del explorador predeterminado.</span><span class="sxs-lookup"><span data-stu-id="06353-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="06353-266">En este caso, puede controlar el error en el script de cliente:</span><span class="sxs-lookup"><span data-stu-id="06353-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="06353-267">**Listado 5: Script de cliente para mostrar los errores personalizados**</span><span class="sxs-lookup"><span data-stu-id="06353-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="06353-268">Es bastante simple, el script anterior registra una devolución de llamada con el tiempo de ejecución de AJAX del lado cliente para cuando se haya completado la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="06353-269">A continuación, se comprueba si se ha notificado un error y si es así, procesa los detalles del mismo, por último, que indica al tiempo de ejecución que se ha controlado el error en el script personalizado.</span><span class="sxs-lookup"><span data-stu-id="06353-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="06353-270">La globalización y la compatibilidad de localización</span><span class="sxs-lookup"><span data-stu-id="06353-270">Globalization and Localization Support</span></span>

<span data-ttu-id="06353-271">El control ScriptManager ofrece una amplia compatibilidad para la localización de cadenas de script y componentes de la interfaz de usuario; Sin embargo, ese tema está fuera del ámbito de este artículo.</span><span class="sxs-lookup"><span data-stu-id="06353-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="06353-272">Para obtener más información, consulte las notas del producto, la compatibilidad de globalización en ASP.NET AJAX Extensions.</span><span class="sxs-lookup"><span data-stu-id="06353-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="06353-273">El Control UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="06353-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="06353-274">Referencia de Control UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="06353-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="06353-275">Propiedades de marcado habilitados:</span><span class="sxs-lookup"><span data-stu-id="06353-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="06353-276">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="06353-276">**Property Name**</span></span> | <span data-ttu-id="06353-277">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-277">**Type**</span></span> | <span data-ttu-id="06353-278">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="06353-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="06353-280">bool</span><span class="sxs-lookup"><span data-stu-id="06353-280">bool</span></span> | <span data-ttu-id="06353-281">Especifica si los controles secundarios invocan automáticamente la actualización en el postback.</span><span class="sxs-lookup"><span data-stu-id="06353-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="06353-282">RenderMode</span><span class="sxs-lookup"><span data-stu-id="06353-282">RenderMode</span></span> | <span data-ttu-id="06353-283">enum (bloque, en línea)</span><span class="sxs-lookup"><span data-stu-id="06353-283">enum (Block, Inline)</span></span> | <span data-ttu-id="06353-284">Especifica que la forma en que el contenido se presentarán visualmente.</span><span class="sxs-lookup"><span data-stu-id="06353-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="06353-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="06353-285">UpdateMode</span></span> | <span data-ttu-id="06353-286">enum (siempre, condicional)</span><span class="sxs-lookup"><span data-stu-id="06353-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="06353-287">Especifica si el control UpdatePanel se actualiza siempre durante una presentación parcial o si sólo se actualiza cuando se alcanza un desencadenador.</span><span class="sxs-lookup"><span data-stu-id="06353-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="06353-288">Propiedades de sólo código:</span><span class="sxs-lookup"><span data-stu-id="06353-288">Code-Only Properties:</span></span>

| <span data-ttu-id="06353-289">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="06353-289">**Property Name**</span></span> | <span data-ttu-id="06353-290">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-290">**Type**</span></span> | <span data-ttu-id="06353-291">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="06353-292">IsInPartialRendering</span></span> | <span data-ttu-id="06353-293">bool</span><span class="sxs-lookup"><span data-stu-id="06353-293">bool</span></span> | <span data-ttu-id="06353-294">Obtiene si el control UpdatePanel es compatible con la representación parcial de la solicitud actual.</span><span class="sxs-lookup"><span data-stu-id="06353-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="06353-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="06353-295">ContentTemplate</span></span> | <span data-ttu-id="06353-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="06353-296">ITemplate</span></span> | <span data-ttu-id="06353-297">Obtiene la plantilla de marcado para la solicitud de actualización.</span><span class="sxs-lookup"><span data-stu-id="06353-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="06353-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="06353-298">ContentTemplateContainer</span></span> | <span data-ttu-id="06353-299">Control</span><span class="sxs-lookup"><span data-stu-id="06353-299">Control</span></span> | <span data-ttu-id="06353-300">Obtiene la plantilla de programación para la solicitud de actualización.</span><span class="sxs-lookup"><span data-stu-id="06353-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="06353-301">Desencadenadores</span><span class="sxs-lookup"><span data-stu-id="06353-301">Triggers</span></span> | <span data-ttu-id="06353-302">UpdatePanel - TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="06353-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="06353-303">Obtiene la lista de los desencadenadores asociados con el control UpdatePanel actual.</span><span class="sxs-lookup"><span data-stu-id="06353-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="06353-304">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="06353-304">Public Code Methods:</span></span>

| <span data-ttu-id="06353-305">**Nombre del método**</span><span class="sxs-lookup"><span data-stu-id="06353-305">**Method Name**</span></span> | <span data-ttu-id="06353-306">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-306">**Type**</span></span> | <span data-ttu-id="06353-307">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-308">Update()</span><span class="sxs-lookup"><span data-stu-id="06353-308">Update()</span></span> | <span data-ttu-id="06353-309">Void</span><span class="sxs-lookup"><span data-stu-id="06353-309">Void</span></span> | <span data-ttu-id="06353-310">Actualiza un UpdatePanel especificado mediante programación.</span><span class="sxs-lookup"><span data-stu-id="06353-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="06353-311">Permite que una solicitud de servidor desencadenar una representación parcial de un UpdatePanel en caso contrario,-no desencadenado.</span><span class="sxs-lookup"><span data-stu-id="06353-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="06353-312">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="06353-312">Markup Descendants:</span></span>

| <span data-ttu-id="06353-313">**Tag**</span><span class="sxs-lookup"><span data-stu-id="06353-313">**Tag**</span></span> | <span data-ttu-id="06353-314">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="06353-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="06353-316">Especifica el marcado que se usará para representar el resultado de la representación parcial.</span><span class="sxs-lookup"><span data-stu-id="06353-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="06353-317">Elemento secundario de &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="06353-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="06353-318">&lt;Desencadenadores&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="06353-319">Especifica una colección de *n* controles asociados con este UpdatePanel de la actualización.</span><span class="sxs-lookup"><span data-stu-id="06353-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="06353-320">Elemento secundario de &lt;asp: UpdatePanel&gt;.</span><span class="sxs-lookup"><span data-stu-id="06353-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="06353-321">&lt;asp:AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="06353-322">Especifica un desencadenador que invoca una representación de página parcial para el control UpdatePanel determinado.</span><span class="sxs-lookup"><span data-stu-id="06353-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="06353-323">Esto puede o no puede ser un control como un descendiente de UpdatePanel en cuestión.</span><span class="sxs-lookup"><span data-stu-id="06353-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="06353-324">Granulares para el nombre del evento. Elemento secundario de &lt;desencadenadores&gt;.</span><span class="sxs-lookup"><span data-stu-id="06353-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="06353-325">&lt;asp:PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="06353-326">Especifica un control que hace que toda la página Actualizar.</span><span class="sxs-lookup"><span data-stu-id="06353-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="06353-327">Esto puede o no puede ser un control como un descendiente de UpdatePanel en cuestión.</span><span class="sxs-lookup"><span data-stu-id="06353-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="06353-328">Granulares para el objeto.</span><span class="sxs-lookup"><span data-stu-id="06353-328">Granular to the object.</span></span> <span data-ttu-id="06353-329">Elemento secundario de &lt;desencadenadores&gt;.</span><span class="sxs-lookup"><span data-stu-id="06353-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="06353-330">El `UpdatePanel` es el control que delimita el contenido del servidor que se formen parte de la funcionalidad de representación parcial de las extensiones de AJAX.</span><span class="sxs-lookup"><span data-stu-id="06353-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="06353-331">No hay ningún límite al número de controles UpdatePanel que puede estar en una página y se pueden anidar.</span><span class="sxs-lookup"><span data-stu-id="06353-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="06353-332">Cada UpdatePanel está aislado, por lo que cada uno puede trabajar de forma independiente (puede tener dos UpdatePanels ejecutando al mismo tiempo, representar diferentes partes de la página, independientemente de la devolución de datos de la página).</span><span class="sxs-lookup"><span data-stu-id="06353-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="06353-333">UpdatePanel controlan principalmente ofertas con desencadenadores de control: de forma predeterminada, cualquier control dentro de un UpdatePanel `ContentTemplate` que crea una devolución de datos se registra como un desencadenador para el control UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="06353-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="06353-334">Esto significa que UpdatePanel puede trabajar con los controles enlazados a datos de forma predeterminada (como GridView), con controles de usuario, y se pueden programar en script.</span><span class="sxs-lookup"><span data-stu-id="06353-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="06353-335">De forma predeterminada, cuando se desencadena una representación de página parcial, se actualizarán todos los controles UpdatePanel en la página, si los controles UpdatePanel definen desencadenadores para dicha acción.</span><span class="sxs-lookup"><span data-stu-id="06353-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="06353-336">Por ejemplo, si un UpdatePanel define un control de botón y se hace clic en ese control de botón, se actualizarán todos los controles UpdatePanel en la página de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="06353-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="06353-337">Esto es porque, de forma predeterminada, el `UpdateMode` propiedad de UpdatePanel se establece en `Always`.</span><span class="sxs-lookup"><span data-stu-id="06353-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="06353-338">Como alternativa, puede establecer la propiedad UpdateMode en `Conditional`, lo que significa que el control UpdatePanel sólo se actualizará si se alcanza un desencadenador específico.</span><span class="sxs-lookup"><span data-stu-id="06353-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="06353-339">Notas de Control personalizado</span><span class="sxs-lookup"><span data-stu-id="06353-339">Custom Control Notes</span></span>

<span data-ttu-id="06353-340">Un UpdatePanel se puede agregar a cualquier control de usuario o un control personalizado; Sin embargo, la página en el que se incluyen estos controles también debe incluir un control ScriptManager con la propiedad EnablePartialRendering establecida en **true**.</span><span class="sxs-lookup"><span data-stu-id="06353-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="06353-341">Una manera en que podría tener esto en cuenta al usar controles Web personalizados consiste en invalidar protegido `CreateChildControls()` método de la `CompositeControl` clase.</span><span class="sxs-lookup"><span data-stu-id="06353-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="06353-342">Al hacerlo, puede insertar un UpdatePanel entre los elementos secundarios del control y el mundo exterior, si determina que la página admite la representación parcial; en caso contrario, simplemente puede agregar los controles secundarios en un contenedor `Control` instancia.</span><span class="sxs-lookup"><span data-stu-id="06353-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="06353-343">Consideraciones de UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="06353-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="06353-344">UpdatePanel funciona como un elemento de una caja negra, ajuste las devoluciones de ASP.NET dentro del contexto de un JavaScript XMLHttpRequest.</span><span class="sxs-lookup"><span data-stu-id="06353-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="06353-345">Sin embargo, existen consideraciones de rendimiento significativas a tener en cuenta, tanto en términos de comportamiento y la velocidad.</span><span class="sxs-lookup"><span data-stu-id="06353-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="06353-346">Para entender cómo funciona el control UpdatePanel, por lo que pueda decidir mejor cuando su uso es adecuado, debe examinar el intercambio de AJAX.</span><span class="sxs-lookup"><span data-stu-id="06353-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="06353-347">El ejemplo siguiente usa un sitio existente y, Mozilla Firefox con la extensión Firebug (Firebug captura datos XMLHttpRequest).</span><span class="sxs-lookup"><span data-stu-id="06353-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="06353-348">Considere la posibilidad de un formulario que, entre otras cosas, tiene un cuadro de texto del código postal que se supone que debe para rellenar un campo de ciudad y estado en un formulario o control.</span><span class="sxs-lookup"><span data-stu-id="06353-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="06353-349">Este formulario finalmente recopila información de suscripción, incluido el nombre, dirección e información de contacto de un usuario.</span><span class="sxs-lookup"><span data-stu-id="06353-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="06353-350">Hay muchas consideraciones de diseño para tener en cuenta, según los requisitos de un proyecto específico.</span><span class="sxs-lookup"><span data-stu-id="06353-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="06353-351">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="06353-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="06353-352">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="06353-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>


<span data-ttu-id="06353-353">En la iteración original de esta aplicación, se creó un control que incorpora la totalidad de los datos de registro de usuario, incluidos el código postal, ciudad y estado.</span><span class="sxs-lookup"><span data-stu-id="06353-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="06353-354">Todo el control se ajusta dentro de un UpdatePanel y coloca en un formulario Web.</span><span class="sxs-lookup"><span data-stu-id="06353-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="06353-355">Cuando se escribe el código postal del usuario, el control UpdatePanel detecta el evento (el evento TextChanged correspondiente en el back-end, mediante la especificación de los desencadenadores o mediante el uso de la propiedad ChildrenAsTriggers establecida en true).</span><span class="sxs-lookup"><span data-stu-id="06353-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="06353-356">AJAX registra todos los campos dentro del UpdatePanel, según lo capturado por FireBug (consulte el diagrama de la derecha).</span><span class="sxs-lookup"><span data-stu-id="06353-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="06353-357">Como indica la captura de pantalla, los valores de todos los controles UpdatePanel se entregan (en este caso, están vacías), así como el campo de ViewState.</span><span class="sxs-lookup"><span data-stu-id="06353-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="06353-358">Todo este trabajo en 9kb de datos se envía, cuando en realidad sólo cinco bytes de datos eran necesarios para realizar esta solicitud particular.</span><span class="sxs-lookup"><span data-stu-id="06353-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="06353-359">La respuesta es incluso más recargada: en total, 57kb se envía al cliente, simplemente para actualizar un campo de texto y un campo de lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="06353-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="06353-360">También puede ser de interés para ver cómo se actualiza la presentación AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="06353-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="06353-361">La parte de la respuesta de solicitud de actualización de UpdatePanel se muestra en la pantalla de la consola Firebug a la izquierda; es una formula especialmente delimitada por barras verticales cadena que está organizada por el script de cliente y, a continuación, vuelve a ensamblar en la página.</span><span class="sxs-lookup"><span data-stu-id="06353-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="06353-362">En concreto, ASP.NET AJAX establece el *innerHTML* propiedad del elemento HTML en el cliente que representa el UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="06353-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="06353-363">Como el explorador vuelve a genera el DOM, hay un ligero retraso, según la cantidad de información que debe procesarse.</span><span class="sxs-lookup"><span data-stu-id="06353-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="06353-364">La regeneración del DOM desencadena una serie de problemas adicionales:</span><span class="sxs-lookup"><span data-stu-id="06353-364">The regeneration of the DOM triggers a number of additional issues:</span></span>


[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="06353-365">([Haga clic aquí para ver imagen en tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="06353-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>


- <span data-ttu-id="06353-366">Si el elemento HTML con está dentro del UpdatePanel, perderá el foco.</span><span class="sxs-lookup"><span data-stu-id="06353-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="06353-367">Por lo tanto, para los usuarios que se presiona la tecla Tab para salir del cuadro de texto del código postal, su siguiente destino habría sido el cuadro de texto de la ciudad.</span><span class="sxs-lookup"><span data-stu-id="06353-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="06353-368">Sin embargo, una vez que UpdatePanel actualiza la presentación, el formulario ya no habría tenía el foco y presiona Tab habría iniciado resaltar los elementos del enfoque (por ejemplo, vínculos).</span><span class="sxs-lookup"><span data-stu-id="06353-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="06353-369">Si cualquier tipo de script de cliente personalizado está en uso que tiene acceso a elementos de DOM, las referencias se conservan por funciones puede quedar inactivo después de una devolución parcial.</span><span class="sxs-lookup"><span data-stu-id="06353-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="06353-370">UpdatePanel no pretenden ser soluciones catch-all.</span><span class="sxs-lookup"><span data-stu-id="06353-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="06353-371">En su lugar, proporcionan una solución rápida para determinadas situaciones, incluidas la creación de prototipos, pequeño controlar las actualizaciones y proporcionar una interfaz conocida a los desarrolladores de ASP.NET que podrían estar familiarizado con el modelo de objetos de .NET pero menos, de manera con DOM.</span><span class="sxs-lookup"><span data-stu-id="06353-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="06353-372">Hay una serie de alternativas que pueden provocar un rendimiento mejor, según el escenario de aplicación:</span><span class="sxs-lookup"><span data-stu-id="06353-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="06353-373">Considere la posibilidad de usar los PageMethods y JSON (JavaScript Object Notation) permite al desarrollador invocar métodos estáticos en una página como si se invocó una llamada de servicio web.</span><span class="sxs-lookup"><span data-stu-id="06353-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="06353-374">Dado que los métodos son estáticos, no es necesario; no hay ningún estado el llamador de la secuencia de comandos proporciona los parámetros y el resultado se devuelve de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="06353-375">Considere el uso de un servicio Web y JSON si un control único debe usarse en varios lugares a través de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="06353-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="06353-376">Este nuevo requiere muy poco trabajo especial y funciona de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="06353-377">Incorporación de funcionalidad a través de servicios Web o los métodos de página tiene inconvenientes también.</span><span class="sxs-lookup"><span data-stu-id="06353-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="06353-378">En primer lugar y ante todo, los desarrolladores de ASP.NET generalmente se tienden a crear componentes pequeños de funcionalidad en controles de usuario (archivos .ascx).</span><span class="sxs-lookup"><span data-stu-id="06353-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="06353-379">Los métodos de página no se puede hospedar en estos archivos; deben hospedarse dentro de la clase de página .aspx real.</span><span class="sxs-lookup"><span data-stu-id="06353-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="06353-380">De forma similar, los servicios Web, se deben hospedar dentro de la clase asmx.</span><span class="sxs-lookup"><span data-stu-id="06353-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="06353-381">Dependiendo de la aplicación, esta arquitectura puede infringir el principio de responsabilidad única, en que la funcionalidad para un único componente se extiende ahora por dos o más componentes físicos que pueden tener valores equivalentes cohesivas poca o ninguna.</span><span class="sxs-lookup"><span data-stu-id="06353-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="06353-382">Por último, si una aplicación requiere que se usan los UpdatePanels, deben ayudar las directrices siguientes con la solución de problemas y mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="06353-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="06353-383">**Anidar UpdatePanels poco como sea posibles, no solo dentro de unidades, sino también a través de unidades de código.**</span><span class="sxs-lookup"><span data-stu-id="06353-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="06353-384">Por ejemplo, tener un UpdatePanel en una página que contiene un Control, mientras que ese Control también contiene un UpdatePanel, que contiene otro Control que contiene un control UpdatePanel, es anidamiento entre unidades.</span><span class="sxs-lookup"><span data-stu-id="06353-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="06353-385">Esto ayuda a aclarar qué elementos debe estar actualizando y evita que actualizaciones inesperadas al elemento secundario UpdatePanels.</span><span class="sxs-lookup"><span data-stu-id="06353-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="06353-386">**Mantener la *ChildrenAsTriggers* propiedad establecida en false y establece explícitamente la activación de eventos.**</span><span class="sxs-lookup"><span data-stu-id="06353-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="06353-387">Uso de la `<Triggers>` colección es una manera mucho más clara para controlar los eventos y puede evitar un comportamiento inesperado, ayudando a las tareas de mantenimiento y forzar que un desarrollador a participar en un evento.</span><span class="sxs-lookup"><span data-stu-id="06353-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="06353-388">**Utilice la unidad más pequeña posible para lograr la funcionalidad.**</span><span class="sxs-lookup"><span data-stu-id="06353-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="06353-389">Como se indicó en la descripción del servicio código postal, ajuste que solo el mínimo reduce el tiempo para el servidor de procesamiento total y la superficie del intercambio cliente / servidor, mejora del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="06353-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="06353-390">El Control UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="06353-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="06353-391">Referencia de Control UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="06353-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="06353-392">Propiedades de marcado habilitados:</span><span class="sxs-lookup"><span data-stu-id="06353-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="06353-393">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="06353-393">**Property Name**</span></span> | <span data-ttu-id="06353-394">**Type**</span><span class="sxs-lookup"><span data-stu-id="06353-394">**Type**</span></span> | <span data-ttu-id="06353-395">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="06353-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="06353-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="06353-397">String</span><span class="sxs-lookup"><span data-stu-id="06353-397">String</span></span> | <span data-ttu-id="06353-398">Especifica el identificador de UpdatePanel que deben notificar este UpdateProgress en.</span><span class="sxs-lookup"><span data-stu-id="06353-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="06353-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="06353-399">DisplayAfter</span></span> | <span data-ttu-id="06353-400">Valor int.</span><span class="sxs-lookup"><span data-stu-id="06353-400">Int</span></span> | <span data-ttu-id="06353-401">Especifica el tiempo de espera en milisegundos antes de este control se muestra después de que comience la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="06353-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="06353-402">DynamicLayout</span><span class="sxs-lookup"><span data-stu-id="06353-402">DynamicLayout</span></span> | <span data-ttu-id="06353-403">bool</span><span class="sxs-lookup"><span data-stu-id="06353-403">bool</span></span> | <span data-ttu-id="06353-404">Especifica si el progreso se representa de forma dinámica.</span><span class="sxs-lookup"><span data-stu-id="06353-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="06353-405">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="06353-405">Markup Descendants:</span></span>

| <span data-ttu-id="06353-406">**Tag**</span><span class="sxs-lookup"><span data-stu-id="06353-406">**Tag**</span></span> | <span data-ttu-id="06353-407">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="06353-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="06353-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="06353-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="06353-409">Contiene la plantilla de control establecido para el contenido que se mostrará con este control.</span><span class="sxs-lookup"><span data-stu-id="06353-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="06353-410">El control UpdateProgress ofrece una medida de comentarios para mantener el interés de los usuarios mientras se realiza el trabajo necesario para el transporte en el servidor.</span><span class="sxs-lookup"><span data-stu-id="06353-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="06353-411">Esto puede ayudar a los usuarios saber que se esté haciendo algo, aunque puede que no sea evidente, sobre todo porque la mayoría de los usuarios se usa para la página actualización y ver la barra de estado resaltar.</span><span class="sxs-lookup"><span data-stu-id="06353-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="06353-412">Como una nota, controles UpdateProgress pueden aparecer en cualquier lugar en una jerarquía de página.</span><span class="sxs-lookup"><span data-stu-id="06353-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="06353-413">Sin embargo, en los casos en que se inicia una devolución parcial desde un elemento secundario de UpdatePanel (donde un UpdatePanel se anida dentro de otro UpdatePanel), las devoluciones de datos que el elemento secundario UpdatePanel provocará que se muestren plantillas de UpdateProgress para el elemento secundario de desencadenador UpdatePanel, así como el elemento primario de UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="06353-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="06353-414">Sin embargo, si el desencadenador es un elemento secundario directo del elemento primario UpdatePanel, a continuación, se mostrará solo las plantillas de UpdateProgress asociadas al elemento primario.</span><span class="sxs-lookup"><span data-stu-id="06353-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="06353-415">Resumen</span><span class="sxs-lookup"><span data-stu-id="06353-415">Summary</span></span>

<span data-ttu-id="06353-416">Las extensiones de Microsoft ASP.NET AJAX son sofisticados productos diseñados para ayudar a mejorar la accesibilidad de contenido web y para proporcionar una experiencia del usuario a sus aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="06353-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="06353-417">Como parte de las extensiones de AJAX de ASP.NET, los controles de representación parcial de la página, incluidos los controles de ScriptManager, UpdatePanel y UpdateProgress son algunos de los componentes del Kit de herramientas más visibles.</span><span class="sxs-lookup"><span data-stu-id="06353-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="06353-418">El componente de ScriptManager integra el aprovisionamiento de JavaScript de cliente para las extensiones, así como permite a los distintos componentes de servidor y cliente para que funcione con inversión mínima en desarrollo.</span><span class="sxs-lookup"><span data-stu-id="06353-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="06353-419">El control UpdatePanel es el cuadro de magic aparente: marcado dentro del UpdatePanel puede tener código subyacente del lado servidor y no desencadenan una actualización de la página.</span><span class="sxs-lookup"><span data-stu-id="06353-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="06353-420">Controles UpdatePanel se pueden anidar y pueden depender de los controles de otros UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="06353-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="06353-421">De forma predeterminada, UpdatePanels controlar los postbacks invocados por sus controles descendientes, aunque esta funcionalidad se puede llevar a cabo una optimizar, ya sea de forma declarativa o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="06353-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="06353-422">Cuando se usa el control UpdatePanel, los desarrolladores deben tener en cuenta el impacto de rendimiento que potencialmente podría surgir.</span><span class="sxs-lookup"><span data-stu-id="06353-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="06353-423">Las alternativas posibles incluyen servicios web y los métodos de página, aunque se debe considerar el diseño de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="06353-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="06353-424">El control permite al usuario saber que los que no se omite, y que está ocurriendo la solicitud en segundo plano mientras la página en caso contrario, no es de UpdateProgress hacer nada para responder a la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="06353-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="06353-425">También incluye la posibilidad de anular los resultados de representación parcial.</span><span class="sxs-lookup"><span data-stu-id="06353-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="06353-426">Juntas, estas herramientas ayudan a crear una experiencia de usuario enriquecida y perfecta realizando trabajo servidor menos evidente para el usuario e interrumpir el flujo de trabajo menos.</span><span class="sxs-lookup"><span data-stu-id="06353-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="06353-427">Bio</span><span class="sxs-lookup"><span data-stu-id="06353-427">Bio</span></span>

<span data-ttu-id="06353-428">Scott Cate ha estado trabajando con tecnologías Web de Microsoft desde 1997 y es el presidente de myKB.com ([www.myKB.com](http://www.myKB.com)) donde se especializa en la escritura de ASP.NET en función de las aplicaciones que se centra en soluciones de Software de Base de conocimiento.</span><span class="sxs-lookup"><span data-stu-id="06353-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="06353-429">Se puede establecer contacto con Scott por correo electrónico en [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) o su blog en [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="06353-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="06353-430">Siguiente</span><span class="sxs-lookup"><span data-stu-id="06353-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)

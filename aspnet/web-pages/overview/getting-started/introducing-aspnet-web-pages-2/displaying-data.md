---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: 'Presentación de ASP.NET Web Pages: Mostrar datos | Microsoft Docs'
author: Rick-Anderson
description: En este tutorial se muestra cómo crear una base de datos en WebMatrix y cómo mostrar los datos de la base de datos en una página cuando se usa ASP.NET Web Pages (Razor). Se supone y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9e665ca8dd064c23a8b8bd3593014969d0c3da48
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78421489"
---
# <a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="9a1c5-104">Presentación de ASP.NET Web Pages: Mostrar datos</span><span class="sxs-lookup"><span data-stu-id="9a1c5-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>

<span data-ttu-id="9a1c5-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="9a1c5-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="9a1c5-106">En este tutorial se muestra cómo crear una base de datos en WebMatrix y cómo mostrar los datos de la base de datos en una página cuando se usa ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="9a1c5-107">Se supone que ha completado la serie a través [de la introducción a la programación de ASP.NET Web pages](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="9a1c5-108">Temas que se abordarán:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="9a1c5-109">Cómo usar las herramientas de WebMatrix para crear una base de datos y tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="9a1c5-110">Cómo usar las herramientas de WebMatrix para agregar datos a una base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="9a1c5-111">Cómo mostrar los datos de la base de datos en una página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="9a1c5-112">Cómo ejecutar comandos SQL en ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="9a1c5-113">Cómo personalizar la aplicación auxiliar de `WebGrid` para cambiar la presentación de los datos y agregar paginación y ordenación.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="9a1c5-114">Características y tecnologías descritas:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="9a1c5-115">Herramientas de base de datos WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="9a1c5-116">`WebGrid` ayudante.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-116">`WebGrid` helper.</span></span>

## <a name="what-youll-build"></a><span data-ttu-id="9a1c5-117">Lo que creará</span><span class="sxs-lookup"><span data-stu-id="9a1c5-117">What You'll Build</span></span>

<span data-ttu-id="9a1c5-118">En el tutorial anterior, se presentó ASP.NET Web Pages (archivos *. cshtml* ), a los aspectos básicos de sintaxis Razor y a las aplicaciones auxiliares.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="9a1c5-119">En este tutorial, comenzará a crear la aplicación web real que usará para el resto de la serie.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="9a1c5-120">La aplicación es una aplicación de película simple que le permite ver, agregar, cambiar y eliminar información sobre películas.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="9a1c5-121">Cuando haya terminado este tutorial, podrá ver una lista de películas similar a la de esta página:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Presentación de WebGrid que incluye los parámetros establecidos en los nombres de clase CSS](displaying-data/_static/image1.png)

<span data-ttu-id="9a1c5-123">Pero, para empezar, tiene que crear una base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="9a1c5-124">Una breve introducción a las bases de datos</span><span class="sxs-lookup"><span data-stu-id="9a1c5-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="9a1c5-125">En este tutorial solo se proporcionará la breve introducción a las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="9a1c5-126">Si tiene experiencia de base de datos, puede omitir esta breve sección.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="9a1c5-127">Una base de datos contiene una o más tablas que contienen información &mdash; por ejemplo, tablas para clientes, pedidos y proveedores, o para estudiantes, profesores, clases y calificaciones.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="9a1c5-128">Estructuralmente, una tabla de base de datos es como una hoja de cálculo.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="9a1c5-129">Imagine una libreta de direcciones típica.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-129">Imagine a typical address book.</span></span> <span data-ttu-id="9a1c5-130">Para cada entrada de la libreta de direcciones (es decir, para cada persona) tiene varios datos como el nombre, el apellido, la dirección, la dirección de correo electrónico y el número de teléfono.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Tabla de base de datos de ejemplo como una cuadrícula simple](displaying-data/_static/image2.png)

<span data-ttu-id="9a1c5-132">(A veces se hace referencia a las filas como *registros*y las columnas a veces se denominan *campos*).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="9a1c5-133">Para la mayoría de las tablas de base de datos, la tabla debe tener una columna que contenga un valor único, como un número de cliente, un número de cuenta, etc.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="9a1c5-134">Este valor se conoce como la *clave principal*de la tabla y se utiliza para identificar cada fila de la tabla.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="9a1c5-135">En el ejemplo, la columna ID es la clave principal de la libreta de direcciones mostrada en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="9a1c5-136">Gran parte del trabajo que se realiza en las aplicaciones web consiste en leer información fuera de la base de datos y mostrarla en una página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="9a1c5-137">A menudo, también recopila información de los usuarios y la agrega a una base de datos, o bien modifica los registros que ya están en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="9a1c5-138">(Trataremos todas estas operaciones en el transcurso de este conjunto de tutoriales).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="9a1c5-139">El trabajo de base de datos puede ser enormemente complejo y puede requerir conocimientos especializados.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="9a1c5-140">Sin embargo, para este tutorial, debe comprender solo los conceptos básicos, que se explicarán a medida que avanza.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="9a1c5-141">Crear una base de datos</span><span class="sxs-lookup"><span data-stu-id="9a1c5-141">Creating a Database</span></span>

<span data-ttu-id="9a1c5-142">WebMatrix incluye herramientas que facilitan la creación de una base de datos y la creación de tablas en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="9a1c5-143">(La estructura de una base de datos se conoce como el *esquema*de la base de datos). En este conjunto de tutoriales, creará una base de datos que solo tenga una tabla en ella &mdash; películas.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="9a1c5-144">Abra WebMatrix si todavía no lo ha hecho y abra el sitio de WebPagesMovies que creó en el tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="9a1c5-145">En el panel izquierdo, haga clic en el área de trabajo **base de datos** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-145">In the left pane, click the **Database** workspace.</span></span>

![Pestaña del área de trabajo de base de datos WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="9a1c5-147">La cinta de opciones cambia para mostrar las tareas relacionadas con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="9a1c5-148">En la cinta de opciones, haga clic en **nueva base de datos**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-148">In the ribbon, click **New Database**.</span></span>

![Botón "nueva base de datos" en la cinta WebMatrix](displaying-data/_static/image4.png)

<span data-ttu-id="9a1c5-150">WebMatrix crea una base de datos de SQL Server CE (archivo *. sdf* ) que tiene el mismo nombre que el sitio &mdash; *WebPagesMovies. sdf*.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="9a1c5-151">(Aquí no lo hará, pero puede cambiar el nombre del archivo a cualquier elemento que desee, siempre que tenga una extensión *. sdf* ).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="9a1c5-152">Creación de una tabla</span><span class="sxs-lookup"><span data-stu-id="9a1c5-152">Creating a Table</span></span>

<span data-ttu-id="9a1c5-153">En la cinta de opciones, haga clic en **nueva tabla**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="9a1c5-154">WebMatrix abre el diseñador de tablas en una pestaña nueva. (si la opción nueva tabla no está disponible, asegúrese de que la nueva base de datos está seleccionada en la vista de árbol de la izquierda).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![Botón ' nueva tabla ' en la cinta WebMatrix](displaying-data/_static/image5.png)

<span data-ttu-id="9a1c5-156">En el cuadro de texto de la parte superior (donde la marca de agua dice "Escriba el nombre de la tabla"), escriba "películas".</span><span class="sxs-lookup"><span data-stu-id="9a1c5-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Escribir un nombre de tabla en el diseñador de bases de datos WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="9a1c5-158">El panel debajo del nombre de la tabla es donde se definen las columnas individuales.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="9a1c5-159">En la tabla *películas* de este tutorial, creará solo algunas columnas: *ID*, *title*, *Genre*y *Year*.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="9a1c5-160">En el cuadro **nombre** , escriba "ID".</span><span class="sxs-lookup"><span data-stu-id="9a1c5-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="9a1c5-161">Al escribir un valor aquí se activan todos los controles de la nueva columna.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="9a1c5-162">En la lista **tipo de datos** y elija **int**. Este valor especifica que la columna de identificador contendrá datos enteros (número).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="9a1c5-163">No lo haremos más aquí (mucho), pero puede usar gestos de teclado estándar de Windows para navegar por esta cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="9a1c5-164">Por ejemplo, puede hacer una tabulación entre campos, simplemente empezar a escribir para seleccionar un elemento de una lista, etc.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>

<span data-ttu-id="9a1c5-165">Mantenga el tabulador más allá del cuadro **valor predeterminado** (es decir, déjelo en blanco).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="9a1c5-166">En la casilla **es la clave principal** y selecciónela.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="9a1c5-167">Esta opción indica a la base de datos que la columna *ID* contendrá los datos que identifican filas individuales.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="9a1c5-168">(Es decir, cada fila tendrá un valor único en la columna ID que puede usar para buscar esa fila).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="9a1c5-169">Elija la opción **identidad** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="9a1c5-170">Esta opción indica a la base de datos que debe generar automáticamente el siguiente número secuencial para cada nueva fila.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="9a1c5-171">(La opción **is Identity** solo funciona si se ha seleccionado también la opción **is PRIMARY KEY** ).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="9a1c5-172">Haga clic en la siguiente fila de la cuadrícula o presione la tecla TAB dos veces para finalizar la fila actual.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="9a1c5-173">Cualquier gesto guarda la fila actual e inicia la siguiente.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="9a1c5-174">Observe que la columna **valor predeterminado** ahora indica **null**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="9a1c5-175">(NULL es el valor predeterminado del valor predeterminado, por lo que debe hablar).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="9a1c5-176">Cuando haya terminado de definir la nueva columna **ID** , el diseñador tendrá el aspecto siguiente:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Diseñador de bases de datos WebMatrix después de definir la columna ID de la tabla películas](displaying-data/_static/image7.png)

<span data-ttu-id="9a1c5-178">Para crear la columna siguiente, haga clic en el cuadro de la columna **nombre** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="9a1c5-179">Escriba "title" para la columna y, a continuación, seleccione **nvarchar** como valor de **tipo de datos** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="9a1c5-180">La parte "var" de **nvarchar** indica a la base de datos que los datos de esta columna serán una cadena cuyo tamaño puede variar de un registro a otro.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="9a1c5-181">(El prefijo "n" representa "National", que indica que el campo puede contener datos de caracteres para cualquier alfabeto o sistema de escritura, es decir, el campo contiene datos Unicode.)</span><span class="sxs-lookup"><span data-stu-id="9a1c5-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="9a1c5-182">Cuando elige **nvarchar**, aparece otro cuadro en el que puede especificar la longitud máxima del campo.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="9a1c5-183">Escriba 50, suponiendo que ningún título de película con el que trabajará en este tutorial tendrá más de 50 caracteres.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="9a1c5-184">Omitir el **valor predeterminado** y desactivar la opción **permitir valores NULL** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="9a1c5-185">No quiere que la base de datos permita que se escriban películas en la base de datos que no tengan un título.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="9a1c5-186">Cuando haya terminado y pase a la siguiente fila, el diseñador tendrá el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Diseñador de bases de datos WebMatrix después de definir la columna title de la tabla Movies](displaying-data/_static/image8.png)

<span data-ttu-id="9a1c5-188">Repita estos pasos para crear una columna denominada "género", salvo la longitud, establézcala en solo 30.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="9a1c5-189">Cree otra columna denominada "Year".</span><span class="sxs-lookup"><span data-stu-id="9a1c5-189">Create another column named "Year."</span></span> <span data-ttu-id="9a1c5-190">Para el tipo de datos, elija **nchar** (no **nvarchar**) y establezca la longitud en 4.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="9a1c5-191">Durante el año, va a usar un número de 4 dígitos como "1995" o "2010", por lo que no necesita una columna de tamaño variable.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="9a1c5-192">Este es el aspecto del diseño terminado:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-192">Here's what the finished design looks like:</span></span>

![Diseñador de bases de datos WebMatrix una vez definidos todos los campos para la tabla películas](displaying-data/_static/image9.png)

<span data-ttu-id="9a1c5-194">Presione CTRL + S o haga clic en el botón **Guardar** en la barra de herramientas de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="9a1c5-195">Cierre la pestaña para cerrar el diseñador de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="9a1c5-196">Agregar algunos datos de ejemplo</span><span class="sxs-lookup"><span data-stu-id="9a1c5-196">Adding Some Example Data</span></span>

<span data-ttu-id="9a1c5-197">Más adelante en esta serie de tutoriales, creará una página en la que podrá escribir nuevas películas en un formulario.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="9a1c5-198">Por el momento, sin embargo, puede agregar algunos datos de ejemplo que se pueden mostrar en una página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="9a1c5-199">En el área de trabajo de **base de datos** de WebMatrix, observe que hay un árbol que muestra el archivo *. sdf* que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="9a1c5-200">Abra el nodo del nuevo archivo *. sdf* y, a continuación, abra el nodo **tablas** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Área de trabajo de base de datos WebMatrix con árbol abierto en tabla de películas](displaying-data/_static/image10.png)

<span data-ttu-id="9a1c5-202">Haga clic con el botón secundario en el nodo **películas** y, a continuación, elija **datos**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="9a1c5-203">WebMatrix abre una cuadrícula en la que puede escribir datos para la tabla *películas* :</span><span class="sxs-lookup"><span data-stu-id="9a1c5-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix (vacío)](displaying-data/_static/image11.png)

<span data-ttu-id="9a1c5-205">Haga clic en la columna **title** y escriba "when Harry mét Sally".</span><span class="sxs-lookup"><span data-stu-id="9a1c5-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="9a1c5-206">Desplácese a la columna **género** (puede usar la tecla TAB) y escriba "Romantic comedia".</span><span class="sxs-lookup"><span data-stu-id="9a1c5-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="9a1c5-207">Vaya a la columna **Year** y escriba "1989":</span><span class="sxs-lookup"><span data-stu-id="9a1c5-207">Move to the **Year** column and enter "1989":</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con un registro](displaying-data/_static/image12.png)

<span data-ttu-id="9a1c5-209">Presione entrar y WebMatrix guarda la nueva película.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="9a1c5-210">Observe que se ha rellenado la columna **ID** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-210">Notice that the **ID** column has been filled in.</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con un registro y un identificador generado automáticamente](displaying-data/_static/image13.png)

<span data-ttu-id="9a1c5-212">Escriba otra película (por ejemplo, "ido con el viento", "series", "1939").</span><span class="sxs-lookup"><span data-stu-id="9a1c5-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="9a1c5-213">La columna ID se rellena de nuevo:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-213">The ID column is filled in again:</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con dos registros e identificadores generados automáticamente](displaying-data/_static/image14.png)

<span data-ttu-id="9a1c5-215">Escriba una tercera película (por ejemplo, "Ghostbusters", "comedia").</span><span class="sxs-lookup"><span data-stu-id="9a1c5-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="9a1c5-216">Como experimento, deje en blanco la columna **Year** y, a continuación, presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="9a1c5-217">Dado que no seleccionó la opción **permitir valores NULL** , la base de datos muestra un error:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![Se muestra el error "datos no válidos" Si un valor de columna requerido se deja en blanco](displaying-data/_static/image15.png)

<span data-ttu-id="9a1c5-219">Haga clic en **Aceptar** para volver atrás y corregir la entrada (el año para "Ghostbusters" es 1984) y, a continuación, presione Entrar.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="9a1c5-220">Rellene varias películas hasta que tenga 8 o más.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="9a1c5-221">(Al escribir 8 se facilita el trabajo con la paginación más adelante.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="9a1c5-222">Pero si es demasiado elevado, escriba algunos por ahora. Los datos reales no importan.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con registros](displaying-data/_static/image16.png)

<span data-ttu-id="9a1c5-224">Si ha especificado todas las películas sin errores, los valores de ID. son secuenciales.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="9a1c5-225">Si ha intentado guardar un registro de película incompleto, los números de identificación podrían no ser secuenciales.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="9a1c5-226">Si es así, es correcto.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-226">If so, that's okay.</span></span> <span data-ttu-id="9a1c5-227">Los números no tienen ningún significado inherente y lo único que es importante es que son únicos en la tabla de *películas* .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="9a1c5-228">Cierre la pestaña que contiene el diseñador de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="9a1c5-229">Ahora puede activar la visualización de estos datos en una página web.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="9a1c5-230">Mostrar datos en una página mediante la aplicación auxiliar WebGrid</span><span class="sxs-lookup"><span data-stu-id="9a1c5-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="9a1c5-231">Para mostrar los datos en una página, va a utilizar la aplicación auxiliar de `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="9a1c5-232">Esta aplicación auxiliar genera una presentación en una cuadrícula o una tabla (filas y columnas).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="9a1c5-233">Como verá, podrá refinar la cuadrícula con formato y otras características.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="9a1c5-234">Para ejecutar la cuadrícula, tendrá que escribir algunas líneas de código.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="9a1c5-235">Estas pocas líneas servirán como un tipo de patrón para casi todo el acceso a datos que se realiza en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="9a1c5-236">Realmente tiene muchas opciones para Mostrar datos en una página. la aplicación auxiliar `WebGrid` es solo una.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="9a1c5-237">Lo hemos elegido para este tutorial, ya que es la forma más fácil de Mostrar datos y porque es razonablemente flexible.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="9a1c5-238">En el siguiente tutorial, verá cómo usar una forma más "manual" de trabajar con datos en la página, lo que le proporciona un control más directo sobre cómo mostrar los datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>

<span data-ttu-id="9a1c5-239">En el panel izquierdo de WebMatrix, haga clic en el área de trabajo **archivos** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="9a1c5-240">La nueva base de datos que creó está en la carpeta *App\_Data* .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="9a1c5-241">Si la carpeta todavía no existía, WebMatrix la creó para la nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="9a1c5-242">(Es posible que haya existido la carpeta si previamente instaló aplicaciones auxiliares).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="9a1c5-243">En la vista de árbol, seleccione la raíz del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="9a1c5-244">Debe seleccionar la raíz del sitio web; de lo contrario, el nuevo archivo podría agregarse a la carpeta de datos de la\_de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="9a1c5-245">En la cinta de opciones, haga clic en **nuevo**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="9a1c5-246">En el cuadro **Elija un tipo de archivo** , elija **CSHTML**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="9a1c5-247">En el cuadro **nombre** , asigne a la nueva página el nombre "movies. cshtml":</span><span class="sxs-lookup"><span data-stu-id="9a1c5-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

![Cuadro de diálogo "elegir un tipo de archivo" que muestra la página "películas"](displaying-data/_static/image17.png)

<span data-ttu-id="9a1c5-249">Haga clic en el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-249">Click the **OK** button.</span></span> <span data-ttu-id="9a1c5-250">WebMatrix abre un nuevo archivo que contiene algunos elementos de esqueleto.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="9a1c5-251">En primer lugar, escribirá código para obtener los datos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="9a1c5-252">A continuación, agregará marcado a la página para mostrar realmente los datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="9a1c5-253">Escribir el código de consulta de datos</span><span class="sxs-lookup"><span data-stu-id="9a1c5-253">Writing the Data Query Code</span></span>

<span data-ttu-id="9a1c5-254">En la parte superior de la página, entre los caracteres `@{` y `}`, escriba el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="9a1c5-255">(Asegúrese de escribir este código entre las llaves de apertura y cierre).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="9a1c5-256">La primera línea abre la base de datos que creó anteriormente, que es siempre el primer paso antes de hacer algo con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="9a1c5-257">Se indica al nombre del método de `Database.Open` de la base de datos que se va a abrir.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="9a1c5-258">Tenga en cuenta que no incluye *. sdf* en el nombre.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="9a1c5-259">El método `Open` supone que está buscando un archivo *. sdf* (es decir, *WebPagesMovies. sdf*) y que el archivo *. sdf* está en la carpeta *App\_Data* .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="9a1c5-260">(Antes se indicó que la carpeta de datos de la\_de la *aplicación* está reservada; este escenario es uno de los lugares en los que ASP.net hace suposiciones sobre ese nombre).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="9a1c5-261">Cuando se abre la base de datos, se coloca una referencia a ella en la variable denominada `db`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="9a1c5-262">(Que podría denominarse cualquier cosa). La variable de `db` es la forma en que finalizará la interacción con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="9a1c5-263">La segunda línea busca realmente los datos de la base de datos mediante el método `Query`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="9a1c5-264">Observe cómo funciona este código: la variable `db` tiene una referencia a la base de datos abierta e invoca el método `Query` mediante la variable `db` (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="9a1c5-265">La propia consulta es una instrucción de `Select` de SQL.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="9a1c5-266">(Para obtener un pequeño fondo sobre SQL, vea la explicación más adelante). En la instrucción, `Movies` identifica la tabla que se va a consultar.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="9a1c5-267">El carácter `*` especifica que la consulta debe devolver todas las columnas de la tabla.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="9a1c5-268">(También puede enumerar columnas individualmente, separadas por comas).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="9a1c5-269">Los resultados de la consulta, si los hay, se devuelven y se ponen a disposición en la variable `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="9a1c5-270">Una vez más, la variable podría denominarse cualquier cosa.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="9a1c5-271">Por último, la tercera línea indica a ASP.NET que desea usar una instancia de la aplicación auxiliar de `WebGrid`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="9a1c5-272">Cree (cree*una instancia*) del objeto auxiliar mediante la palabra clave `new` y pásele los resultados de la consulta a través de la variable `selectedData`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="9a1c5-273">El nuevo objeto `WebGrid`, junto con los resultados de la consulta de base de datos, están disponibles en la variable `grid`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="9a1c5-274">Necesitará que el resultado sea un momento para mostrar realmente los datos en la página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="9a1c5-275">En esta fase, la base de datos se ha abierto, ha obtenido los datos que desea y ha preparado la aplicación auxiliar de `WebGrid` con esos datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="9a1c5-276">A continuación, se crea el marcado en la página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="9a1c5-277">**Lenguaje de consulta estructurado (SQL)**</span><span class="sxs-lookup"><span data-stu-id="9a1c5-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="9a1c5-278">SQL es un lenguaje que se usa en la mayoría de las bases de datos relacionales para administrar datos en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="9a1c5-279">Incluye comandos que permiten recuperar datos y actualizarlos, y que permiten crear, modificar y administrar datos en tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="9a1c5-280">SQL es diferente de un lenguaje de programación ( C#como).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="9a1c5-281">Con SQL, se indica a la base de datos qué desea, y es el trabajo de la base de datos para averiguar cómo obtener los datos o realizar la tarea.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="9a1c5-282">Estos son algunos ejemplos de algunos comandos SQL y lo que hacen:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="9a1c5-283">La primera instrucción `Select` obtiene todas las columnas (especificadas por `*`) de la tabla *películas* .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="9a1c5-284">La segunda instrucción `Select` captura las columnas ID, Name y Price de los registros de la tabla *Product* cuyo valor de la columna Price sea superior a 10.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="9a1c5-285">El comando devuelve los resultados en orden alfabético en función de los valores de la columna Name.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="9a1c5-286">Si no hay registros que coincidan con los criterios de precio, el comando devuelve un conjunto vacío.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="9a1c5-287">Este comando inserta un nuevo registro en la tabla *Product* , estableciendo la columna Name en "croissant", la columna Description en "alegría" y el precio en 1,99.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="9a1c5-288">Observe que, cuando se especifica un valor no numérico, el valor se incluye entre comillas simples (no entre comillas dobles, como en C#).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="9a1c5-289">Estas comillas se usan alrededor de los valores de texto o de fecha, pero no de los números.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="9a1c5-290">Este comando elimina los registros de la tabla *Product* cuya columna fecha de expiración sea anterior al 1 de enero de 2008.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="9a1c5-291">(El comando supone que la tabla *Product* tiene una columna de este tipo, por supuesto). La fecha se escribe aquí en formato MM/DD/AAAA, pero debe escribirse en el formato que se usa para la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="9a1c5-292">Los comandos `Insert` y `Delete` no devuelven conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="9a1c5-293">En su lugar, devuelven un número que indica cuántos registros se vieron afectados por el comando.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="9a1c5-294">En algunas de estas operaciones (como la inserción y eliminación de registros), el proceso que solicita la operación debe tener los permisos adecuados en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="9a1c5-295">Este es el motivo por el que las bases de datos de producción suelen tener que proporcionar un nombre de usuario y una contraseña al conectarse a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="9a1c5-296">Hay docenas de comandos SQL, pero todos siguen un patrón como los comandos que se ven aquí.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="9a1c5-297">Puede usar comandos SQL para crear tablas de base de datos, contar el número de registros de una tabla, calcular precios y realizar muchas más operaciones.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>

### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="9a1c5-298">Agregar marcado para mostrar los datos</span><span class="sxs-lookup"><span data-stu-id="9a1c5-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="9a1c5-299">Dentro del elemento `<head>`, establezca el contenido del elemento `<title>` en "Movies":</span><span class="sxs-lookup"><span data-stu-id="9a1c5-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="9a1c5-300">En el elemento `<body>` de la página, agregue lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="9a1c5-301">Ya está.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-301">That's it.</span></span> <span data-ttu-id="9a1c5-302">La variable `grid` es el valor que creó al crear el objeto `WebGrid` en el código anterior.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="9a1c5-303">En la vista de árbol de WebMatrix, haga clic con el botón derecho en la página y seleccione **iniciar en el explorador**.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="9a1c5-304">Verá algo parecido a esta página:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-304">You'll see something like this page:</span></span>

![Resultado de la aplicación auxiliar de WebGrid predeterminada de la tabla películas](displaying-data/_static/image18.png)

<span data-ttu-id="9a1c5-306">Haga clic en un vínculo de encabezado de columna para ordenar por esa columna.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="9a1c5-307">Poder ordenar haciendo clic en un encabezado es una característica que está integrada en la aplicación auxiliar **WebGrid** .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="9a1c5-308">El método `GetHtml`, como sugiere su nombre, genera marcado que muestra los datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="9a1c5-309">De forma predeterminada, el método `GetHtml` genera un elemento de `<table>` HTML.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="9a1c5-310">(Si lo desea, puede comprobar la representación examinando el origen de la página en el explorador).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="9a1c5-311">Modificar la apariencia de la cuadrícula</span><span class="sxs-lookup"><span data-stu-id="9a1c5-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="9a1c5-312">El uso de la aplicación auxiliar `WebGrid` como acaba de hacer es sencillo, pero la pantalla resultante es sin formato.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="9a1c5-313">La aplicación auxiliar de `WebGrid` tiene todo tipo de opciones que permiten controlar cómo se muestran los datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="9a1c5-314">Hay demasiados para explorar en este tutorial, pero esta sección le dará una idea de algunas de esas opciones.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="9a1c5-315">En los tutoriales posteriores de esta serie se tratarán algunas opciones adicionales.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="9a1c5-316">Especificar columnas individuales para mostrar</span><span class="sxs-lookup"><span data-stu-id="9a1c5-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="9a1c5-317">Para empezar, puede especificar que desea mostrar solo determinadas columnas.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="9a1c5-318">De forma predeterminada, como se ha visto, la cuadrícula muestra las cuatro columnas de la tabla *películas* .</span><span class="sxs-lookup"><span data-stu-id="9a1c5-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="9a1c5-319">En el archivo *movies. cshtml* , reemplace el `@grid.GetHtml()` marcado que acaba de agregar con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="9a1c5-320">Para indicar a la aplicación auxiliar Qué columnas se van a mostrar, incluya un parámetro `columns` para el método `GetHtml` y pase una colección de columnas.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="9a1c5-321">En la colección, se especifica cada columna que se va a incluir.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="9a1c5-322">Especifique una columna individual para mostrar mediante la inclusión de un objeto `grid.Column` y pase el nombre de la columna de datos que desee.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="9a1c5-323">(Estas columnas deben incluirse en los resultados de la consulta SQL; el ayudante de `WebGrid` no puede mostrar las columnas que no devolvió la consulta).</span><span class="sxs-lookup"><span data-stu-id="9a1c5-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="9a1c5-324">Vuelva a iniciar la página *movies. cshtml* en el explorador y, esta vez, obtenga una pantalla similar a la siguiente (Observe que no se muestra ninguna columna ID):</span><span class="sxs-lookup"><span data-stu-id="9a1c5-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![Pantalla de WebGrid que muestra solo las columnas seleccionadas](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="9a1c5-326">Cambiar el aspecto de la cuadrícula</span><span class="sxs-lookup"><span data-stu-id="9a1c5-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="9a1c5-327">Hay algunas opciones más para mostrar columnas, algunas de las cuales se explorarán en los tutoriales posteriores de este conjunto.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="9a1c5-328">Por ahora, en esta sección se presentan las distintas formas en que se puede aplicar estilo a la cuadrícula en su totalidad.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="9a1c5-329">Dentro de la sección `<head>` de la página, justo antes de la etiqueta de cierre `</head>`, agregue el siguiente elemento `<style>`:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="9a1c5-330">Este marcado CSS define clases denominadas `grid`, `head`, etc.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="9a1c5-331">También puede colocar estas definiciones de estilo en un archivo *. CSS* independiente y vincularlo a la página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="9a1c5-332">(De hecho, lo hará más adelante en este tutorial). Pero para facilitar las cosas en este tutorial, están dentro de la misma página que muestra los datos.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="9a1c5-333">Ahora puede obtener la aplicación auxiliar `WebGrid` para usar estas clases de estilo.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="9a1c5-334">La aplicación auxiliar tiene una serie de propiedades (por ejemplo, `tableStyle`) para este propósito: le asigna un nombre de clase de estilo CSS y ese nombre de clase se representa como parte del marcado que representa el ayudante.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="9a1c5-335">Cambie el marcado de `grid.GetHtml` para que ahora tenga el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="9a1c5-336">Lo nuevo aquí es que ha agregado `tableStyle`, `headerStyle`y `alternatingRowStyle` parámetros al método `GetHtml`.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="9a1c5-337">Estos parámetros se han establecido en los nombres de los estilos CSS que ha agregado hace un momento.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="9a1c5-338">Ejecute la página y esta vez verá una cuadrícula que parece mucho menos sencilla que antes:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Presentación de WebGrid que incluye los parámetros establecidos en los nombres de clase CSS](displaying-data/_static/image20.png)

<span data-ttu-id="9a1c5-340">Para ver lo que ha generado el método de `GetHtml`, puede examinar el origen de la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="9a1c5-341">Aquí no entraremos en detalle, pero lo importante es que al especificar parámetros como `tableStyle`, se hizo que la cuadrícula generara etiquetas HTML como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="9a1c5-342">Se ha agregado un atributo `class` a la etiqueta `<table>` que hace referencia a una de las reglas de CSS que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="9a1c5-343">Este código muestra el patrón básico &mdash; diferentes parámetros para el método `GetHtml` permiten hacer referencia a las clases CSS que el método genera junto con el marcado.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="9a1c5-344">Lo que hace con las clases CSS depende de usted.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="9a1c5-345">Agregar paginación</span><span class="sxs-lookup"><span data-stu-id="9a1c5-345">Adding Paging</span></span>

<span data-ttu-id="9a1c5-346">Como última tarea de este tutorial, agregará la paginación a la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="9a1c5-347">En este momento no hay ningún problema para mostrar todas las películas a la vez.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="9a1c5-348">Pero si agregó cientos de películas, la pantalla de la página se verá larga.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="9a1c5-349">En el código de la página, cambie la línea que crea el objeto `WebGrid` al código siguiente:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="9a1c5-350">La única diferencia de antes es que se ha agregado un parámetro `rowsPerPage` que se establece en 3.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="9a1c5-351">Ejecute la página.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-351">Run the page.</span></span> <span data-ttu-id="9a1c5-352">La cuadrícula muestra 3 filas a la vez, además de vínculos de navegación que permiten paginar las películas en la base de datos:</span><span class="sxs-lookup"><span data-stu-id="9a1c5-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Presentación de WebGrid con paginación](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="9a1c5-354">Próxima</span><span class="sxs-lookup"><span data-stu-id="9a1c5-354">Coming Up Next</span></span>

<span data-ttu-id="9a1c5-355">En el siguiente tutorial, aprenderá a usar Razor y C# el código para obtener los datos proporcionados por el usuario en un formulario.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="9a1c5-356">Agregará un cuadro de búsqueda a la página películas para que pueda buscar películas por título o género.</span><span class="sxs-lookup"><span data-stu-id="9a1c5-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="9a1c5-357">Lista completa de la página de películas</span><span class="sxs-lookup"><span data-stu-id="9a1c5-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="9a1c5-358">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="9a1c5-358">Additional Resources</span></span>

- [<span data-ttu-id="9a1c5-359">Introducción a la programación web de ASP.NET mediante la sintaxis Razor</span><span class="sxs-lookup"><span data-stu-id="9a1c5-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="9a1c5-360">[Anterior](intro-to-web-pages-programming.md)
> [Siguiente](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="9a1c5-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>

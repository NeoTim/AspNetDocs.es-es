---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
title: 'Introducción a ASP.NET Web Pages: mostrar datos | Microsoft Docs'
author: Rick-Anderson
description: Este tutorial muestra cómo crear una base de datos en WebMatrix y cómo mostrar la base de datos en una página al usar ASP.NET Web Pages (Razor). Se supone y...
ms.author: riande
ms.date: 05/28/2015
ms.assetid: b3a006a0-3ea2-4d45-b833-e20e3a3c0a1a
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/displaying-data
msc.type: authoredcontent
ms.openlocfilehash: 9158a1f53268daec6e6fbdf003dd73e1d62cc667
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57031252"
---
<a name="introducing-aspnet-web-pages---displaying-data"></a><span data-ttu-id="3918a-104">Introducción a las páginas Web ASP.NET - mostrar datos</span><span class="sxs-lookup"><span data-stu-id="3918a-104">Introducing ASP.NET Web Pages - Displaying Data</span></span>
====================
<span data-ttu-id="3918a-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="3918a-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="3918a-106">Este tutorial muestra cómo crear una base de datos en WebMatrix y cómo mostrar la base de datos en una página al usar ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="3918a-106">This tutorial shows you how to create a database in WebMatrix and how to display database data in a page when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="3918a-107">Supone que ha completado la serie a través de [Introducción a la programación de ASP.NET Web Pages](../introducing-razor-syntax-c.md).</span><span class="sxs-lookup"><span data-stu-id="3918a-107">It assumes you have completed the series through [Introduction to ASP.NET Web Pages Programming](../introducing-razor-syntax-c.md).</span></span>
> 
> <span data-ttu-id="3918a-108">Lo que aprenderá:</span><span class="sxs-lookup"><span data-stu-id="3918a-108">What you'll learn:</span></span>
> 
> - <span data-ttu-id="3918a-109">Cómo usar las herramientas de WebMatrix para crear una base de datos y tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-109">How to use WebMatrix tools to create a database and database tables.</span></span>
> - <span data-ttu-id="3918a-110">Cómo usar las herramientas de WebMatrix para agregar datos a una base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-110">How to use WebMatrix tools to add data to a database.</span></span>
> - <span data-ttu-id="3918a-111">Cómo mostrar los datos de la base de datos en una página.</span><span class="sxs-lookup"><span data-stu-id="3918a-111">How to display data from the database on a page.</span></span>
> - <span data-ttu-id="3918a-112">Cómo ejecutar comandos SQL en ASP.NET Web Pages.</span><span class="sxs-lookup"><span data-stu-id="3918a-112">How to run SQL commands in ASP.NET Web Pages.</span></span>
> - <span data-ttu-id="3918a-113">Cómo personalizar el `WebGrid` auxiliar para cambiar la presentación de datos y agregar paginación y ordenación.</span><span class="sxs-lookup"><span data-stu-id="3918a-113">How to customize the `WebGrid` helper to change the data display and to add paging and sorting.</span></span>
>   
> 
> <span data-ttu-id="3918a-114">Características y tecnologías tratadas:</span><span class="sxs-lookup"><span data-stu-id="3918a-114">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="3918a-115">Herramientas de base de datos de WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="3918a-115">WebMatrix database tools.</span></span>
> - <span data-ttu-id="3918a-116">`WebGrid` aplicación auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3918a-116">`WebGrid` helper.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="3918a-117">¿Qué va a crear</span><span class="sxs-lookup"><span data-stu-id="3918a-117">What You'll Build</span></span>

<span data-ttu-id="3918a-118">En el tutorial anterior, se introdujeron en ASP.NET Web Pages (*.cshtml* archivos), los conceptos básicos de la sintaxis de Razor y a las aplicaciones auxiliares.</span><span class="sxs-lookup"><span data-stu-id="3918a-118">In the previous tutorial, you were introduced to ASP.NET Web Pages (*.cshtml* files), to the basics of Razor syntax, and to helpers.</span></span> <span data-ttu-id="3918a-119">En este tutorial, empezará a crear la aplicación web real que va a usar para el resto de la serie.</span><span class="sxs-lookup"><span data-stu-id="3918a-119">In this tutorial, you'll begin creating the actual web application that you'll use for the rest of the series.</span></span> <span data-ttu-id="3918a-120">La aplicación es una aplicación de película simple que le permite ver, agregar, cambiar y eliminar información sobre películas.</span><span class="sxs-lookup"><span data-stu-id="3918a-120">The app is a simple movie application that lets you view, add, change, and delete information about movies.</span></span>

<span data-ttu-id="3918a-121">Cuando haya terminado con este tutorial, podrá ver una lista de películas que es similar a esta página:</span><span class="sxs-lookup"><span data-stu-id="3918a-121">When you're done with this tutorial, you'll be able to view a movie listing that looks like this page:</span></span>

![Pantalla de WebGrid que incluye los parámetros establecidos en los nombres de clase CSS](displaying-data/_static/image1.png)

<span data-ttu-id="3918a-123">Pero para empezar, debe crear una base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-123">But to begin, you have to create a database.</span></span>

## <a name="a-very-brief-introduction-to-databases"></a><span data-ttu-id="3918a-124">Una introducción breve a las bases de datos</span><span class="sxs-lookup"><span data-stu-id="3918a-124">A Very Brief Introduction to Databases</span></span>

<span data-ttu-id="3918a-125">Este tutorial le ofrece solo la briefest Introducción a las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-125">This tutorial will provide only the briefest introduction to databases.</span></span> <span data-ttu-id="3918a-126">Si tiene experiencia en bases de datos, puede omitir esta sección corto.</span><span class="sxs-lookup"><span data-stu-id="3918a-126">If you have database experience, you can skip this short section.</span></span>

<span data-ttu-id="3918a-127">Una base de datos contiene una o varias tablas que contienen información &mdash; por ejemplo, las tablas para los clientes, pedidos y proveedores, o para los estudiantes, profesores, clases y calificaciones.</span><span class="sxs-lookup"><span data-stu-id="3918a-127">A database contains one or more tables that contain information &mdash; for example, tables for customers, orders, and vendors, or for students, teachers, classes, and grades.</span></span> <span data-ttu-id="3918a-128">Estructuralmente, una tabla de base de datos es similar a una hoja de cálculo.</span><span class="sxs-lookup"><span data-stu-id="3918a-128">Structurally, a database table is like a spreadsheet.</span></span> <span data-ttu-id="3918a-129">Imagine una libreta de direcciones típico.</span><span class="sxs-lookup"><span data-stu-id="3918a-129">Imagine a typical address book.</span></span> <span data-ttu-id="3918a-130">Para cada entrada de la libreta de direcciones (es decir, para cada persona) tiene varias piezas de información como el nombre, apellido, dirección, dirección de correo electrónico y número de teléfono.</span><span class="sxs-lookup"><span data-stu-id="3918a-130">For each entry in the address book (that is, for each person) you have several pieces of information such as first name, last name, address, email address, and phone number.</span></span>

![Tabla de base de datos de ejemplo como una cuadrícula simple](displaying-data/_static/image2.png)

<span data-ttu-id="3918a-132">(Las filas se conocen a veces como *registros*, y las columnas se conocen a veces como *campos*.)</span><span class="sxs-lookup"><span data-stu-id="3918a-132">(Rows are sometimes referred to as *records*, and columns are sometimes referred to as *fields*.)</span></span>

<span data-ttu-id="3918a-133">Para la mayoría de las tablas de base de datos, la tabla debe tener una columna que contiene un valor único, como un número de cliente, número de cuenta y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="3918a-133">For most database tables, the table has to have a column that contains a unique value, like a customer number, account number, and so on.</span></span> <span data-ttu-id="3918a-134">Este valor se conoce como la tabla *clave principal*, y se usa para identificar cada fila de la tabla.</span><span class="sxs-lookup"><span data-stu-id="3918a-134">This value is known as the table's *primary key*, and you use it to identify each row in the table.</span></span> <span data-ttu-id="3918a-135">En el ejemplo, la columna de identificador es la clave principal de la libreta de direcciones que se muestra en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="3918a-135">In the example, the ID column is the primary key for the address book shown in the previous example.</span></span>

<span data-ttu-id="3918a-136">Gran parte del trabajo que hacer en las aplicaciones web consta de al leer información de la base de datos y mostrarlos en una página.</span><span class="sxs-lookup"><span data-stu-id="3918a-136">Much of the work you do in web applications consists of reading information out of the database and displaying it on a page.</span></span> <span data-ttu-id="3918a-137">Con frecuencia, también podrá recopilar información de usuarios y agregarlo a una base de datos, o podrá modificar los registros que ya están en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-137">You'll also often gather information from users and add it to a database, or you'll modify records that are already in the database.</span></span> <span data-ttu-id="3918a-138">(Hablaremos sobre todas estas operaciones en el transcurso de este conjunto del tutorial.)</span><span class="sxs-lookup"><span data-stu-id="3918a-138">(We'll cover all of these operations in the course of this tutorial set.)</span></span>

<span data-ttu-id="3918a-139">Trabajo de base de datos puede ser extremadamente complejo y puede requerir conocimientos especializados.</span><span class="sxs-lookup"><span data-stu-id="3918a-139">Database work can be enormously complex and can require specialized knowledge.</span></span> <span data-ttu-id="3918a-140">Sin embargo, para esta serie de tutoriales, tiene que conocer solo de los conceptos básicos, que todo se explicará a medida que avance.</span><span class="sxs-lookup"><span data-stu-id="3918a-140">For this tutorial set, though, you have to understand only basic concepts, which will all be explained as you go.</span></span>

## <a name="creating-a-database"></a><span data-ttu-id="3918a-141">Crear una base de datos</span><span class="sxs-lookup"><span data-stu-id="3918a-141">Creating a Database</span></span>

<span data-ttu-id="3918a-142">WebMatrix incluye herramientas que facilitan la creación de una base de datos y crear tablas en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-142">WebMatrix includes tools that make it easy to create a database and to create tables in the database.</span></span> <span data-ttu-id="3918a-143">(La estructura de una base de datos se conoce como la base de datos *esquema*.) Para este conjunto del tutorial, creará una base de datos que contiene solo una tabla de &mdash; películas.</span><span class="sxs-lookup"><span data-stu-id="3918a-143">(The structure of a database is referred to as the database's *schema*.) For this tutorial set, you'll create a database that has only one table in it &mdash; Movies.</span></span>

<span data-ttu-id="3918a-144">Abra WebMatrix si aún no lo ha hecho y abra el sitio WebPagesMovies que creó en el tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="3918a-144">Open WebMatrix if you haven't already done so, and open the WebPagesMovies site that you created in the previous tutorial.</span></span>

<span data-ttu-id="3918a-145">En el panel izquierdo, haga clic en el **base de datos** área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="3918a-145">In the left pane, click the **Database** workspace.</span></span>

![Pestaña de área de trabajo de la base de datos de WebMatrix](displaying-data/_static/image3.png)

<span data-ttu-id="3918a-147">Los cambios de la cinta de opciones para mostrar las tareas relacionadas con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-147">The ribbon changes to show database-related tasks.</span></span> <span data-ttu-id="3918a-148">En la cinta de opciones, haga clic en **nueva base de datos**.</span><span class="sxs-lookup"><span data-stu-id="3918a-148">In the ribbon, click **New Database**.</span></span>

![Botón 'Nueva base de datos' en la cinta de opciones de WebMatrix](displaying-data/_static/image4.png)

<span data-ttu-id="3918a-150">WebMatrix crea una base de datos de SQL Server CE (un *.sdf* archivo) que tiene el mismo nombre que su sitio &mdash; *WebPagesMovies.sdf*.</span><span class="sxs-lookup"><span data-stu-id="3918a-150">WebMatrix creates a SQL Server CE database (an *.sdf* file) that has the same name as your site &mdash; *WebPagesMovies.sdf*.</span></span> <span data-ttu-id="3918a-151">(No hacer esto aquí, pero puede cambiar el nombre del archivo al que desee, siempre y cuando tenga un *.sdf* extensión.)</span><span class="sxs-lookup"><span data-stu-id="3918a-151">(You won't do this here, but you can rename the file to anything you like, as long as it has an *.sdf* extension.)</span></span>

## <a name="creating-a-table"></a><span data-ttu-id="3918a-152">Creación de una tabla</span><span class="sxs-lookup"><span data-stu-id="3918a-152">Creating a Table</span></span>

<span data-ttu-id="3918a-153">En la cinta de opciones, haga clic en **nueva tabla**.</span><span class="sxs-lookup"><span data-stu-id="3918a-153">In the ribbon, click **New Table**.</span></span> <span data-ttu-id="3918a-154">WebMatrix abre el Diseñador de tablas en una nueva pestaña. (Si la opción de nueva tabla no está disponible, asegúrese de que la nueva base de datos está seleccionado en la vista de árbol de la izquierda.)</span><span class="sxs-lookup"><span data-stu-id="3918a-154">WebMatrix opens the table designer in a new tab. (If the New Table option isn't available, make sure that the new database is selected in the tree view on the left.)</span></span>

![Botón "Nueva tabla" en la cinta de opciones de WebMatrix](displaying-data/_static/image5.png)

<span data-ttu-id="3918a-156">En el cuadro de texto en la parte superior (donde la marca de agua dice "Escriba el nombre de la tabla"), escriba "Movies".</span><span class="sxs-lookup"><span data-stu-id="3918a-156">In the text box at the top (where the watermark says "Enter table name"), enter "Movies".</span></span>

![Escribir un nombre de tabla en el Diseñador de la base de datos de WebMatrix](displaying-data/_static/image6.png)

<span data-ttu-id="3918a-158">El panel debajo del nombre de tabla es donde se definen las columnas individuales.</span><span class="sxs-lookup"><span data-stu-id="3918a-158">The pane underneath the table name is where you define individual columns.</span></span> <span data-ttu-id="3918a-159">Para el *películas* tabla en este tutorial, creará solo unas pocas columnas: *Id. de*, *título*, *género*, y *año*.</span><span class="sxs-lookup"><span data-stu-id="3918a-159">For the *Movies* table in this tutorial, you'll create only a few columns: *ID*, *Title*, *Genre*, and *Year*.</span></span>

<span data-ttu-id="3918a-160">En el **nombre** , escriba "ID".</span><span class="sxs-lookup"><span data-stu-id="3918a-160">In the **Name** box, enter "ID".</span></span> <span data-ttu-id="3918a-161">Si introduce un valor aquí activa todos los controles para la nueva columna.</span><span class="sxs-lookup"><span data-stu-id="3918a-161">Entering a value here activates all the controls for the new column.</span></span>

<span data-ttu-id="3918a-162">Tabulador para ir a la **tipo de datos** lista y elija **int**. Este valor especifica que la columna de identificador contendrá datos enteros (número).</span><span class="sxs-lookup"><span data-stu-id="3918a-162">Tab to the **Data Type** list and choose **int**. This value specifies that the ID column will contain integer (number) data.</span></span>

> [!NOTE]
> <span data-ttu-id="3918a-163">No lo llamamos cualquier más aquí (mucho), pero puede usar gestos de teclado estándares de Windows para navegar en esta cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="3918a-163">We won't call it out any more here (much), but you can use standard Windows keyboard gestures to navigate in this grid.</span></span> <span data-ttu-id="3918a-164">Por ejemplo, puede cambiar entre los campos, simplemente puede empezar a escribir con el fin de seleccionar un elemento en una lista y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="3918a-164">For example, you can tab between fields, you can just start typing in order to select an item in a list, and so on.</span></span>


<span data-ttu-id="3918a-165">Tabulador, cambie el **Default Value** cuadro (es decir, déjelo en blanco).</span><span class="sxs-lookup"><span data-stu-id="3918a-165">Tab past the **Default Value** box (that is, leave it blank).</span></span> <span data-ttu-id="3918a-166">Tabulador para ir a la **es la clave principal** casilla y selecciónelo.</span><span class="sxs-lookup"><span data-stu-id="3918a-166">Tab to the **Is Primary Key** check box and select it.</span></span> <span data-ttu-id="3918a-167">Esta opción indica a la base de datos que el *ID* columna contendrá los datos que identifica las filas individuales.</span><span class="sxs-lookup"><span data-stu-id="3918a-167">This option tells the database that the *ID* column will contain the data that identifies individual rows.</span></span> <span data-ttu-id="3918a-168">(Es decir, cada fila tendrá un valor único en la columna de identificador que puede usar para encontrar esa fila.)</span><span class="sxs-lookup"><span data-stu-id="3918a-168">(That is, each row will have a unique value in the ID column that you can use to find that row.)</span></span>

<span data-ttu-id="3918a-169">Elija la **identidad** opción.</span><span class="sxs-lookup"><span data-stu-id="3918a-169">Choose the **Is Identity** option.</span></span> <span data-ttu-id="3918a-170">Esta opción indica a la base de datos que debe generar automáticamente el siguiente número secuencial para cada nueva fila.</span><span class="sxs-lookup"><span data-stu-id="3918a-170">This option tells the database that it should automatically generate the next sequential number for each new row.</span></span> <span data-ttu-id="3918a-171">(El **identidad** opción solo si también seleccionó la **es la clave principal** opción.)</span><span class="sxs-lookup"><span data-stu-id="3918a-171">(The **Is Identity** option works only if you've also selected the **Is Primary Key** option.)</span></span>

<span data-ttu-id="3918a-172">Haga clic en la siguiente fila de cuadrícula, o presione la tecla Tab dos veces para finalizar la fila actual.</span><span class="sxs-lookup"><span data-stu-id="3918a-172">Click in the next grid row, or press Tab twice to finish the current row.</span></span> <span data-ttu-id="3918a-173">Cualquier movimiento guarda la fila actual e inicia la siguiente.</span><span class="sxs-lookup"><span data-stu-id="3918a-173">Either gesture saves the current row and starts the next one.</span></span> <span data-ttu-id="3918a-174">Tenga en cuenta que el **Default Value** columna ahora dice **Null**.</span><span class="sxs-lookup"><span data-stu-id="3918a-174">Notice that the **Default Value** column now says **Null**.</span></span> <span data-ttu-id="3918a-175">(Null es el valor predeterminado para el valor predeterminado, por así decirlo.)</span><span class="sxs-lookup"><span data-stu-id="3918a-175">(Null is the default value for the default value, so to speak.)</span></span>

<span data-ttu-id="3918a-176">Cuando haya terminado de definir el nuevo **ID** columna, el diseñador tendrá un aspecto similar de esta ilustración:</span><span class="sxs-lookup"><span data-stu-id="3918a-176">When you've finished defining the new **ID** column, the designer will look like this illustration:</span></span>

![Diseñador de la base de datos de WebMatrix después de definir la columna de Id. de la tabla de películas](displaying-data/_static/image7.png)

<span data-ttu-id="3918a-178">Para crear la columna siguiente, haga clic en el cuadro en el **nombre** columna.</span><span class="sxs-lookup"><span data-stu-id="3918a-178">To create the next column, click in the box in the **Name** column.</span></span> <span data-ttu-id="3918a-179">Escriba "Title" para la columna y, a continuación, seleccione **nvarchar** para el **tipo de datos** valor.</span><span class="sxs-lookup"><span data-stu-id="3918a-179">Enter "Title" for the column and then select **nvarchar** for the **Data Type** value.</span></span> <span data-ttu-id="3918a-180">La parte "var" de **nvarchar** indica a la base de datos que los datos de esta columna será una cadena cuyo tamaño puede variar entre los registros.</span><span class="sxs-lookup"><span data-stu-id="3918a-180">The "var" part of **nvarchar** tells the database that the data for this column will be a string whose size might vary from record to record.</span></span> <span data-ttu-id="3918a-181">(El prefijo "n" representa "national", lo que indica que el campo puede contener datos de caracteres para cualquier alfabeto o el sistema de escritura, es decir, el campo contiene datos Unicode.)</span><span class="sxs-lookup"><span data-stu-id="3918a-181">(The "n" prefix represents "national," which indicates that the field can hold character data for any alphabet or writing system — that is, the field holds Unicode data.)</span></span>

<span data-ttu-id="3918a-182">Cuando se elige **nvarchar**, aparece otro cuadro donde puede especificar la longitud máxima para el campo.</span><span class="sxs-lookup"><span data-stu-id="3918a-182">When you choose **nvarchar**, another box appears where you can enter the maximum length for the field.</span></span> <span data-ttu-id="3918a-183">Escriba 50, en la suposición de que ningún título de la película que se va a trabajar en este tutorial será más de 50 caracteres.</span><span class="sxs-lookup"><span data-stu-id="3918a-183">Enter 50, on the assumption that no movie title that you'll work with in this tutorial will be longer than 50 characters.</span></span>

<span data-ttu-id="3918a-184">Omitir **Default Value** y desactive el **permitir valores nulos** opción.</span><span class="sxs-lookup"><span data-stu-id="3918a-184">Skip **Default Value** and clear the **Allow Nulls** option.</span></span> <span data-ttu-id="3918a-185">No desea permitir alguna película debe especificarse en la base de datos que no tiene un título de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-185">You don't want the database to allow any movies to be entered into the database that don't have a title.</span></span>

<span data-ttu-id="3918a-186">Cuando haya terminado y desplazarse a la fila siguiente, el diseñador se parecerá a esta ilustración:</span><span class="sxs-lookup"><span data-stu-id="3918a-186">When you're done and move to the next row, the designer looks like this illustration:</span></span>

![Diseñador de la base de datos de WebMatrix después de definir la columna de título de la tabla de películas](displaying-data/_static/image8.png)

<span data-ttu-id="3918a-188">Repita estos pasos para crear una columna denominada "Género", excepto para la longitud, establézcalo en sólo 30.</span><span class="sxs-lookup"><span data-stu-id="3918a-188">Repeat these steps to create a column named "Genre", except for the length, set it to just 30.</span></span>

<span data-ttu-id="3918a-189">Crear otra columna denominada "Año".</span><span class="sxs-lookup"><span data-stu-id="3918a-189">Create another column named "Year."</span></span> <span data-ttu-id="3918a-190">Para el tipo de datos, elija **nchar** (no **nvarchar**) y establecer la longitud en 4.</span><span class="sxs-lookup"><span data-stu-id="3918a-190">For the data type, choose **nchar** (not **nvarchar**) and set the length to 4.</span></span> <span data-ttu-id="3918a-191">Para el año, va a usar un número de 4 dígitos, como "1995" o "2010", por lo que no requieren una columna de tamaño variable.</span><span class="sxs-lookup"><span data-stu-id="3918a-191">For the year, you're going to use a 4-digit number like "1995" or "2010", so you don't require a variable-sized column.</span></span>

<span data-ttu-id="3918a-192">Este es el aspecto del diseño finalizado:</span><span class="sxs-lookup"><span data-stu-id="3918a-192">Here's what the finished design looks like:</span></span>

![Diseñador de base de datos de WebMatrix después de que todos los campos definidos para la tabla de películas](displaying-data/_static/image9.png)

<span data-ttu-id="3918a-194">Presione Ctrl + S o haga clic en el **guardar** botón en la barra de herramientas de acceso rápido.</span><span class="sxs-lookup"><span data-stu-id="3918a-194">Press Ctrl+S or click the **Save** button in the Quick Access toolbar.</span></span> <span data-ttu-id="3918a-195">Cierre el Diseñador de la base de datos al cerrar la pestaña.</span><span class="sxs-lookup"><span data-stu-id="3918a-195">Close the database designer by closing the tab.</span></span>

## <a name="adding-some-example-data"></a><span data-ttu-id="3918a-196">Agregando algunos datos de ejemplo</span><span class="sxs-lookup"><span data-stu-id="3918a-196">Adding Some Example Data</span></span>

<span data-ttu-id="3918a-197">Más adelante en esta serie de tutoriales, creará una página donde puede especificar nuevas películas en un formulario.</span><span class="sxs-lookup"><span data-stu-id="3918a-197">Later in this tutorial series you'll create a page where you can enter new movies in a form.</span></span> <span data-ttu-id="3918a-198">Por ahora, sin embargo, puede agregar algunos datos de ejemplo que, a continuación, se pueden mostrar en una página.</span><span class="sxs-lookup"><span data-stu-id="3918a-198">For now, however, you can add some example data that you can then display on a page.</span></span>

<span data-ttu-id="3918a-199">En el **base de datos** área de trabajo de WebMatrix, observe que hay un árbol que muestra la *.sdf* archivo que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3918a-199">In the **Database** workspace in WebMatrix, notice that there's a tree that shows you the *.sdf* file you created earlier.</span></span> <span data-ttu-id="3918a-200">Abra el nodo para el nuevo *.sdf* archivo y, a continuación, abra el **tablas** nodo.</span><span class="sxs-lookup"><span data-stu-id="3918a-200">Open the node for your new *.sdf* file, and then open the **Tables** node.</span></span>

![Área de trabajo de base de datos de WebMatrix con árbol abierto a la tabla de películas](displaying-data/_static/image10.png)

<span data-ttu-id="3918a-202">Haga clic en el **películas** nodo y, a continuación, elija **datos**.</span><span class="sxs-lookup"><span data-stu-id="3918a-202">Right-click the **Movies** node and then choose **Data**.</span></span> <span data-ttu-id="3918a-203">WebMatrix abre una cuadrícula donde puede escribir los datos para el *películas* tabla:</span><span class="sxs-lookup"><span data-stu-id="3918a-203">WebMatrix opens a grid where you can enter data for the *Movies* table:</span></span>

![Cuadrícula de entrada de la base de datos en WebMatrix (vacío)](displaying-data/_static/image11.png)

<span data-ttu-id="3918a-205">Haga clic en el **título** columna y escriba "Cuando Harry cumplen Sally".</span><span class="sxs-lookup"><span data-stu-id="3918a-205">Click the **Title** column and enter "When Harry Met Sally".</span></span> <span data-ttu-id="3918a-206">Mover a la **género** columna (que puede utilizar la tecla Tab) y escriba "Románticos Comedia".</span><span class="sxs-lookup"><span data-stu-id="3918a-206">Move to the **Genre** column (you can use the Tab key) and enter "Romantic Comedy".</span></span> <span data-ttu-id="3918a-207">Mover a la **año** columna y escriba "1989":</span><span class="sxs-lookup"><span data-stu-id="3918a-207">Move to the **Year** column and enter "1989":</span></span>

![Cuadrícula de entrada de base de datos con un registro en WebMatrix](displaying-data/_static/image12.png)

<span data-ttu-id="3918a-209">Presione ENTRAR y WebMatrix guarda la nueva película.</span><span class="sxs-lookup"><span data-stu-id="3918a-209">Press Enter, and WebMatrix saves the new movie.</span></span> <span data-ttu-id="3918a-210">Tenga en cuenta que el **ID** columna ha sido rellenada.</span><span class="sxs-lookup"><span data-stu-id="3918a-210">Notice that the **ID** column has been filled in.</span></span>

![Cuadrícula de entrada de base de datos con un único registro y el identificador generado automáticamente en WebMatrix](displaying-data/_static/image13.png)

<span data-ttu-id="3918a-212">Escriba otra película (por ejemplo, "pasado con el viento", "Drama", "1939").</span><span class="sxs-lookup"><span data-stu-id="3918a-212">Enter another movie (for example, "Gone with the Wind", "Drama", "1939").</span></span> <span data-ttu-id="3918a-213">Se rellena la columna Id. nuevo:</span><span class="sxs-lookup"><span data-stu-id="3918a-213">The ID column is filled in again:</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con dos registros y los identificadores generados automáticamente](displaying-data/_static/image14.png)

<span data-ttu-id="3918a-215">Escriba una película terceros (por ejemplo, "Ghostbusters", "Comedia").</span><span class="sxs-lookup"><span data-stu-id="3918a-215">Enter a third movie (for example, "Ghostbusters", "Comedy").</span></span> <span data-ttu-id="3918a-216">Como experimento, deje el **año** columna en blanco y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="3918a-216">As an experiment, leave the **Year** column blank and then press Enter.</span></span> <span data-ttu-id="3918a-217">Dado que anula la selección de la **permitir valores nulos** opción, la base de datos muestra un error:</span><span class="sxs-lookup"><span data-stu-id="3918a-217">Because you unselected the **Allow Nulls** option, the database shows an error:</span></span>

![Error de 'Datos no válidos' muestra si se deja en blanco el valor de una columna necesaria](displaying-data/_static/image15.png)

<span data-ttu-id="3918a-219">Haga clic en **Aceptar** para volver atrás y corregir la entrada (el año para "Ghostbusters" es 1984) y, a continuación, presione ENTRAR.</span><span class="sxs-lookup"><span data-stu-id="3918a-219">Click **OK** to go back and fix the entry (the year for "Ghostbusters" is 1984), and then press Enter.</span></span>

<span data-ttu-id="3918a-220">Rellene varias películas hasta que haya 8 o al menos.</span><span class="sxs-lookup"><span data-stu-id="3918a-220">Fill in several movies until you have 8 or so.</span></span> <span data-ttu-id="3918a-221">(Escriba 8 resulta más fácil trabajar con paginación más adelante.</span><span class="sxs-lookup"><span data-stu-id="3918a-221">(Entering 8 makes it easier to work with paging later.</span></span> <span data-ttu-id="3918a-222">Pero si es demasiado elevado, escriba algunas por ahora). No importan los datos reales.</span><span class="sxs-lookup"><span data-stu-id="3918a-222">But if that's too many, enter just a few for now.) The actual data doesn't matter.</span></span>

![Cuadrícula de entrada de base de datos en WebMatrix con ambos registros](displaying-data/_static/image16.png)

<span data-ttu-id="3918a-224">Si ha especificado todas las películas sin errores, los valores de identificador son secuenciales.</span><span class="sxs-lookup"><span data-stu-id="3918a-224">If you entered all the movies without any errors, the ID values are sequential.</span></span> <span data-ttu-id="3918a-225">Si intenta guardar un registro de película incompletos, los números de identificador no sea secuenciales.</span><span class="sxs-lookup"><span data-stu-id="3918a-225">If you tried to save an incomplete movie record, the ID numbers might not be sequential.</span></span> <span data-ttu-id="3918a-226">En caso afirmativo, eso está bien.</span><span class="sxs-lookup"><span data-stu-id="3918a-226">If so, that's okay.</span></span> <span data-ttu-id="3918a-227">Los números no tienen ningún significado inherente y lo único que es importante es que son únicos en el *películas* tabla.</span><span class="sxs-lookup"><span data-stu-id="3918a-227">The numbers don't have any inherent meaning, and the only thing that's important is that they're unique in the *Movies* table.</span></span>

<span data-ttu-id="3918a-228">Cierre la pestaña que contiene el Diseñador de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-228">Close the tab that contains the database designer.</span></span>

<span data-ttu-id="3918a-229">Ahora puede activar para mostrar los datos en una página web.</span><span class="sxs-lookup"><span data-stu-id="3918a-229">Now you can turn to displaying this data on a web page.</span></span>

## <a name="displaying-data-in-a-page-by-using-the-webgrid-helper"></a><span data-ttu-id="3918a-230">Mostrar datos en una página mediante el uso de la aplicación auxiliar WebGrid</span><span class="sxs-lookup"><span data-stu-id="3918a-230">Displaying Data in a Page by Using the WebGrid Helper</span></span>

<span data-ttu-id="3918a-231">Para mostrar datos en una página, que va a usar el `WebGrid` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3918a-231">To display data in a page, you're going to use the `WebGrid` helper.</span></span> <span data-ttu-id="3918a-232">Esta aplicación auxiliar genera una pantalla en una cuadrícula o una tabla (las filas y columnas).</span><span class="sxs-lookup"><span data-stu-id="3918a-232">This helper produces a display in a grid or table (rows and columns).</span></span> <span data-ttu-id="3918a-233">Como verá, será capaz de restringir la cuadrícula con formato y otras características.</span><span class="sxs-lookup"><span data-stu-id="3918a-233">As you'll see, you'll be able refine the grid with formatting and other features.</span></span>

<span data-ttu-id="3918a-234">Para ejecutar la cuadrícula, tendrá que escribir unas cuantas líneas de código.</span><span class="sxs-lookup"><span data-stu-id="3918a-234">To run the grid, you'll have to write a few lines of code.</span></span> <span data-ttu-id="3918a-235">Estas pocas líneas actuará como un tipo de modelo para casi todo el acceso a los datos que en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="3918a-235">These few lines will serve as a kind of pattern for almost all of the data access that you do in this tutorial.</span></span>

> [!NOTE]
> <span data-ttu-id="3918a-236">Tiene muchas opciones para mostrar los datos en una página; en realidad el `WebGrid` auxiliar es solo uno.</span><span class="sxs-lookup"><span data-stu-id="3918a-236">You actually have many options for displaying data on a page; the `WebGrid` helper is just one.</span></span> <span data-ttu-id="3918a-237">Se eligió para este tutorial porque es la manera más fácil para mostrar los datos y porque es bastante flexible.</span><span class="sxs-lookup"><span data-stu-id="3918a-237">We chose it for this tutorial because it's the easiest way to display data and because it's reasonably flexible.</span></span> <span data-ttu-id="3918a-238">En el conjunto del tutorial siguiente, verá cómo usar la forma "manual" más para trabajar con datos en la página, que ofrece un control más directo sobre cómo mostrar los datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-238">In the next tutorial set, you'll see how to use a more "manual" way to work with data in the page, which gives you more direct control over how to display the data.</span></span>


<span data-ttu-id="3918a-239">En el panel izquierdo en WebMatrix, haga clic en el **archivos** área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="3918a-239">In the left pane in WebMatrix, click the **Files** workspace.</span></span>

<span data-ttu-id="3918a-240">Es la nueva base de datos que creó en el *aplicación\_datos* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3918a-240">The new database you created is in the *App\_Data* folder.</span></span> <span data-ttu-id="3918a-241">Si aún no existe la carpeta, WebMatrix creó para la nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-241">If the folder didn't already exist, WebMatrix created it for your new database.</span></span> <span data-ttu-id="3918a-242">(Podría haber existido la carpeta si había instalado previamente las aplicaciones auxiliares).</span><span class="sxs-lookup"><span data-stu-id="3918a-242">(The folder might have existed if you'd previously installed helpers.)</span></span>

<span data-ttu-id="3918a-243">En la vista de árbol, seleccione la raíz del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3918a-243">In the tree view, select the root of the website.</span></span> <span data-ttu-id="3918a-244">Debe seleccionar la raíz del sitio Web; en caso contrario, el nuevo archivo podría agregarse a la aplicación\_carpeta de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-244">You must select the root of the website; otherwise, the new file might be added to the App\_Data folder.</span></span>

<span data-ttu-id="3918a-245">En la cinta de opciones, haga clic en **New**.</span><span class="sxs-lookup"><span data-stu-id="3918a-245">In the ribbon, click **New**.</span></span> <span data-ttu-id="3918a-246">En el **elegir un tipo de archivo** , seleccione **CSHTML**.</span><span class="sxs-lookup"><span data-stu-id="3918a-246">In the **Choose a File Type** box, choose **CSHTML**.</span></span>

<span data-ttu-id="3918a-247">En el **nombre** cuadro, asigne el nombre de la nueva página "Movies.cshtml":</span><span class="sxs-lookup"><span data-stu-id="3918a-247">In the **Name** box, name the new page "Movies.cshtml":</span></span>

![Cuadro de diálogo "Elegir un tipo de archivo" que muestra la página de 'películas;'](displaying-data/_static/image17.png)

<span data-ttu-id="3918a-249">Haga clic en el **Aceptar** botón.</span><span class="sxs-lookup"><span data-stu-id="3918a-249">Click the **OK** button.</span></span> <span data-ttu-id="3918a-250">WebMatrix abre un nuevo archivo con algunos elementos esqueletos en ella.</span><span class="sxs-lookup"><span data-stu-id="3918a-250">WebMatrix opens a new file with some skeleton elements in it.</span></span> <span data-ttu-id="3918a-251">En primer lugar deberá escribir algo de código para obtener los datos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-251">First you'll write some code to go get the data from the database.</span></span> <span data-ttu-id="3918a-252">A continuación, agregará el marcado en la página para mostrar los datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-252">Then you'll add markup to the page to actually display the data.</span></span>

### <a name="writing-the-data-query-code"></a><span data-ttu-id="3918a-253">Escribir el código de la consulta de datos</span><span class="sxs-lookup"><span data-stu-id="3918a-253">Writing the Data Query Code</span></span>

<span data-ttu-id="3918a-254">En la parte superior de la página, entre el `@{` y `}` caracteres, escriba el código siguiente.</span><span class="sxs-lookup"><span data-stu-id="3918a-254">At the top of the page, between the `@{` and `}` characters, enter the following code.</span></span> <span data-ttu-id="3918a-255">(Asegúrese de que escriba este código entre las llaves de cierre y apertura).</span><span class="sxs-lookup"><span data-stu-id="3918a-255">(Make sure that you enter this code between the opening and closing braces.)</span></span>

[!code-csharp[Main](displaying-data/samples/sample1.cs)]

<span data-ttu-id="3918a-256">La primera línea abre la base de datos que creó anteriormente, que siempre es el primer paso antes de hacer algo con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-256">The first line opens the database that you created earlier, which is always the first step before doing something with the database.</span></span> <span data-ttu-id="3918a-257">Indica el `Database.Open` nombre del método de la base de datos para abrir.</span><span class="sxs-lookup"><span data-stu-id="3918a-257">You tell the `Database.Open` method name of the database to open.</span></span> <span data-ttu-id="3918a-258">Tenga en cuenta que no incluye *.sdf* en el nombre.</span><span class="sxs-lookup"><span data-stu-id="3918a-258">Notice that you don't include *.sdf* in the name.</span></span> <span data-ttu-id="3918a-259">El `Open` método supone que está buscando un *.sdf* archivo (es decir, *WebPagesMovies.sdf*) y que la *.sdf* archivo se encuentra en la *aplicación\_ Datos* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3918a-259">The `Open` method assumes that it's looking for an *.sdf* file (that is, *WebPagesMovies.sdf*) and that the *.sdf* file is in the *App\_Data* folder.</span></span> <span data-ttu-id="3918a-260">(Anteriormente mencionamos que el *aplicación\_datos* carpeta está reservada; este escenario es uno de los lugares donde ASP.NET hace suposiciones sobre ese nombre.)</span><span class="sxs-lookup"><span data-stu-id="3918a-260">(Earlier we noted that the *App\_Data* folder is reserved; this scenario is one of the places where ASP.NET makes assumptions about that name.)</span></span>

<span data-ttu-id="3918a-261">Cuando se abre la base de datos, se coloca una referencia a él en la variable denominada `db`.</span><span class="sxs-lookup"><span data-stu-id="3918a-261">When the database is opened, a reference to it is put into the variable named `db`.</span></span> <span data-ttu-id="3918a-262">(Lo que podría tener cualquier nombre.) El `db` variable es cómo terminará interactuar con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-262">(Which could be named anything.) The `db` variable is how you'll end up interacting with the database.</span></span>

<span data-ttu-id="3918a-263">La segunda línea realmente captura los datos de la base de datos mediante el uso de la `Query` método.</span><span class="sxs-lookup"><span data-stu-id="3918a-263">The second line actually fetches the database data by using the `Query` method.</span></span> <span data-ttu-id="3918a-264">Tenga en cuenta cómo funciona este código: el `db` variable tiene una referencia a la base de datos abierto y se invoca el `Query` método utilizando la `db` variable (`db.Query`).</span><span class="sxs-lookup"><span data-stu-id="3918a-264">Notice how this code works: the `db` variable has a reference to the opened database, and you invoke the `Query` method by using the `db` variable (`db.Query`).</span></span>

<span data-ttu-id="3918a-265">La propia consulta es una instancia de SQL `Select` instrucción.</span><span class="sxs-lookup"><span data-stu-id="3918a-265">The query itself is a SQL `Select` statement.</span></span> <span data-ttu-id="3918a-266">(Para cierta información básica acerca de SQL, vea la explicación más adelante). En la instrucción, `Movies` identifica la tabla a la consulta.</span><span class="sxs-lookup"><span data-stu-id="3918a-266">(For a little background about SQL, see the explanation later.) In the statement, `Movies` identifies the table to query.</span></span> <span data-ttu-id="3918a-267">El `*` carácter especifica que la consulta debe devolver todas las columnas de la tabla.</span><span class="sxs-lookup"><span data-stu-id="3918a-267">The `*` character specifies that the query should return all the columns from the table.</span></span> <span data-ttu-id="3918a-268">(Podría también mostrar columnas individualmente, separados por comas.)</span><span class="sxs-lookup"><span data-stu-id="3918a-268">(You could also list columns individually, separated by commas.)</span></span>

<span data-ttu-id="3918a-269">Los resultados de la consulta, si existe, se devuelven y se ponen a disposición de los `selectedData` variable.</span><span class="sxs-lookup"><span data-stu-id="3918a-269">The results of the query, if any, are returned and made available in the `selectedData` variable.</span></span> <span data-ttu-id="3918a-270">De nuevo, la variable puede tener cualquier nombre.</span><span class="sxs-lookup"><span data-stu-id="3918a-270">Again, the variable could be named anything.</span></span>

<span data-ttu-id="3918a-271">Por último, la tercera línea indica a ASP.NET que desea usar una instancia de la `WebGrid` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3918a-271">Finally, the third line tells ASP.NET that you want to use an instance of the `WebGrid` helper.</span></span> <span data-ttu-id="3918a-272">Crear (*crear instancias de*) el objeto auxiliar mediante el uso de la `new` palabra clave y le pasa los resultados de consulta a través de la `selectedData` variable.</span><span class="sxs-lookup"><span data-stu-id="3918a-272">You create (*instantiate*) the helper object by using the `new` keyword and pass it the query results via the `selectedData` variable.</span></span> <span data-ttu-id="3918a-273">El nuevo `WebGrid` objeto, junto con los resultados de la consulta de base de datos, se ponen a disposición en el `grid` variable.</span><span class="sxs-lookup"><span data-stu-id="3918a-273">The new `WebGrid` object, along with the results of the database query, are made available in the `grid` variable.</span></span> <span data-ttu-id="3918a-274">Necesitará ese resultado en un momento para ver los datos en la página.</span><span class="sxs-lookup"><span data-stu-id="3918a-274">You'll need that result in a moment to actually display the data in the page.</span></span>

<span data-ttu-id="3918a-275">En esta fase, se ha abierto la base de datos, ha obtenido los datos que desea y que ha preparado el `WebGrid` auxiliar con esos datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-275">At this stage, the database has been opened, you've gotten the data you want, and you've prepared the `WebGrid` helper with that data.</span></span> <span data-ttu-id="3918a-276">A continuación es crear el marcado en la página.</span><span class="sxs-lookup"><span data-stu-id="3918a-276">Next is to create the markup in the page.</span></span>

> [!TIP] 
> 
> <span data-ttu-id="3918a-277">**Lenguaje de consulta estructurado (SQL)**</span><span class="sxs-lookup"><span data-stu-id="3918a-277">**Structured Query Language (SQL)**</span></span>
> 
> <span data-ttu-id="3918a-278">SQL es un lenguaje que se usa en muchas bases de datos relacionales para administrar los datos en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-278">SQL is a language that's used in most relational databases for managing data in a database.</span></span> <span data-ttu-id="3918a-279">Incluye los comandos que le permiten recuperar datos y actualizarlo y que le permiten crear, modificar y administrar datos en tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-279">It includes commands that let you retrieve data and update it, and that let you create, modify, and manage data in database tables.</span></span> <span data-ttu-id="3918a-280">SQL no es un lenguaje de programación (por ejemplo, C#).</span><span class="sxs-lookup"><span data-stu-id="3918a-280">SQL is different than a programming language (like C#).</span></span> <span data-ttu-id="3918a-281">Con SQL, indicar la base de datos, lo que desea y trabajo de la base de datos consiste en averiguar cómo obtener los datos o realizar la tarea.</span><span class="sxs-lookup"><span data-stu-id="3918a-281">With SQL, you tell the database what you want, and it's the database's job to figure out how to get the data or perform the task.</span></span> <span data-ttu-id="3918a-282">Estos son algunos ejemplos de algunos comandos SQL y qué hacer:</span><span class="sxs-lookup"><span data-stu-id="3918a-282">Here are examples of some SQL commands and what they do:</span></span>
> 
> `Select * From Movies`
> 
> `SELECT ID, Name, Price FROM Product WHERE Price > 10.00 ORDER BY Name`
> 
> <span data-ttu-id="3918a-283">La primera `Select` instrucción obtiene todas las columnas (especificado por `*`) desde el *películas* tabla.</span><span class="sxs-lookup"><span data-stu-id="3918a-283">The first `Select` statement gets all the columns (specified by `*`) from the *Movies* table.</span></span>
> 
> <span data-ttu-id="3918a-284">El segundo `Select` instrucción recupera las columnas ID, Name y precio de los registros en el *producto* tabla cuyo valor de la columna precio es superior a 10.</span><span class="sxs-lookup"><span data-stu-id="3918a-284">The second `Select` statement fetches the ID, Name, and Price columns from records in the *Product* table whose Price column value is more than 10.</span></span> <span data-ttu-id="3918a-285">El comando devuelve los resultados en orden alfabético según los valores de la columna nombre.</span><span class="sxs-lookup"><span data-stu-id="3918a-285">The command returns the results in alphabetical order based on the values of the Name column.</span></span> <span data-ttu-id="3918a-286">Si no hay registros que coincidan con los criterios de precio, el comando devuelve un conjunto vacío.</span><span class="sxs-lookup"><span data-stu-id="3918a-286">If no records match the price criteria, the command returns an empty set.</span></span>
> 
> `INSERT INTO Product (Name, Description, Price) VALUES ('Croissant', 'A flaky delight', 1.99)`
> 
> <span data-ttu-id="3918a-287">Este comando inserta un nuevo registro en el *producto* tabla, al establecer la columna nombre para el precio, la columna Description para "Los usuarios no confiables A" y "Croissant" a 1.99.</span><span class="sxs-lookup"><span data-stu-id="3918a-287">This command inserts a new record into the *Product* table, setting the Name column to "Croissant", the Description column to "A flaky delight", and the price to 1.99.</span></span>
> 
> <span data-ttu-id="3918a-288">Tenga en cuenta que, al especificar un valor no numérico, el valor esté entre comillas simples (no comillas dobles, como en C#).</span><span class="sxs-lookup"><span data-stu-id="3918a-288">Notice that when you're specifying a non-numeric value, the value is enclosed in single quotation marks (not double quotation marks, as in C#).</span></span> <span data-ttu-id="3918a-289">Utilice estas comillas alrededor de los valores de texto o fecha, pero no en torno a los números.</span><span class="sxs-lookup"><span data-stu-id="3918a-289">You use these quotation marks around text or date values, but not around numbers.</span></span>
> 
> `DELETE FROM Product WHERE ExpirationDate < '01/01/2008'`
> 
> <span data-ttu-id="3918a-290">Este comando elimina los registros de la *producto* tabla cuya columna de fecha de expiración es anterior al 1 de enero de 2008.</span><span class="sxs-lookup"><span data-stu-id="3918a-290">This command deletes records in the *Product* table whose expiration date column is earlier than January 1, 2008.</span></span> <span data-ttu-id="3918a-291">(El comando supone que el *producto* tabla tiene una columna de este tipo, por supuesto.) Se especifica la fecha en formato MM/DD/AAAA, pero se debe escribir en el formato que se usa para la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="3918a-291">(The command assumes that the *Product* table has such a column, of course.) The date is entered here in MM/DD/YYYY format, but it should be entered in the format that's used for your locale.</span></span>
> 
> <span data-ttu-id="3918a-292">El `Insert` y `Delete` comandos no devuelven conjuntos de resultados.</span><span class="sxs-lookup"><span data-stu-id="3918a-292">The `Insert` and `Delete` commands don't return result sets.</span></span> <span data-ttu-id="3918a-293">En su lugar, devuelven un número que indica el número de registros afectado por el comando.</span><span class="sxs-lookup"><span data-stu-id="3918a-293">Instead, they return a number that tells you how many records were affected by the command.</span></span>
> 
> <span data-ttu-id="3918a-294">Para algunas de estas operaciones (por ejemplo, insertar y eliminar registros), el proceso que solicita la operación debe tener los permisos adecuados en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-294">For some of these operations (like inserting and deleting records), the process that's requesting the operation has to have appropriate permissions in the database.</span></span> <span data-ttu-id="3918a-295">Es por eso para bases de datos de producción a menudo tiene que proporcionar un nombre de usuario y una contraseña cuando se conecta a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-295">That's why for production databases you often have to supply a user name and password when you connect to the database.</span></span>
> 
> <span data-ttu-id="3918a-296">Existen docenas de comandos SQL, pero siguen un patrón similar a los comandos que aparecen aquí.</span><span class="sxs-lookup"><span data-stu-id="3918a-296">There are dozens of SQL commands, but they all follow a pattern like the commands you see here.</span></span> <span data-ttu-id="3918a-297">Puede usar los comandos SQL para crear tablas de base de datos, contar el número de registros en una tabla, calcular precios y realizar muchas más operaciones.</span><span class="sxs-lookup"><span data-stu-id="3918a-297">You can use SQL commands to create database tables, count the number of records in a table, calculate prices, and perform many more operations.</span></span>


### <a name="adding-markup-to-display-the-data"></a><span data-ttu-id="3918a-298">Adición de marcado para mostrar los datos</span><span class="sxs-lookup"><span data-stu-id="3918a-298">Adding Markup to Display the Data</span></span>

<span data-ttu-id="3918a-299">Dentro de la `<head>` elemento, el conjunto de contenido de la `<title>` elemento a "Movies":</span><span class="sxs-lookup"><span data-stu-id="3918a-299">Inside the `<head>` element, set contents of the `<title>` element to "Movies":</span></span>

[!code-html[Main](displaying-data/samples/sample2.html?highlight=3)]

<span data-ttu-id="3918a-300">Dentro de la `<body>` elemento de la página, agregue lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3918a-300">Inside the `<body>` element of the page, add the following:</span></span>

[!code-html[Main](displaying-data/samples/sample3.html)]

<span data-ttu-id="3918a-301">Ya está.</span><span class="sxs-lookup"><span data-stu-id="3918a-301">That's it.</span></span> <span data-ttu-id="3918a-302">El `grid` variable es el valor que creó cuando creó la `WebGrid` objeto en el código anterior.</span><span class="sxs-lookup"><span data-stu-id="3918a-302">The `grid` variable is the value you created when you created the `WebGrid` object in code earlier.</span></span>

<span data-ttu-id="3918a-303">En la vista de árbol de WebMatrix, haga clic en la página y seleccione **iniciar en el explorador**.</span><span class="sxs-lookup"><span data-stu-id="3918a-303">In the WebMatrix tree view, right-click the page and select **Launch in browser**.</span></span> <span data-ttu-id="3918a-304">Verá algo parecido a esta página:</span><span class="sxs-lookup"><span data-stu-id="3918a-304">You'll see something like this page:</span></span>

![Salida de aplicación auxiliar WebGrid predeterminada de la tabla de películas](displaying-data/_static/image18.png)

<span data-ttu-id="3918a-306">Haga clic en un vínculo de encabezado de columna para ordenar por esa columna.</span><span class="sxs-lookup"><span data-stu-id="3918a-306">Click a column heading link to sort by that column.</span></span> <span data-ttu-id="3918a-307">Poder ordenar haciendo clic en un encabezado es una característica que está integrada en el **WebGrid** auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3918a-307">Being able to sort by clicking a heading is a feature that's built into the **WebGrid** helper.</span></span>

<span data-ttu-id="3918a-308">El `GetHtml` método, como su nombre sugiere, genera marcado que muestra los datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-308">The `GetHtml` method, as its name suggests, generates markup that displays the data.</span></span> <span data-ttu-id="3918a-309">De forma predeterminada, el `GetHtml` método genera un elemento HTML `<table>` elemento.</span><span class="sxs-lookup"><span data-stu-id="3918a-309">By default, the `GetHtml` method generates an HTML `<table>` element.</span></span> <span data-ttu-id="3918a-310">(Si lo desea, puede comprobar la representación examinando el origen de la página en el explorador).</span><span class="sxs-lookup"><span data-stu-id="3918a-310">(If you want, you can verify the rendering by looking at the source of the page in the browser.)</span></span>

## <a name="modifying-the-look-of-the-grid"></a><span data-ttu-id="3918a-311">Modificar la apariencia de la cuadrícula</span><span class="sxs-lookup"><span data-stu-id="3918a-311">Modifying the Look of the Grid</span></span>

<span data-ttu-id="3918a-312">Mediante el `WebGrid` auxiliar como acaba de hacer es fácil, pero la presentación resultante es simple.</span><span class="sxs-lookup"><span data-stu-id="3918a-312">Using the `WebGrid` helper like you just did is easy, but the resulting display is plain.</span></span> <span data-ttu-id="3918a-313">El `WebGrid` auxiliar tiene todo tipo de opciones que permiten controlar cómo se muestran los datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-313">The `WebGrid` helper has all sorts of options that let you control how the data is displayed.</span></span> <span data-ttu-id="3918a-314">Hay demasiadas para explorar en este tutorial, pero en esta sección le dará una idea de algunas de esas opciones.</span><span class="sxs-lookup"><span data-stu-id="3918a-314">There are far too many to explore in this tutorial, but this section will give you an idea of some of those options.</span></span> <span data-ttu-id="3918a-315">Algunas opciones adicionales se tratarán en otros tutoriales de esta serie.</span><span class="sxs-lookup"><span data-stu-id="3918a-315">A few additional options will be covered in later tutorials in this series.</span></span>

### <a name="specifying-individual-columns-to-display"></a><span data-ttu-id="3918a-316">Especificar columnas individuales para mostrar</span><span class="sxs-lookup"><span data-stu-id="3918a-316">Specifying Individual Columns to Display</span></span>

<span data-ttu-id="3918a-317">Para empezar, puede especificar que desea mostrar solo algunas columnas.</span><span class="sxs-lookup"><span data-stu-id="3918a-317">To start, you can specify that you want to display only certain columns.</span></span> <span data-ttu-id="3918a-318">De forma predeterminada, como ha visto, la cuadrícula muestra cuatro de las columnas de la *películas* tabla.</span><span class="sxs-lookup"><span data-stu-id="3918a-318">By default, as you've seen, the grid shows all four of the columns from the *Movies* table.</span></span>

<span data-ttu-id="3918a-319">En el *Movies.cshtml* de archivo, reemplace el `@grid.GetHtml()` marcado que acaba de agregar por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3918a-319">In the *Movies.cshtml* file, replace the `@grid.GetHtml()` markup that you just added with the following:</span></span>

[!code-css[Main](displaying-data/samples/sample4.css)]

<span data-ttu-id="3918a-320">Para indicar a qué columnas desea mostrar de la aplicación auxiliar, incluye un `columns` parámetro para el `GetHtml` método y pasar una colección de columnas.</span><span class="sxs-lookup"><span data-stu-id="3918a-320">To tell the helper which columns to display, you include a `columns` parameter for the `GetHtml` method and pass in a collection of columns.</span></span> <span data-ttu-id="3918a-321">En la colección, debe especificar cada columna que se va a incluir.</span><span class="sxs-lookup"><span data-stu-id="3918a-321">In the collection, you specify each column to include.</span></span> <span data-ttu-id="3918a-322">Especifique una columna individual para mostrar mediante la inclusión de un `grid.Column` de objetos y pase el nombre de la columna de datos que desee.</span><span class="sxs-lookup"><span data-stu-id="3918a-322">You specify an individual column to display by including a `grid.Column` object, and pass in the name of the data column you want.</span></span> <span data-ttu-id="3918a-323">(Estas columnas deben incluirse en los resultados de consulta SQL: el `WebGrid` auxiliar no puede mostrar las columnas que no se han devuelto por la consulta.)</span><span class="sxs-lookup"><span data-stu-id="3918a-323">(These columns must be included in the SQL query results — the `WebGrid` helper cannot display columns that were not returned by the query.)</span></span>

<span data-ttu-id="3918a-324">Iniciar el *Movies.cshtml* página en el explorador y esta vez obtendrá una pantalla como la siguiente (tenga en cuenta que no se muestra ninguna columna de identificador):</span><span class="sxs-lookup"><span data-stu-id="3918a-324">Launch the *Movies.cshtml* page in the browser again, and this time you get a display like the following one (notice that no ID column is displayed):</span></span>

![WebGrid que muestre solo las columnas seleccionadas](displaying-data/_static/image19.png)

### <a name="changing-the-look-of-the-grid"></a><span data-ttu-id="3918a-326">Cambiar la apariencia de la cuadrícula</span><span class="sxs-lookup"><span data-stu-id="3918a-326">Changing the Look of the Grid</span></span>

<span data-ttu-id="3918a-327">Hay bastantes más opciones para mostrar columnas, algunas de las cuales se analizarán en los tutoriales posteriores de este conjunto.</span><span class="sxs-lookup"><span data-stu-id="3918a-327">There are quite a few more options for displaying columns, some of which will be explored in later tutorials in this set.</span></span> <span data-ttu-id="3918a-328">Por ahora, esta sección le presentará maneras en que puede aplicar el estilo de la cuadrícula como un todo.</span><span class="sxs-lookup"><span data-stu-id="3918a-328">For now, this section will introduce you to ways in which you can style the grid as a whole.</span></span>

<span data-ttu-id="3918a-329">Dentro de la `<head>` sección de la página, justo antes de cerrar `</head>` etiqueta, agregue las siguientes `<style>` elemento:</span><span class="sxs-lookup"><span data-stu-id="3918a-329">Inside the `<head>` section of the page, just before the closing `</head>` tag, add the following `<style>` element:</span></span>

[!code-css[Main](displaying-data/samples/sample5.css)]

<span data-ttu-id="3918a-330">Este marcado CSS define clases denominadas `grid`, `head`, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="3918a-330">This CSS markup defines classes named `grid`, `head`, and so on.</span></span> <span data-ttu-id="3918a-331">También puede poner estas definiciones de estilo en otro *.css* de archivos y vincularla a la página.</span><span class="sxs-lookup"><span data-stu-id="3918a-331">You could also put these style definitions in a separate *.css* file and link that to the page.</span></span> <span data-ttu-id="3918a-332">(De hecho, se hará más adelante en este conjunto del tutorial.) Pero para facilitar las cosas para este tutorial, dentro de la misma página que muestra los datos.</span><span class="sxs-lookup"><span data-stu-id="3918a-332">(In fact, you'll do that later in this tutorial set.) But to make things easy for this tutorial, they're inside the same page that displays the data.</span></span>

<span data-ttu-id="3918a-333">Ahora puede obtener el `WebGrid` auxiliar para utilizar estas clases de estilo.</span><span class="sxs-lookup"><span data-stu-id="3918a-333">Now you can get the `WebGrid` helper to use these style classes.</span></span> <span data-ttu-id="3918a-334">La aplicación auxiliar tiene un número de propiedades (por ejemplo, `tableStyle`) para este fin, asigne un nombre de clase de estilo CSS a ellos, y ese nombre de clase se representa como parte del marcado que representa la aplicación auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3918a-334">The helper has a number of properties (for example, `tableStyle`) for just this purpose — you assign a CSS style class name to them, and that class name is rendered as part of the markup that's rendered by the helper.</span></span>

<span data-ttu-id="3918a-335">Cambiar el `grid.GetHtml` marcado para que ahora quede similar a este código:</span><span class="sxs-lookup"><span data-stu-id="3918a-335">Change the `grid.GetHtml` markup so that it now looks like this code:</span></span>

[!code-css[Main](displaying-data/samples/sample6.css)]

<span data-ttu-id="3918a-336">Lo nuevo aquí es que se ha agregado `tableStyle`, `headerStyle`, y `alternatingRowStyle` parámetros para el `GetHtml` método.</span><span class="sxs-lookup"><span data-stu-id="3918a-336">What's new here is that you've added `tableStyle`, `headerStyle`, and `alternatingRowStyle` parameters to the `GetHtml` method.</span></span> <span data-ttu-id="3918a-337">Estos parámetros se han establecido los nombres de los estilos CSS que agregó hace un momento.</span><span class="sxs-lookup"><span data-stu-id="3918a-337">These parameters have been set to the names of the CSS styles that you added a moment ago.</span></span>

<span data-ttu-id="3918a-338">Ejecute la página, y esta vez verá una cuadrícula que se parece mucho menos simple que antes:</span><span class="sxs-lookup"><span data-stu-id="3918a-338">Run the page, and this time you see a grid that looks much less plain than before:</span></span>

![Pantalla de WebGrid que incluye los parámetros establecidos en los nombres de clase CSS](displaying-data/_static/image20.png)

<span data-ttu-id="3918a-340">Para ver qué la `GetHtml` método generado, puede buscar en el origen de la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="3918a-340">To see what the `GetHtml` method generated, you can look at the source of the page in the browser.</span></span> <span data-ttu-id="3918a-341">No entraremos en detalles aquí, pero lo importante es que mediante la especificación de parámetros como `tableStyle`, provocó la cuadrícula generar etiquetas HTML similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="3918a-341">We won't go into detail here, but the important point is that by specifying parameters like `tableStyle`, you caused the grid to generate HTML tags like the following:</span></span>

`<table class="grid">`

<span data-ttu-id="3918a-342">El `<table>` etiqueta a la que ha tenido un `class` atributo agregado a lo que hace referencia a una de las reglas CSS que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3918a-342">The `<table>` tag has had a `class` attribute added to it that references one of the CSS rules that you added earlier.</span></span> <span data-ttu-id="3918a-343">Este código muestra el patrón básico &mdash; parámetros diferentes para el `GetHtml` let, referencia de los métodos CSS clases que, a continuación, genera el método junto con el marcado.</span><span class="sxs-lookup"><span data-stu-id="3918a-343">This code shows you the basic pattern &mdash; different parameters for the `GetHtml` method let you reference CSS classes that the method then generates along with the markup.</span></span> <span data-ttu-id="3918a-344">Qué hacer con las clases CSS depende de usted.</span><span class="sxs-lookup"><span data-stu-id="3918a-344">What you do with the CSS classes is up to you.</span></span>

## <a name="adding-paging"></a><span data-ttu-id="3918a-345">Agregar paginación</span><span class="sxs-lookup"><span data-stu-id="3918a-345">Adding Paging</span></span>

<span data-ttu-id="3918a-346">Como la última tarea para este tutorial, agregará paginación a la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="3918a-346">As the last task for this tutorial, you'll add paging to the grid.</span></span> <span data-ttu-id="3918a-347">En estos momentos no supone ningún problema para mostrar todas las películas a la vez.</span><span class="sxs-lookup"><span data-stu-id="3918a-347">Right now it's no problem to display all your movies at once.</span></span> <span data-ttu-id="3918a-348">Pero si ha agregado cientos de películas, se obtendría mucho la presentación de página.</span><span class="sxs-lookup"><span data-stu-id="3918a-348">But if you added hundreds of movies, the page display would get long.</span></span>

<span data-ttu-id="3918a-349">En el código de página, cambie la línea que crea la `WebGrid` objeto en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="3918a-349">In the page code, change the line that creates the `WebGrid` object to the following code:</span></span>

[!code-csharp[Main](displaying-data/samples/sample7.cs)]

<span data-ttu-id="3918a-350">La única diferencia respecto antes es que se ha agregado un `rowsPerPage` parámetro que se establece en 3.</span><span class="sxs-lookup"><span data-stu-id="3918a-350">The only difference from before is that you've added a `rowsPerPage` parameter that's set to 3.</span></span>

<span data-ttu-id="3918a-351">Ejecute la página.</span><span class="sxs-lookup"><span data-stu-id="3918a-351">Run the page.</span></span> <span data-ttu-id="3918a-352">La cuadrícula muestra 3 filas en un tiempo, además de vínculos de navegación que permiten la página a través de las películas en la base de datos:</span><span class="sxs-lookup"><span data-stu-id="3918a-352">The grid displays 3 rows at a time, plus navigation links that let you page through the movies in your database:</span></span>

![Visualización de WebGrid con paginación](displaying-data/_static/image21.png)

## <a name="coming-up-next"></a><span data-ttu-id="3918a-354">Próxima</span><span class="sxs-lookup"><span data-stu-id="3918a-354">Coming Up Next</span></span>

<span data-ttu-id="3918a-355">En el siguiente tutorial, obtendrá información sobre cómo usar código de Razor y C# para obtener la entrada de usuario en un formulario.</span><span class="sxs-lookup"><span data-stu-id="3918a-355">In the next tutorial, you'll learn how to use Razor and C# code to get user input in a form.</span></span> <span data-ttu-id="3918a-356">Por lo que puede buscar películas por título o género, agregará un cuadro de búsqueda a la página de películas.</span><span class="sxs-lookup"><span data-stu-id="3918a-356">You'll add a search box to the Movies page so that you can find movies by title or genre.</span></span>

## <a name="complete-listing-for-movies-page"></a><span data-ttu-id="3918a-357">Lista completa de la página de películas</span><span class="sxs-lookup"><span data-stu-id="3918a-357">Complete Listing for Movies Page</span></span>

[!code-cshtml[Main](displaying-data/samples/sample8.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="3918a-358">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="3918a-358">Additional Resources</span></span>

- [<span data-ttu-id="3918a-359">Introducción a la programación Web de ASP.NET mediante la sintaxis Razor</span><span class="sxs-lookup"><span data-stu-id="3918a-359">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)

> [!div class="step-by-step"]
> <span data-ttu-id="3918a-360">[Anterior](intro-to-web-pages-programming.md)
> [Siguiente](form-basics.md)</span><span class="sxs-lookup"><span data-stu-id="3918a-360">[Previous](intro-to-web-pages-programming.md)
[Next](form-basics.md)</span></span>

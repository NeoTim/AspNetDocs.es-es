---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
title: Configuración de un servidor de base de datos para la publicación de Web Deploy | Microsoft Docs
author: jrjlee
description: En este tema se describe cómo configurar un servidor de base de datos SQL Server 2008 R2 para admitir la publicación y la implementación web. Las tareas descritas en este tema son Co...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: e7c447f9-eddf-4bbe-9f18-3326d965d093
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing
msc.type: authoredcontent
ms.openlocfilehash: ade3c1ba1c470092f512436f39b8831458408c2c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78515245"
---
# <a name="configuring-a-database-server-for-web-deploy-publishing"></a><span data-ttu-id="1ac6c-104">Configurar un servidor de base de datos para la publicación de la implementación web</span><span class="sxs-lookup"><span data-stu-id="1ac6c-104">Configuring a Database Server for Web Deploy Publishing</span></span>

<span data-ttu-id="1ac6c-105">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="1ac6c-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="1ac6c-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="1ac6c-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="1ac6c-107">En este tema se describe cómo configurar un servidor de base de datos SQL Server 2008 R2 para admitir la publicación y la implementación web.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-107">This topic describes how to configure a SQL Server 2008 R2 database server to support web deployment and publishing.</span></span>
> 
> <span data-ttu-id="1ac6c-108">Las tareas que se describen en este tema son comunes a cada&#x2014;escenario de implementación. no importa si los servidores web están configurados para usar el servicio de agente remoto de la herramienta de implementación web de IIS (Web deploy), el controlador de web deploy o la implementación sin conexión o la aplicación se ejecuta en un único servidor web o en una granja de servidores.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-108">The tasks described in this topic are common to every deployment scenario&#x2014;it doesn't matter whether your web servers are configured to use the IIS Web Deployment Tool (Web Deploy) Remote Agent Service, the Web Deploy Handler, or offline deployment or your application is running on a single web server or a server farm.</span></span> <span data-ttu-id="1ac6c-109">La forma de implementar la base de datos puede cambiar según los requisitos de seguridad y otras consideraciones.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-109">The way you deploy the database may change according to security requirements and other considerations.</span></span> <span data-ttu-id="1ac6c-110">Por ejemplo, puede implementar la base de datos con o sin datos de ejemplo, y puede implementar asignaciones de roles de usuario o configurarlas manualmente después de la implementación.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-110">For example, you might deploy the database with or without sample data, and you might deploy user role mappings or configure them manually after deployment.</span></span> <span data-ttu-id="1ac6c-111">Sin embargo, la manera de configurar el servidor de base de datos sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-111">However, the way you configure the database server remains the same.</span></span>

<span data-ttu-id="1ac6c-112">No tiene que instalar ningún producto o herramienta adicional para configurar un servidor de base de datos para admitir la implementación web.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-112">You don't have to install any additional products or tools to configuring a database server to support web deployment.</span></span> <span data-ttu-id="1ac6c-113">Suponiendo que el servidor de base de datos y el servidor Web se ejecutan en equipos diferentes, solo tiene que hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-113">Assuming that your database server and your web server run on different machines, you simply need to:</span></span>

- <span data-ttu-id="1ac6c-114">Permita que SQL Server se comuniquen mediante TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-114">Permit SQL Server to communicate using TCP/IP.</span></span>
- <span data-ttu-id="1ac6c-115">Permitir el tráfico SQL Server a través de los firewalls.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-115">Allow SQL Server traffic through any firewalls.</span></span>
- <span data-ttu-id="1ac6c-116">Conceda a la cuenta de equipo del servidor Web un SQL Server inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-116">Give the web server machine account a SQL Server login.</span></span>
- <span data-ttu-id="1ac6c-117">Asigne el inicio de sesión de la cuenta de equipo a los roles de base de datos necesarios.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-117">Map the machine account login to any required database roles.</span></span>
- <span data-ttu-id="1ac6c-118">Proporcione a la cuenta que ejecutará la implementación un SQL Server los permisos inicio de sesión y creador de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-118">Give the account that will run the deployment a SQL Server login and database creator permissions.</span></span>
- <span data-ttu-id="1ac6c-119">Para admitir implementaciones de repetición, asigne el inicio de sesión de la cuenta de implementación al rol de base de datos **db\_Owner** .</span><span class="sxs-lookup"><span data-stu-id="1ac6c-119">To support repeat deployments, map the deployment account login to the **db\_owner** database role.</span></span>

<span data-ttu-id="1ac6c-120">En este tema se muestra cómo realizar cada uno de estos procedimientos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-120">This topic will show you how to perform each of these procedures.</span></span> <span data-ttu-id="1ac6c-121">En las tareas y los tutoriales de este tema se supone que va a comenzar con una instancia predeterminada de SQL Server 2008 R2 que se ejecuta en Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-121">The tasks and walkthroughs in this topic assume that you're starting with a default instance of SQL Server 2008 R2 running on Windows Server 2008 R2.</span></span> <span data-ttu-id="1ac6c-122">Antes de continuar, asegúrese de que:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-122">Before you continue, ensure that:</span></span>

- <span data-ttu-id="1ac6c-123">Se instalan Windows Server 2008 R2 Service Pack 1 y todas las actualizaciones disponibles.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-123">Windows Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>
- <span data-ttu-id="1ac6c-124">El servidor está unido a un dominio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-124">The server is domain-joined.</span></span>
- <span data-ttu-id="1ac6c-125">El servidor tiene una dirección IP estática.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-125">The server has a static IP address.</span></span>
- <span data-ttu-id="1ac6c-126">SQL Server 2008 R2 Service Pack 1 y todas las actualizaciones disponibles están instaladas.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-126">SQL Server 2008 R2 Service Pack 1 and all available updates are installed.</span></span>

<span data-ttu-id="1ac6c-127">La instancia de SQL Server solo debe incluir el rol **motor de base de datos Services** , que se incluye automáticamente en cualquier SQL Server instalación.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-127">The SQL Server instance only needs to include the **Database Engine Services** role, which is included automatically in any SQL Server installation.</span></span> <span data-ttu-id="1ac6c-128">Sin embargo, para facilitar la configuración y el mantenimiento, se recomienda incluir las herramientas de **Administración: básicas** y **las herramientas de administración:** funciones de servidor completas.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-128">However, for ease of configuration and maintenance, we recommend that you include the **Management Tools – Basic** and **Management Tools – Complete** server roles.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac6c-129">Para obtener más información acerca de cómo unir equipos a un dominio, consulte [unir equipos al dominio e inicio de sesión](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-129">For more information on joining computers to a domain, see [Joining Computers to the Domain and Logging On](https://technet.microsoft.com/library/cc725618(v=WS.10).aspx).</span></span> <span data-ttu-id="1ac6c-130">Para obtener más información sobre la configuración de direcciones IP estáticas, consulte [configurar una dirección IP estática](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-130">For more information on configuring static IP addresses, see [Configure a Static IP Address](https://technet.microsoft.com/library/cc754203(v=ws.10).aspx).</span></span> <span data-ttu-id="1ac6c-131">Para obtener más información sobre la instalación de SQL Server, consulte [instalación de SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-131">For more information on installing SQL Server, see [Installing SQL Server 2008 R2](https://technet.microsoft.com/library/bb500395.aspx).</span></span>

## <a name="enable-remote-access-to-sql-server"></a><span data-ttu-id="1ac6c-132">Habilitación del acceso remoto a SQL Server</span><span class="sxs-lookup"><span data-stu-id="1ac6c-132">Enable Remote Access to SQL Server</span></span>

<span data-ttu-id="1ac6c-133">SQL Server usa TCP/IP para comunicarse con equipos remotos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-133">SQL Server uses TCP/IP to communicate with remote computers.</span></span> <span data-ttu-id="1ac6c-134">Si el servidor de base de datos y el servidor Web se encuentran en equipos diferentes, debe:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-134">If your database server and your web server are on different machines, you need to:</span></span>

- <span data-ttu-id="1ac6c-135">Configure SQL Server opciones de red para permitir la comunicación a través de TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-135">Configure SQL Server networking settings to allow communication over TCP/IP.</span></span>
- <span data-ttu-id="1ac6c-136">Configure los firewalls de hardware o software para permitir el tráfico TCP (y, en algunos casos, el tráfico del Protocolo de datagramas de usuario (UDP)) en los puertos que utiliza la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-136">Configure any hardware or software firewalls to allow TCP traffic (and in some cases User Datagram Protocol (UDP) traffic) on the ports that the SQL Server instance uses.</span></span>

<span data-ttu-id="1ac6c-137">Para habilitar SQL Server para comunicarse a través de TCP/IP, utilice Administrador de configuración de SQL Server para cambiar la configuración de red de la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-137">To enable SQL Server to communicate over TCP/IP, use SQL Server Configuration Manager to change the network configuration for your SQL Server instance.</span></span>

<span data-ttu-id="1ac6c-138">**Para habilitar SQL Server para comunicarse mediante TCP/IP**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-138">**To enable SQL Server to communicate using TCP/IP**</span></span>

1. <span data-ttu-id="1ac6c-139">En el menú **Inicio** , seleccione **todos los programas**, haga clic en **Microsoft SQL Server 2008 R2**, haga clic en **herramientas de configuración**y, a continuación, haga clic en **Administrador de configuración de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-139">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, click **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>
2. <span data-ttu-id="1ac6c-140">En el panel vista de árbol, expanda **SQL Server configuración de red**y, a continuación, haga clic en **protocolos de MSSQLServer**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-140">In the tree view pane, expand **SQL Server Network Configuration**, and then click **Protocols for MSSQLSERVER**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="1ac6c-141">Si ha instalado varias instancias de SQL Server, verá un elemento <strong>protocolos para</strong><em>[nombre de instancia]</em> para cada instancia.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-141">If you have installed multiple instances of SQL Server, you'll see a <strong>Protocols for</strong><em>[instance name]</em> item for each instance.</span></span> <span data-ttu-id="1ac6c-142">Debe configurar las opciones de red en cada instancia.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-142">You need to configure network settings on an instance-by-instance basis.</span></span>
3. <span data-ttu-id="1ac6c-143">En el panel de detalles, haga clic con el botón secundario en la fila **TCP/IP** y, a continuación, haga clic en **Habilitar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-143">In the details pane, right-click the **TCP/IP** row, and then click **Enable**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image1.png)
4. <span data-ttu-id="1ac6c-144">En el cuadro de diálogo de **ADVERTENCIA** , haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-144">In the **Warning** dialog box, click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image2.png)
5. <span data-ttu-id="1ac6c-145">Deberá reiniciar el servicio MSSQLSERVER para que la nueva configuración de red surta efecto.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-145">You need to restart the MSSQLSERVER service before your new network configuration will take effect.</span></span> <span data-ttu-id="1ac6c-146">Puede hacerlo en un símbolo del sistema, desde la consola de servicios o desde SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-146">You can do that at a command prompt, from the Services console, or from SQL Server Management Studio.</span></span> <span data-ttu-id="1ac6c-147">En este procedimiento, usará SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-147">In this procedure, you'll use SQL Server Management Studio.</span></span>
6. <span data-ttu-id="1ac6c-148">Cierre el Administrador de configuración de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-148">Close SQL Server Configuration Manager.</span></span>
7. <span data-ttu-id="1ac6c-149">En el menú **Inicio** , seleccione **todos los programas**, haga clic en **Microsoft SQL Server 2008 R2**y, a continuación, haga clic en **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-149">On the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
8. <span data-ttu-id="1ac6c-150">En el cuadro de diálogo **conectar con el servidor** , en el cuadro **nombre del servidor** , escriba el nombre del servidor de base de datos y, a continuación, haga clic en **conectar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-150">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image3.png)
9. <span data-ttu-id="1ac6c-151">En el panel **Explorador de objetos** , haga clic con el botón secundario en el nodo del servidor principal (por ejemplo, **TESTDB1**) y, a continuación, haga clic en **reiniciar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-151">In the **Object Explorer** pane, right-click the parent server node (for example, **TESTDB1**), and then click **Restart**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image4.png)
10. <span data-ttu-id="1ac6c-152">En el cuadro de diálogo **Management Studio de Microsoft SQL Server** , haga clic en **sí**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-152">In the **Microsoft SQL Server Management Studio** dialog box, click **Yes**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image5.png)
11. <span data-ttu-id="1ac6c-153">Cuando se haya reiniciado el servicio, cierre SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-153">When the service has restarted, close SQL Server Management Studio.</span></span>

<span data-ttu-id="1ac6c-154">Para permitir el tráfico SQL Server a través de un firewall, primero debe saber qué puertos usa la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-154">To allow SQL Server traffic through a firewall, you first need to know which ports your SQL Server instance is using.</span></span> <span data-ttu-id="1ac6c-155">Esto dependerá de cómo se haya creado y configurado la instancia de SQL Server:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-155">This will depend on how the SQL Server instance was created and configured:</span></span>

- <span data-ttu-id="1ac6c-156">Una *instancia predeterminada* de SQL Server escucha las solicitudes (y responde a ellas) en el puerto TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-156">A *default instance* of SQL Server listens for (and responds to) requests on TCP port 1433.</span></span>
- <span data-ttu-id="1ac6c-157">Una *instancia con nombre* de SQL Server escucha las solicitudes (y responde a ellas) en un puerto TCP asignado dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-157">A *named instance* of SQL Server listens for (and responds to) requests on a dynamically assigned TCP port.</span></span>
- <span data-ttu-id="1ac6c-158">Si el servicio SQL Server Browser está habilitado, los clientes pueden consultar el servicio en el puerto UDP 1434 para averiguar qué puerto TCP usar para una instancia SQL Server determinada.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-158">If the SQL Server Browser service is enabled, clients can query the service on UDP port 1434 to find out which TCP port to use for a particular SQL Server instance.</span></span> <span data-ttu-id="1ac6c-159">Sin embargo, este servicio suele deshabilitarse por motivos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-159">However, this service is often disabled for security reasons.</span></span>

<span data-ttu-id="1ac6c-160">Suponiendo que esté usando una instancia predeterminada de SQL Server, debe configurar el firewall para permitir el tráfico.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-160">Assuming that you're using a default instance of SQL Server, you need to configure your firewall to allow traffic.</span></span>

| <span data-ttu-id="1ac6c-161">Dirección</span><span class="sxs-lookup"><span data-stu-id="1ac6c-161">Direction</span></span> | <span data-ttu-id="1ac6c-162">Desde el puerto</span><span class="sxs-lookup"><span data-stu-id="1ac6c-162">From Port</span></span> | <span data-ttu-id="1ac6c-163">A Puerto</span><span class="sxs-lookup"><span data-stu-id="1ac6c-163">To Port</span></span> | <span data-ttu-id="1ac6c-164">Tipo de puerto</span><span class="sxs-lookup"><span data-stu-id="1ac6c-164">Port Type</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1ac6c-165">Entrada</span><span class="sxs-lookup"><span data-stu-id="1ac6c-165">Inbound</span></span> | <span data-ttu-id="1ac6c-166">Cualquiera</span><span class="sxs-lookup"><span data-stu-id="1ac6c-166">Any</span></span> | <span data-ttu-id="1ac6c-167">1433</span><span class="sxs-lookup"><span data-stu-id="1ac6c-167">1433</span></span> | <span data-ttu-id="1ac6c-168">TCP</span><span class="sxs-lookup"><span data-stu-id="1ac6c-168">TCP</span></span> |
| <span data-ttu-id="1ac6c-169">Salida</span><span class="sxs-lookup"><span data-stu-id="1ac6c-169">Outbound</span></span> | <span data-ttu-id="1ac6c-170">1433</span><span class="sxs-lookup"><span data-stu-id="1ac6c-170">1433</span></span> | <span data-ttu-id="1ac6c-171">Cualquiera</span><span class="sxs-lookup"><span data-stu-id="1ac6c-171">Any</span></span> | <span data-ttu-id="1ac6c-172">TCP</span><span class="sxs-lookup"><span data-stu-id="1ac6c-172">TCP</span></span> |

> [!NOTE]
> <span data-ttu-id="1ac6c-173">Técnicamente, un equipo cliente usará un puerto TCP asignado aleatoriamente entre 1024 y 5000 para comunicarse con SQL Server, y puede restringir las reglas de firewall en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-173">Technically, a client computer will use a randomly assigned TCP port between 1024 and 5000 to communicate with SQL Server, and you can restrict your firewall rules accordingly.</span></span> <span data-ttu-id="1ac6c-174">Para obtener más información sobre SQL Server puertos y firewalls, consulte [números de puerto TCP/IP necesarios para comunicarse con SQL a través de un firewall](https://go.microsoft.com/?linkid=9805125) y [Cómo: configurar un servidor para que escuche en un puerto TCP específico (Administrador de configuración de SQL Server)](https://msdn.microsoft.com/library/ms177440.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-174">For more information on SQL Server ports and firewalls, see [TCP/IP port numbers required to communicate to SQL over a firewall](https://go.microsoft.com/?linkid=9805125) and [How to: Configure a Server to Listen on a Specific TCP Port (SQL Server Configuration Manager)](https://msdn.microsoft.com/library/ms177440.aspx).</span></span>

<span data-ttu-id="1ac6c-175">En la mayoría de los entornos de Windows Server, es probable que tenga que configurar Firewall de Windows en el servidor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-175">In most Windows Server environments, you'll likely have to configure Windows Firewall on the database server.</span></span> <span data-ttu-id="1ac6c-176">De forma predeterminada, Firewall de Windows permite todo el tráfico saliente a menos que una regla lo prohíba específicamente.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-176">By default, Windows Firewall allows all outbound traffic unless a rule specifically prohibits it.</span></span> <span data-ttu-id="1ac6c-177">Para permitir que el servidor Web alcance la base de datos, debe configurar una regla de entrada que permita el tráfico TCP en el número de puerto que usa la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-177">To enable your web server to reach your database, you need to configure an inbound rule that allows TCP traffic on the port number that the SQL Server instance uses.</span></span> <span data-ttu-id="1ac6c-178">Si utiliza una instancia predeterminada de SQL Server, puede usar el siguiente procedimiento para configurar esta regla.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-178">If you're using a default instance of SQL Server, you can use the next procedure to configure this rule.</span></span>

<span data-ttu-id="1ac6c-179">**Para configurar el Firewall de Windows para permitir la comunicación con una instancia de SQL Server predeterminada**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-179">**To configure Windows Firewall to allow communication with a default SQL Server instance**</span></span>

1. <span data-ttu-id="1ac6c-180">En el servidor de base de datos, en el menú **Inicio** , seleccione **herramientas administrativas**y, a continuación, haga clic en **firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-180">On the database server, on the **Start** menu, point to **Administrative Tools**, and then click **Windows Firewall with Advanced Security**.</span></span>
2. <span data-ttu-id="1ac6c-181">En el panel de vista de árbol, haga clic en **reglas de entrada**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-181">In the tree view pane, click **Inbound Rules**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image6.png)
3. <span data-ttu-id="1ac6c-182">En el panel **acciones** , en **reglas de entrada**, haga clic en **nueva regla**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-182">In the **Actions** pane, under **Inbound Rules**, click **New Rule**.</span></span>
4. <span data-ttu-id="1ac6c-183">En el Asistente para nueva regla de entrada, en la página **tipo de regla** , seleccione **Puerto**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-183">In the New Inbound Rule Wizard, on the **Rule Type** page, select **Port**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image7.png)
5. <span data-ttu-id="1ac6c-184">En la página **Protocolo y puertos** , asegúrese de **que TCP** está seleccionado y, en el cuadro **puertos locales específicos** , escriba **1433**y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-184">On the **Protocol and Ports** page, ensure that **TCP** is selected, and in the **Specific local ports** box, type **1433**, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image8.png)
6. <span data-ttu-id="1ac6c-185">En la página **acción** , deje **la opción permitir la conexión** seleccionada y haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-185">On the **Action** page, leave **Allow the connection** selected and click **Next**.</span></span>
7. <span data-ttu-id="1ac6c-186">En la página **perfil** , deje **el dominio** seleccionado, desactive las casillas **privado** y **público** y, a continuación, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-186">On the **Profile** page, leave **Domain** selected, clear the **Private** and **Public** check boxes, and then click **Next**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image9.png)
8. <span data-ttu-id="1ac6c-187">En la página **nombre** , asigne a la regla un nombre descriptivo apropiado (por ejemplo, **SQL Server instancia predeterminada – acceso a la red**) y, a continuación, haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-187">On the **Name** page, give the rule a suitably descriptive name (for example, **SQL Server default instance – network access**), and then click **Finish**.</span></span>

<span data-ttu-id="1ac6c-188">Para obtener más información sobre la configuración de Firewall de Windows para SQL Server, especialmente si necesita comunicarse con SQL Server a través de puertos no estándar o dinámicos, consulte [How to: Configure a Windows Firewall for motor de base de datos Access](https://technet.microsoft.com/library/ms175043.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-188">For more information on configuring Windows Firewall for SQL Server, particularly if you need to communicate with SQL Server over non-standard or dynamic ports, see [How to: Configure a Windows Firewall for Database Engine Access](https://technet.microsoft.com/library/ms175043.aspx).</span></span>

## <a name="configure-logins-and-database-permissions"></a><span data-ttu-id="1ac6c-189">Configurar inicios de sesión y permisos de base de datos</span><span class="sxs-lookup"><span data-stu-id="1ac6c-189">Configure Logins and Database Permissions</span></span>

<span data-ttu-id="1ac6c-190">Cuando se implementa una aplicación web en Internet Information Services (IIS), la aplicación se ejecuta con la identidad del grupo de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-190">When you deploy a web application to Internet Information Services (IIS), the application runs using the identity of the application pool.</span></span> <span data-ttu-id="1ac6c-191">En un entorno de dominio, las identidades del grupo de aplicaciones usan la cuenta del equipo del servidor en el que se ejecutan para tener acceso a los recursos de red.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-191">In a domain environment, application pool identities use the machine account of the server on which they run to access network resources.</span></span> <span data-ttu-id="1ac6c-192">Las cuentas de equipo tienen la forma <em>[nombre de dominio]</em><strong>\</strong ><em>[nombre de equipo]</em> <strong>$</strong> &#x2014;por ejemplo, <strong>FABRIKAM\TESTWEB1 $</strong>.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-192">Machine accounts take the form <em>[domain name]</em><strong>\</strong><em>[machine name]</em><strong>$</strong>&#x2014;for example, <strong>FABRIKAM\TESTWEB1$</strong>.</span></span> <span data-ttu-id="1ac6c-193">Para permitir que la aplicación web tenga acceso a una base de datos a través de la red, debe:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-193">To allow your web application to access a database across the network, you need to:</span></span>

- <span data-ttu-id="1ac6c-194">Agregue un inicio de sesión para la cuenta de equipo del servidor Web a la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-194">Add a login for the web server machine account to the SQL Server instance.</span></span>
- <span data-ttu-id="1ac6c-195">Asigne el inicio de sesión de la cuenta de equipo a los roles de base de datos necesarios (normalmente **db\_DataReader** y **dB\_** .</span><span class="sxs-lookup"><span data-stu-id="1ac6c-195">Map the machine account login to any required database roles (typically **db\_datareader** and **db\_datawriter**).</span></span>

<span data-ttu-id="1ac6c-196">Si la aplicación web se ejecuta en una granja de servidores, en lugar de un solo servidor, deberá repetir estos procedimientos para cada servidor Web de la granja de servidores.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-196">If your web application is running on a server farm, rather than a single server, you'll need to repeat these procedures for every web server in the server farm.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac6c-197">Para obtener más información sobre las identidades del grupo de aplicaciones y el acceso a los recursos de red, vea [identidades del grupo de aplicaciones](https://go.microsoft.com/?linkid=9805123).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-197">For more information on application pool identities and accessing network resources, see [Application Pool Identities](https://go.microsoft.com/?linkid=9805123).</span></span>

<span data-ttu-id="1ac6c-198">Puede abordar estas tareas de varias maneras.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-198">You can approach these tasks in various ways.</span></span> <span data-ttu-id="1ac6c-199">Para crear el inicio de sesión, puede:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-199">To create the login, you can either:</span></span>

- <span data-ttu-id="1ac6c-200">Cree el inicio de sesión manualmente en el servidor de base de datos mediante Transact-SQL o SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-200">Create the login manually on the database server, using Transact-SQL or SQL Server Management Studio.</span></span>
- <span data-ttu-id="1ac6c-201">Use un proyecto de servidor SQL Server 2008 en Visual Studio para crear e implementar el inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-201">Use a SQL Server 2008 Server Project in Visual Studio to create and deploy the login.</span></span>

<span data-ttu-id="1ac6c-202">Un inicio de sesión de SQL Server es un objeto de nivel de servidor, en lugar de un objeto de nivel de base de datos, por lo que no depende de la base de datos que desea implementar.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-202">A SQL Server login is a server-level object, rather than a database-level object, so it's not dependent on the database you want to deploy.</span></span> <span data-ttu-id="1ac6c-203">Como tal, puede crear el inicio de sesión en cualquier momento y el enfoque más sencillo es crear el inicio de sesión manualmente en el servidor de base de datos antes de empezar a implementar las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-203">As such, you can create the login at any point, and the easiest approach is often to create the login manually on the database server before you start deploying databases.</span></span> <span data-ttu-id="1ac6c-204">Puede usar el siguiente procedimiento para crear un inicio de sesión en SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-204">You can use the next procedure to create a login in SQL Server Management Studio.</span></span>

<span data-ttu-id="1ac6c-205">**Para crear un inicio de sesión SQL Server para la cuenta de equipo del servidor Web**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-205">**To create a SQL Server login for the web server machine account**</span></span>

1. <span data-ttu-id="1ac6c-206">En el servidor de base de datos, en el menú **Inicio** , seleccione **todos los programas**, haga clic en **Microsoft SQL Server 2008 R2**y, a continuación, haga clic en **SQL Server Management Studio**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-206">On the database server, on the **Start** menu, point to **All Programs**, click **Microsoft SQL Server 2008 R2**, and then click **SQL Server Management Studio**.</span></span>
2. <span data-ttu-id="1ac6c-207">En el cuadro de diálogo **conectar con el servidor** , en el cuadro **nombre del servidor** , escriba el nombre del servidor de base de datos y, a continuación, haga clic en **conectar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-207">In the **Connect to Server** dialog box, in the **Server name** box, type the name of the database server, and then click **Connect**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image10.png)
3. <span data-ttu-id="1ac6c-208">En el panel **Explorador de objetos** , haga clic con el botón secundario en **seguridad**, seleccione **nuevo**y, a continuación, haga clic en **Inicio de sesión**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-208">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
4. <span data-ttu-id="1ac6c-209">En el cuadro de diálogo **Inicio de sesión-nuevo** , en el cuadro **nombre de inicio de sesión** , escriba el nombre de la cuenta de equipo del servidor Web (por ejemplo, **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-209">In the **Login – New** dialog box, in the **Login name** box, type the name of your web server machine account (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image11.png)
5. <span data-ttu-id="1ac6c-210">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-210">Click **OK**.</span></span>

<span data-ttu-id="1ac6c-211">En este momento, el servidor de base de datos está listo para la publicación de Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-211">At this point, your database server is ready for Web Deploy publishing.</span></span> <span data-ttu-id="1ac6c-212">Sin embargo, las soluciones que implemente no funcionarán hasta que asigne el inicio de sesión de la cuenta de equipo a los roles de base de datos necesarios.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-212">However, any solutions you deploy won't work until you map the machine account login to the required database roles.</span></span> <span data-ttu-id="1ac6c-213">La asignación del inicio de sesión a los roles de base de datos requiere mucho más pensamiento, ya que no se pueden asignar roles hasta después de haber implementado la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-213">Mapping the login to database roles requires a lot more thought, as you can't map roles until after you've deployed the database.</span></span> <span data-ttu-id="1ac6c-214">Para asignar el inicio de sesión de la cuenta de equipo a los roles de base de datos necesarios, puede:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-214">To map the machine account login to the required database roles, you can either:</span></span>

- <span data-ttu-id="1ac6c-215">Asigne los roles de base de datos al inicio de sesión manualmente, después de haber implementado la base de datos por primera vez.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-215">Assign the database roles to the login manually, after you've deployed the database for the first time.</span></span>
- <span data-ttu-id="1ac6c-216">Use un script posterior a la implementación para asignar los roles de base de datos al inicio de sesión.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-216">Use a post-deployment script to assign the database roles to the login.</span></span>

<span data-ttu-id="1ac6c-217">Para obtener más información sobre la automatización de la creación de inicios de sesión y asignaciones de roles de base de datos, vea [implementar pertenencias a roles de base de datos en entornos de prueba](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-217">For more information on automating the creation of logins and database role mappings, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="1ac6c-218">Como alternativa, puede usar el siguiente procedimiento para asignar manualmente el inicio de sesión de la cuenta de equipo a los roles de base de datos necesarios.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-218">Alternatively, you can use the next procedure to map the machine account login to the required database roles manually.</span></span> <span data-ttu-id="1ac6c-219">Recuerde que no puede realizar este *procedimiento hasta que haya* implementado la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-219">Remember that you can't perform this procedure until *after* you've deployed the database.</span></span>

<span data-ttu-id="1ac6c-220">**Para asignar roles de base de datos al inicio de sesión de la cuenta de equipo de servidor Web**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-220">**To map database roles to the web server machine account login**</span></span>

1. <span data-ttu-id="1ac6c-221">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-221">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1ac6c-222">En el panel **Explorador de objetos** , expanda el nodo **seguridad** , expanda el nodo **inicios de sesión** y, a continuación, haga doble clic en el inicio de sesión de la cuenta de equipo (por ejemplo, **FABRIKAM\TESTWEB1 $** ).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-222">In the **Object Explorer** pane, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\TESTWEB1$**).</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image12.png)
3. <span data-ttu-id="1ac6c-223">En el cuadro de diálogo **propiedades de inicio de sesión** , haga clic en asignación de **usuarios**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-223">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="1ac6c-224">En la tabla **usuarios asignados a este inicio de sesión** , seleccione el nombre de la base de datos (por ejemplo, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-224">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="1ac6c-225">En la lista **pertenencia al rol de la base de datos para:** *[nombre de la base de datos]* , seleccione los permisos necesarios.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-225">In the **Database role membership for:** *[database name]* list, select the permissions required.</span></span> <span data-ttu-id="1ac6c-226">En el caso de la solución de ejemplo Contact Manager, debe seleccionar los roles **db\_DataReader** y **dB\_** .</span><span class="sxs-lookup"><span data-stu-id="1ac6c-226">In the case of the Contact Manager sample solution, you must select the **db\_datareader** and **db\_datawriter** roles.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image13.png)
6. <span data-ttu-id="1ac6c-227">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-227">Click **OK**.</span></span>

<span data-ttu-id="1ac6c-228">Aunque la asignación manual de roles de base de datos suele ser más adecuada para entornos de prueba, es menos conveniente para implementaciones automatizadas o de un solo clic en entornos de ensayo o producción.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-228">While manually mapping database roles is often more than adequate for test environments, it's less desirable for automated or one-click deployments to staging or production environments.</span></span> <span data-ttu-id="1ac6c-229">Puede encontrar más información sobre cómo automatizar este tipo de tarea mediante scripts posteriores a la implementación en la [implementación de pertenencias a roles de base de datos en entornos de prueba](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-229">You can find more information on automating this kind of task using post-deployment scripts in [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1ac6c-230">Para obtener más información sobre proyectos de servidor y proyectos de base de datos, vea [Visual Studio 2010 SQL Server proyectos de base de datos](https://msdn.microsoft.com/library/ff678491.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-230">For more information on server projects and database projects, see [Visual Studio 2010 SQL Server Database Projects](https://msdn.microsoft.com/library/ff678491.aspx).</span></span>

## <a name="configure-permissions-for-the-deployment-account"></a><span data-ttu-id="1ac6c-231">Configurar permisos para la cuenta de implementación</span><span class="sxs-lookup"><span data-stu-id="1ac6c-231">Configure Permissions for the Deployment Account</span></span>

<span data-ttu-id="1ac6c-232">Si la cuenta que va a usar para ejecutar la implementación no es un administrador de SQL Server, también deberá crear un inicio de sesión para esta cuenta.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-232">If the account that you'll use to run the deployment is not a SQL Server administrator, you'll also need to create a login for this account.</span></span> <span data-ttu-id="1ac6c-233">Para crear la base de datos, la cuenta debe ser miembro del rol de servidor **dbcreator** o tener permisos equivalentes.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-233">In order to create the database, the account must be a member of the **dbcreator** server role or have equivalent permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac6c-234">Al usar Web Deploy o VSDBCMD para implementar una base de datos, puede usar credenciales de Windows o credenciales de SQL Server (si la instancia de SQL Server está configurada para admitir la autenticación de modo mixto).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-234">When you use Web Deploy or VSDBCMD to deploy a database, you can use Windows credentials or SQL Server credentials (if your SQL Server instance is configured to support mixed mode authentication).</span></span> <span data-ttu-id="1ac6c-235">En el procedimiento siguiente se supone que desea utilizar las credenciales de Windows, pero no hay nada que le impida especificar una SQL Server nombre de usuario y contraseña en la cadena de conexión al configurar la implementación.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-235">The next procedure assumes that you want to use Windows credentials, but there's nothing stopping you from specifying a SQL Server user name and password in your connection string when you configure the deployment.</span></span>

<span data-ttu-id="1ac6c-236">**Para configurar permisos para la cuenta de implementación**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-236">**To set up permissions for the deployment account**</span></span>

1. <span data-ttu-id="1ac6c-237">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-237">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1ac6c-238">En el panel **Explorador de objetos** , haga clic con el botón secundario en **seguridad**, seleccione **nuevo**y, a continuación, haga clic en **Inicio de sesión**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-238">In the **Object Explorer** pane, right-click **Security**, point to **New**, and then click **Login**.</span></span>
3. <span data-ttu-id="1ac6c-239">En el cuadro de diálogo **Inicio de sesión-nuevo** , en el cuadro **nombre de inicio de sesión** , escriba el nombre de la cuenta de implementación (por ejemplo, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-239">In the **Login – New** dialog box, in the **Login name** box, type the name of your deployment account (for example, **FABRIKAM\matt**).</span></span>
4. <span data-ttu-id="1ac6c-240">En el panel **seleccionar una página** , haga clic en **roles de servidor**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-240">In the **Select a page** pane, click **Server Roles**.</span></span>
5. <span data-ttu-id="1ac6c-241">Seleccione **dbcreator**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-241">Select **dbcreator**, and then click **OK**.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image14.png)

<span data-ttu-id="1ac6c-242">Para admitir las implementaciones posteriores, también tendrá que agregar la cuenta de implementación al rol de **propietario** de la base de datos\_en la base de datos después de la primera implementación.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-242">To support subsequent deployments, you'll also need to add the deploying account to the **db\_owner** role on the database after the first deployment.</span></span> <span data-ttu-id="1ac6c-243">Esto se debe a que en las implementaciones posteriores se está modificando el esquema de una base de datos existente, en lugar de crear una nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-243">This is because on subsequent deployments you're modifying the schema of an existing database, rather than creating a new database.</span></span> <span data-ttu-id="1ac6c-244">Como se describe en la sección anterior, no se puede Agregar un usuario a un rol de base de datos hasta que se haya creado la base de datos, por razones obvias.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-244">As described in the previous section, you can't add a user to a database role until you've created the database, for obvious reasons.</span></span>

<span data-ttu-id="1ac6c-245">**Para asignar el inicio de sesión de la cuenta de implementación al rol de base de datos DB\_Owner**</span><span class="sxs-lookup"><span data-stu-id="1ac6c-245">**To map the deployment account login to the db\_owner database role**</span></span>

1. <span data-ttu-id="1ac6c-246">Abra SQL Server Management Studio como antes.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-246">Open SQL Server Management Studio as before.</span></span>
2. <span data-ttu-id="1ac6c-247">En la ventana de **Explorador de objetos** , expanda el nodo **seguridad** , expanda el nodo **inicios de sesión** y, a continuación, haga doble clic en el inicio de sesión de la cuenta de equipo (por ejemplo, **FABRIKAM\matt**).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-247">In the **Object Explorer** window, expand the **Security** node, expand the **Logins** node, and then double-click the machine account login (for example, **FABRIKAM\matt**).</span></span>
3. <span data-ttu-id="1ac6c-248">En el cuadro de diálogo **propiedades de inicio de sesión** , haga clic en asignación de **usuarios**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-248">In the **Login Properties** dialog box, click **User Mapping**.</span></span>
4. <span data-ttu-id="1ac6c-249">En la tabla **usuarios asignados a este inicio de sesión** , seleccione el nombre de la base de datos (por ejemplo, **ContactManager**).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-249">In the **Users mapped to this login** table, select the name of your database (for example, **ContactManager**).</span></span>
5. <span data-ttu-id="1ac6c-250">En la lista **pertenencia al rol de la base de datos para:** *[nombre de la base de datos]* , seleccione el rol de **propietario de\_dB** .</span><span class="sxs-lookup"><span data-stu-id="1ac6c-250">In the **Database role membership for:** *[database name]* list, select the **db\_owner** role.</span></span>

    ![](configuring-a-database-server-for-web-deploy-publishing/_static/image15.png)
6. <span data-ttu-id="1ac6c-251">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-251">Click **OK**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="1ac6c-252">Conclusión</span><span class="sxs-lookup"><span data-stu-id="1ac6c-252">Conclusion</span></span>

<span data-ttu-id="1ac6c-253">El servidor de base de datos ahora debe estar preparado para aceptar implementaciones de bases de datos remotas y permitir que los servidores Web de IIS remotos tengan acceso a las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="1ac6c-253">Your database server should now be ready to accept remote database deployments and to allow remote IIS web servers to access your databases.</span></span> <span data-ttu-id="1ac6c-254">Antes de intentar implementar y usar bases de datos, puede que desee comprobar estos puntos clave:</span><span class="sxs-lookup"><span data-stu-id="1ac6c-254">Before you attempt to deploy and use databases, you may want to check these key points:</span></span>

- <span data-ttu-id="1ac6c-255">¿Ha configurado SQL Server para aceptar conexiones TCP/IP remotas?</span><span class="sxs-lookup"><span data-stu-id="1ac6c-255">Have you configured SQL Server to accept remote TCP/IP connections?</span></span>
- <span data-ttu-id="1ac6c-256">¿Ha configurado los firewalls para permitir el tráfico SQL Server?</span><span class="sxs-lookup"><span data-stu-id="1ac6c-256">Have you configured any firewalls to permit SQL Server traffic?</span></span>
- <span data-ttu-id="1ac6c-257">¿Ha creado un inicio de sesión de cuenta de equipo para cada servidor Web que vaya a tener acceso a SQL Server?</span><span class="sxs-lookup"><span data-stu-id="1ac6c-257">Have you created a machine account login for every web server that will access SQL Server?</span></span>
- <span data-ttu-id="1ac6c-258">¿La implementación de la base de datos incluye un script para crear asignaciones de roles de usuario, o bien debe crearlos manualmente después de implementar la base de datos por primera vez?</span><span class="sxs-lookup"><span data-stu-id="1ac6c-258">Does your database deployment include a script to create user role mappings, or do you need to create these manually after you deploy the database for the first time?</span></span>
- <span data-ttu-id="1ac6c-259">¿Ha creado un inicio de sesión para la cuenta de implementación y lo ha agregado al rol de servidor **dbcreator** ?</span><span class="sxs-lookup"><span data-stu-id="1ac6c-259">Have you created a login for the deployment account and added it to the **dbcreator** server role?</span></span>

## <a name="further-reading"></a><span data-ttu-id="1ac6c-260">Información adicional</span><span class="sxs-lookup"><span data-stu-id="1ac6c-260">Further Reading</span></span>

<span data-ttu-id="1ac6c-261">Para obtener instrucciones sobre la implementación de proyectos de base de datos, vea [implementar proyectos de base de datos](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-261">For guidance on deploying database projects, see [Deploying Database Projects](../web-deployment-in-the-enterprise/deploying-database-projects.md).</span></span> <span data-ttu-id="1ac6c-262">Para obtener instrucciones sobre la creación de pertenencias a roles de base de datos mediante la ejecución de un script posterior a la implementación, vea [implementar miembros de roles de base de datos en entornos de prueba](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-262">For guidance on creating database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="1ac6c-263">Para obtener instrucciones sobre cómo cumplir los desafíos de implementación únicos que suponen las bases de datos de pertenencia, vea [implementar bases de datos de pertenencia en entornos empresariales](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="1ac6c-263">For guidance on how to meet the unique deployment challenges that membership databases pose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1ac6c-264">[Anterior](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
> [Siguiente](creating-a-server-farm-with-the-web-farm-framework.md)</span><span class="sxs-lookup"><span data-stu-id="1ac6c-264">[Previous](configuring-a-web-server-for-web-deploy-publishing-offline-deployment.md)
[Next](creating-a-server-farm-with-the-web-farm-framework.md)</span></span>

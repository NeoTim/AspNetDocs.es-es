---
uid: web-pages/overview/ui-layouts-and-themes/9-working-with-images
title: Trabajar con imágenes en un sitio ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: Este capítulo muestra cómo agregar, mostrar y manipular imágenes (cambiar el tamaño, voltear y añadir marcas de agua) en su sitio Web.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: 778c4e58-4372-4d25-bab9-aec4a8d8e38d
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/9-working-with-images
msc.type: authoredcontent
ms.openlocfilehash: fedd1013c036ebdb85877a868aaaa172733e5b8a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59394710"
---
# <a name="working-with-images-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="3a9e4-103">Trabajar con imágenes en un sitio Web de ASP.NET Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-103">Working with Images in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="3a9e4-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="3a9e4-105">En este artículo se muestra cómo agregar, mostrar y manipular imágenes (cambiar el tamaño, voltear y añadir marcas de agua) en un sitio Web de ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-105">This article shows you how to add, display, and manipulate images (resize, flip, and add watermarks) in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="3a9e4-106">Lo que aprenderá:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="3a9e4-107">Cómo agregar una imagen a una página dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-107">How to add an image to a page dynamically.</span></span>
> - <span data-ttu-id="3a9e4-108">Cómo permitir que los usuarios carguen una imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-108">How to let users upload an image.</span></span>
> - <span data-ttu-id="3a9e4-109">Cómo cambiar el tamaño de una imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-109">How to resize an image.</span></span>
> - <span data-ttu-id="3a9e4-110">Cómo girar o voltear una imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-110">How to flip or rotate an image.</span></span>
> - <span data-ttu-id="3a9e4-111">Cómo agregar una marca de agua a una imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-111">How to add a watermark to an image.</span></span>
> - <span data-ttu-id="3a9e4-112">Aprenda a utilizar una imagen como una marca de agua.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-112">How to use an image as a watermark.</span></span>
> 
> <span data-ttu-id="3a9e4-113">Estas son las características introducidas en el artículo de programación de ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="3a9e4-114">El `WebImage` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-114">The `WebImage` helper.</span></span>
> - <span data-ttu-id="3a9e4-115">El `Path` object, que proporciona métodos que permiten manipular los nombres de archivo y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-115">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="3a9e4-116">Versiones de software que se usa en el tutorial</span><span class="sxs-lookup"><span data-stu-id="3a9e4-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="3a9e4-117">ASP.NET Web Pages (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="3a9e4-117">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="3a9e4-118">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="3a9e4-118">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="3a9e4-119">Este tutorial también funciona con WebMatrix 3.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-119">This tutorial also works with WebMatrix 3.</span></span>


<a id="Adding_an_Image"></a>
## <a name="adding-an-image-to-a-web-page-dynamically"></a><span data-ttu-id="3a9e4-120">Agregar una imagen a una página Web de forma dinámica</span><span class="sxs-lookup"><span data-stu-id="3a9e4-120">Adding an Image to a Web Page Dynamically</span></span>

<span data-ttu-id="3a9e4-121">Puede agregar imágenes a su sitio Web y a las páginas individuales al desarrollar el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-121">You can add images to your website and to individual pages while you're developing the website.</span></span> <span data-ttu-id="3a9e4-122">También puede permitir que los usuarios cargar imágenes, que pueden ser útiles para tareas como lo que permite agregar una foto de perfil.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-122">You can also let users upload images, which might be useful for tasks like letting them add a profile photo.</span></span>

<span data-ttu-id="3a9e4-123">Si ya está disponible una imagen en su sitio y desea mostrarlo en una página, utilice un elemento HTML `<img>` elemento similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-123">If an image is already available on your site and you just want to display it on a page, you use an HTML `<img>` element like this:</span></span>

[!code-html[Main](9-working-with-images/samples/sample1.html)]

<span data-ttu-id="3a9e4-124">A veces, sin embargo, debe ser capaz de mostrar imágenes dinámicamente &#8212; es decir, no sabe lo que la imagen para mostrar hasta que la página se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-124">Sometimes, though, you need to be able to display images dynamically &#8212; that is, you don't know what image to display until the page is running.</span></span>

<span data-ttu-id="3a9e4-125">El procedimiento descrito en esta sección muestra cómo mostrar una imagen sobre la marcha donde los usuarios especificar el nombre de archivo de imagen de una lista de nombres de imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-125">The procedure in this section shows how to display an image on the fly where users specify the image file name from a list of image names.</span></span> <span data-ttu-id="3a9e4-126">Seleccionan el nombre de la imagen de una lista desplegable y, al enviar la página, se muestra la imagen seleccionada.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-126">They select the name of the image from a drop-down list, and when they submit the page, the image they selected is displayed.</span></span>

<span data-ttu-id="3a9e4-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images 1.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-127">![[image]](9-working-with-images/_static/image1.jpg "ch9images-1.jpg")</span></span>

1. <span data-ttu-id="3a9e4-128">En WebMatrix, cree un nuevo sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-128">In WebMatrix, create a new website.</span></span>
2. <span data-ttu-id="3a9e4-129">Agregar una nueva página denominada *DynamicImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-129">Add a new page named *DynamicImage.cshtml*.</span></span>
3. <span data-ttu-id="3a9e4-130">En la carpeta raíz del sitio Web, agregue una nueva carpeta y asígnele el nombre *imágenes*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-130">In the root folder of the website, add a new folder and name it *images*.</span></span>
4. <span data-ttu-id="3a9e4-131">Agregar imágenes de cuatro a la *imágenes* carpeta recién creada.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-131">Add four images to the *images* folder you just created.</span></span> <span data-ttu-id="3a9e4-132">(Las imágenes tenga útil hacer, pero deben caber en una página). Cambiar el nombre de las imágenes *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, y *Photo4.jpg*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-132">(Any images you have handy will do, but they should fit onto a page.) Rename the images *Photo1.jpg*, *Photo2.jpg*, *Photo3.jpg*, and *Photo4.jpg*.</span></span> <span data-ttu-id="3a9e4-133">(No usas *Photo4.jpg* en este procedimiento, pero usará más adelante en el artículo.)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-133">(You won't use *Photo4.jpg* in this procedure, but you'll use it later in the article.)</span></span>
5. <span data-ttu-id="3a9e4-134">Compruebe que las cuatro imágenes no están marcadas como de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-134">Verify that the four images are not marked as read-only.</span></span>
6. <span data-ttu-id="3a9e4-135">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-135">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](9-working-with-images/samples/sample2.cshtml)]

    <span data-ttu-id="3a9e4-136">El cuerpo de la página tiene una lista desplegable (una `<select>` elemento) que se denomina `photoChoice`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-136">The body of the page has a drop-down list (a `<select>` element) that's named `photoChoice`.</span></span> <span data-ttu-id="3a9e4-137">La lista tiene tres opciones y el `value` atributo de cada opción de lista tiene el nombre de una de las imágenes que se coloca en el *imágenes* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-137">The list has three options, and the `value` attribute of each list option has the name of one of the images that you put in the *images* folder.</span></span> <span data-ttu-id="3a9e4-138">En esencia, la lista permite al usuario seleccionar un nombre descriptivo como &quot;Photo 1&quot;, y, a continuación, pasa el *.jpg* nombre de archivo cuando se envía la página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-138">Essentially, the list lets the user select a friendly name like &quot;Photo 1&quot;, and it then passes the *.jpg* file name when the page is submitted.</span></span>

    <span data-ttu-id="3a9e4-139">En el código, puede obtener la selección del usuario (en otras palabras, el nombre de archivo de imagen) de la lista mediante la lectura de `Request["photoChoice"]`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-139">In the code, you can get the user's selection (in other words, the image file name) from the list by reading `Request["photoChoice"]`.</span></span> <span data-ttu-id="3a9e4-140">Aparece en primer lugar si hay una selección.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-140">You first see if there's a selection at all.</span></span> <span data-ttu-id="3a9e4-141">Si no existe, construir una ruta de acceso para la imagen que se compone del nombre de la carpeta para las imágenes y nombre de archivo de imagen del usuario.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-141">If there is, you construct a path for the image that consists of the name of the folder for the images and the user's image file name.</span></span> <span data-ttu-id="3a9e4-142">(Si se ha intentado crear una ruta de acceso, pero no existía nada en `Request["photoChoice"]`, obtendría un error.) Esto da como resultado una ruta de acceso relativa similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-142">(If you tried to construct a path but there was nothing in `Request["photoChoice"]`, you'd get an error.) This results in a relative path like this:</span></span>

    *<span data-ttu-id="3a9e4-143">imágenes/Photo1.jpg</span><span class="sxs-lookup"><span data-stu-id="3a9e4-143">images/Photo1.jpg</span></span>*

    <span data-ttu-id="3a9e4-144">La ruta de acceso se almacena en la variable denominada `imagePath` que necesitará más adelante en la página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-144">The path is stored in variable named `imagePath` that you'll need later in the page.</span></span>

    <span data-ttu-id="3a9e4-145">En el cuerpo, también hay un `<img>` elemento que se usa para mostrar la imagen que se ha seleccionado el usuario.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-145">In the body, there's also an `<img>` element that's used to display the image that the user picked.</span></span> <span data-ttu-id="3a9e4-146">El `src` atributo no está establecido en un nombre de archivo o la dirección URL, tal como se haría para mostrar un elemento estático.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-146">The `src` attribute isn't set to a file name or URL, like you'd do to display a static element.</span></span> <span data-ttu-id="3a9e4-147">En su lugar, se establece en `@imagePath`, lo que significa que obtiene su valor de la ruta de acceso que configuró en el código.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-147">Instead, it's set to `@imagePath`, meaning that it gets its value from the path you set in code.</span></span>

    <span data-ttu-id="3a9e4-148">La primera vez que se ejecuta la página, sin embargo, hay ninguna imagen para mostrar, porque el usuario no ha seleccionado nada.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-148">The first time that the page runs, though, there's no image to display, because the user hasn't selected anything.</span></span> <span data-ttu-id="3a9e4-149">Esto normalmente significa que el `src` atributo estarán vacío y la imagen se debe mostrar como una roja &quot;x&quot; (o lo que representa el explorador cuando no se puede encontrar una imagen).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-149">This would normally mean that the `src` attribute would be empty and the image would show up as a red &quot;x&quot; (or whatever the browser renders when it can't find an image).</span></span> <span data-ttu-id="3a9e4-150">Para evitar esto, coloca el `<img>` elemento en un `if` bloque que se comprueba para ver si el `imagePath` variable tiene nada en él.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-150">To prevent this, you put the `<img>` element in an `if` block that tests to see whether the `imagePath` variable has anything in it.</span></span> <span data-ttu-id="3a9e4-151">Si el usuario realiza una selección, `imagePath` contiene la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-151">If the user made a selection, `imagePath` contains the path.</span></span> <span data-ttu-id="3a9e4-152">Si el usuario no ha seleccionado una imagen o si se trata de la primera vez que se muestra la página, el `<img>` aún no se procesa el elemento.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-152">If the user didn't pick an image or if this is the first time the page is displayed, the `<img>` element isn't even rendered.</span></span>
7. <span data-ttu-id="3a9e4-153">Guarde el archivo y ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-153">Save the file and run the page in a browser.</span></span> <span data-ttu-id="3a9e4-154">(Asegúrese de que la página está seleccionada en el **archivos** área de trabajo antes de ejecutarlo.)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-154">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
8. <span data-ttu-id="3a9e4-155">Seleccione una imagen de la lista desplegable y, a continuación, haga clic en **imagen de ejemplo**.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-155">Select an image from the drop-down list and then click **Sample Image**.</span></span> <span data-ttu-id="3a9e4-156">Asegúrese de que ve diferentes imágenes para las diferentes opciones.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-156">Make sure that you see different images for different choices.</span></span>

<a id="Uploading_an_Image"></a>
## <a name="uploading-an-image"></a><span data-ttu-id="3a9e4-157">Cargar una imagen</span><span class="sxs-lookup"><span data-stu-id="3a9e4-157">Uploading an Image</span></span>

<span data-ttu-id="3a9e4-158">El ejemplo anterior mostró cómo mostrar una imagen de forma dinámica, pero ha funcionado sólo con imágenes que ya estaban en su sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-158">The previous example showed you how to display an image dynamically, but it worked only with images that were already on your website.</span></span> <span data-ttu-id="3a9e4-159">Este procedimiento muestra cómo permitir que los usuarios carguen una imagen, que, a continuación, se muestra en la página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-159">This procedure shows how to let users upload an image, which is then displayed on the page.</span></span> <span data-ttu-id="3a9e4-160">En ASP.NET, puede manipular imágenes sobre la marcha mediante la `WebImage` aplicación auxiliar, que tiene métodos que permiten crear, manipular y guardar las imágenes.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-160">In ASP.NET, you can manipulate images on the fly using the `WebImage` helper, which has methods that let you create, manipulate, and save images.</span></span> <span data-ttu-id="3a9e4-161">El `WebImage` auxiliar es compatible con todas los web imagen tipos de archivo comunes, incluidos *.jpg*, *.png*, y *.bmp*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-161">The `WebImage` helper supports all the common web image file types, including *.jpg*, *.png*, and *.bmp*.</span></span> <span data-ttu-id="3a9e4-162">En este artículo, usará *.jpg* imágenes, pero puede usar cualquiera de los tipos de imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-162">Throughout this article, you'll use *.jpg* images, but you can use any of the image types.</span></span>

<span data-ttu-id="3a9e4-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images 2.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-163">![[image]](9-working-with-images/_static/image2.jpg "ch9images-2.jpg")</span></span>

1. <span data-ttu-id="3a9e4-164">Agregue una nueva página y asígnele el nombre *UploadImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-164">Add a new page and name it *UploadImage.cshtml*.</span></span>
2. <span data-ttu-id="3a9e4-165">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-165">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample3.cshtml)]

    <span data-ttu-id="3a9e4-166">El cuerpo del texto tiene un `<input type="file">` elemento, que permite a los usuarios seleccionar un archivo para cargarlo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-166">The body of the text has an `<input type="file">` element, which lets users select a file to upload.</span></span> <span data-ttu-id="3a9e4-167">Al hacer clic **enviar**, el archivo seleccionados por el que se envía junto con el formulario.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-167">When they click **Submit**, the file they picked is submitted along with the form.</span></span>

    <span data-ttu-id="3a9e4-168">Para obtener la imagen cargada, se utiliza el `WebImage` auxiliar, que tiene todo tipo de métodos útiles para trabajar con imágenes.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-168">To get the uploaded image, you use the `WebImage` helper, which has all sorts of useful methods for working with images.</span></span> <span data-ttu-id="3a9e4-169">En concreto, usa `WebImage.GetImageFromRequest` para obtener la imagen cargada (si existe) y almacenarlo en una variable denominada `photo`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-169">Specifically, you use `WebImage.GetImageFromRequest` to get the uploaded image (if any) and store it in a variable named `photo`.</span></span>

    <span data-ttu-id="3a9e4-170">Una gran parte del trabajo en este ejemplo implica obtener y establecer los nombres de archivo y ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-170">A lot of the work in this example involves getting and setting file and path names.</span></span> <span data-ttu-id="3a9e4-171">El problema es que desea obtener el nombre (y solo el nombre) de la imagen que el usuario ha cargado y, a continuación, cree una nueva ruta de acceso donde va a almacenar la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-171">The issue is that you want to get the name (and just the name) of the image that the user uploaded, and then create a new path for where you're going to store the image.</span></span> <span data-ttu-id="3a9e4-172">Dado que los usuarios potencialmente podrían cargar varias imágenes que tienen el mismo nombre, utilice un poco de código adicional para crear nombres únicos y asegúrese de que los usuarios no sobrescriban las imágenes existentes.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-172">Because users could potentially upload multiple images that have the same name, you use a bit of extra code to create unique names and make sure that users don't overwrite existing pictures.</span></span>

    <span data-ttu-id="3a9e4-173">Si una imagen se ha cargado realmente (la prueba `if (photo != null)`), obtendrá el nombre de la imagen de la imagen `FileName` propiedad.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-173">If an image actually has been uploaded (the test `if (photo != null)`), you get the image name from the image's `FileName` property.</span></span> <span data-ttu-id="3a9e4-174">Cuando el usuario carga la imagen, `FileName` contiene el nombre del usuario original, que incluye la ruta de acceso desde el equipo del usuario.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-174">When the user uploads the image, `FileName` contains the user's original name, which includes the path from the user's computer.</span></span> <span data-ttu-id="3a9e4-175">Podría parecerse a esto:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-175">It might look like this:</span></span>

    *<span data-ttu-id="3a9e4-176">C:\Users\Joe\Pictures\SamplePhoto1.jpg</span><span class="sxs-lookup"><span data-stu-id="3a9e4-176">C:\Users\Joe\Pictures\SamplePhoto1.jpg</span></span>*

    <span data-ttu-id="3a9e4-177">No desea que esa información de ruta de acceso, aunque &#8212; tan solo quiere el nombre de archivo real (*SamplePhoto1.jpg*).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-177">You don't want all that path information, though &#8212; you just want the actual file name (*SamplePhoto1.jpg*).</span></span> <span data-ttu-id="3a9e4-178">Puede eliminar solo el archivo desde una ruta de acceso mediante el uso de la `Path.GetFileName` método, similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-178">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](9-working-with-images/samples/sample4.cs)]

    <span data-ttu-id="3a9e4-179">A continuación, creará un nuevo nombre de archivo único mediante la adición de un GUID al nombre original.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-179">You then create a new unique file name by adding a GUID to the original name.</span></span> <span data-ttu-id="3a9e4-180">(Para obtener más información acerca de los GUID, consulte [sobre GUID](#SB_AboutGUIDs) más adelante en este artículo.) A continuación, construir una ruta de acceso completa que puede usar para guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-180">(For more about GUIDs, see [About GUIDs](#SB_AboutGUIDs) later in this article.) Then you construct a complete path that you can use to save the image.</span></span> <span data-ttu-id="3a9e4-181">Guardar ruta de acceso está formado por el nuevo nombre de archivo, la carpeta (imágenes) y la ubicación del sitio Web actual.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-181">The save path is made up of the new file name, the folder (images), and the current website location.</span></span>

    > [!NOTE]
    > <span data-ttu-id="3a9e4-182">Para el código guardar los archivos en el *imágenes* carpeta, la aplicación necesita permisos de lectura-escritura para esa carpeta.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-182">In order for your code to save files in the *images* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="3a9e4-183">En el equipo de desarrollo esto no es normalmente un problema.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-183">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="3a9e4-184">Sin embargo, cuando se publica un sitio al servidor de un proveedor de hospedaje web, debe establecer explícitamente esos permisos.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-184">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="3a9e4-185">Si ejecuta este código en el servidor de un proveedor de hospedaje y obtiene errores, póngase en contacto con el proveedor de hospedaje para obtener información sobre cómo establecer estos permisos.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-185">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

    <span data-ttu-id="3a9e4-186">Por último, se pasa al guardar ruta de acceso a la `Save` método de la `WebImage` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-186">Finally, you pass the save path to the `Save` method of the `WebImage` helper.</span></span> <span data-ttu-id="3a9e4-187">Almacena la imagen cargada en su nuevo nombre.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-187">This stores the uploaded image under its new name.</span></span> <span data-ttu-id="3a9e4-188">La operación de guardar método tiene este aspecto: `photo.Save(@"~\" + imagePath)`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-188">The save method looks like this: `photo.Save(@"~\" + imagePath)`.</span></span> <span data-ttu-id="3a9e4-189">La ruta de acceso completa se anexa a `@"~\"`, que es la ubicación del sitio Web actual.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-189">The complete path is appended to `@"~\"`, which is the current website location.</span></span> <span data-ttu-id="3a9e4-190">(Para obtener información sobre la `~` operador, consulte [Introducción a ASP.NET Web programación mediante la sintaxis Razor](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-190">(For information about the `~` operator, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="3a9e4-191">Como se muestra en el ejemplo anterior, el cuerpo de la página contiene un `<img>` elemento para mostrar la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-191">As in the previous example, the body of the page contains an `<img>` element to display the image.</span></span> <span data-ttu-id="3a9e4-192">Si `imagePath` se ha establecido, el `<img>` se representa el elemento y su `src` atributo está establecido en el `imagePath` valor.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-192">If `imagePath` has been set, the `<img>` element is rendered and its `src` attribute is set to the `imagePath` value.</span></span>
3. <span data-ttu-id="3a9e4-193">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-193">Run the page in a browser.</span></span>
4. <span data-ttu-id="3a9e4-194">Cargar una imagen y asegúrese de que se muestra en la página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-194">Upload an image and make sure it's displayed in the page.</span></span>
5. <span data-ttu-id="3a9e4-195">En su sitio, abra el *imágenes* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-195">In your site, open the *images* folder.</span></span> <span data-ttu-id="3a9e4-196">Verá que se ha agregado un nuevo archivo cuyo nombre de archivo es algo parecido a esto:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-196">You see that a new file has been added whose file name looks something like this::</span></span> 

    *<span data-ttu-id="3a9e4-197">45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png</span><span class="sxs-lookup"><span data-stu-id="3a9e4-197">45ea4527-7ddd-4965-b9ca-c6444982b342\_MyPhoto.png</span></span>*

    <span data-ttu-id="3a9e4-198">Esta es la imagen que ha cargado con un GUID como precedido al nombre.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-198">This is the image that you uploaded with a GUID prefixed to the name.</span></span> <span data-ttu-id="3a9e4-199">(Su propio archivo tendrá un GUID diferente y probablemente se denomina algo distinto a *MyPhoto.png*.)</span><span class="sxs-lookup"><span data-stu-id="3a9e4-199">(Your own file will have a different GUID and probably is named something different than *MyPhoto.png*.)</span></span>

> [!TIP] 
> 
> <a id="SB_AboutGUIDs"></a>
> ### <a name="about-guids"></a><span data-ttu-id="3a9e4-200">Acerca de los GUID</span><span class="sxs-lookup"><span data-stu-id="3a9e4-200">About GUIDs</span></span>
> 
> <span data-ttu-id="3a9e4-201">Un GUID (identificador único global) es un identificador que normalmente se representa en un formato similar al siguiente: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-201">A GUID (globally-unique ID) is an identifier that's usually rendered in a format like this: `936DA01F-9ABD-4d9d-80C7-02AF85C822A8`.</span></span> <span data-ttu-id="3a9e4-202">Los números y letras (de A-F) distinto para cada GUID, pero siguen el patrón de uso de grupos de caracteres de 8-4-4-4-12.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-202">The numbers and letters (from A-F) differ for each GUID, but they all follow the pattern of using groups of 8-4-4-4-12 characters.</span></span> <span data-ttu-id="3a9e4-203">(Técnicamente, un GUID es un número de 16 bytes o 128 bits). Cuando se necesita un GUID, puede llamar a código especializado que genera un GUID para usted.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-203">(Technically, a GUID is a 16-byte/128-bit number.) When you need a GUID, you can call specialized code that generates a GUID for you.</span></span> <span data-ttu-id="3a9e4-204">La idea detrás de los GUID es que entre el tamaño de la cantidad enorme (3,4 x 10<sup>38</sup>) y el algoritmo para que lo genera, el número resultante es prácticamente garantiza que uno de cada tipo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-204">The idea behind GUIDs is that between the enormous size of the number (3.4 x 10<sup>38</sup>) and the algorithm for generating it, the resulting number is virtually guaranteed to be one of a kind.</span></span> <span data-ttu-id="3a9e4-205">Por lo tanto, los GUID son una buena forma de generar los nombres de las cosas cuando debe garantizar que no use el mismo nombre dos veces.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-205">GUIDs therefore are a good way to generate names for things when you must guarantee that you won't use the same name twice.</span></span> <span data-ttu-id="3a9e4-206">La desventaja, por supuesto, es que los GUID no son especialmente descriptivos, por lo que tienden a utilizarse cuando se utiliza el nombre en el código.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-206">The downside, of course, is that GUIDs aren't particularly user friendly, so they tend to be used when the name is used only in code.</span></span>


<a id="Resizing_an_Image"></a>
## <a name="resizing-an-image"></a><span data-ttu-id="3a9e4-207">Cambiar el tamaño de una imagen</span><span class="sxs-lookup"><span data-stu-id="3a9e4-207">Resizing an Image</span></span>

<span data-ttu-id="3a9e4-208">Si su sitio Web acepta las imágenes de un usuario, es posible que desee cambiar el tamaño de las imágenes antes de mostrar o guardarlos.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-208">If your website accepts images from a user, you might want to resize the images before you display or save them.</span></span> <span data-ttu-id="3a9e4-209">Puede usar nuevamente el `WebImage` auxiliar para esto.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-209">You can again use the `WebImage` helper for this.</span></span>

<span data-ttu-id="3a9e4-210">Este procedimiento muestra cómo cambiar el tamaño de una imagen cargada para crear una miniatura y, a continuación, guarde la imagen original y la miniatura en el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-210">This procedure shows how to resize an uploaded image to create a thumbnail and then save the thumbnail and original image in the website.</span></span> <span data-ttu-id="3a9e4-211">Mostrar la miniatura en la página y utilizar un hipervínculo para redirigir a los usuarios a la imagen en tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-211">You display the thumbnail on the page and use a hyperlink to redirect users to the full-sized image.</span></span>

<span data-ttu-id="3a9e4-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images 3.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-212">![[image]](9-working-with-images/_static/image3.jpg "ch9images-3.jpg")</span></span>

1. <span data-ttu-id="3a9e4-213">Agregar una nueva página denominada *Thumbnail.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-213">Add a new page named *Thumbnail.cshtml*.</span></span>
2. <span data-ttu-id="3a9e4-214">En el *imágenes* carpeta, cree una subcarpeta denominada *thumbs*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-214">In the *images* folder, create a subfolder named *thumbs*.</span></span>
3. <span data-ttu-id="3a9e4-215">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-215">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample5.cshtml)]

    <span data-ttu-id="3a9e4-216">Este código es similar al código del ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-216">This code is similar to the code from the previous example.</span></span> <span data-ttu-id="3a9e4-217">La diferencia es que este código guarda la imagen dos veces, una vez normalmente y una vez después de crear una copia de la imagen en miniatura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-217">The difference is that this code saves the image twice, once normally and once after you create a thumbnail copy of the image.</span></span> <span data-ttu-id="3a9e4-218">En primer lugar Obtenga la imagen cargada y guárdelo en el *imágenes* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-218">First you get the uploaded image and save it in the *images* folder.</span></span> <span data-ttu-id="3a9e4-219">A continuación, crear una nueva ruta de acceso para la imagen en miniatura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-219">You then construct a new path for the thumbnail image.</span></span> <span data-ttu-id="3a9e4-220">Para crear realmente la miniatura, llame a la `WebImage` la aplicación auxiliar `Resize` método para crear una imagen de píxel de 60 x 60 píxeles.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-220">To actually create the thumbnail, you call the `WebImage` helper's `Resize` method to create a 60-pixel by 60-pixel image.</span></span> <span data-ttu-id="3a9e4-221">El ejemplo muestra cómo se conserva la relación de aspecto y cómo puede impedir que la imagen que se amplía (en caso de que el nuevo tamaño realmente haría que la imagen más grande).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-221">The example shows how you preserve the aspect ratio and how you can prevent the image from being enlarged (in case the new size would actually make the image larger).</span></span> <span data-ttu-id="3a9e4-222">A continuación, se guarda la imagen cuyo tamaño ha cambiado en el *thumbs* subcarpeta.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-222">The resized image is then saved in the *thumbs* subfolder.</span></span>

    <span data-ttu-id="3a9e4-223">Al final del marcado, use el mismo `<img>` elemento con el dinámico `src` atributo que ha visto en los ejemplos anteriores para mostrar condicionalmente la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-223">At the end of the markup, you use the same `<img>` element with the dynamic `src` attribute that you've seen in the previous examples to conditionally show the image.</span></span> <span data-ttu-id="3a9e4-224">En este caso, mostrar la miniatura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-224">In this case, you display the thumbnail.</span></span> <span data-ttu-id="3a9e4-225">También usa un `<a>` elemento para crear un hipervínculo a la versión de la imagen grande.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-225">You also use an `<a>` element to create a hyperlink to the big version of the image.</span></span> <span data-ttu-id="3a9e4-226">Igual que con el `src` atributo de la `<img>` elemento, Establece el `href` atributo de la `<a>` elemento dinámicamente a cualquier cosa que esté en `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-226">As with the `src` attribute of the `<img>` element, you set the `href` attribute of the `<a>` element dynamically to whatever is in `imagePath`.</span></span> <span data-ttu-id="3a9e4-227">Para asegurarse de que la ruta de acceso puede funcionar como una dirección URL, pasa `imagePath` a la `Html.AttributeEncode` método, que convierte los caracteres reservados en la ruta de acceso a los caracteres que no importa en una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-227">To make sure that the path can work as a URL, you pass `imagePath` to the `Html.AttributeEncode` method, which converts reserved characters in the path to characters that are ok in a URL.</span></span>
4. <span data-ttu-id="3a9e4-228">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-228">Run the page in a browser.</span></span>
5. <span data-ttu-id="3a9e4-229">Cargar una foto y compruebe que aparece la miniatura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-229">Upload a photo and verify that the thumbnail is shown.</span></span>
6. <span data-ttu-id="3a9e4-230">Haga clic en la miniatura para ver la imagen en tamaño completo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-230">Click the thumbnail to see the full-size image.</span></span>
7. <span data-ttu-id="3a9e4-231">En el *imágenes* y *imágenes/thumbs*, tenga en cuenta que se han agregado nuevos archivos.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-231">In the *images* and *images/thumbs*, note that new files have been added.</span></span>

<a id="Rotating_and_Flipping"></a>
## <a name="rotating-and-flipping-an-image"></a><span data-ttu-id="3a9e4-232">Girar y voltear una imagen</span><span class="sxs-lookup"><span data-stu-id="3a9e4-232">Rotating and Flipping an Image</span></span>

<span data-ttu-id="3a9e4-233">El `WebImage` auxiliar también permite voltear y rotar imágenes.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-233">The `WebImage` helper also lets you flip and rotate images.</span></span> <span data-ttu-id="3a9e4-234">Este procedimiento muestra cómo obtener una imagen desde el servidor, la imagen se voltea boca abajo (vertical), guárdelo y, a continuación, se mostrará la imagen volteada en la página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-234">This procedure shows how to get an image from the server, flip the image upside down (vertically), save it, and then display the flipped image on the page.</span></span> <span data-ttu-id="3a9e4-235">En este ejemplo, solo usa un archivo que ya tiene en el servidor (*Photo2.jpg*).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-235">In this example, you're just using a file you already have on the server (*Photo2.jpg*).</span></span> <span data-ttu-id="3a9e4-236">En una aplicación real, probablemente sería voltear una imagen cuyo nombre se obtiene de forma dinámica, como hizo en los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-236">In a real application, you'd probably flip an image whose name you get dynamically, like you did in previous examples.</span></span>

<span data-ttu-id="3a9e4-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images 4.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-237">![[image]](9-working-with-images/_static/image4.jpg "ch9images-4.jpg")</span></span>

1. <span data-ttu-id="3a9e4-238">Agregar una nueva página denominada *FlipImage.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-238">Add a new page named *FlipImage.cshtml*.</span></span>
2. <span data-ttu-id="3a9e4-239">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-239">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample6.cshtml)]

    <span data-ttu-id="3a9e4-240">El código usa el `WebImage` auxiliar para obtener una imagen desde el servidor.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-240">The code uses the `WebImage` helper to get an image from the server.</span></span> <span data-ttu-id="3a9e4-241">Crear la ruta de acceso a la imagen con la misma técnica usada en ejemplos anteriores para guardar las imágenes y pasar esa ruta de acceso al crear una imagen mediante `WebImage`:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-241">You create the path to the image using the same technique you used in earlier examples for saving images, and you pass that path when you create an image using `WebImage`:</span></span>

    [!code-javascript[Main](9-working-with-images/samples/sample7.js)]

    <span data-ttu-id="3a9e4-242">Si se encuentra una imagen, crear una nueva ruta de acceso y nombre, como hizo en los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-242">If an image is found, you construct a new path and file name, like you did in earlier examples.</span></span> <span data-ttu-id="3a9e4-243">Para voltear la imagen, se llama a la `FlipVertical` método y, a continuación, vuelva a guarda la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-243">To flip the image, you call the `FlipVertical` method, and then you save the image again.</span></span>

    <span data-ttu-id="3a9e4-244">La imagen aparece de nuevo en la página mediante el uso de la `<img>` elemento con el `src` atributo establecido en `imagePath`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-244">The image is again displayed on the page by using the `<img>` element with the `src` attribute set to `imagePath`.</span></span>
3. <span data-ttu-id="3a9e4-245">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-245">Run the page in a browser.</span></span> <span data-ttu-id="3a9e4-246">La imagen para *Photo2.jpg* se muestra boca abajo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-246">The image for *Photo2.jpg* is shown upside down.</span></span>
4. <span data-ttu-id="3a9e4-247">Actualice la página o solicite la página nuevo para ver que la imagen es volteado lado derecho de nuevo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-247">Refresh the page or request the page again to see the image is flipped right side up again.</span></span>

<span data-ttu-id="3a9e4-248">Para girar una imagen, usa el mismo código, salvo que en lugar de llamar el `FlipVertical` o `FlipHorizontal`, se llama a `RotateLeft` o `RotateRight`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-248">To rotate an image, you use the same code, except that instead of calling the `FlipVertical` or `FlipHorizontal`, you call `RotateLeft` or `RotateRight`.</span></span>

<a id="Adding_a_Watermark"></a>
## <a name="adding-a-watermark-to-an-image"></a><span data-ttu-id="3a9e4-249">Agregar una marca de agua a una imagen</span><span class="sxs-lookup"><span data-stu-id="3a9e4-249">Adding a Watermark to an Image</span></span>

<span data-ttu-id="3a9e4-250">Al agregar imágenes a su sitio Web, es posible que desee agregar una marca de agua a la imagen antes de guardarla o mostrarla en una página.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-250">When you add images to your website, you might want to add a watermark to the image before you save it or display it on a page.</span></span> <span data-ttu-id="3a9e4-251">Las personas a menudo usan marcas de agua para agregar información de copyright a una imagen o para anunciar su nombre de la empresa.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-251">People often use watermarks to add copyright information to an image or to advertise their business name.</span></span>

<span data-ttu-id="3a9e4-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images 5.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-252">![[image]](9-working-with-images/_static/image5.jpg "ch9images-5.jpg")</span></span>

1. <span data-ttu-id="3a9e4-253">Agregar una nueva página denominada *Watermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-253">Add a new page named *Watermark.cshtml*.</span></span>
2. <span data-ttu-id="3a9e4-254">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-254">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample8.cshtml)]

    <span data-ttu-id="3a9e4-255">Este código es similar al código de la *FlipImage.cshtml* página anterior (aunque esta ocasión, utilizará el *Photo3.jpg* archivo).</span><span class="sxs-lookup"><span data-stu-id="3a9e4-255">This code is like the code in the *FlipImage.cshtml* page from earlier (although this time it uses the *Photo3.jpg* file).</span></span> <span data-ttu-id="3a9e4-256">Para agregar la marca de agua, llame a la `WebImage` la aplicación auxiliar `AddTextWatermark` método antes de guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-256">To add the watermark, you call the `WebImage` helper's `AddTextWatermark` method before you save the image.</span></span> <span data-ttu-id="3a9e4-257">En la llamada a `AddTextWatermark`, pasar el texto &quot;mi marca de agua&quot;, establezca el color de fuente en amarillo y establecer la familia de fuentes Arial.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-257">In the call to `AddTextWatermark`, you pass the text &quot;My Watermark&quot;, set the font color to yellow, and set the font family to Arial.</span></span> <span data-ttu-id="3a9e4-258">(Aunque no se muestra en este caso, el `WebImage` auxiliar también le permite especificar la opacidad, familia de fuentes y tamaño de fuente y la posición del texto de marca de agua.) Cuando se guarda la imagen no debe ser de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-258">(Although it's not shown here, the `WebImage` helper also lets you specify opacity, font family and font size, and the position of the watermark text.) When you save the image it must not be read-only.</span></span>

    <span data-ttu-id="3a9e4-259">Como ha visto antes, la imagen se muestra en la página mediante el uso de la `<img>` elemento con el atributo src establecido en `@imagePath`.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-259">As you've seen before, the image is displayed on the page by using the `<img>` element with the src attribute set to `@imagePath`.</span></span>
3. <span data-ttu-id="3a9e4-260">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-260">Run the page in a browser.</span></span> <span data-ttu-id="3a9e4-261">Observe el texto "Mi marca de agua" en la esquina inferior derecha de la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-261">Notice the text "My Watermark" at the bottom-right corner of the image.</span></span>

<a id="Using_an_Image_as_a_Watermark"></a>
## <a name="using-an-image-as-a-watermark"></a><span data-ttu-id="3a9e4-262">Uso de una imagen como una marca de agua</span><span class="sxs-lookup"><span data-stu-id="3a9e4-262">Using an Image As a Watermark</span></span>

<span data-ttu-id="3a9e4-263">En lugar de texto para una marca de agua, puede usar otra imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-263">Instead of using text for a watermark, you can use another image.</span></span> <span data-ttu-id="3a9e4-264">Personas a veces usan imágenes como un logotipo de empresa como una marca de agua o utilizar una imagen de marca de agua en lugar de texto de información de copyright.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-264">People sometimes use images like a company logo as a watermark, or they use a watermark image instead of text for copyright information.</span></span>

<span data-ttu-id="3a9e4-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images 6.jpg")</span><span class="sxs-lookup"><span data-stu-id="3a9e4-265">![[image]](9-working-with-images/_static/image6.jpg "ch9images-6.jpg")</span></span>

1. <span data-ttu-id="3a9e4-266">Agregar una nueva página denominada *ImageWatermark.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-266">Add a new page named *ImageWatermark.cshtml*.</span></span>
2. <span data-ttu-id="3a9e4-267">Agregar una imagen a la *imágenes* carpeta que puede usar como un logotipo y cambiar el nombre de la imagen *MyCompanyLogo.jpg*.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-267">Add an image to the *images* folder that you can use as a logo, and rename the image *MyCompanyLogo.jpg*.</span></span> <span data-ttu-id="3a9e4-268">Esta imagen debe ser una imagen que se puede ver con claridad cuando se establece en 80 píxeles de ancho por 20 píxeles de alto.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-268">This image should be an image that you can see clearly when it's set to 80 pixels wide and 20 pixels high.</span></span>
3. <span data-ttu-id="3a9e4-269">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3a9e4-269">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](9-working-with-images/samples/sample9.cshtml)]

    <span data-ttu-id="3a9e4-270">Esta es otra variación en el código de los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-270">This is another variation on the code from earlier examples.</span></span> <span data-ttu-id="3a9e4-271">En este caso, se llama a `AddImageWatermark` para agregar la imagen de marca de agua en la imagen de destino (*Photo3.jpg*) antes de guardar la imagen.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-271">In this case, you call `AddImageWatermark` to add the watermark image to the target image (*Photo3.jpg*) before you save the image.</span></span> <span data-ttu-id="3a9e4-272">Cuando se llama a `AddImageWatermark`, establezca el ancho en 80 píxeles y el alto a 20 píxeles.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-272">When you call `AddImageWatermark`, you set its width to 80 pixels and the height to 20 pixels.</span></span> <span data-ttu-id="3a9e4-273">El *MyCompanyLogo.jpg* imagen se alinea horizontalmente en el centro y se alinea verticalmente en la parte inferior de la imagen de destino.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-273">The *MyCompanyLogo.jpg* image is horizontally aligned in the center and vertically aligned at the bottom of the target image.</span></span> <span data-ttu-id="3a9e4-274">La opacidad se establece en 100% y el relleno se establece en 10 píxeles.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-274">The opacity is set to 100% and the padding is set to 10 pixels.</span></span> <span data-ttu-id="3a9e4-275">Si la imagen de marca de agua es mayor que la imagen de destino, no sucederá nada.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-275">If the watermark image is bigger than the target image, nothing will happen.</span></span> <span data-ttu-id="3a9e4-276">Si la imagen de marca de agua es mayor que la imagen de destino y establecer el relleno de la marca de agua de imagen en cero, se omitirá la marca de agua.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-276">If the watermark image is bigger than the target image and you set the padding for the image watermark to zero, the watermark is ignored.</span></span>

    <span data-ttu-id="3a9e4-277">Como antes, mostrar la imagen mediante el `<img>` elemento y una dinámica `src` atributo.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-277">As before, you display the image using the `<img>` element and a dynamic `src` attribute.</span></span>
4. <span data-ttu-id="3a9e4-278">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-278">Run the page in a browser.</span></span> <span data-ttu-id="3a9e4-279">Observe que aparece la imagen de marca de agua en la parte inferior de la imagen principal.</span><span class="sxs-lookup"><span data-stu-id="3a9e4-279">Notice that the watermark image appears at the bottom of the main image.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="3a9e4-280">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="3a9e4-280">Additional Resources</span></span>


[<span data-ttu-id="3a9e4-281">Trabajar con archivos en un sitio de ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="3a9e4-281">Working with Files in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202896)

[<span data-ttu-id="3a9e4-282">Introducción a ASP.NET Web Pages usando la sintaxis Razor de programación</span><span class="sxs-lookup"><span data-stu-id="3a9e4-282">Introduction to ASP.NET Web Pages Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=251587)

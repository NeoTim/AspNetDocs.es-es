---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Configurar permisos para el equipo de implementación de compilaciones | Microsoft Docs
author: jrjlee
description: Este tema describe cómo configurar permisos para habilitar el servidor de compilación implementar contenido en servidores web y servidores de base de datos como parte de una b automatizada...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 62e5c5622743447e1119141469c894dc905e6b43
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59381060"
---
# <a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="f5d45-103">Configurar permisos para la implementación de compilaciones de equipo</span><span class="sxs-lookup"><span data-stu-id="f5d45-103">Configuring Permissions for Team Build Deployment</span></span>

<span data-ttu-id="f5d45-104">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="f5d45-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="f5d45-105">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="f5d45-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="f5d45-106">Este tema describe cómo configurar permisos para habilitar el servidor de compilación implementar contenido en servidores web y servidores de base de datos como parte de un proceso de compilación automatizado.</span><span class="sxs-lookup"><span data-stu-id="f5d45-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>


<span data-ttu-id="f5d45-107">En este tema forma parte de una serie de tutoriales que se basa en los requisitos de implementación empresarial de una compañía ficticia denominada Fabrikam, Inc. Esta serie de tutoriales usa una solución de ejemplo&#x2014;el [solución Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;para representar una aplicación web con un nivel realista de complejidad, incluida una aplicación ASP.NET MVC 3, una comunicación de Windows Servicio Foundation (WCF) y un proyecto de base de datos.</span><span class="sxs-lookup"><span data-stu-id="f5d45-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="f5d45-108">El método de implementación en el corazón de estos tutoriales se basa en el enfoque de archivo de proyecto de división descrito en [descripción del archivo de proyecto](../web-deployment-in-the-enterprise/understanding-the-project-file.md), en que el proceso de compilación se controla mediante dos archivos de proyecto&#x2014;uno que contenga instrucciones que se aplican a todos los entornos de destino y que contiene la configuración de compilación e implementación específica del entorno de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="f5d45-109">En tiempo de compilación, se combina el archivo de proyecto específicos del entorno en el archivo de proyecto independiente del entorno para formar un conjunto completo de las instrucciones de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="f5d45-110">Información general de tarea</span><span class="sxs-lookup"><span data-stu-id="f5d45-110">Task Overview</span></span>

<span data-ttu-id="f5d45-111">Cuando se instala el servicio de compilación 2010 Team Foundation Server (TFS), especifique la identidad con la que desea que el servicio para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="f5d45-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="f5d45-112">De forma predeterminada, se trata de la cuenta de servicio de red.</span><span class="sxs-lookup"><span data-stu-id="f5d45-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="f5d45-113">Como alternativa, puede configurar el servicio de compilación se ejecute con una cuenta de dominio.</span><span class="sxs-lookup"><span data-stu-id="f5d45-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="f5d45-114">Las tareas de implementación que requieren autenticación de Windows y que tiene previsto automatizar con Team Build, ejecutarán con la identidad de servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="f5d45-115">Por lo tanto, deberá conceder los permisos necesarios en los servidores web y los servidores de base de datos de la identidad de servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="f5d45-116">La cuenta de servicio de red utiliza la cuenta de equipo para autenticarse en otros equipos.</span><span class="sxs-lookup"><span data-stu-id="f5d45-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="f5d45-117">Cuentas de equipo que adoptan la forma \* [nombre de dominio]\[nombre de la máquina] \***$**&#x2014;por ejemplo, **FABRIKAM\TFSBUILD$**.</span><span class="sxs-lookup"><span data-stu-id="f5d45-117">Machine accounts take the form \*[domain name]\[machine name]\***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="f5d45-118">Por lo tanto, si el servicio de compilación se ejecuta con la identidad de servicio de red, debe conceder los permisos necesarios para la identidad de la cuenta de equipo para el servidor de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>


## <a name="configuring-web-server-permissions"></a><span data-ttu-id="f5d45-119">Configurar permisos de servidor Web</span><span class="sxs-lookup"><span data-stu-id="f5d45-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="f5d45-120">Como se describe en [elegir el enfoque de derecha a la implementación Web](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), hay dos enfoques principales que puede usar si desea implementar los paquetes de web en un servidor web remoto:</span><span class="sxs-lookup"><span data-stu-id="f5d45-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="f5d45-121">Implementar la aplicación desde una ubicación remota estableciendo como destino el *servicio del agente de implementación Web* (también conocido como el agente remoto) en el servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f5d45-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="f5d45-122">Implementar la aplicación desde una ubicación remota estableciendo como destino el *Internet Information Services* (*IIS) el controlador de implementación Web* en el servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f5d45-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="f5d45-123">El agente remoto tiene dos limitaciones más importantes en este caso:</span><span class="sxs-lookup"><span data-stu-id="f5d45-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="f5d45-124">El agente remoto admite únicamente la autenticación NTLM.</span><span class="sxs-lookup"><span data-stu-id="f5d45-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="f5d45-125">En otras palabras, la implementación debe usar la identidad de servicio de compilación&#x2014;no puede suplantar otra cuenta.</span><span class="sxs-lookup"><span data-stu-id="f5d45-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="f5d45-126">Para utilizar al agente remoto, la cuenta que realiza la implementación debe ser un administrador del servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f5d45-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="f5d45-127">Juntas, estas dos limitaciones hacen que el agente remoto enfoque deseable para una implementación automatizada de Team Build.</span><span class="sxs-lookup"><span data-stu-id="f5d45-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="f5d45-128">Para usar este enfoque, deberá hacer que el servicio de compilación de la cuenta de administrador en todos los servidores web de destino.</span><span class="sxs-lookup"><span data-stu-id="f5d45-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="f5d45-129">En cambio, el método de controlador de implementación Web ofrece diversas ventajas:</span><span class="sxs-lookup"><span data-stu-id="f5d45-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="f5d45-130">El controlador de implementación Web admite la autenticación básica a través de HTTPS, que le permite pasar las credenciales de una cuenta alternativa a la herramienta de implementación Web de IIS (Web Deploy).</span><span class="sxs-lookup"><span data-stu-id="f5d45-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="f5d45-131">Puede configurar los servidores web de destino para permitir que los usuarios sin privilegios de administrador implementar el contenido a determinados sitios Web IIS mediante el controlador de implementación Web.</span><span class="sxs-lookup"><span data-stu-id="f5d45-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="f5d45-132">Como resultado, es preferible claramente para el controlador de implementación Web de destino al automatizar la implementación de paquetes de web de Team Build.</span><span class="sxs-lookup"><span data-stu-id="f5d45-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="f5d45-133">Este es el proceso recomendado:</span><span class="sxs-lookup"><span data-stu-id="f5d45-133">This is the recommended process:</span></span>

1. <span data-ttu-id="f5d45-134">Cree una cuenta de dominio con pocos privilegios que se usará para la implementación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="f5d45-135">Configurar el controlador de implementación Web y conceda a la cuenta los permisos necesarios para implementar contenido en un sitio Web IIS específico, como se describe en [configurar un servidor Web para la publicación de implementar en Web (controlador de implementación Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="f5d45-136">Invocación de Web Deploy y el controlador de implementación Web de destino, mediante la autenticación básica y proporcionar las credenciales de la cuenta de dominio que creó, para llevar a cabo la implementación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="f5d45-137">En el [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) , solución de ejemplo especifica el tipo de autenticación (básica o NTLM), las credenciales de implementación Web y la dirección del extremo (agente remoto o el controlador de implementación Web) en el archivo de proyecto específicos del entorno.</span><span class="sxs-lookup"><span data-stu-id="f5d45-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="f5d45-138">Estos valores se utilizan para formular y ejecutar un comando de Web Deploy cuando se ejecuta el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="f5d45-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="f5d45-139">Para obtener más información, consulte [implementar paquetes de Web](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="f5d45-140">Para obtener más información sobre cómo configurar el controlador de implementación Web, incluido cómo configurar permisos, consulte [configurar un servidor Web para la publicación de implementar en Web (controlador de implementación Web)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="f5d45-141">Para obtener más información sobre cómo configurar el agente remoto, consulte [configurar un servidor Web para la publicación de implementar en Web (agente remoto)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="f5d45-142">Configurar permisos de servidor de base de datos</span><span class="sxs-lookup"><span data-stu-id="f5d45-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="f5d45-143">Para implementar una base de datos en SQL Server, debe:</span><span class="sxs-lookup"><span data-stu-id="f5d45-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="f5d45-144">Cree un inicio de sesión para la cuenta de implementación en la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f5d45-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="f5d45-145">Conceder el inicio de sesión **DBCreator** permisos en la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f5d45-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="f5d45-146">Tras la implementación inicial, agregue el inicio de sesión para el **db\_propietario** rol en la base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="f5d45-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="f5d45-147">Esto es necesario porque en las implementaciones posteriores, está modificando una base de datos existente en lugar de crear una nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="f5d45-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="f5d45-148">Puede autenticar a una instancia de SQL Server mediante la autenticación NTLM o autenticación de SQL Server:</span><span class="sxs-lookup"><span data-stu-id="f5d45-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="f5d45-149">Si usa la autenticación NTLM, deberá conceder los permisos que se ha descrito anteriormente para la cuenta de servicio de compilación.</span><span class="sxs-lookup"><span data-stu-id="f5d45-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="f5d45-150">Si utiliza la autenticación de SQL Server, deberá conceder los permisos que se ha descrito anteriormente para la cuenta de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f5d45-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="f5d45-151">También deberá incluir el nombre de usuario de SQL Server y la contraseña en la cadena de conexión que use para implementar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f5d45-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="f5d45-152">Para obtener información detallada paso a paso sobre cómo configurar permisos para la implementación de la base de datos, vea [configurar un servidor de base de datos para publicación en Web implementar](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="f5d45-153">Conclusión</span><span class="sxs-lookup"><span data-stu-id="f5d45-153">Conclusion</span></span>

<span data-ttu-id="f5d45-154">En este momento, debe entender los permisos necesarios, junto con las opciones de autenticación abiertas para que, al automatizar las implementaciones de aplicación y base de datos de web de Team Build.</span><span class="sxs-lookup"><span data-stu-id="f5d45-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="f5d45-155">También debe ser capaz de implementar los permisos necesarios en los servidores web IIS y los servidores de base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f5d45-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="f5d45-156">Información adicional</span><span class="sxs-lookup"><span data-stu-id="f5d45-156">Further Reading</span></span>

<span data-ttu-id="f5d45-157">Para obtener más información sobre cómo configurar entornos de servidor de Windows para admitir la implementación remota, vea [configurar entornos de servidor para la implementación Web](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="f5d45-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="f5d45-158">Anterior</span><span class="sxs-lookup"><span data-stu-id="f5d45-158">Previous</span></span>](deploying-a-specific-build.md)

---
uid: mvc/overview/older-versions/aspnet-mvc-4-mobile-features
title: Características móviles de MVC 4 de ASP.NET | Microsoft Docs
author: Rick-Anderson
description: Ahora hay una versión de MVC 5 de este tutorial con ejemplos de código en implementación de una aplicación Web de ASP.NET MVC 5 Mobile en sitios web de Azure.
ms.author: riande
ms.date: 08/15/2012
ms.assetid: 27dc4fc8-1b51-43b0-933f-fc1b52476523
msc.legacyurl: /mvc/overview/older-versions/aspnet-mvc-4-mobile-features
msc.type: authoredcontent
ms.openlocfilehash: 9716def069ca9f7115af32e16381f41bd4d13342
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78468433"
---
# <a name="aspnet-mvc-4-mobile-features"></a><span data-ttu-id="d1caa-103">Características para móviles de ASP.NET MVC 4</span><span class="sxs-lookup"><span data-stu-id="d1caa-103">ASP.NET MVC 4 Mobile Features</span></span>

<span data-ttu-id="d1caa-104">por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d1caa-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="d1caa-105">Ahora hay una versión de MVC 5 de este tutorial con ejemplos de código en [implementación de una aplicación Web de ASP.NET MVC 5 Mobile en sitios web de Azure](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span><span class="sxs-lookup"><span data-stu-id="d1caa-105">There is now an MVC 5 version of this tutorial with code samples at [Deploy an ASP.NET MVC 5 Mobile Web Application on Azure Web Sites](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-mvc-mobile-app/).</span></span>

<span data-ttu-id="d1caa-106">Este tutorial le enseñará los aspectos básicos de cómo trabajar con las características móviles en una aplicación Web de ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="d1caa-106">This tutorial will teach you the basics of how to work with mobile features in an ASP.NET MVC 4 Web application.</span></span> <span data-ttu-id="d1caa-107">En este tutorial, puede usar [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) o visual web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer o vWD existente&quot;).</span><span class="sxs-lookup"><span data-stu-id="d1caa-107">For this tutorial, you can use [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) or Visual Web Developer 2010 Express Service Pack 1 (&quot;Visual Web Developer or VWD&quot;).</span></span> <span data-ttu-id="d1caa-108">Puede usar la versión Professional de Visual Studio si ya la tiene.</span><span class="sxs-lookup"><span data-stu-id="d1caa-108">You can use the professional version of Visual Studio if you already have that.</span></span>

<span data-ttu-id="d1caa-109">Antes de empezar, asegúrese de que ha instalado los requisitos previos que se enumeran a continuación.</span><span class="sxs-lookup"><span data-stu-id="d1caa-109">Before you start, make sure you've installed the prerequisites listed below.</span></span>

- <span data-ttu-id="d1caa-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recomendado) o Visual Studio Web Developer Express SP1.</span><span class="sxs-lookup"><span data-stu-id="d1caa-110">[Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express) (recommended) or Visual Studio Web Developer Express SP1.</span></span> <span data-ttu-id="d1caa-111">Visual Studio 2012 contiene ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="d1caa-111">Visual Studio 2012 contains ASP.NET MVC 4.</span></span> <span data-ttu-id="d1caa-112">Si usa Visual Web Developer 2010, debe instalar [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span><span class="sxs-lookup"><span data-stu-id="d1caa-112">If you are using Visual Web Developer 2010, you must install [ASP.NET MVC 4](https://go.microsoft.com/fwlink/?LinkId=243392).</span></span>

<span data-ttu-id="d1caa-113">También necesitará un emulador de explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-113">You will also need a mobile browser emulator.</span></span> <span data-ttu-id="d1caa-114">Funcionará cualquiera de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="d1caa-114">Any of the following will work:</span></span>

- <span data-ttu-id="d1caa-115">[Emulador de Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="d1caa-115">[Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="d1caa-116">(Este es el emulador que se usa en la mayoría de las capturas de pantalla de este tutorial).</span><span class="sxs-lookup"><span data-stu-id="d1caa-116">(This is the emulator that's used in most of the screen shots in this tutorial.)</span></span>
- <span data-ttu-id="d1caa-117">Cambie la cadena de agente de usuario para emular un iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-117">Change the user agent string to emulate an iPhone.</span></span> <span data-ttu-id="d1caa-118">Vea [esta](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) entrada de blog.</span><span class="sxs-lookup"><span data-stu-id="d1caa-118">See [this](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) blog entry.</span></span>
- [<span data-ttu-id="d1caa-119">Emulador móvil de opera</span><span class="sxs-lookup"><span data-stu-id="d1caa-119">Opera Mobile Emulator</span></span>](http://www.opera.com/developer/tools/mobile/)
- <span data-ttu-id="d1caa-120">[Apple Safari](http://www.apple.com/safari/download/) con el agente de usuario establecido en iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-120">[Apple Safari](http://www.apple.com/safari/download/) with the user agent set to iPhone.</span></span> <span data-ttu-id="d1caa-121">Para obtener instrucciones sobre cómo establecer el agente de usuario en Safari en "iPhone", consulte [Cómo dejar que Safari simule que es Internet Explorer en el](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) blog de David Alison.</span><span class="sxs-lookup"><span data-stu-id="d1caa-121">For instructions on how to set the user agent in Safari to "iPhone", see [How to let Safari pretend it's IE](http://www.davidalison.com/2008/05/how-to-let-safari-pretend-its-ie.html) on David Alison's blog.</span></span>

<span data-ttu-id="d1caa-122">Para este tema hay disponibles proyectos de Visual Studio con código fuente en C#:</span><span class="sxs-lookup"><span data-stu-id="d1caa-122">Visual Studio projects with C# source code are available to accompany this topic:</span></span>

- [<span data-ttu-id="d1caa-123">Descarga del proyecto inicial</span><span class="sxs-lookup"><span data-stu-id="d1caa-123">Starter project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228307&amp;clcid=0x409)
- [<span data-ttu-id="d1caa-124">Descarga de proyecto completada</span><span class="sxs-lookup"><span data-stu-id="d1caa-124">Completed project download</span></span>](https://go.microsoft.com/fwlink/?linkid=228306&amp;clcid=0x409)

### <a name="what-youll-build"></a><span data-ttu-id="d1caa-125">Lo que creará</span><span class="sxs-lookup"><span data-stu-id="d1caa-125">What You'll Build</span></span>

<span data-ttu-id="d1caa-126">En este tutorial, agregará características móviles a la aplicación de lista de conferencias simple que se proporciona en el [proyecto de inicio](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="d1caa-126">For this tutorial, you'll add mobile features to the simple conference-listing application that's provided in the [starter project](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="d1caa-127">En la captura de pantalla siguiente se muestra la página etiquetas de la aplicación completada, tal como se muestra en el [emulador de Windows 7 Phone](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span><span class="sxs-lookup"><span data-stu-id="d1caa-127">The following screenshot shows the tags page of the completed application as seen in the [Windows 7 Phone Emulator](https://msdn.microsoft.com/library/ff402563(VS.92).aspx).</span></span> <span data-ttu-id="d1caa-128">Consulte [asignación de teclado para Windows Phone emulador](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) para simplificar la entrada de teclado.</span><span class="sxs-lookup"><span data-stu-id="d1caa-128">See [Keyboard Mapping for Windows Phone Emulator](https://msdn.microsoft.com/library/ff754352(v=vs.92).aspx) to simplify keyboard input.</span></span>

<span data-ttu-id="d1caa-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-129">[![p1_Tags_CompletedProj](aspnet-mvc-4-mobile-features/_static/image2.png)](aspnet-mvc-4-mobile-features/_static/image1.png)</span></span>

<span data-ttu-id="d1caa-130">Puede usar Internet Explorer versión 9 o 10, FireFox o Chrome para desarrollar la aplicación móvil mediante el establecimiento de la [cadena de agente de usuario](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span><span class="sxs-lookup"><span data-stu-id="d1caa-130">You can use Internet Explorer version 9 or 10, FireFox or Chrome to develop your mobile application by setting the [user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/).</span></span> <span data-ttu-id="d1caa-131">En la imagen siguiente se muestra el tutorial completado con Internet Explorer emulación de un iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-131">The following image shows the completed tutorial using Internet Explorer emulating an iPhone.</span></span> <span data-ttu-id="d1caa-132">Puede usar las herramientas de desarrollo de Internet Explorer F-12 y la [herramienta Fiddler](http://www.fiddler2.com/fiddler2/) para ayudar a depurar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d1caa-132">You can use the Internet Explorer F-12 developer tools and the [Fiddler tool](http://www.fiddler2.com/fiddler2/) to help debug your application.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image3.png)

### <a name="skills-youll-learn"></a><span data-ttu-id="d1caa-133">Habilidades que aprenderá</span><span class="sxs-lookup"><span data-stu-id="d1caa-133">Skills You'll Learn</span></span>

<span data-ttu-id="d1caa-134">Aprenderá lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-134">Here's what you'll learn:</span></span>

- <span data-ttu-id="d1caa-135">Cómo usan las plantillas de ASP.NET MVC 4 el atributo HTML5 `viewport` y la representación adaptable para mejorar la presentación en dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-135">How the ASP.NET MVC 4 templates use the HTML5 `viewport` attribute and adaptive rendering to improve display on mobile devices.</span></span>
- <span data-ttu-id="d1caa-136">Cómo crear vistas específicas para dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-136">How to create mobile-specific views.</span></span>
- <span data-ttu-id="d1caa-137">Cómo crear un modificador de vista que permita a los usuarios alternar entre una vista móvil y una vista del escritorio de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d1caa-137">How to create a view switcher that lets users toggle between a mobile view and a desktop view of the application.</span></span>

### <a name="getting-started"></a><span data-ttu-id="d1caa-138">Introducción</span><span class="sxs-lookup"><span data-stu-id="d1caa-138">Getting Started</span></span>

<span data-ttu-id="d1caa-139">Descargue la aplicación de lista de conferencias para el proyecto de inicio con el siguiente vínculo: [Descargar](https://go.microsoft.com/fwlink/?LinkId=228307).</span><span class="sxs-lookup"><span data-stu-id="d1caa-139">Download the conference-listing application for the starter project using the following link: [Download](https://go.microsoft.com/fwlink/?LinkId=228307).</span></span> <span data-ttu-id="d1caa-140">A continuación, en el explorador de Windows, haga clic con el botón secundario en el archivo *MvcMobile. zip* y elija **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="d1caa-140">Then in Windows Explorer, right-click the *MvcMobile.zip* file and choose **Properties**.</span></span> <span data-ttu-id="d1caa-141">En el cuadro de diálogo **propiedades de MvcMobile. zip** , elija el botón **desbloquear** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-141">In the **MvcMobile.zip Properties** dialog box, choose the **Unblock** button.</span></span> <span data-ttu-id="d1caa-142">(El desbloqueo evita recibir una advertencia de seguridad que se produce al intentar usar un archivo *.zip* que ha descargado de la web).</span><span class="sxs-lookup"><span data-stu-id="d1caa-142">(Unblocking prevents a security warning that occurs when you try to use a *.zip* file that you've downloaded from the web.)</span></span>

![p1_unBlock](aspnet-mvc-4-mobile-features/_static/image4.png)

<span data-ttu-id="d1caa-144">Haga clic con el botón secundario en el archivo *MvcMobile. zip* y seleccione **extraer todo** para descomprimir el archivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-144">Right-click the *MvcMobile.zip* file and select **Extract All** to unzip the file.</span></span> <span data-ttu-id="d1caa-145">En Visual Studio, abra el archivo *MvcMobile. sln* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-145">In Visual Studio, open the *MvcMobile.sln* file.</span></span>

<span data-ttu-id="d1caa-146">Presione CTRL + F5 para ejecutar la aplicación, que la mostrará en el explorador de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-146">Press CTRL+F5 to run the application, which will display it in your desktop browser.</span></span> <span data-ttu-id="d1caa-147">Inicie el emulador de explorador móvil, copie la dirección URL de la aplicación de conferencia en el emulador y, a continuación, haga clic en el vínculo **Buscar por etiqueta** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-147">Start your mobile browser emulator, copy the URL for the conference application into the emulator, and then click the **Browse by tag** link.</span></span> <span data-ttu-id="d1caa-148">Si usa el emulador de Windows Phone, haga clic en la barra de dirección URL y presione la tecla Pausa para obtener acceso al teclado.</span><span class="sxs-lookup"><span data-stu-id="d1caa-148">If you are using the Windows Phone Emulator, click in the URL bar and press the Pause key to get keyboard access.</span></span> <span data-ttu-id="d1caa-149">En la imagen siguiente se muestra la vista *AllTags* (desde el elegir **examinar por etiqueta**).</span><span class="sxs-lookup"><span data-stu-id="d1caa-149">The image below shows the *AllTags* view (from choosing **Browse by tag**).</span></span>

<span data-ttu-id="d1caa-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-150">[![p1_browseTag](aspnet-mvc-4-mobile-features/_static/image6.png)](aspnet-mvc-4-mobile-features/_static/image5.png)</span></span>

<span data-ttu-id="d1caa-151">La pantalla es muy fácil de leer en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-151">The display is very readable on a mobile device.</span></span> <span data-ttu-id="d1caa-152">Elija el vínculo ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d1caa-152">Choose the ASP.NET link.</span></span>

<span data-ttu-id="d1caa-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-153">[![p1_tagged_ASPNET](aspnet-mvc-4-mobile-features/_static/image8.png)](aspnet-mvc-4-mobile-features/_static/image7.png)</span></span>

<span data-ttu-id="d1caa-154">La vista de etiquetas ASP.NET está muy abarrotada.</span><span class="sxs-lookup"><span data-stu-id="d1caa-154">The ASP.NET tag view is very cluttered.</span></span> <span data-ttu-id="d1caa-155">Por ejemplo, la columna **Date** es muy difícil de leer.</span><span class="sxs-lookup"><span data-stu-id="d1caa-155">For example, the **Date** column is very difficult to read.</span></span> <span data-ttu-id="d1caa-156">Más adelante en el tutorial, creará una versión de la vista *AllTags* que es específica para los exploradores móviles y que hará que la pantalla sea legible.</span><span class="sxs-lookup"><span data-stu-id="d1caa-156">Later in the tutorial you'll create a version of the *AllTags* view that's specifically for mobile browsers and that will make the display readable.</span></span>

<span data-ttu-id="d1caa-157">Nota: actualmente existe un error en el motor de almacenamiento en caché móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-157">Note: Currently a bug exists in the mobile caching engine.</span></span> <span data-ttu-id="d1caa-158">En el caso de las aplicaciones de producción, debe instalar el paquete [fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) .</span><span class="sxs-lookup"><span data-stu-id="d1caa-158">For production applications, you must install the [Fixed DisplayModes](http://nuget.org/packages/Microsoft.AspNet.Mvc.FixedDisplayModes) nugget package.</span></span> <span data-ttu-id="d1caa-159">Consulte [ASP.NET MVC 4 Mobile Caching error corregido](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) para obtener más información sobre la corrección.</span><span class="sxs-lookup"><span data-stu-id="d1caa-159">See [ASP.NET MVC 4 Mobile Caching Bug Fixed](https://blogs.msdn.com/b/rickandy/archive/2012/09/17/asp-net-mvc-4-mobile-caching-bug-fixed.aspx) for details on the fix.</span></span>

## <a name="css-media-queries"></a><span data-ttu-id="d1caa-160">Consultas de medios CSS</span><span class="sxs-lookup"><span data-stu-id="d1caa-160">CSS Media Queries</span></span>

<span data-ttu-id="d1caa-161">[Las consultas de elementos multimedia de CSS](http://www.w3.org/TR/css3-mediaqueries/) son una extensión de CSS para los tipos de medios.</span><span class="sxs-lookup"><span data-stu-id="d1caa-161">[CSS media queries](http://www.w3.org/TR/css3-mediaqueries/) are an extension to CSS for media types.</span></span> <span data-ttu-id="d1caa-162">Permiten crear reglas que invalidan las reglas predeterminadas de CSS para exploradores específicos (agentes de usuario).</span><span class="sxs-lookup"><span data-stu-id="d1caa-162">They allow you to create rules that override the default CSS rules for specific browsers (user agents).</span></span> <span data-ttu-id="d1caa-163">Una regla común para CSS que tiene como destino exploradores móviles es definir el tamaño máximo de la pantalla.</span><span class="sxs-lookup"><span data-stu-id="d1caa-163">A common rule for CSS that targets mobile browsers is defining the maximum screen size.</span></span> <span data-ttu-id="d1caa-164">El archivo *Content\Site.CSS* que se crea al crear un nuevo proyecto de Internet de ASP.NET MVC 4 contiene la siguiente consulta de medios:</span><span class="sxs-lookup"><span data-stu-id="d1caa-164">The *Content\Site.css* file that's created when you create a new ASP.NET MVC 4 Internet project contains the following media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample1.css)]

<span data-ttu-id="d1caa-165">Si la ventana del explorador tiene 850 píxeles de ancho o menos, utilizará las reglas de CSS dentro de este bloque multimedia.</span><span class="sxs-lookup"><span data-stu-id="d1caa-165">If the browser window is 850 pixels wide or less, it will use the CSS rules inside this media block.</span></span> <span data-ttu-id="d1caa-166">Puede usar consultas multimedia de CSS como esta para proporcionar una mejor visualización del contenido HTML en exploradores pequeños (como los exploradores móviles) que las reglas predeterminadas de CSS que están diseñadas para las presentaciones más amplias de los exploradores de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-166">You can use CSS media queries like this to provide a better display of HTML content on small browsers (like mobile browsers) than the default CSS rules that are designed for the wider displays of desktop browsers.</span></span>

## <a name="the-viewport-meta-tag"></a><span data-ttu-id="d1caa-167">Etiqueta meta de la ventanilla</span><span class="sxs-lookup"><span data-stu-id="d1caa-167">The Viewport Meta Tag</span></span>

<span data-ttu-id="d1caa-168">La mayoría de los exploradores móviles definen un ancho de la ventana del explorador virtual (la *ventanilla*) mucho mayor que el ancho real del dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-168">Most mobile browsers define a virtual browser window width (the *viewport*) that's much larger than the actual width of the mobile device.</span></span> <span data-ttu-id="d1caa-169">Esto permite que los exploradores móviles se ajusten a toda la página web dentro de la pantalla virtual.</span><span class="sxs-lookup"><span data-stu-id="d1caa-169">This allows mobile browsers to fit the entire web page inside the virtual display.</span></span> <span data-ttu-id="d1caa-170">Después, los usuarios pueden acercar el contenido interesante.</span><span class="sxs-lookup"><span data-stu-id="d1caa-170">Users can then zoom in on interesting content.</span></span> <span data-ttu-id="d1caa-171">Sin embargo, si establece el ancho de la ventanilla en el ancho real del dispositivo, no es necesario hacer zoom, ya que el contenido cabe en el explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-171">However, if you set the viewport width to the actual device width, no zooming is required, because the content fits in the mobile browser.</span></span>

<span data-ttu-id="d1caa-172">La ventanilla `<meta>` etiqueta del archivo de diseño ASP.NET MVC 4 establece la ventanilla en el ancho del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-172">The viewport `<meta>` tag in the ASP.NET MVC 4 layout file sets the viewport to the device width.</span></span> <span data-ttu-id="d1caa-173">En la línea siguiente se muestra la ventanilla `<meta>` etiqueta en el archivo de diseño de ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="d1caa-173">The following line shows the viewport `<meta>` tag in the ASP.NET MVC 4 layout file.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample2.html)]

## <a name="examining-the-effect-of-css-media-queries-and-the-viewport-meta-tag"></a><span data-ttu-id="d1caa-174">Examinar el efecto de las consultas multimedia de CSS y la etiqueta meta de la ventanilla</span><span class="sxs-lookup"><span data-stu-id="d1caa-174">Examining the Effect of CSS Media Queries and the Viewport Meta Tag</span></span>

<span data-ttu-id="d1caa-175">Abra el archivo *Views\Shared\\_Layout. cshtml* en el editor y comente la etiqueta de la ventanilla `<meta>`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-175">Open the *Views\Shared\\_Layout.cshtml* file in the editor and comment out the viewport `<meta>` tag.</span></span> <span data-ttu-id="d1caa-176">El marcado siguiente muestra la línea comentada.</span><span class="sxs-lookup"><span data-stu-id="d1caa-176">The following markup shows the commented-out line.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample3.cshtml)]

<span data-ttu-id="d1caa-177">Abra el archivo *MvcMobile\Content\Site.CSS* en el editor y cambie el ancho máximo de la consulta de medios a cero píxeles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-177">Open the *MvcMobile\Content\Site.css* file in the editor and change the maximum width in the media query to zero pixels.</span></span> <span data-ttu-id="d1caa-178">Esto impedirá que las reglas de CSS se utilicen en exploradores móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-178">This will prevent the CSS rules from being used in mobile browsers.</span></span> <span data-ttu-id="d1caa-179">En la línea siguiente se muestra la consulta de medios modificada:</span><span class="sxs-lookup"><span data-stu-id="d1caa-179">The following line shows the modified media query:</span></span>

[!code-css[Main](aspnet-mvc-4-mobile-features/samples/sample4.css)]

<span data-ttu-id="d1caa-180">Guarde los cambios y vaya a la aplicación de conferencia en un emulador de explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-180">Save your changes and browse to the Conference application in a mobile browser emulator.</span></span> <span data-ttu-id="d1caa-181">El texto pequeño de la imagen siguiente es el resultado de quitar la ventanilla `<meta>` etiqueta.</span><span class="sxs-lookup"><span data-stu-id="d1caa-181">The tiny text in the following image is the result of removing the viewport `<meta>` tag.</span></span> <span data-ttu-id="d1caa-182">Sin ventanilla `<meta>` etiqueta, el explorador está alejando el ancho predeterminado de la ventanilla (850 píxeles o más en la mayoría de los exploradores móviles).</span><span class="sxs-lookup"><span data-stu-id="d1caa-182">With no viewport `<meta>` tag, the browser is zooming out to the default viewport width (850 pixels or wider for most mobile browsers.)</span></span>

<span data-ttu-id="d1caa-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-183">[![p1_noViewPort](aspnet-mvc-4-mobile-features/_static/image10.png)](aspnet-mvc-4-mobile-features/_static/image9.png)</span></span>

<span data-ttu-id="d1caa-184">Deshacer los cambios: Quite los comentarios de la ventanilla `<meta>` etiqueta en el archivo de diseño y restaure la consulta de medios en 850 píxeles en el archivo *site. CSS* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-184">Undo your changes — uncomment the viewport `<meta>` tag in the layout file and restore the media query to 850 pixels in the *Site.css* file.</span></span> <span data-ttu-id="d1caa-185">Guarde los cambios y actualice el explorador móvil para comprobar que se ha restaurado la presentación para dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-185">Save your changes and refresh the mobile browser to verify that the mobile-friendly display has been restored.</span></span>

<span data-ttu-id="d1caa-186">La ventanilla `<meta>` etiqueta y la consulta multimedia de CSS no son específicas de ASP.NET MVC 4, y puede aprovechar estas características en cualquier aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="d1caa-186">The viewport `<meta>` tag and the CSS media query are not specific to ASP.NET MVC 4, and you can take advantage of these features in any web application.</span></span> <span data-ttu-id="d1caa-187">Pero ahora están integrados en los archivos que se generan al crear un nuevo proyecto de ASP.NET MVC 4.</span><span class="sxs-lookup"><span data-stu-id="d1caa-187">But they are now built into the files that are generated when you create a new ASP.NET MVC 4 project.</span></span>

<span data-ttu-id="d1caa-188">Para obtener más información acerca de la ventanilla `<meta>` etiqueta, vea [un testigo de dos ventanillas, parte dos](http://www.quirksmode.org/mobile/viewports2.html).</span><span class="sxs-lookup"><span data-stu-id="d1caa-188">For more information about the viewport `<meta>` tag, see [A tale of two viewports — part two](http://www.quirksmode.org/mobile/viewports2.html).</span></span>

<span data-ttu-id="d1caa-189">En la sección siguiente, verá cómo proporcionar vistas específicas de explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-189">In the next section you'll see how to provide mobile-browser specific views.</span></span>

## <a name="overriding-views-layouts-and-partial-views"></a><span data-ttu-id="d1caa-190">Reemplazar vistas, diseños y vistas parciales</span><span class="sxs-lookup"><span data-stu-id="d1caa-190">Overriding Views, Layouts, and Partial Views</span></span>

<span data-ttu-id="d1caa-191">Una nueva característica importante de ASP.NET MVC 4 es un mecanismo sencillo que permite invalidar cualquier vista (incluidos diseños y vistas parciales) para exploradores móviles en general, para un explorador móvil individual o para cualquier explorador específico.</span><span class="sxs-lookup"><span data-stu-id="d1caa-191">A significant new feature in ASP.NET MVC 4 is a simple mechanism that lets you override any view (including layouts and partial views) for mobile browsers in general, for an individual mobile browser, or for any specific browser.</span></span> <span data-ttu-id="d1caa-192">Para proporcionar una vista específica para móviles, puede copiar un archivo de vista y agregar *.Mobile* al nombre del archivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-192">To provide a mobile-specific view, you can copy a view file and add *.Mobile* to the file name.</span></span> <span data-ttu-id="d1caa-193">Por ejemplo, para crear una vista de *Índice* móvil, copie *Views\Home\Index.cshtml* en *Views\Home\Index.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-193">For example, to create a mobile *Index* view, copy *Views\Home\Index.cshtml* to *Views\Home\Index.Mobile.cshtml*.</span></span>

<span data-ttu-id="d1caa-194">En esta sección, creará un archivo de diseño específico para móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-194">In this section, you'll create a mobile-specific layout file.</span></span>

<span data-ttu-id="d1caa-195">Para empezar, copie *Views\Shared\\_Layout. cshtml* en *Views\Shared\\_Layout. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-195">To start, copy *Views\Shared\\_Layout.cshtml* to *Views\Shared\\_Layout.Mobile.cshtml*.</span></span> <span data-ttu-id="d1caa-196">Abra *\_layout. Mobile. cshtml* y cambie el título de **MVC4 Conference** a **Conference (Mobile)** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-196">Open *\_Layout.Mobile.cshtml* and change the title from **MVC4 Conference** to **Conference (Mobile)**.</span></span>

<span data-ttu-id="d1caa-197">En cada llamada `Html.ActionLink`, quite "Buscar por" en cada vínculo *ActionLink*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-197">In each `Html.ActionLink` call, remove "Browse by" in each link *ActionLink*.</span></span> <span data-ttu-id="d1caa-198">En el código siguiente se muestra la sección del cuerpo completado del archivo de diseño móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-198">The following code shows the completed body section of the mobile layout file.</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample5.cshtml)]

<span data-ttu-id="d1caa-199">Copie el archivo *Views\Home\AllTags.cshtml* en *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-199">Copy the *Views\Home\AllTags.cshtml* file to *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="d1caa-200">Abra el archivo nuevo y cambie el elemento `<h2>` de "Tags" a "Tags (M)":</span><span class="sxs-lookup"><span data-stu-id="d1caa-200">Open the new file and change the `<h2>` element from "Tags" to "Tags (M)":</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample6.html)]

<span data-ttu-id="d1caa-201">Diríjase a la página de etiquetas usando un explorador de escritorio y un emulador de explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-201">Browse to the tags page using a desktop browser and using mobile browser emulator.</span></span> <span data-ttu-id="d1caa-202">El emulador de explorador móvil muestra los dos cambios realizados.</span><span class="sxs-lookup"><span data-stu-id="d1caa-202">The mobile browser emulator shows the two changes you made.</span></span>

<span data-ttu-id="d1caa-203">[![p2m_layoutTags. Mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-203">[![p2m_layoutTags.mobile](aspnet-mvc-4-mobile-features/_static/image12.png)](aspnet-mvc-4-mobile-features/_static/image11.png)</span></span>

<span data-ttu-id="d1caa-204">En cambio, la pantalla del escritorio no ha cambiado.</span><span class="sxs-lookup"><span data-stu-id="d1caa-204">In contrast, the desktop display has not changed.</span></span>

<span data-ttu-id="d1caa-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-205">[![p2_layoutTagsDesktop](aspnet-mvc-4-mobile-features/_static/image14.png)](aspnet-mvc-4-mobile-features/_static/image13.png)</span></span>

## <a name="browser-specific-views"></a><span data-ttu-id="d1caa-206">Vistas específicas del explorador</span><span class="sxs-lookup"><span data-stu-id="d1caa-206">Browser-Specific Views</span></span>

<span data-ttu-id="d1caa-207">Además de vistas específicas de explorador móvil y de explorador de escritorio, puede crear vistas para un explorador individual.</span><span class="sxs-lookup"><span data-stu-id="d1caa-207">In addition to mobile-specific and desktop-specific views, you can create views for an individual browser.</span></span> <span data-ttu-id="d1caa-208">Por ejemplo, puede crear vistas específicas del explorador de iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-208">For example, you can create views that are specifically for the iPhone browser.</span></span> <span data-ttu-id="d1caa-209">En esta sección, creará un diseño para el explorador de iPhone y una versión de iPhone de la vista *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-209">In this section, you'll create a layout for the iPhone browser and an iPhone version of the *AllTags* view.</span></span>

<span data-ttu-id="d1caa-210">Abra el archivo *global. asax* y agregue el código siguiente al método `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-210">Open the *Global.asax* file and add the following code to the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample7.cs)]

<span data-ttu-id="d1caa-211">Este código define un nuevo modo de visualización llamado "iPhone" que se comparará con cada solicitud entrante.</span><span class="sxs-lookup"><span data-stu-id="d1caa-211">This code defines a new display mode named "iPhone" that will be matched against each incoming request.</span></span> <span data-ttu-id="d1caa-212">Si la solicitud entrante coincide con la condición definida (es decir, si el agente de usuario contiene la cadena "iPhone"), ASP.NET MVC buscará vistas cuyo nombre contenga el sufijo "iPhone".</span><span class="sxs-lookup"><span data-stu-id="d1caa-212">If the incoming request matches the condition you defined (that is, if the user agent contains the string "iPhone"), ASP.NET MVC will look for views whose name contains the "iPhone" suffix.</span></span>

<span data-ttu-id="d1caa-213">En el código, haga clic con el botón derecho en `DefaultDisplayMode`, elija **Resolver** y, luego, `using System.Web.WebPages;`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-213">In the code, right-click `DefaultDisplayMode`, choose **Resolve**, and then choose `using System.Web.WebPages;`.</span></span> <span data-ttu-id="d1caa-214">De este modo, se agrega una referencia al espacio de nombres `System.Web.WebPages`, que es donde se definen los tipos `DisplayModes` y `DefaultDisplayMode`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-214">This adds a reference to the `System.Web.WebPages` namespace, which is where the `DisplayModes` and `DefaultDisplayMode` types are defined.</span></span>

<span data-ttu-id="d1caa-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-215">[![p2_resolve](aspnet-mvc-4-mobile-features/_static/image16.png)](aspnet-mvc-4-mobile-features/_static/image15.png)</span></span>

<span data-ttu-id="d1caa-216">Como alternativa, puede agregar manualmente la siguiente línea a la sección `using` del archivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-216">Alternatively, you can just manually add the following line to the `using` section of the file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample8.cs)]

<span data-ttu-id="d1caa-217">A continuación se muestra el contenido completo del archivo *global. asax* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-217">The complete contents of the *Global.asax* file is shown below.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample9.cs)]

<span data-ttu-id="d1caa-218">Guarde los cambios.</span><span class="sxs-lookup"><span data-stu-id="d1caa-218">Save the changes.</span></span> <span data-ttu-id="d1caa-219">Copie el archivo *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* en *MvcMobile\Views\Shared\\_Layout. iPhone. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-219">Copy the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file to *MvcMobile\Views\Shared\\_Layout.iPhone.cshtml*.</span></span> <span data-ttu-id="d1caa-220">Abra el nuevo archivo y, a continuación, cambie el encabezado `h1` de `Conference (Mobile)` a `Conference (iPhone)`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-220">Open the new file and then change the `h1` heading from `Conference (Mobile)` to `Conference (iPhone)`.</span></span>

<span data-ttu-id="d1caa-221">Copie el archivo *MvcMobile\Views\Home\AllTags.Mobile.cshtml* en *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-221">Copy the *MvcMobile\Views\Home\AllTags.Mobile.cshtml* file to *MvcMobile\Views\Home\AllTags.iPhone.cshtml*.</span></span> <span data-ttu-id="d1caa-222">En el archivo nuevo, cambie el elemento `<h2>` de "Tags (M)" a "Tags (iPhone)".</span><span class="sxs-lookup"><span data-stu-id="d1caa-222">In the new file, change the `<h2>` element from "Tags (M)" to "Tags (iPhone)".</span></span>

<span data-ttu-id="d1caa-223">Ejecute la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d1caa-223">Run the application.</span></span> <span data-ttu-id="d1caa-224">Ejecute el emulador de explorador móvil, asegúrese de que su agente de usuario esté establecido en "iPhone" y diríjase a la vista *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-224">Run a mobile browser emulator, make sure its user agent is set to "iPhone", and browse to the *AllTags* view.</span></span> <span data-ttu-id="d1caa-225">En la captura de pantalla siguiente se muestra la vista *AllTags* representada en el explorador [Safari](http://www.apple.com/safari/download/) .</span><span class="sxs-lookup"><span data-stu-id="d1caa-225">The following screenshot shows the *AllTags* view rendered in the [Safari](http://www.apple.com/safari/download/) browser.</span></span> <span data-ttu-id="d1caa-226">Puede descargar Safari para Windows [aquí](https://support.apple.com/kb/DL1531).</span><span class="sxs-lookup"><span data-stu-id="d1caa-226">You can download Safari for Windows [here](https://support.apple.com/kb/DL1531).</span></span>

<span data-ttu-id="d1caa-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-227">[![p2_iphoneView](aspnet-mvc-4-mobile-features/_static/image18.png)](aspnet-mvc-4-mobile-features/_static/image17.png)</span></span>

<span data-ttu-id="d1caa-228">En esta sección, hemos visto cómo crear vistas y diseños móviles y cómo crear vistas y diseños para dispositivos específicos como el iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-228">In this section we've seen how to create mobile layouts and views and how to create layouts and views for specific devices such as the iPhone.</span></span> <span data-ttu-id="d1caa-229">En la sección siguiente, verá cómo aprovechar jQuery Mobile para ver vistas móviles más atractivas.</span><span class="sxs-lookup"><span data-stu-id="d1caa-229">In the next section you'll see how to leverage jQuery Mobile for more compelling mobile views.</span></span>

## <a name="using-jquery-mobile"></a><span data-ttu-id="d1caa-230">Usar jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="d1caa-230">Using jQuery Mobile</span></span>

<span data-ttu-id="d1caa-231">La biblioteca de [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) proporciona un marco de interfaz de usuario que funciona en todos los exploradores móviles principales.</span><span class="sxs-lookup"><span data-stu-id="d1caa-231">The [jQuery Mobile](http://jquerymobile.com/demos/1.0b3/#/demos/1.0b3/docs/about/intro.html) library provides a user interface framework that works on all the major mobile browsers.</span></span> <span data-ttu-id="d1caa-232">jQuery Mobile aplica la *mejora progresiva* a los exploradores móviles que admiten CSS y JavaScript.</span><span class="sxs-lookup"><span data-stu-id="d1caa-232">jQuery Mobile applies *progressive enhancement* to mobile browsers that support CSS and JavaScript.</span></span> <span data-ttu-id="d1caa-233">La mejora progresiva permite que todos los exploradores muestren el contenido básico de una página web, a la vez que permite que los exploradores y dispositivos más eficaces tengan una pantalla más enriquecida.</span><span class="sxs-lookup"><span data-stu-id="d1caa-233">Progressive enhancement allows all browsers to display the basic content of a web page, while allowing more powerful browsers and devices to have a richer display.</span></span> <span data-ttu-id="d1caa-234">Los archivos JavaScript y CSS que se incluyen con jQuery Mobile Style tienen muchos elementos para ajustarse a los exploradores móviles sin realizar ningún cambio de marcado.</span><span class="sxs-lookup"><span data-stu-id="d1caa-234">The JavaScript and CSS files that are included with jQuery Mobile style many elements to fit mobile browsers without making any markup changes.</span></span>

<span data-ttu-id="d1caa-235">En esta sección, instalará el paquete NuGet *jQuery. Mobile. Mvc* , que instala jQuery Mobile y un widget de selector de vistas.</span><span class="sxs-lookup"><span data-stu-id="d1caa-235">In this section you'll install the *jQuery.Mobile.MVC* NuGet package, which installs jQuery Mobile and a view-switcher widget.</span></span>

<span data-ttu-id="d1caa-236">Para empezar, elimine los archivos *\\Compartidos _Layout. Mobile. cshtml* y *\\compartidos _Layout. iPhone. cshtml* que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d1caa-236">To start, delete the *Shared\\_Layout.Mobile.cshtml* and *Shared\\_Layout.iPhone.cshtml* files that you created earlier.</span></span>

<span data-ttu-id="d1caa-237">Cambie el nombre de los archivos *Views\Home\AllTags.Mobile.cshtml* y *Views\Home\AllTags.iPhone.cshtml* a *Views\Home\AllTags.iPhone.cshtml.Hide* y *Views\Home\AllTags.Mobile.cshtml.Hide*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-237">Rename *Views\Home\AllTags.Mobile.cshtml* and *Views\Home\AllTags.iPhone.cshtml* files to *Views\Home\AllTags.iPhone.cshtml.hide* and *Views\Home\AllTags.Mobile.cshtml.hide*.</span></span> <span data-ttu-id="d1caa-238">Dado que los archivos ya no tienen la extensión *. cshtml* , el tiempo de ejecución de ASP.NET MVC no los usará para representar la vista *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-238">Because the files no longer have a *.cshtml* extension, they won't be used by the ASP.NET MVC runtime to render the *AllTags* view.</span></span>

<span data-ttu-id="d1caa-239">Instale el paquete NuGet *jQuery. Mobile. Mvc* de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="d1caa-239">Install the *jQuery.Mobile.MVC* NuGet package by doing this:</span></span>

1. <span data-ttu-id="d1caa-240">En el menú **herramientas** , seleccione **Administrador de paquetes NuGet**y, a continuación, seleccione **consola del administrador de paquetes**.</span><span class="sxs-lookup"><span data-stu-id="d1caa-240">From the **Tools** menu, select **NuGet Package Manager**, and then select **Package Manager Console**.</span></span>

    <span data-ttu-id="d1caa-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-241">[![p3_packageMgr](aspnet-mvc-4-mobile-features/_static/image20.png)](aspnet-mvc-4-mobile-features/_static/image19.png)</span></span>
2. <span data-ttu-id="d1caa-242">En la **consola del administrador de paquetes**, escriba `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span><span class="sxs-lookup"><span data-stu-id="d1caa-242">In the **Package Manager Console**, enter `Install-Package jQuery.Mobile.MVC -version 1.0.0`</span></span>

<span data-ttu-id="d1caa-243">En la imagen siguiente se muestran los archivos agregados y modificados en el proyecto MvcMobile por el paquete NuGet jQuery. Mobile. MVC.</span><span class="sxs-lookup"><span data-stu-id="d1caa-243">The following image shows the files added and changed to the MvcMobile project by the NuGet jQuery.Mobile.MVC package.</span></span> <span data-ttu-id="d1caa-244">Los archivos que se agregan tienen [Add] anexados después del nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-244">Files which are added have [add] appended after the file name.</span></span> <span data-ttu-id="d1caa-245">La imagen no muestra los archivos GIF y PNG agregados a la carpeta *Content\images*</span><span class="sxs-lookup"><span data-stu-id="d1caa-245">The image does not show the GIF and PNG files added to the *Content\images* folder.</span></span>

![](aspnet-mvc-4-mobile-features/_static/image21.png)

<span data-ttu-id="d1caa-246">El paquete NuGet jQuery. Mobile. MVC instala lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-246">The jQuery.Mobile.MVC NuGet package installs the following:</span></span>

- <span data-ttu-id="d1caa-247">La *aplicación\_archivo Start\BundleMobileConfig.CS* , que es necesario para hacer referencia a los archivos de jQuery JavaScript y CSS agregados.</span><span class="sxs-lookup"><span data-stu-id="d1caa-247">The *App\_Start\BundleMobileConfig.cs* file, which is needed to reference the jQuery JavaScript and CSS files added.</span></span> <span data-ttu-id="d1caa-248">Debe seguir las instrucciones que se indican a continuación y hacer referencia al paquete móvil definido en este archivo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-248">You must follow the instructions below and reference the mobile bundle defined in this file.</span></span>
- <span data-ttu-id="d1caa-249">archivos CSS móviles de jQuery.</span><span class="sxs-lookup"><span data-stu-id="d1caa-249">jQuery Mobile CSS files.</span></span>
- <span data-ttu-id="d1caa-250">Un widget de controlador de `ViewSwitcher` (*Controllers\ViewSwitcherController.CS*).</span><span class="sxs-lookup"><span data-stu-id="d1caa-250">A `ViewSwitcher` controller widget (*Controllers\ViewSwitcherController.cs*).</span></span>
- <span data-ttu-id="d1caa-251">archivos de JavaScript para móviles de jQuery.</span><span class="sxs-lookup"><span data-stu-id="d1caa-251">jQuery Mobile JavaScript files.</span></span>
- <span data-ttu-id="d1caa-252">Un archivo de diseño de estilo móvil jQuery (*Views\Shared\\_Layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="d1caa-252">A jQuery Mobile-styled layout file (*Views\Shared\\_Layout.Mobile.cshtml*).</span></span>
- <span data-ttu-id="d1caa-253">Vista parcial de un modificador de vista *(MvcMobile\Views\Shared\\_ViewSwitcher. cshtml*) que proporciona un vínculo en la parte superior de cada página para cambiar de la vista de escritorio a la vista móvil y viceversa.</span><span class="sxs-lookup"><span data-stu-id="d1caa-253">A view-switcher partial view *(MvcMobile\Views\Shared\\_ViewSwitcher.cshtml*) that provides a link at the top of each page to switch from desktop view to mobile view and vice versa.</span></span>
- <span data-ttu-id="d1caa-254">Varios archivos de imagen<em>. png</em> y <em>. gif</em> en la carpeta <em>Content\images</em></span><span class="sxs-lookup"><span data-stu-id="d1caa-254">Several<em>.png</em> and <em>.gif</em> image files in the <em>Content\images</em> folder.</span></span>

<span data-ttu-id="d1caa-255">Abra el archivo *global. asax* y agregue el código siguiente como la última línea del método `Application_Start`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-255">Open the *Global.asax* file and add the following code as the last line of the `Application_Start` method.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample10.cs)]

<span data-ttu-id="d1caa-256">En el código siguiente se muestra el archivo *global. asax* completo.</span><span class="sxs-lookup"><span data-stu-id="d1caa-256">The following code shows the complete *Global.asax* file.</span></span>

[!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample11.cs?highlight=26)]

> [!NOTE]
> <span data-ttu-id="d1caa-257">Si usa Internet Explorer 9 y no ve la línea de `BundleMobileConfig` anterior en el resaltado amarillo, haga clic en la imagen del [botón Vista compatibilidad](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![del botón Vista compatibilidad (desactivado)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Imagen del botón vista de compatibilidad (desactivado)") en IE para que el icono cambie de una ![imagen del contorno del botón vista de compatibilidad (desactivado)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Imagen del botón vista de compatibilidad (desactivado)") a una ![imagen de color sólido del botón vista de compatibilidad (en)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Imagen del botón vista de compatibilidad (en)").</span><span class="sxs-lookup"><span data-stu-id="d1caa-257">If you are using Internet Explorer 9 and you don't see the `BundleMobileConfig` line above in yellow highlight, click the [Compatibility View button](https://windows.microsoft.com/windows7/How-to-use-Compatibility-View-in-Internet-Explorer-9)![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") in IE to make the icon change from an outline ![Picture of the Compatibility View button (off)](https://res2.windows.microsoft.com/resbox/en/Windows 7/main/f080e77f-9b66-4ac8-9af0-803c4f8a859c_15.jpg "Picture of the Compatibility View button (off)") to a solid color ![Picture of the Compatibility View button (on)](https://res1.windows.microsoft.com/resbox/en/Windows 7/main/156805ff-3130-481b-a12d-4d3a96470f36_14.jpg "Picture of the Compatibility View button (on)").</span></span> <span data-ttu-id="d1caa-258">También puede ver este tutorial en FireFox o Chrome.</span><span class="sxs-lookup"><span data-stu-id="d1caa-258">Alternatively you can view this tutorial in FireFox or Chrome.</span></span>

<span data-ttu-id="d1caa-259">Abra el archivo *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* y agregue el marcado siguiente directamente después de la llamada a `Html.Partial`:</span><span class="sxs-lookup"><span data-stu-id="d1caa-259">Open the *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file and add the following markup directly after the `Html.Partial` call:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample12.cshtml)]

<span data-ttu-id="d1caa-260">A continuación se muestra el archivo *MvcMobile\Views\Shared\\_Layout. Mobile. cshtml* completo:</span><span class="sxs-lookup"><span data-stu-id="d1caa-260">The complete *MvcMobile\Views\Shared\\_Layout.Mobile.cshtml* file is shown below:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample13.cshtml)]

<span data-ttu-id="d1caa-261">Compile la aplicación y, en el emulador de explorador móvil, vaya a la vista *AllTags* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-261">Build the application, and in your mobile browser emulator browse to the *AllTags* view.</span></span> <span data-ttu-id="d1caa-262">Verá lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-262">You see the following:</span></span>

<span data-ttu-id="d1caa-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-263">[![p3_afterNuGet](aspnet-mvc-4-mobile-features/_static/image23.png)](aspnet-mvc-4-mobile-features/_static/image22.png)</span></span>

> [!NOTE]
> <span data-ttu-id="d1caa-264">Para depurar el código específico de Mobile, [establezca la cadena de agente de usuario](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) para IE o Chrome en iPhone y, a continuación, use las herramientas de desarrollo de F-12.</span><span class="sxs-lookup"><span data-stu-id="d1caa-264">You can debug the mobile specific code by [setting the user agent string](http://www.howtogeek.com/113439/how-to-change-your-browsers-user-agent-without-installing-any-extensions/) for IE or Chrome to iPhone and then using the F-12 developer tools.</span></span> <span data-ttu-id="d1caa-265">Si el explorador móvil no muestra los vínculos **Inicio**, **orador**, **etiqueta**y **fecha** como botones, es probable que las referencias a los archivos CSS y scripts de jQuery Mobile no sean correctas.</span><span class="sxs-lookup"><span data-stu-id="d1caa-265">If your mobile browser doesn't display the **Home**, **Speaker**, **Tag**, and **Date** links as buttons, the references to jQuery Mobile scripts and CSS files are probably not correct.</span></span>

<span data-ttu-id="d1caa-266">Además de los cambios de estilo, verá **Mostrar vista móvil** y un vínculo que le permite cambiar de la vista móvil a la vista de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-266">In addition to the style changes, you see **Displaying mobile view** and a link that lets you switch from mobile view to desktop view.</span></span> <span data-ttu-id="d1caa-267">Elija el vínculo **vista de escritorio** y se mostrará la vista de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-267">Choose the **Desktop view** link, and the desktop view is displayed.</span></span>

<span data-ttu-id="d1caa-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-268">[![p3_desktopView](aspnet-mvc-4-mobile-features/_static/image25.png)](aspnet-mvc-4-mobile-features/_static/image24.png)</span></span>

<span data-ttu-id="d1caa-269">La vista de escritorio no proporciona una manera de navegar directamente a la vista móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-269">The desktop view doesn't provide a way to directly navigate back to the mobile view.</span></span> <span data-ttu-id="d1caa-270">Lo corregirá ahora.</span><span class="sxs-lookup"><span data-stu-id="d1caa-270">You'll fix that now.</span></span> <span data-ttu-id="d1caa-271">Abra el archivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-271">Open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="d1caa-272">Justo debajo de la página `body` elemento, agregue el siguiente código, que representa el widget de selector de vistas:</span><span class="sxs-lookup"><span data-stu-id="d1caa-272">Just under the page `body` element, add the following code, which renders the view-switcher widget:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample14.cshtml)]

<span data-ttu-id="d1caa-273">Actualice la vista *AllTags* en el explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-273">Refresh the *AllTags* view in the mobile browser.</span></span> <span data-ttu-id="d1caa-274">Ahora puede desplazarse entre las vistas de escritorio y móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-274">You can now navigate between desktop and mobile views.</span></span>

<span data-ttu-id="d1caa-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-275">[![p3_desktopViewWithMobileLink](aspnet-mvc-4-mobile-features/_static/image27.png)](aspnet-mvc-4-mobile-features/_static/image26.png)</span></span>

> [!NOTE]
> <span data-ttu-id="d1caa-276">Nota de depuración: puede Agregar el código siguiente al final de Views\Shared\\_ViewSwitcher. cshtml para ayudar a depurar vistas al usar un explorador la cadena de agente de usuario establecida en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-276">Debug note: You can add the following code to the end of the Views\Shared\\_ViewSwitcher.cshtml to help debug views when using a browser the user agent string set to a mobile device.</span></span>
>
> [!code-csharp[Main](aspnet-mvc-4-mobile-features/samples/sample15.cs)]
>
> <span data-ttu-id="d1caa-277">y agregue el encabezado siguiente al archivo *Views\Shared\\_Layout. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-277">and adding the following heading to the *Views\Shared\\_Layout.cshtml* file.</span></span>
>
> [!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample16.html)]

<span data-ttu-id="d1caa-278">Vaya a la página *AllTags* en un explorador de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-278">Browse to the *AllTags* page in a desktop browser.</span></span> <span data-ttu-id="d1caa-279">El widget View-Switcher no se muestra en un explorador de escritorio porque solo se agrega a la página de diseño móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-279">The view-switcher widget is not displayed in a desktop browser because it's added only to the mobile layout page.</span></span> <span data-ttu-id="d1caa-280">Más adelante en el tutorial, verá cómo puede Agregar el widget de selector de vistas a la vista de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-280">Later in the tutorial you'll see how you can add the view-switcher widget to the desktop view.</span></span>

<span data-ttu-id="d1caa-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-281">[![p3_desktopBrowser](aspnet-mvc-4-mobile-features/_static/image29.png)](aspnet-mvc-4-mobile-features/_static/image28.png)</span></span>

## <a name="improving-the-speakers-list"></a><span data-ttu-id="d1caa-282">Mejora de la lista de oradores</span><span class="sxs-lookup"><span data-stu-id="d1caa-282">Improving the Speakers List</span></span>

<span data-ttu-id="d1caa-283">En el explorador móvil, seleccione el vínculo **Oradores** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-283">In the mobile browser, select the **Speakers** link.</span></span> <span data-ttu-id="d1caa-284">Dado que no hay ninguna vista móvil (*AllSpeakers. Mobile. cshtml*), la pantalla predeterminada de los altavoces (*AllSpeakers. cshtml*) se representa mediante la vista de diseño móvil ( *\_layout. Mobile. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="d1caa-284">Because there's no mobile view(*AllSpeakers.Mobile.cshtml*), the default speakers display (*AllSpeakers.cshtml*) is rendered using the mobile layout view (*\_Layout.Mobile.cshtml*).</span></span>

<span data-ttu-id="d1caa-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-285">[![p3_speakersDeskTop](aspnet-mvc-4-mobile-features/_static/image31.png)](aspnet-mvc-4-mobile-features/_static/image30.png)</span></span>

<span data-ttu-id="d1caa-286">Puede deshabilitar globalmente una vista predeterminada (no móvil) de la representación dentro de un diseño móvil estableciendo `RequireConsistentDisplayMode` en `true` en las *vistas\\archivo _ViewStart. cshtml* , como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="d1caa-286">You can globally disable a default (non-mobile) view from rendering inside a mobile layout by setting `RequireConsistentDisplayMode` to `true` in the *Views\\_ViewStart.cshtml* file, like this:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample17.cshtml)]

<span data-ttu-id="d1caa-287">Cuando `RequireConsistentDisplayMode` se establece en `true`, el diseño móvil (<em>\_layout. Mobile. cshtml</em>) se usa solo para vistas móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-287">When `RequireConsistentDisplayMode` is set to `true`, the mobile layout (<em>\_Layout.Mobile.cshtml</em>) is used only for mobile views.</span></span> <span data-ttu-id="d1caa-288">(Es decir, el archivo de vista tiene el formato <em>\* \* ViewName</em><em>. Mobile. cshtml</em>.) es posible que desee establecer `RequireConsistentDisplayMode` en `true` si el diseño móvil no funciona bien con las vistas que no son móviles.</span><span class="sxs-lookup"><span data-stu-id="d1caa-288">(That is, the view file is of the form <em>\*\*ViewName</em><em>.Mobile.cshtml</em>.) You might want to set `RequireConsistentDisplayMode` to `true` if your mobile layout doesn't work well with your non-mobile views.</span></span> <span data-ttu-id="d1caa-289">En la captura de pantalla siguiente se muestra cómo se representa la página <em>oradores</em> cuando `RequireConsistentDisplayMode` está establecida en `true`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-289">The screenshot below shows how the <em>Speakers</em> page renders when `RequireConsistentDisplayMode` is set to `true`.</span></span>

<span data-ttu-id="d1caa-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-290">[![p3_speakersConsistent](aspnet-mvc-4-mobile-features/_static/image33.png)](aspnet-mvc-4-mobile-features/_static/image32.png)</span></span>

<span data-ttu-id="d1caa-291">Puede deshabilitar el modo de presentación coherente en una vista si establece `RequireConsistentDisplayMode` en `false` en el archivo de vista.</span><span class="sxs-lookup"><span data-stu-id="d1caa-291">You can disable consistent display mode in a view by setting `RequireConsistentDisplayMode` to `false` in the view file.</span></span> <span data-ttu-id="d1caa-292">El siguiente marcado en el archivo *Views\Home\AllSpeakers.cshtml* establece `RequireConsistentDisplayMode` en `false`:</span><span class="sxs-lookup"><span data-stu-id="d1caa-292">The following markup in the *Views\Home\AllSpeakers.cshtml* file sets `RequireConsistentDisplayMode` to `false`:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample18.cshtml)]

## <a name="creating-a-mobile-speakers-view"></a><span data-ttu-id="d1caa-293">Creación de una vista de altavoces móviles</span><span class="sxs-lookup"><span data-stu-id="d1caa-293">Creating a Mobile Speakers View</span></span>

<span data-ttu-id="d1caa-294">Como acabamos de ver, la vista *Oradores* es legible, pero los vínculos son pequeños y difíciles de pulsar en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-294">As you just saw, the *Speakers* view is readable, but the links are small and are difficult to tap on a mobile device.</span></span> <span data-ttu-id="d1caa-295">En esta sección, creará una vista de *oradores* específicos para dispositivos móviles que se parece a una aplicación móvil moderna; muestra vínculos grandes y fáciles de tocar y contiene un cuadro de búsqueda para encontrar rápidamente los oradores.</span><span class="sxs-lookup"><span data-stu-id="d1caa-295">In this section, you'll create a mobile-specific *Speakers* view that looks like a modern mobile application — it displays large, easy-to-tap links and contains a search box to quickly find speakers.</span></span>

<span data-ttu-id="d1caa-296">Copie *AllSpeakers. cshtml* en *AllSpeakers. Mobile. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-296">Copy *AllSpeakers.cshtml* to *AllSpeakers.Mobile.cshtml*.</span></span> <span data-ttu-id="d1caa-297">Abra el archivo *AllSpeakers. Mobile. cshtml* y quite el elemento de encabezado `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-297">Open the *AllSpeakers.Mobile.cshtml* file and remove the `<h2>` heading element.</span></span>

<span data-ttu-id="d1caa-298">En la etiqueta `<ul>`, agregue el atributo `data-role` y establezca su valor en `listview`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-298">In the `<ul>` tag, add the `data-role` attribute and set its value to `listview`.</span></span> <span data-ttu-id="d1caa-299">Al igual que otros [atributos de`data-*`](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` hace que los elementos de la lista de gran tamaño sean más fáciles de puntear.</span><span class="sxs-lookup"><span data-stu-id="d1caa-299">Like other [`data-*` attributes](http://html5doctor.com/html5-custom-data-attributes/), `data-role="listview"` makes the large list items easier to tap.</span></span> <span data-ttu-id="d1caa-300">Este es el aspecto del marcado completo:</span><span class="sxs-lookup"><span data-stu-id="d1caa-300">This is what the completed markup looks like:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample19.cshtml)]

<span data-ttu-id="d1caa-301">Actualice el explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-301">Refresh the mobile browser.</span></span> <span data-ttu-id="d1caa-302">La vista actualizada es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-302">The updated view looks like this:</span></span>

<span data-ttu-id="d1caa-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-303">[![p3_updatedSpeakerView1](aspnet-mvc-4-mobile-features/_static/image35.png)](aspnet-mvc-4-mobile-features/_static/image34.png)</span></span>

<span data-ttu-id="d1caa-304">Aunque la vista móvil ha mejorado, es difícil navegar por la larga lista de oradores.</span><span class="sxs-lookup"><span data-stu-id="d1caa-304">Although the mobile view has improved, it's difficult to navigate the long list of speakers.</span></span> <span data-ttu-id="d1caa-305">Para solucionarlo, en la etiqueta `<ul>`, agregue el atributo `data-filter` y establézcalo en `true`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-305">To fix this, in the `<ul>` tag, add the `data-filter` attribute and set it to `true`.</span></span> <span data-ttu-id="d1caa-306">En el código siguiente se muestra el marcado de `ul`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-306">The code below shows the `ul` markup.</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample20.html)]

<span data-ttu-id="d1caa-307">En la imagen siguiente se muestra el cuadro de filtro de búsqueda de la parte superior de la página resultante del atributo `data-filter`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-307">The following image shows the search filter box at the top of the page that results from the `data-filter` attribute.</span></span>

<span data-ttu-id="d1caa-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-308">[![ps_Data_Filter](aspnet-mvc-4-mobile-features/_static/image37.png)](aspnet-mvc-4-mobile-features/_static/image36.png)</span></span>

<span data-ttu-id="d1caa-309">A medida que escribe cada letra en el cuadro de búsqueda, jQuery Mobile filtra la lista mostrada, tal como se muestra en la imagen siguiente.</span><span class="sxs-lookup"><span data-stu-id="d1caa-309">As you type each letter in the search box, jQuery Mobile filters the displayed list as shown in the image below.</span></span>

<span data-ttu-id="d1caa-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-310">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image39.png)](aspnet-mvc-4-mobile-features/_static/image38.png)</span></span>

## <a name="improving-the-tags-list"></a><span data-ttu-id="d1caa-311">Mejorar la lista de etiquetas</span><span class="sxs-lookup"><span data-stu-id="d1caa-311">Improving the Tags List</span></span>

<span data-ttu-id="d1caa-312">Al igual que la vista *oradores* predeterminada, la vista *etiquetas* es legible, pero los vínculos son pequeños y difíciles de pulsar en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-312">Like the default *Speakers* view, the *Tags* view is readable, but the links are small and difficult to tap on a mobile device.</span></span> <span data-ttu-id="d1caa-313">En esta sección, corregirá la vista de *etiquetas* de la misma forma que la vista *oradores* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-313">In this section, you'll fix the *Tags* view the same way you fixed the *Speakers* view.</span></span>

<span data-ttu-id="d1caa-314">Quite la &quot;oculte el sufijo de&quot; al archivo *Views\Home\AllTags.Mobile.cshtml.Hide* para que el nombre sea *Views\Home\AllTags.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-314">Remove the &quot;hide&quot; suffix to the *Views\Home\AllTags.Mobile.cshtml.hide* file so the name is *Views\Home\AllTags.Mobile.cshtml*.</span></span> <span data-ttu-id="d1caa-315">Abra el archivo cuyo nombre ha cambiado y quite el elemento `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-315">Open the renamed file and remove the `<h2>` element.</span></span>

<span data-ttu-id="d1caa-316">Agregue los atributos `data-role` y `data-filter` a la etiqueta `<ul>`, como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="d1caa-316">Add the `data-role` and `data-filter` attributes to the `<ul>` tag, as shown here:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample21.html)]

<span data-ttu-id="d1caa-317">En la imagen siguiente se muestra el filtrado de páginas de etiquetas en la letra `J`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-317">The image below shows the tags page filtering on the letter `J`.</span></span>

<span data-ttu-id="d1caa-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-318">[![p3_tags_J](aspnet-mvc-4-mobile-features/_static/image41.png)](aspnet-mvc-4-mobile-features/_static/image40.png)</span></span>

## <a name="improving-the-dates-list"></a><span data-ttu-id="d1caa-319">Mejorar la lista de fechas</span><span class="sxs-lookup"><span data-stu-id="d1caa-319">Improving the Dates List</span></span>

<span data-ttu-id="d1caa-320">Puede mejorar la vista *fechas* como la mejora de las vistas *oradores* y *etiquetas* para que sea más fácil de usar en un dispositivo móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-320">You can improve the *Dates* view like you improved the *Speakers* and *Tags* views, so that it's easier to use on a mobile device.</span></span>

<span data-ttu-id="d1caa-321">Copie el archivo *Views\Home\AllDates.cshtml* en *Views\Home\AllDates.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="d1caa-321">Copy the *Views\Home\AllDates.cshtml* file to *Views\Home\AllDates.Mobile.cshtml*.</span></span> <span data-ttu-id="d1caa-322">Abra el nuevo archivo y quite el elemento `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="d1caa-322">Open the new file and remove the `<h2>` element.</span></span>

<span data-ttu-id="d1caa-323">Agregue `data-role="listview"` a la etiqueta de `<ul>`, de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="d1caa-323">Add `data-role="listview"` to the `<ul>` tag, like this:</span></span>

[!code-html[Main](aspnet-mvc-4-mobile-features/samples/sample22.html)]

<span data-ttu-id="d1caa-324">En la imagen siguiente se muestra el aspecto de la página de **fechas** con el atributo de `data-role` en su lugar.</span><span class="sxs-lookup"><span data-stu-id="d1caa-324">The image below shows what the **Date** page looks like with the `data-role` attribute in place.</span></span>

<span data-ttu-id="d1caa-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Reemplace el contenido del archivo *Views\Home\AllDates.Mobile.cshtml* por el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-325">[![p3_dates1](aspnet-mvc-4-mobile-features/_static/image43.png)](aspnet-mvc-4-mobile-features/_static/image42.png) Replace the contents of the *Views\Home\AllDates.Mobile.cshtml* file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample23.cshtml)]

<span data-ttu-id="d1caa-326">Este código agrupa todas las sesiones por días.</span><span class="sxs-lookup"><span data-stu-id="d1caa-326">This code groups all sessions by days.</span></span> <span data-ttu-id="d1caa-327">Crea un divisor de lista para cada día nuevo y muestra todas las sesiones para cada día en un divisor.</span><span class="sxs-lookup"><span data-stu-id="d1caa-327">It creates a list divider for each new day, and it lists all the sessions for each day under a divider.</span></span> <span data-ttu-id="d1caa-328">Este es su aspecto cuando se ejecuta este código:</span><span class="sxs-lookup"><span data-stu-id="d1caa-328">Here's what it looks like when this code runs:</span></span>

<span data-ttu-id="d1caa-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-329">[![p3_dates2](aspnet-mvc-4-mobile-features/_static/image45.png)](aspnet-mvc-4-mobile-features/_static/image44.png)</span></span>

## <a name="improving-the-sessionstable-view"></a><span data-ttu-id="d1caa-330">Mejora de la vista SessionsTable</span><span class="sxs-lookup"><span data-stu-id="d1caa-330">Improving the SessionsTable View</span></span>

<span data-ttu-id="d1caa-331">En esta sección, creará una vista específica del móvil de las sesiones.</span><span class="sxs-lookup"><span data-stu-id="d1caa-331">In this section, you'll create a mobile-specific view of sessions.</span></span> <span data-ttu-id="d1caa-332">Los cambios que hacemos serán más extensos que en otras vistas que hemos creado.</span><span class="sxs-lookup"><span data-stu-id="d1caa-332">The changes we make will be more extensive than in other views we have created.</span></span>

<span data-ttu-id="d1caa-333">En el explorador móvil, puntee en el botón **altavoz** y escriba `Sc` en el cuadro de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="d1caa-333">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="d1caa-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-334">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image47.png)](aspnet-mvc-4-mobile-features/_static/image46.png)</span></span>

<span data-ttu-id="d1caa-335">Pulse el vínculo **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-335">Tap the **Scott Hanselman** link.</span></span>

<span data-ttu-id="d1caa-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-336">[![p3_scottHa](aspnet-mvc-4-mobile-features/_static/image49.png)](aspnet-mvc-4-mobile-features/_static/image48.png)</span></span>

<span data-ttu-id="d1caa-337">Como puede ver, la visualización es difícil de leer en un explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-337">As you can see, the display is difficult to read on a mobile browser.</span></span> <span data-ttu-id="d1caa-338">La columna Date es difícil de leer y la columna Tags está fuera de la vista.</span><span class="sxs-lookup"><span data-stu-id="d1caa-338">The date column is hard to read and the tags column is out of the view.</span></span> <span data-ttu-id="d1caa-339">Para corregir esto, copie *Views\Home\SessionsTable.cshtml* en *Views\Home\SessionsTable.Mobile.cshtml*y, a continuación, reemplace el contenido del archivo por el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-339">To fix this, copy *Views\Home\SessionsTable.cshtml* to *Views\Home\SessionsTable.Mobile.cshtml*, and then replace the contents of the file with the following code:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample24.cshtml)]

<span data-ttu-id="d1caa-340">El código quita las columnas Room y Tags, y da formato al título, al orador y a la fecha verticalmente, de modo que toda esta información sea legible en un explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-340">The code removes the room and tags columns, and formats the title, speaker, and date vertically, so that all this information is readable on a mobile browser.</span></span> <span data-ttu-id="d1caa-341">La imagen siguiente refleja los cambios en el código.</span><span class="sxs-lookup"><span data-stu-id="d1caa-341">The image below reflects the code changes.</span></span>

<span data-ttu-id="d1caa-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-342">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image51.png)](aspnet-mvc-4-mobile-features/_static/image50.png)</span></span>

## <a name="improving-the-sessionbycode-view"></a><span data-ttu-id="d1caa-343">Mejora de la vista SessionByCode</span><span class="sxs-lookup"><span data-stu-id="d1caa-343">Improving the SessionByCode View</span></span>

<span data-ttu-id="d1caa-344">Por último, creará una vista específica para móviles de la vista *SessionByCode* .</span><span class="sxs-lookup"><span data-stu-id="d1caa-344">Finally, you'll create a mobile-specific view of the *SessionByCode* view.</span></span> <span data-ttu-id="d1caa-345">En el explorador móvil, puntee en el botón **altavoz** y escriba `Sc` en el cuadro de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="d1caa-345">In the mobile browser, tap the **Speaker** button, then enter `Sc` in the search box.</span></span>

<span data-ttu-id="d1caa-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-346">[![ps_data_filter_SC](aspnet-mvc-4-mobile-features/_static/image53.png)](aspnet-mvc-4-mobile-features/_static/image52.png)</span></span>

<span data-ttu-id="d1caa-347">Pulse el vínculo **Scott Hanselman** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-347">Tap the **Scott Hanselman** link.</span></span> <span data-ttu-id="d1caa-348">Se muestran las sesiones de Scott Hanselman.</span><span class="sxs-lookup"><span data-stu-id="d1caa-348">Scott Hanselman's sessions are displayed.</span></span>

<span data-ttu-id="d1caa-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-349">[![ps_SessionsByScottHa](aspnet-mvc-4-mobile-features/_static/image55.png)](aspnet-mvc-4-mobile-features/_static/image54.png)</span></span>

<span data-ttu-id="d1caa-350">Elija la **información general del vínculo de la pila de Microsoft Web de Love** .</span><span class="sxs-lookup"><span data-stu-id="d1caa-350">Choose the **An Overview of the MS Web Stack of Love** link.</span></span>

<span data-ttu-id="d1caa-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-351">[![ps_love](aspnet-mvc-4-mobile-features/_static/image57.png)](aspnet-mvc-4-mobile-features/_static/image56.png)</span></span>

<span data-ttu-id="d1caa-352">La vista de escritorio predeterminada está bien, pero puede mejorarla.</span><span class="sxs-lookup"><span data-stu-id="d1caa-352">The default desktop view is fine, but you can improve it.</span></span>

<span data-ttu-id="d1caa-353">Copie *Views\Home\SessionByCode.cshtml* en *Views\Home\SessionByCode.Mobile.cshtml* y reemplace el contenido del archivo *Views\Home\SessionByCode.Mobile.cshtml* por el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="d1caa-353">Copy the *Views\Home\SessionByCode.cshtml* to *Views\Home\SessionByCode.Mobile.cshtml* and replace the contents of the *Views\Home\SessionByCode.Mobile.cshtml* file with the following markup:</span></span>

[!code-cshtml[Main](aspnet-mvc-4-mobile-features/samples/sample25.cshtml)]

<span data-ttu-id="d1caa-354">El nuevo marcado utiliza el atributo `data-role` para mejorar el diseño de la vista.</span><span class="sxs-lookup"><span data-stu-id="d1caa-354">The new markup uses the `data-role` attribute to improve the layout of the view.</span></span>

<span data-ttu-id="d1caa-355">Actualice el explorador móvil.</span><span class="sxs-lookup"><span data-stu-id="d1caa-355">Refresh the mobile browser.</span></span> <span data-ttu-id="d1caa-356">La siguiente imagen refleja los cambios en el código que acaba de hacer:</span><span class="sxs-lookup"><span data-stu-id="d1caa-356">The following image reflects the code changes that you just made:</span></span>

<span data-ttu-id="d1caa-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span><span class="sxs-lookup"><span data-stu-id="d1caa-357">[![p3_love2](aspnet-mvc-4-mobile-features/_static/image59.png)](aspnet-mvc-4-mobile-features/_static/image58.png)</span></span>

## <a name="wrapup-and-review"></a><span data-ttu-id="d1caa-358">Wrapup y revisión</span><span class="sxs-lookup"><span data-stu-id="d1caa-358">Wrapup and Review</span></span>

<span data-ttu-id="d1caa-359">En este tutorial se han incorporado las nuevas características móviles de ASP.NET MVC 4 Developer Preview.</span><span class="sxs-lookup"><span data-stu-id="d1caa-359">This tutorial has introduced the new mobile features of ASP.NET MVC 4 Developer Preview.</span></span> <span data-ttu-id="d1caa-360">Las características móviles incluyen:</span><span class="sxs-lookup"><span data-stu-id="d1caa-360">The mobile features include:</span></span>

- <span data-ttu-id="d1caa-361">La capacidad de invalidar el diseño, las vistas y las vistas parciales, tanto globalmente como para una vista individual.</span><span class="sxs-lookup"><span data-stu-id="d1caa-361">The ability to override layout, views, and partial views, both globally and for an individual view.</span></span>
- <span data-ttu-id="d1caa-362">Control sobre el diseño y la aplicación de invalidación parcial mediante el `RequireConsistentDisplayMode` propiedad.</span><span class="sxs-lookup"><span data-stu-id="d1caa-362">Control over layout and partial override enforcement using the `RequireConsistentDisplayMode` property.</span></span>
- <span data-ttu-id="d1caa-363">Un widget de selector de vistas para vistas móviles que también se puede mostrar en las vistas de escritorio.</span><span class="sxs-lookup"><span data-stu-id="d1caa-363">A view-switcher widget for mobile views than can also be displayed in desktop views.</span></span>
- <span data-ttu-id="d1caa-364">Compatibilidad con exploradores específicos, como el explorador de iPhone.</span><span class="sxs-lookup"><span data-stu-id="d1caa-364">Support for supporting specific browsers, such as the iPhone browser.</span></span>

## <a name="see-also"></a><span data-ttu-id="d1caa-365">Consulte también</span><span class="sxs-lookup"><span data-stu-id="d1caa-365">See Also</span></span>

- <span data-ttu-id="d1caa-366">sitio [móvil de jQuery](http://jquerymobile.com) .</span><span class="sxs-lookup"><span data-stu-id="d1caa-366">[jQuery Mobile](http://jquerymobile.com) site.</span></span>
- [<span data-ttu-id="d1caa-367">Información general sobre jQuery Mobile</span><span class="sxs-lookup"><span data-stu-id="d1caa-367">jQuery Mobile Overview</span></span>](http://jquerymobile.com/demos/1.0b3/docs/about/intro.html)
- [<span data-ttu-id="d1caa-368">Prácticas recomendadas y recomendaciones de W3C para aplicaciones web móviles</span><span class="sxs-lookup"><span data-stu-id="d1caa-368">W3C Recommendation Mobile Web Application Best Practices</span></span>](http://www.w3.org/TR/mwabp/)
- [<span data-ttu-id="d1caa-369">Recomendación de candidatos de W3C para consultas multimedia</span><span class="sxs-lookup"><span data-stu-id="d1caa-369">W3C Candidate Recommendation for media queries</span></span>](http://www.w3.org/TR/css3-mediaqueries/)

---
uid: web-forms/overview/moving-to-aspnet-20/master-pages
title: Páginas maestras | Microsoft Docs
author: microsoft
description: Uno de los componentes clave para un sitio Web tenga éxito es un aspecto coherente. En ASP.NET 1.x, los desarrolladores usan los controles de usuario para replicar comunes elem. de página...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: 9c0cce4d-efd9-4c14-b0e8-a1a140abb3f4
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/master-pages
msc.type: authoredcontent
ms.openlocfilehash: 644beb37bf893a590be03dd0929c5870af6fbe87
ms.sourcegitcommit: 289e051cc8a90e8f7127e239fda73047bde4de12
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/25/2019
ms.locfileid: "58425774"
---
<a name="master-pages"></a><span data-ttu-id="d93fd-104">Páginas maestras</span><span class="sxs-lookup"><span data-stu-id="d93fd-104">Master Pages</span></span>
====================
<span data-ttu-id="d93fd-105">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="d93fd-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="d93fd-106">Uno de los componentes clave para un sitio Web tenga éxito es un aspecto coherente.</span><span class="sxs-lookup"><span data-stu-id="d93fd-106">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="d93fd-107">En ASP.NET 1.x, los desarrolladores usan controles de usuario para replicar elementos comunes de la página a través de una aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="d93fd-107">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="d93fd-108">Aunque ciertamente es una solución operativa, utilizando los controles de usuario tiene algunas desventajas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-108">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="d93fd-109">Por ejemplo, un cambio en la posición de un control de usuario requiere un cambio en varias páginas en un sitio.</span><span class="sxs-lookup"><span data-stu-id="d93fd-109">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="d93fd-110">Los controles de usuario no se representan también en la vista de diseño después de que se va a insertar en una página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-110">User controls are also not rendered in Design view after being inserted on a page.</span></span>


<span data-ttu-id="d93fd-111">Uno de los componentes clave para un sitio Web tenga éxito es un aspecto coherente.</span><span class="sxs-lookup"><span data-stu-id="d93fd-111">One of the key components to a successful Web site is a consistent look and feel.</span></span> <span data-ttu-id="d93fd-112">En ASP.NET 1.x, los desarrolladores usan controles de usuario para replicar elementos comunes de la página a través de una aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="d93fd-112">In ASP.NET 1.x, developers used user controls to replicate common page elements across a Web application.</span></span> <span data-ttu-id="d93fd-113">Aunque ciertamente es una solución operativa, utilizando los controles de usuario tiene algunas desventajas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-113">While that is certainly a workable solution, using user controls does have some drawbacks.</span></span> <span data-ttu-id="d93fd-114">Por ejemplo, un cambio en la posición de un control de usuario requiere un cambio en varias páginas en un sitio.</span><span class="sxs-lookup"><span data-stu-id="d93fd-114">For example, a change in position of a user control requires a change to multiple pages across a site.</span></span> <span data-ttu-id="d93fd-115">Los controles de usuario no se representan también en la vista de diseño después de que se va a insertar en una página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-115">User controls are also not rendered in Design view after being inserted on a page.</span></span>

<span data-ttu-id="d93fd-116">ASP.NET 2.0 introduce Master páginas como una manera de mantener una apariencia coherente y, como pronto comprobará, Master páginas representan una mejora considerable sobre el método de control de usuario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-116">ASP.NET 2.0 introduces Master pages as a way of maintaining a consistent look and feel, and as you'll soon see, Master pages represent a significant improvement over the user control method.</span></span>

## <a name="why-master-pages"></a><span data-ttu-id="d93fd-117">¿Páginas maestras de por qué?</span><span class="sxs-lookup"><span data-stu-id="d93fd-117">Why Master Pages?</span></span>

<span data-ttu-id="d93fd-118">Quizás se pregunte por qué se necesitaron páginas maestras en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d93fd-118">You may be wondering why master pages were needed in ASP.NET 2.0.</span></span> <span data-ttu-id="d93fd-119">Después de todo, los desarrolladores de sitios Web ya están usando los controles de usuario en ASP.NET 1.x a compartir áreas de contenido entre las páginas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-119">After all, Web site developers are already using user controls in ASP.NET 1.x to share content areas between pages.</span></span> <span data-ttu-id="d93fd-120">Hay realmente varios motivos por los controles de usuario de una solución menos óptimo para crear un diseño común.</span><span class="sxs-lookup"><span data-stu-id="d93fd-120">There are actually several reasons why user controls are a less-than-optimal solution for creating a common layout.</span></span>

<span data-ttu-id="d93fd-121">Los controles de usuario realmente no definen el diseño de página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-121">User controls don't actually define page layout.</span></span> <span data-ttu-id="d93fd-122">En su lugar, definen el diseño y la funcionalidad de una parte de una página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-122">Instead, they define the layout and functionality for a portion of a page.</span></span> <span data-ttu-id="d93fd-123">La distinción entre estos dos es importante porque hace mucho más difícil la facilidad de uso de una solución de control de usuario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-123">The distinction between these two is important because it makes manageability of a user control solution much more difficult.</span></span> <span data-ttu-id="d93fd-124">Por ejemplo, cuando desea cambiar la posición de un control de usuario en la página, debe editar la página donde aparezca el control de usuario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-124">For example, when you want to change the position of a user control on your page, you must edit the actual page on which the user control appears.</span></span> <span data-ttu-id="d93fd-125">Thats correctamente si tiene pocas páginas, pero en sitios de gran tamaño, se vuelve pronto una pesadilla de administración del sitio.</span><span class="sxs-lookup"><span data-stu-id="d93fd-125">Thats fine if you have only a few pages, but in large sites, it quickly becomes a site management nightmare!</span></span>

<span data-ttu-id="d93fd-126">Otro inconveniente del uso de controles de usuario para definir un diseño común se basa en la arquitectura de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d93fd-126">Another drawback of using user controls for defining a common layout is rooted in the architecture of ASP.NET itself.</span></span> <span data-ttu-id="d93fd-127">Si se cambia cualquier miembro público de un control de usuario, requiere volver a compilar todas las páginas que usan el control de usuario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-127">If any public member of a user control is changed, it requires you to recompile all of the pages that use the user control.</span></span> <span data-ttu-id="d93fd-128">A su vez, ASP.NET, a continuación, acceder las páginas cuando están primer de re JIT.</span><span class="sxs-lookup"><span data-stu-id="d93fd-128">In turn, ASP.NET will then re-JIT your pages when they are first accessed.</span></span> <span data-ttu-id="d93fd-129">Una vez más, esto, genera una arquitectura que no es escalable y un problema de administración de sitio para sitios de mayor tamaño.</span><span class="sxs-lookup"><span data-stu-id="d93fd-129">This, once again, produces a non-scalable architecture and a site management problem for larger sites.</span></span>

<span data-ttu-id="d93fd-130">Bien, ambos de estos problemas (y muchos más) se direccionan mediante páginas maestras en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d93fd-130">Both of these problems (and many more) are nicely addressed by master pages in ASP.NET 2.0.</span></span>

## <a name="how-master-pages-work"></a><span data-ttu-id="d93fd-131">Cómo funcionan las páginas maestras</span><span class="sxs-lookup"><span data-stu-id="d93fd-131">How Master Pages Work</span></span>

<span data-ttu-id="d93fd-132">Una página maestra es análoga a una plantilla para otras páginas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-132">A master page is analogous to a template for other pages.</span></span> <span data-ttu-id="d93fd-133">Elementos de la página que se deben compartir entre otras páginas (es decir, los menús, bordes, etc.) se agregan a la página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-133">Page elements that should be shared among other pages (i.e. menus, borders, etc.) are added to the master page.</span></span> <span data-ttu-id="d93fd-134">Cuando se agregan nuevas páginas en el sitio, se puede asociar con una página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-134">When new pages are added to the site, you can associate them with a master page.</span></span> <span data-ttu-id="d93fd-135">Se llama a una página que está asociada a una página maestra un **página de contenido**.</span><span class="sxs-lookup"><span data-stu-id="d93fd-135">A page that is associated with a master page is called a **content page**.</span></span> <span data-ttu-id="d93fd-136">De forma predeterminada, una página de contenido toma la apariencia de la página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-136">By default, a content page takes on the appearance from the master page.</span></span> <span data-ttu-id="d93fd-137">Sin embargo, cuando se crea una página maestra, puede definir las partes de la página que la página de contenido puede sustituir por su propio contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-137">However, when you create a master page, you can define portions of the page that the content page can replace with its own content.</span></span> <span data-ttu-id="d93fd-138">Estas partes se definen mediante un nuevo control presentado en ASP.NET 2.0; el **ContentPlaceHolder** control.</span><span class="sxs-lookup"><span data-stu-id="d93fd-138">These portions are defined using a new control introduced in ASP.NET 2.0; the **ContentPlaceHolder** control.</span></span>

<span data-ttu-id="d93fd-139">Una página principal puede contener cualquier número de controles ContentPlaceHolder (o ninguno en absoluto). En la página de contenido, aparece el contenido de los controles ContentPlaceHolder dentro de **contenido** controles, otro control nuevo en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="d93fd-139">A master page can contain any number of ContentPlaceHolder controls (or none at all.) On the content page, the content from the ContentPlaceHolder controls appears inside of **Content** controls, another new control in ASP.NET 2.0.</span></span> <span data-ttu-id="d93fd-140">De forma predeterminada, los controles de contenido de las páginas de contenido están vacías para que pueda proporcionar su propio contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-140">By default, the content pages Content controls are empty so that you can provide your own content.</span></span> <span data-ttu-id="d93fd-141">Si desea usar el contenido de la página maestra dentro de los controles de contenido, puede hacerlo así como verá más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="d93fd-141">If you want to use the content from the master page inside of the Content controls, you can do so as you will see later in this module.</span></span> <span data-ttu-id="d93fd-142">El control de contenido se asigna al control ContentPlaceHolder a través del atributo ContentPlaceHolderID del control de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-142">The Content control is mapped to the ContentPlaceHolder control via the ContentPlaceHolderID attribute of the Content control.</span></span> <span data-ttu-id="d93fd-143">El código siguiente se asigna un control de contenido a un control ContentPlaceHolder llamado mainBody en una página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-143">The code below maps a Content control to a ContentPlaceHolder control called mainBody on a master page.</span></span>

[!code-aspx[Main](master-pages/samples/sample1.aspx)]

> [!NOTE]
> <span data-ttu-id="d93fd-144">A menudo escuchará las personas se describen las páginas maestras como una clase base para otras páginas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-144">You will often hear people describe master pages as being a base class for other pages.</span></span> <span data-ttu-id="d93fd-145">Thats realmente no es true.</span><span class="sxs-lookup"><span data-stu-id="d93fd-145">Thats actually not true.</span></span> <span data-ttu-id="d93fd-146">La relación entre las páginas maestras y las páginas de contenido no es uno de herencia.</span><span class="sxs-lookup"><span data-stu-id="d93fd-146">The relationship between master pages and content pages is not one of inheritance.</span></span>


<span data-ttu-id="d93fd-147">**Figura 1** muestra una página maestra y una página de contenido asociada, tal y como aparecen en Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="d93fd-147">**Figure 1** shows a master page and an associated content page as they appear in Visual Studio 2005.</span></span> <span data-ttu-id="d93fd-148">Puede ver el control ContentPlaceHolder en la página maestra y el correspondiente control en la página de contenido de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-148">You can see the ContentPlaceHolder control in the master page and the corresponding Content control in the content page.</span></span> <span data-ttu-id="d93fd-149">Tenga en cuenta que el contenido de las páginas maestras que se encuentra fuera del control ContentPlaceHolder es visible pero atenuadas en la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-149">Notice that the master pages content that is outside of the ContentPlaceHolder is visible but grayed out in the content page.</span></span> <span data-ttu-id="d93fd-150">Solo el contenido existente en el ContentPlaceHolder puede ser suplantado por la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-150">Only the content inside of the ContentPlaceHolder can be supplanted by the content page.</span></span> <span data-ttu-id="d93fd-151">Resto del contenido que proviene de la página maestra es inmutable.</span><span class="sxs-lookup"><span data-stu-id="d93fd-151">All other content that comes from the master page is immutable.</span></span>


![Una página maestra y la página de contenido asociada](master-pages/_static/image1.jpg)

<span data-ttu-id="d93fd-153">**Figura 1**: Una página maestra y la página de contenido asociada</span><span class="sxs-lookup"><span data-stu-id="d93fd-153">**Figure 1**: A master page and its associated content page</span></span>


## <a name="creating-a-master-page"></a><span data-ttu-id="d93fd-154">Creación de una página maestra</span><span class="sxs-lookup"><span data-stu-id="d93fd-154">Creating a Master Page</span></span>

<span data-ttu-id="d93fd-155">Para crear una nueva página principal:</span><span class="sxs-lookup"><span data-stu-id="d93fd-155">To create a new master page:</span></span>

1. <span data-ttu-id="d93fd-156">Abra Visual Studio 2005 y cree un nuevo sitio Web.</span><span class="sxs-lookup"><span data-stu-id="d93fd-156">Open Visual Studio 2005 and create a new Web site.</span></span>
2. <span data-ttu-id="d93fd-157">Haga clic en archivo, nuevo, de archivos.</span><span class="sxs-lookup"><span data-stu-id="d93fd-157">Click File, New, File.</span></span>
3. <span data-ttu-id="d93fd-158">Elegir archivo maestro desde el cuadro de diálogo Agregar nuevo elemento, como se muestra en **figura 2**.</span><span class="sxs-lookup"><span data-stu-id="d93fd-158">Choose Master File from the Add New Item dialog as shown in **figure 2**.</span></span>
4. <span data-ttu-id="d93fd-159">Haga clic en Agregar.</span><span class="sxs-lookup"><span data-stu-id="d93fd-159">Click Add.</span></span>


![Crear una nueva página maestra](master-pages/_static/image2.jpg)

<span data-ttu-id="d93fd-161">**Figura 2**: Crear una nueva página maestra</span><span class="sxs-lookup"><span data-stu-id="d93fd-161">**Figure 2**: Creating a New Master Page</span></span>


<span data-ttu-id="d93fd-162">Tenga en cuenta que la extensión de archivo para una página maestra es <em>.master</em>.</span><span class="sxs-lookup"><span data-stu-id="d93fd-162">Notice that the file extension for a master page is <em>.master</em>.</span></span> <span data-ttu-id="d93fd-163">Esta es una de las maneras en que una página maestra difiere de una página normal.</span><span class="sxs-lookup"><span data-stu-id="d93fd-163">This is one of the ways that a master page differs from an ordinary page.</span></span> <span data-ttu-id="d93fd-164">La principal diferencia es que en lugar de un @Page la directiva, la página maestra contiene un @Master directiva.</span><span class="sxs-lookup"><span data-stu-id="d93fd-164">The other primary difference is that in lieu of a @Page directive, the master page contains a @Master directive.</span></span> <span data-ttu-id="d93fd-165">Cambie a vista de origen para el patrón de página que acaba de crear y revisar el código.</span><span class="sxs-lookup"><span data-stu-id="d93fd-165">Switch to Source View for the master page you've just created and review the code.</span></span>

<span data-ttu-id="d93fd-166">Una nueva página principal tendrá un control ContentPlaceHolder de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="d93fd-166">A new master page will have one ContentPlaceHolder control by default.</span></span> <span data-ttu-id="d93fd-167">En la mayoría de los casos, tiene más sentido para crear los elementos de página comunes primero y, a continuación, insertar controles ContentPlaceHolder donde desee contenido personalizado.</span><span class="sxs-lookup"><span data-stu-id="d93fd-167">In most cases, it makes more sense to create the common page elements first and then insert ContentPlaceHolder controls where custom content is desired.</span></span> <span data-ttu-id="d93fd-168">En esos casos, los programadores desearán eliminar el control ContentPlaceHolder predeterminado e insertar otros nuevos mientras se desarrolla la página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-168">In those cases, developers will want to delete the default ContentPlaceHolder control and insert new ones as the page is developed.</span></span> <span data-ttu-id="d93fd-169">Controles ContentPlaceHolder no son redimensionables a pesar del hecho de que muestren los controladores de tamaño.</span><span class="sxs-lookup"><span data-stu-id="d93fd-169">ContentPlaceHolder controls are not resizable despite the fact that they do display sizing handles.</span></span> <span data-ttu-id="d93fd-170">Los tamaños de control ContentPlaceHolder automáticamente según el contenido que lo contiene con una excepción; Si se coloca un control ContentPlaceHolder dentro de un elemento de bloque como una celda de tabla, ajustarse según el tamaño del elemento.</span><span class="sxs-lookup"><span data-stu-id="d93fd-170">The ContentPlaceHolder control sizes automatically based upon the content that it contains with one exception; if you place a ContentPlaceHolder control inside of a block element such as a table cell, it will size according to the size of the element.</span></span>

## <a name="lab-1-working-with-master-pages"></a><span data-ttu-id="d93fd-171">Laboratorio 1 trabajar con páginas maestras</span><span class="sxs-lookup"><span data-stu-id="d93fd-171">Lab 1 Working with Master Pages</span></span>

<span data-ttu-id="d93fd-172">En este laboratorio, creará una nueva página maestra y definir tres controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="d93fd-172">In this lab, you will create a new master page and define three ContentPlaceHolder controls.</span></span> <span data-ttu-id="d93fd-173">A continuación, creará una nueva página de contenido y reemplace el contenido de al menos uno de los controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="d93fd-173">You will then create a new Content page and replace the content from at least one of the ContentPlaceHolder controls.</span></span>

1. <span data-ttu-id="d93fd-174">Crear una página maestra e insertar controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="d93fd-174">Create a master page and insert ContentPlaceHolder controls.</span></span> 

    1. <span data-ttu-id="d93fd-175">Cree una nueva página principal como se describió anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d93fd-175">Create a new master page as described above.</span></span>
    2. <span data-ttu-id="d93fd-176">Elimine el control ContentPlaceHolder predeterminado.</span><span class="sxs-lookup"><span data-stu-id="d93fd-176">Delete the default ContentPlaceHolder control.</span></span>
    3. <span data-ttu-id="d93fd-177">Seleccione el control ContentPlaceHolder haciendo clic en el borde sombreado superior del control y, a continuación, eliminarlo presionando la tecla SUPR del teclado.</span><span class="sxs-lookup"><span data-stu-id="d93fd-177">Select the ContentPlaceHolder control by clicking the shaded top border of the control and then delete it by hitting the DEL key on your keyboard.</span></span>
    4. <span data-ttu-id="d93fd-178">Insertar una nueva tabla con el *encabezado y lado* plantilla tal como se muestra en la figura 3.</span><span class="sxs-lookup"><span data-stu-id="d93fd-178">Insert a new table using the *Header and side* template as shown in figure 3.</span></span> <span data-ttu-id="d93fd-179">Cambiar el ancho y alto en el 90% para que esté visible en el Diseñador de toda la tabla.</span><span class="sxs-lookup"><span data-stu-id="d93fd-179">Change the width and height to 90% each so that the entire table is visible in the designer.</span></span>


![](master-pages/_static/image3.jpg)

<span data-ttu-id="d93fd-180">**Figura 3**</span><span class="sxs-lookup"><span data-stu-id="d93fd-180">**Figure 3**</span></span>


1. <span data-ttu-id="d93fd-181">Coloque el cursor en cada celda de la tabla y establezca el *valign* propiedad *superior*.</span><span class="sxs-lookup"><span data-stu-id="d93fd-181">Place the cursor into each cell of the table and set the *valign* property to *top*.</span></span>
2. <span data-ttu-id="d93fd-182">Desde el cuadro de herramientas, inserte un control ContentPlaceHolder en la celda superior de la tabla (la celda de encabezado).</span><span class="sxs-lookup"><span data-stu-id="d93fd-182">From the Toolbox, insert a ContentPlaceHolder control in the top cell of the table (the header cell.)</span></span>
3. <span data-ttu-id="d93fd-183">Cuando se inserta este control ContentPlaceHolder, observará que el alto de fila ocupa casi toda la página como se muestra en la figura 4.</span><span class="sxs-lookup"><span data-stu-id="d93fd-183">When you insert this ContentPlaceHolder control, you will notice that the row height will take up almost the entire page as shown in figure 4.</span></span> <span data-ttu-id="d93fd-184">No preocuparse de en este momento.</span><span class="sxs-lookup"><span data-stu-id="d93fd-184">Don't be concerned about that at this point.</span></span>


![Es el espacio vacío en la misma celda, como el control ContentPlaceHolder](master-pages/_static/image1.gif)

<span data-ttu-id="d93fd-186">**Figura 4**: Es el espacio vacío en la misma celda, como el control ContentPlaceHolder</span><span class="sxs-lookup"><span data-stu-id="d93fd-186">**Figure 4**: The empty space is in the same cell as the ContentPlaceHolder</span></span>


1. <span data-ttu-id="d93fd-187">Coloque un control ContentPlaceHolder en las dos celdas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-187">Place a ContentPlaceHolder control in the other two cells.</span></span> <span data-ttu-id="d93fd-188">Una vez que se han insertado los demás controles ContentPlaceHolder, el tamaño de las celdas de tabla debe ser como se esperaría.</span><span class="sxs-lookup"><span data-stu-id="d93fd-188">Once the other ContentPlaceHolder controls have been inserted, the size of the table cells should be as you would expect.</span></span> <span data-ttu-id="d93fd-189">La página debe parecerse a la página que aparece en **figura 5**.</span><span class="sxs-lookup"><span data-stu-id="d93fd-189">The page should now look like the page shown in **figure 5**.</span></span>


![El maestro con todos los controles ContentPlaceHolder.](master-pages/_static/image2.gif)

<span data-ttu-id="d93fd-192">**Figura 5**: El maestro con todos los controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="d93fd-192">**Figure 5**: The Master with all ContentPlaceHolder controls.</span></span> <span data-ttu-id="d93fd-193">Tenga en cuenta que el alto de celda para la celda de encabezado es ahora lo que debe ser</span><span class="sxs-lookup"><span data-stu-id="d93fd-193">Notice that the cell height for the header cell is now what it should be</span></span>


1. <span data-ttu-id="d93fd-194">Escriba algún texto que prefiera en cada uno de los tres controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="d93fd-194">Enter some text of your choice into each of the three ContentPlaceHolder controls.</span></span>
2. <span data-ttu-id="d93fd-195">Guarde la página maestra como exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="d93fd-195">Save the master page as exercise1.master.</span></span>
3. <span data-ttu-id="d93fd-196">Crear un nuevo formulario Web y asociarla a la página maestra exercise1.master.</span><span class="sxs-lookup"><span data-stu-id="d93fd-196">Create a new Web Form and associate it with the exercise1.master master page.</span></span>
4. <span data-ttu-id="d93fd-197">Seleccione el archivo, nuevo, el archivo en Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="d93fd-197">Select File, New, File in Visual Studio 2005.</span></span>
5. <span data-ttu-id="d93fd-198">Seleccione **formulario Web Forms** en el cuadro de diálogo Agregar nuevo elemento.</span><span class="sxs-lookup"><span data-stu-id="d93fd-198">Select **Web Form** in the Add New Item dialog.</span></span>
6. <span data-ttu-id="d93fd-199">Asegúrese de que esté marcada la casilla de verificación Seleccionar la página principal tal como se muestra en la figura 6.</span><span class="sxs-lookup"><span data-stu-id="d93fd-199">Make sure that the Select master page checkbox is checked as shown in figure 6.</span></span>


![Agregar una nueva página de contenido](master-pages/_static/image3.gif)

<span data-ttu-id="d93fd-201">**Figura 6**: Agregar una nueva página de contenido</span><span class="sxs-lookup"><span data-stu-id="d93fd-201">**Figure 6**: Adding a new Content Page</span></span>


1. <span data-ttu-id="d93fd-202">Haga clic en Agregar.</span><span class="sxs-lookup"><span data-stu-id="d93fd-202">Click Add.</span></span>
2. <span data-ttu-id="d93fd-203">Seleccione exercise1.master en seleccionar un cuadro de diálogo página principal como se muestra en la figura 7.</span><span class="sxs-lookup"><span data-stu-id="d93fd-203">Select exercise1.master in the Select a master page dialog as shown in figure 7.</span></span>
3. <span data-ttu-id="d93fd-204">Haga clic en Aceptar para agregar la nueva página de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-204">Click OK to add the new content page.</span></span>

<span data-ttu-id="d93fd-205">Aparece la página de contenido nuevo en Visual Studio con un control de contenido para cada control ContentPlaceHolder en la página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-205">The new content page appears in Visual Studio with one Content control for each ContentPlaceHolder control on the master page.</span></span> <span data-ttu-id="d93fd-206">De forma predeterminada, los controles de contenido están vacíos, por lo que puede agregar su propio contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-206">By default, the Content controls are empty so that you can add your own content.</span></span> <span data-ttu-id="d93fd-207">Si desea que les permite utilizar el contenido desde el control ContentPlaceHolder en la página maestra, simplemente haga clic en el símbolo de etiqueta inteligente (la pequeña flecha negra en la esquina superior derecha del control) y elija *predeterminado el contenido de patrones* en la etiqueta inteligente tal como se muestra en **figura 8**.</span><span class="sxs-lookup"><span data-stu-id="d93fd-207">If you'd like for them to use the content from the ContentPlaceHolder control on the master page, simply click on the smart tag symbol (the small black arrow in the upper-right corner of the control) and choose *Default to Masters Content* from the smart tag as shown in **figure 8**.</span></span> <span data-ttu-id="d93fd-208">Al hacerlo, el elemento de menú cambia a *crear contenido personalizado*.</span><span class="sxs-lookup"><span data-stu-id="d93fd-208">When you do so, the menu item changes to *Create Custom Content*.</span></span> <span data-ttu-id="d93fd-209">Al hacer clic en él en ese momento, se quita el contenido de la página maestra que le permite definir contenido personalizado para ese control de contenido determinado.</span><span class="sxs-lookup"><span data-stu-id="d93fd-209">Clicking it at that point removes the content from the master page allowing you to define custom content for that particular Content control.</span></span>


![Establecer un Control de contenido en el valor predeterminado el contenido de las páginas principal](master-pages/_static/image4.gif)

<span data-ttu-id="d93fd-211">**Figura 7**: Establecer un Control de contenido en el valor predeterminado el contenido de las páginas principal</span><span class="sxs-lookup"><span data-stu-id="d93fd-211">**Figure 7**: Setting a Content Control to Default to the Master Pages Content</span></span>


## <a name="connecting-master-page-and-content-pages"></a><span data-ttu-id="d93fd-212">Conexión de la página maestra y las páginas de contenido</span><span class="sxs-lookup"><span data-stu-id="d93fd-212">Connecting Master Page and Content Pages</span></span>

<span data-ttu-id="d93fd-213">La asociación entre una página maestra y una página de contenido puede configurarse en uno de cuatro formas distintas:</span><span class="sxs-lookup"><span data-stu-id="d93fd-213">The association between a master page and a content page can be configured in one of four different ways:</span></span>

- <span data-ttu-id="d93fd-214">El <strong>MasterPageFile</strong> atributo de la @Page directiva</span><span class="sxs-lookup"><span data-stu-id="d93fd-214">The <strong>MasterPageFile</strong> attribute of the @Page directive</span></span>
- <span data-ttu-id="d93fd-215">Establecer el **Page.MasterPageFile** propiedad en el código.</span><span class="sxs-lookup"><span data-stu-id="d93fd-215">Setting the **Page.MasterPageFile** property in code.</span></span>
- <span data-ttu-id="d93fd-216">El **&lt;páginas&gt;** elemento en el archivo de configuración de aplicaciones (web.config en la carpeta raíz de la aplicación)</span><span class="sxs-lookup"><span data-stu-id="d93fd-216">The **&lt;pages&gt;** element in the applications configuration file (web.config in the root folder of the application)</span></span>
- <span data-ttu-id="d93fd-217">El **&lt;páginas&gt;** elemento en un archivo de configuración (web.config en una subcarpeta) de las subcarpetas</span><span class="sxs-lookup"><span data-stu-id="d93fd-217">The **&lt;pages&gt;** element in a subfolders configuration file (web.config in a subfolder)</span></span>

## <a name="masterpagefile-attribute"></a><span data-ttu-id="d93fd-218">MasterPageFile (atributo)</span><span class="sxs-lookup"><span data-stu-id="d93fd-218">MasterPageFile Attribute</span></span>

<span data-ttu-id="d93fd-219">MasterPageFile (atributo) facilita a una página maestra se aplican a una determinada página ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d93fd-219">The MasterPageFile attribute makes it easy to apply a master page to a particular ASP.NET page.</span></span> <span data-ttu-id="d93fd-220">También es el método utilizado para aplicar la página principal cuando se protege el **seleccionar la página maestra** casilla como se hizo en el ejercicio 1.</span><span class="sxs-lookup"><span data-stu-id="d93fd-220">It is also the method used to apply the master page when you check the **Select Master Page** checkbox as you did in Exercise 1.</span></span>

## <a name="setting-pagemasterpagefile-in-code"></a><span data-ttu-id="d93fd-221">Establecer Page.MasterPageFile en código.</span><span class="sxs-lookup"><span data-stu-id="d93fd-221">Setting Page.MasterPageFile in Code</span></span>

<span data-ttu-id="d93fd-222">Estableciendo la propiedad MasterPageFile en el código, puede aplicar una determinada página maestra a su contenido en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d93fd-222">By setting the MasterPageFile property in code, you can apply a particular master page to your content at runtime.</span></span> <span data-ttu-id="d93fd-223">Esto es útil en casos donde es posible que deba aplicar una página maestra específica en función de un rol de los usuarios u otros criterios.</span><span class="sxs-lookup"><span data-stu-id="d93fd-223">This is useful in cases where you may need to apply a specific master page based upon a users role or some other criteria.</span></span> <span data-ttu-id="d93fd-224">La propiedad MasterPageFile debe establecerse en el método PreInit.</span><span class="sxs-lookup"><span data-stu-id="d93fd-224">The MasterPageFile property must be set in the PreInit method.</span></span> <span data-ttu-id="d93fd-225">Si se establece después del método PreInit, se producirá una excepción InvalidOperationException.</span><span class="sxs-lookup"><span data-stu-id="d93fd-225">If it is set after the PreInit method, an InvalidOperationException will be thrown.</span></span> <span data-ttu-id="d93fd-226">La página en el que se establece esta propiedad también debe tener un contenido como control de nivel superior de la página.</span><span class="sxs-lookup"><span data-stu-id="d93fd-226">The page on which this property is being set must also have a Content control as the top-level control for the page.</span></span> <span data-ttu-id="d93fd-227">En caso contrario, se producirá una HttpException cuando se establece la propiedad MasterPageFile.</span><span class="sxs-lookup"><span data-stu-id="d93fd-227">Otherwise an HttpException will be thrown when the MasterPageFile property is set.</span></span>

## <a name="using-the-ltpagesgt-element"></a><span data-ttu-id="d93fd-228">Mediante el &lt;páginas&gt; elemento</span><span class="sxs-lookup"><span data-stu-id="d93fd-228">Using the &lt;pages&gt; Element</span></span>

<span data-ttu-id="d93fd-229">Puede configurar una página principal para las páginas estableciendo el atributo masterPageFile el &lt;páginas&gt; elemento del archivo web.config.</span><span class="sxs-lookup"><span data-stu-id="d93fd-229">You can configure a master page for your pages by setting the masterPageFile attribute in the &lt;pages&gt; element of the web.config file.</span></span> <span data-ttu-id="d93fd-230">Cuando se usa este método, tenga en cuenta que los archivos web.config inferiores en la estructura de la aplicación pueden invalidar esta configuración.</span><span class="sxs-lookup"><span data-stu-id="d93fd-230">When using this method, keep in mind that web.config files lower in the application structure can override this setting.</span></span> <span data-ttu-id="d93fd-231">Cualquier atributo MasterPageFile establecido un @Page directiva también invalidará esta configuración.</span><span class="sxs-lookup"><span data-stu-id="d93fd-231">Any MasterPageFile attribute set in a @Page directive will also override this setting.</span></span> <span data-ttu-id="d93fd-232">Mediante el &lt;páginas&gt; elemento simplifica el proceso crear un <em>maestro</em> página maestra que se puede invalidar si es necesario en determinadas carpetas o archivos.</span><span class="sxs-lookup"><span data-stu-id="d93fd-232">Using the &lt;pages&gt; element makes it simple to create a <em>master</em> master page that can be overridden if necessary in particular folders or files.</span></span>

## <a name="properties-in-master-pages"></a><span data-ttu-id="d93fd-233">Propiedades en las páginas maestras</span><span class="sxs-lookup"><span data-stu-id="d93fd-233">Properties in Master Pages</span></span>

<span data-ttu-id="d93fd-234">Una página maestra puede exponer propiedades basta con realizar esas propiedades públicas dentro de la página maestra.</span><span class="sxs-lookup"><span data-stu-id="d93fd-234">A master page can expose properties by simply making those properties public within the master page.</span></span> <span data-ttu-id="d93fd-235">Por ejemplo, el código siguiente define una propiedad denominada SomeProperty:</span><span class="sxs-lookup"><span data-stu-id="d93fd-235">For example, the following code defines a property called SomeProperty:</span></span>

[!code-csharp[Main](master-pages/samples/sample2.cs)]

<span data-ttu-id="d93fd-236">Para obtener acceso a la propiedad SomeProperty desde la página de contenido, deberá usar el patrón de propiedad de este modo:</span><span class="sxs-lookup"><span data-stu-id="d93fd-236">To access the SomeProperty property from the Content page, you will need to use the Master property like so:</span></span>

[!code-csharp[Main](master-pages/samples/sample3.cs)]

## <a name="nesting-master-pages"></a><span data-ttu-id="d93fd-237">Páginas maestras de anidamiento</span><span class="sxs-lookup"><span data-stu-id="d93fd-237">Nesting Master Pages</span></span>

<span data-ttu-id="d93fd-238">Las páginas principales son la solución perfecta para garantizar un aspecto común a través de una aplicación Web grande.</span><span class="sxs-lookup"><span data-stu-id="d93fd-238">Master pages are the perfect solution for ensuring a common look and feel across a large Web application.</span></span> <span data-ttu-id="d93fd-239">Sin embargo, no es raro tener determinadas partes de un recurso compartido de sitios grande una interfaz común, mientras que otras partes compartan una interfaz diferente.</span><span class="sxs-lookup"><span data-stu-id="d93fd-239">However, it's not uncommon to have certain parts of a large site share a common interface while other parts share a different interface.</span></span> <span data-ttu-id="d93fd-240">Para abordar esta necesidad, varias páginas principales son la solución perfecta.</span><span class="sxs-lookup"><span data-stu-id="d93fd-240">To address that need, multiple master pages are the perfect solution.</span></span> <span data-ttu-id="d93fd-241">Sin embargo, aún así no trata el hecho de que una aplicación de gran tamaño puede tener ciertos componentes (por ejemplo, un menú, por ejemplo) que se comparten entre todas las páginas y otros componentes que se comparten con solo determinadas secciones del sitio.</span><span class="sxs-lookup"><span data-stu-id="d93fd-241">However, that still doesn't address the fact that a large application may have certain components (such as a menu, for example) that are shared among all pages and other components that are shared only among certain sections of the site.</span></span> <span data-ttu-id="d93fd-242">En ese tipo de situaciones, las páginas maestras anidadas cubre las necesidades perfectamente.</span><span class="sxs-lookup"><span data-stu-id="d93fd-242">For that type of situation, nested master pages fill the need nicely.</span></span> <span data-ttu-id="d93fd-243">Como ha visto una página maestra normal consta de una página maestra y una página de contenido.</span><span class="sxs-lookup"><span data-stu-id="d93fd-243">As you've seen, a normal master page consists of a master page and a content page.</span></span> <span data-ttu-id="d93fd-244">En una situación de la página maestra anidada, hay dos páginas principales; una página maestra principal y un servidor maestro secundario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-244">In a nested master page situation, there are two master pages; a parent master and a child master.</span></span> <span data-ttu-id="d93fd-245">La página maestra secundaria también es una página de contenido y su patrón es la página maestra primaria.</span><span class="sxs-lookup"><span data-stu-id="d93fd-245">The child master page is also a content page and its master is the parent master page.</span></span>

<span data-ttu-id="d93fd-246">Este es el código para una página principal típica:</span><span class="sxs-lookup"><span data-stu-id="d93fd-246">Here is the code for a typical master page:</span></span>

[!code-aspx[Main](master-pages/samples/sample4.aspx)]

<span data-ttu-id="d93fd-247">En un escenario principal anidado, esto sería el maestro de primaria.</span><span class="sxs-lookup"><span data-stu-id="d93fd-247">In a nested master scenario, this would be the parent master.</span></span> <span data-ttu-id="d93fd-248">Otra página maestra usaría esta página como su página principal, y ese código tendría el aspecto siguiente:</span><span class="sxs-lookup"><span data-stu-id="d93fd-248">Another master page would use this page as its master page, and that code would look like this:</span></span>

[!code-aspx[Main](master-pages/samples/sample5.aspx)]

<span data-ttu-id="d93fd-249">Tenga en cuenta que en este escenario, el maestro secundario es también una página de contenido de la página maestra principal.</span><span class="sxs-lookup"><span data-stu-id="d93fd-249">Note that in this scenario, the child master is also a content page for the parent master.</span></span> <span data-ttu-id="d93fd-250">Todo el contenido del patrón de secundarios de aparece dentro de un control de contenido que obtiene su contenido desde el control ContentPlaceHolder del elemento primario.</span><span class="sxs-lookup"><span data-stu-id="d93fd-250">All of the child master's content appears inside of a Content control that gets its content from the parent's ContentPlaceHolder control.</span></span>

> [!NOTE]
> <span data-ttu-id="d93fd-251">Compatibilidad con el diseñador no está disponible para las páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-251">Designer support is not available for nested master pages.</span></span> <span data-ttu-id="d93fd-252">Cuando está desarrollando con patrones anidados, deberá usar la vista del origen.</span><span class="sxs-lookup"><span data-stu-id="d93fd-252">When you are developing using nested masters, you will need to use source view.</span></span>


<span data-ttu-id="d93fd-253">Este vídeo muestra un tutorial sobre cómo usar las páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="d93fd-253">This video shows a walkthrough of using nested master pages.</span></span>


![](master-pages/_static/image1.png)


[<span data-ttu-id="d93fd-254">Abra vídeo de pantalla completa</span><span class="sxs-lookup"><span data-stu-id="d93fd-254">Open Full-Screen Video</span></span>](master-pages/_static/nested1.wmv)


![Seleccionar una página maestra](master-pages/_static/image4.jpg)

<span data-ttu-id="d93fd-256">**Figura 8**: Seleccionar una página maestra</span><span class="sxs-lookup"><span data-stu-id="d93fd-256">**Figure 8**: Selecting a Master Page</span></span>

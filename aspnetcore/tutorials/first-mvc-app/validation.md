---
title: Agregar validación a una aplicación ASP.NET Core MVC
author: rick-anderson
description: Cómo agregar la validación a una aplicación de ASP.NET Core.
ms.author: riande
ms.date: 04/13/2017
uid: tutorials/first-mvc-app/validation
ms.openlocfilehash: 431715e7c584d3ee381cbafb42171a7c01dddb3a
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57063762"
---
# <a name="add-validation-to-an-aspnet-core-mvc-app"></a><span data-ttu-id="85833-103">Agregar validación a una aplicación ASP.NET Core MVC</span><span class="sxs-lookup"><span data-stu-id="85833-103">Add validation to an ASP.NET Core MVC app</span></span>

<span data-ttu-id="85833-104">Por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="85833-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="85833-105">En esta sección:</span><span class="sxs-lookup"><span data-stu-id="85833-105">In this section:</span></span>

* <span data-ttu-id="85833-106">Se agrega lógica de validación al modelo `Movie`.</span><span class="sxs-lookup"><span data-stu-id="85833-106">Validation logic is added to the `Movie` model.</span></span>
* <span data-ttu-id="85833-107">Asegúrese de que las reglas de validación se aplican cada vez que un usuario crea o edita una película.</span><span class="sxs-lookup"><span data-stu-id="85833-107">You ensure that the validation rules are enforced any time a user creates or edits a movie.</span></span>

## <a name="keeping-things-dry"></a><span data-ttu-id="85833-108">Respetar el principio DRY</span><span class="sxs-lookup"><span data-stu-id="85833-108">Keeping things DRY</span></span>

<span data-ttu-id="85833-109">Uno de los principios de diseño de MVC es [DRY](https://wikipedia.org/wiki/Don%27t_repeat_yourself) ("Una vez y solo una").</span><span class="sxs-lookup"><span data-stu-id="85833-109">One of the design tenets of MVC is [DRY](https://wikipedia.org/wiki/Don%27t_repeat_yourself) ("Don't Repeat Yourself").</span></span> <span data-ttu-id="85833-110">ASP.NET Core MVC le anima a que especifique la funcionalidad o el comportamiento una sola vez y a que luego los refleje en el resto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="85833-110">ASP.NET Core MVC encourages you to specify functionality or behavior only once, and then have it be reflected everywhere in an app.</span></span> <span data-ttu-id="85833-111">Esto reduce la cantidad de código que necesita escribir y hace que el código que escribe sea menos propenso a errores, así como más fácil probar y de mantener.</span><span class="sxs-lookup"><span data-stu-id="85833-111">This reduces the amount of code you need to write and makes the code you do write less error prone, easier to test, and easier to maintain.</span></span>

<span data-ttu-id="85833-112">La compatibilidad de validación proporcionada por MVC y Entity Framework Core Code First es un buen ejemplo del principio DRY.</span><span class="sxs-lookup"><span data-stu-id="85833-112">The validation support provided by MVC and Entity Framework Core Code First is a good example of the DRY principle in action.</span></span> <span data-ttu-id="85833-113">Puede especificar las reglas de validación mediante declaración en un lugar (en la clase del modelo) y las reglas se aplican en toda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="85833-113">You can declaratively specify validation rules in one place (in the model class) and the rules are enforced everywhere in the app.</span></span>

## <a name="adding-validation-rules-to-the-movie-model"></a><span data-ttu-id="85833-114">Adición de reglas de validación al modelo de película</span><span class="sxs-lookup"><span data-stu-id="85833-114">Adding validation rules to the movie model</span></span>

<span data-ttu-id="85833-115">Abra el archivo *Movie.cs*.</span><span class="sxs-lookup"><span data-stu-id="85833-115">Open the *Movie.cs* file.</span></span> <span data-ttu-id="85833-116">DataAnnotations proporciona un conjunto integrado de atributos de validación que se aplican mediante declaración a cualquier clase o propiedad.</span><span class="sxs-lookup"><span data-stu-id="85833-116">DataAnnotations provides a built-in set of validation attributes that you apply declaratively to any class or property.</span></span> <span data-ttu-id="85833-117">(También contiene atributos de formato como `DataType`, que ayudan a aplicar formato y no proporcionan validación).</span><span class="sxs-lookup"><span data-stu-id="85833-117">(It also contains formatting attributes like `DataType` that help with formatting and don't provide any validation.)</span></span>

<span data-ttu-id="85833-118">Actualice la clase `Movie` para aprovechar los atributos de validación integrados `Required`, `StringLength`, `RegularExpression` y `Range`.</span><span class="sxs-lookup"><span data-stu-id="85833-118">Update the `Movie` class to take advantage of the built-in `Required`, `StringLength`, `RegularExpression`, and `Range` validation attributes.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc//sample/MvcMovie22/Models/MovieDateRatingDA.cs?name=snippet1)]

<span data-ttu-id="85833-119">Los atributos de validación especifican el comportamiento que quiere aplicar en las propiedades del modelo al que se aplican:</span><span class="sxs-lookup"><span data-stu-id="85833-119">The validation attributes specify behavior that you want to enforce on the model properties they're applied to:</span></span>

* <span data-ttu-id="85833-120">Los atributos `Required` y `MinimumLength` indican que una propiedad debe tener un valor, pero nada evita que un usuario escriba espacios en blanco para satisfacer esta validación.</span><span class="sxs-lookup"><span data-stu-id="85833-120">The `Required` and `MinimumLength` attributes indicates that a property must have a value; but nothing prevents a user from entering white space to satisfy this validation.</span></span> 
* <span data-ttu-id="85833-121">El atributo `RegularExpression` se usa para limitar los caracteres que se pueden escribir.</span><span class="sxs-lookup"><span data-stu-id="85833-121">The `RegularExpression` attribute is used to limit what characters can be input.</span></span> <span data-ttu-id="85833-122">En el código anterior, `Genre` y `Rating` solo pueden usar letras (no se permiten mayúsculas iniciales, espacios en blanco, números ni caracteres especiales).</span><span class="sxs-lookup"><span data-stu-id="85833-122">In the code above, `Genre` and `Rating` must use only letters (First letter uppercase, white space, numbers and special characters are not allowed).</span></span>
* <span data-ttu-id="85833-123">El atributo `Range` restringe un valor a un intervalo determinado.</span><span class="sxs-lookup"><span data-stu-id="85833-123">The `Range` attribute constrains a value to within a specified range.</span></span> 
* <span data-ttu-id="85833-124">El atributo `StringLength` permite establecer la longitud máxima de una propiedad de cadena y, opcionalmente, su longitud mínima.</span><span class="sxs-lookup"><span data-stu-id="85833-124">The `StringLength` attribute lets you set the maximum length of a string property, and optionally its minimum length.</span></span> 
* <span data-ttu-id="85833-125">Los tipos de valor (como `decimal`, `int`, `float`, `DateTime`) son intrínsecamente necesarios y no necesitan el atributo `[Required]`.</span><span class="sxs-lookup"><span data-stu-id="85833-125">Value types (such as `decimal`, `int`, `float`, `DateTime`) are inherently required and don't need the `[Required]` attribute.</span></span>

<span data-ttu-id="85833-126">El que ASP.NET Core aplique automáticamente las reglas de validación ayuda a que su aplicación sea más sólida.</span><span class="sxs-lookup"><span data-stu-id="85833-126">Having validation rules automatically enforced by ASP.NET Core helps make your app more robust.</span></span> <span data-ttu-id="85833-127">También nos permite asegurarnos de que todo se valida y que no nos dejamos ningún dato incorrecto en la base de datos accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="85833-127">It also ensures that you can't forget to validate something and inadvertently let bad data into the database.</span></span>

## <a name="validation-error-ui-in-mvc"></a><span data-ttu-id="85833-128">Interfaz de usuario de error de validación en MVC</span><span class="sxs-lookup"><span data-stu-id="85833-128">Validation Error UI in MVC</span></span>

<span data-ttu-id="85833-129">Ejecute la aplicación y navegue al controlador Movies.</span><span class="sxs-lookup"><span data-stu-id="85833-129">Run the app and navigate to the Movies controller.</span></span>

<span data-ttu-id="85833-130">Pulse el vínculo **Crear nueva** para agregar una nueva película.</span><span class="sxs-lookup"><span data-stu-id="85833-130">Tap the **Create New** link to add a new movie.</span></span> <span data-ttu-id="85833-131">Rellene el formulario con algunos valores no válidos.</span><span class="sxs-lookup"><span data-stu-id="85833-131">Fill out the form with some invalid values.</span></span> <span data-ttu-id="85833-132">En cuanto la validación del lado cliente de jQuery detecta el problema, muestra un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="85833-132">As soon as jQuery client side validation detects the error, it displays an error message.</span></span>

![Formulario de vista de películas con varios errores de validación del lado cliente de jQuery](~/tutorials/first-mvc-app/validation/_static/val.png)

[!INCLUDE[](~/includes/currency.md)]

<span data-ttu-id="85833-134">Observe cómo el formulario presenta automáticamente un mensaje de error de validación adecuado en cada campo que contiene un valor no válido.</span><span class="sxs-lookup"><span data-stu-id="85833-134">Notice how the form has automatically rendered an appropriate validation error message in each field containing an invalid value.</span></span> <span data-ttu-id="85833-135">Los errores se aplican en el lado cliente (con JavaScript y jQuery) y en el lado servidor (cuando un usuario tiene JavaScript deshabilitado).</span><span class="sxs-lookup"><span data-stu-id="85833-135">The errors are enforced both client-side (using JavaScript and jQuery) and server-side (in case a user has JavaScript disabled).</span></span>

<span data-ttu-id="85833-136">Una ventaja importante es que no fue necesario cambiar ni una sola línea de código en la clase `MoviesController` o en la vista *Create.cshtml* para habilitar esta interfaz de usuario de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-136">A significant benefit is that you didn't need to change a single line of code in the `MoviesController` class or in the *Create.cshtml* view in order to enable this validation UI.</span></span> <span data-ttu-id="85833-137">El controlador y las vistas que creó en pasos anteriores de este tutorial seleccionaron automáticamente las reglas de validación que especificó mediante atributos de validación en las propiedades de la clase del modelo `Movie`.</span><span class="sxs-lookup"><span data-stu-id="85833-137">The controller and views you created earlier in this tutorial automatically picked up the validation rules that you specified by using validation attributes on the properties of the `Movie` model class.</span></span> <span data-ttu-id="85833-138">Pruebe la aplicación mediante el método de acción `Edit` y se aplicará la misma validación.</span><span class="sxs-lookup"><span data-stu-id="85833-138">Test validation using the `Edit` action method, and the same validation is applied.</span></span>

<span data-ttu-id="85833-139">Los datos del formulario no se enviarán al servidor hasta que dejen de producirse errores de validación de cliente.</span><span class="sxs-lookup"><span data-stu-id="85833-139">The form data isn't sent to the server until there are no client side validation errors.</span></span> <span data-ttu-id="85833-140">Puede comprobarlo colocando un punto de interrupción en el método `HTTP Post` mediante la [herramienta Fiddler](http://www.telerik.com/fiddler) o las [herramientas de desarrollo F12](https://developer.microsoft.com/microsoft-edge/platform/documentation/f12-devtools-guide/).</span><span class="sxs-lookup"><span data-stu-id="85833-140">You can verify this by putting a break point in the `HTTP Post` method, by using the [Fiddler tool](http://www.telerik.com/fiddler) , or the [F12 Developer tools](https://developer.microsoft.com/microsoft-edge/platform/documentation/f12-devtools-guide/).</span></span>

## <a name="how-validation-works"></a><span data-ttu-id="85833-141">Cómo funciona la validación</span><span class="sxs-lookup"><span data-stu-id="85833-141">How validation works</span></span>

<span data-ttu-id="85833-142">Tal vez se pregunte cómo se generó la validación de la interfaz de usuario sin actualizar el código en el controlador o las vistas.</span><span class="sxs-lookup"><span data-stu-id="85833-142">You might wonder how the validation UI was generated without any updates to the code in the controller or views.</span></span> <span data-ttu-id="85833-143">En el código siguiente se muestran los dos métodos `Create`.</span><span class="sxs-lookup"><span data-stu-id="85833-143">The following code shows the two `Create` methods.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc//sample/MvcMovie/Controllers/MoviesController.cs?name=snippetCreate)]

<span data-ttu-id="85833-144">El primer método de acción `Create` (HTTP GET) muestra el formulario de creación inicial.</span><span class="sxs-lookup"><span data-stu-id="85833-144">The first (HTTP GET) `Create` action method displays the initial Create form.</span></span> <span data-ttu-id="85833-145">La segunda versión (`[HttpPost]`) controla el envío de formulario.</span><span class="sxs-lookup"><span data-stu-id="85833-145">The second (`[HttpPost]`) version handles the form post.</span></span> <span data-ttu-id="85833-146">El segundo método `Create` (la versión `[HttpPost]`) llama a `ModelState.IsValid` para comprobar si la película tiene errores de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-146">The second `Create` method (The `[HttpPost]` version) calls `ModelState.IsValid` to check whether the movie has any validation errors.</span></span> <span data-ttu-id="85833-147">Al llamar a este método se evalúan todos los atributos de validación que se hayan aplicado al objeto.</span><span class="sxs-lookup"><span data-stu-id="85833-147">Calling this method evaluates any validation attributes that have been applied to the object.</span></span> <span data-ttu-id="85833-148">Si el objeto tiene errores de validación, el método `Create` vuelve a mostrar el formulario.</span><span class="sxs-lookup"><span data-stu-id="85833-148">If the object has validation errors, the `Create` method re-displays the form.</span></span> <span data-ttu-id="85833-149">Si no hay ningún error, el método guarda la nueva película en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="85833-149">If there are no errors, the method saves the new movie in the database.</span></span> <span data-ttu-id="85833-150">En nuestro ejemplo de película, el formulario no se publica en el servidor si se detectan errores de validación del lado cliente; cuando hay errores de validación en el lado cliente, no se llama nunca al segundo método `Create`.</span><span class="sxs-lookup"><span data-stu-id="85833-150">In our movie example, the form isn't posted to the server when there are validation errors detected on the client side; the second `Create` method is never called when there are client side validation errors.</span></span> <span data-ttu-id="85833-151">Si deshabilita JavaScript en el explorador, se deshabilita también la validación del cliente y puede probar si el método `Create` HTTP POST `ModelState.IsValid` detecta errores de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-151">If you disable JavaScript in your browser, client validation is disabled and you can test the HTTP POST `Create` method `ModelState.IsValid` detecting any validation errors.</span></span>

<span data-ttu-id="85833-152">Puede establecer un punto de interrupción en el método `[HttpPost] Create` y comprobar si nunca se llama al método. La validación del lado cliente no enviará los datos del formulario si se detectan errores de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-152">You can set a break point in the `[HttpPost] Create` method and verify the method is never called, client side validation won't submit the form data when validation errors are detected.</span></span> <span data-ttu-id="85833-153">Si deshabilita JavaScript en el explorador y después envía el formulario con errores, se alcanzará el punto de interrupción.</span><span class="sxs-lookup"><span data-stu-id="85833-153">If you disable JavaScript in your browser, then submit the form with errors, the break point will be hit.</span></span> <span data-ttu-id="85833-154">Puede seguir obteniendo validación completa sin JavaScript.</span><span class="sxs-lookup"><span data-stu-id="85833-154">You still get full validation without JavaScript.</span></span> 

<span data-ttu-id="85833-155">En la siguiente imagen se muestra cómo deshabilitar JavaScript en el explorador Firefox.</span><span class="sxs-lookup"><span data-stu-id="85833-155">The following image shows how to disable JavaScript in the FireFox browser.</span></span>

![Firefox: en la pestaña Contenido de la sección Opciones, desactive la casilla Habilitar JavaScript.](~/tutorials/first-mvc-app/validation/_static/ff.png)

<span data-ttu-id="85833-157">En la siguiente imagen se muestra cómo deshabilitar JavaScript en el explorador Chrome.</span><span class="sxs-lookup"><span data-stu-id="85833-157">The following image shows how to disable JavaScript in the Chrome browser.</span></span>

![Google Chrome: en la sección JavaScript de Configuración de contenido, seleccione la opción para no permitir a ningún sitio ejecutar JavaScript.](~/tutorials/first-mvc-app/validation/_static/chrome.png)

<span data-ttu-id="85833-159">Después de deshabilitar JavaScript, publique los datos no válidos y siga los pasos del depurador.</span><span class="sxs-lookup"><span data-stu-id="85833-159">After you disable JavaScript, post invalid data and step through the debugger.</span></span>

![Durante la depuración en una publicación de datos no válidos, Intellisense en ModelState.IsValid muestra que el valor es falso.](~/tutorials/first-mvc-app/validation/_static/ms.png)

<span data-ttu-id="85833-161">La parte de la plantilla de visualización *Create.cshtml* se muestra en el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="85833-161">The portion of the *Create.cshtml* view template is shown in the following markup:</span></span>

[!code-HTML[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie22/Views/Movies/CreateRatingBrevity.html)]

<span data-ttu-id="85833-162">Los métodos de acción utilizan el marcado anterior para mostrar el formulario inicial y para volver a mostrarlo en caso de error.</span><span class="sxs-lookup"><span data-stu-id="85833-162">The preceding markup is used by the action methods to display the initial form and to redisplay it in the event of an error.</span></span>

<span data-ttu-id="85833-163">El [asistente de etiquetas de entrada](xref:mvc/views/working-with-forms) usa los atributos [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) y genera los atributos HTML necesarios para la validación de jQuery en el lado cliente.</span><span class="sxs-lookup"><span data-stu-id="85833-163">The [Input Tag Helper](xref:mvc/views/working-with-forms) uses the [DataAnnotations](/aspnet/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-6) attributes and produces HTML attributes needed for jQuery Validation on the client side.</span></span> <span data-ttu-id="85833-164">El [asistente de etiquetas de validación](xref:mvc/views/working-with-forms#the-validation-tag-helpers) muestra errores de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-164">The [Validation Tag Helper](xref:mvc/views/working-with-forms#the-validation-tag-helpers) displays validation errors.</span></span> <span data-ttu-id="85833-165">Para más información, vea [Introduction to model validation in ASP.NET Core MVC](xref:mvc/models/validation) (Introducción a la validación de modelos en ASP.NET Core MVC).</span><span class="sxs-lookup"><span data-stu-id="85833-165">See [Validation](xref:mvc/models/validation) for more information.</span></span>

<span data-ttu-id="85833-166">Lo realmente bueno de este enfoque es que ni el controlador ni la plantilla de vista `Create` saben que las reglas de validación actuales se están aplicando ni conocen los mensajes de error específicos que se muestran.</span><span class="sxs-lookup"><span data-stu-id="85833-166">What's really nice about this approach is that neither the controller nor the `Create` view template knows anything about the actual validation rules being enforced or about the specific error messages displayed.</span></span> <span data-ttu-id="85833-167">Las reglas de validación y las cadenas de error solo se especifican en la clase `Movie`.</span><span class="sxs-lookup"><span data-stu-id="85833-167">The validation rules and the error strings are specified only in the `Movie` class.</span></span> <span data-ttu-id="85833-168">Estas mismas reglas de validación se aplican automáticamente a la vista `Edit` y a cualquier otra vista de plantillas creada que edite el modelo.</span><span class="sxs-lookup"><span data-stu-id="85833-168">These same validation rules are automatically applied to the `Edit` view and any other views templates you might create that edit your model.</span></span>

<span data-ttu-id="85833-169">Cuando necesite cambiar la lógica de validación, puede hacerlo exactamente en un solo lugar mediante la adición de atributos de validación al modelo (en este ejemplo, la clase `Movie`).</span><span class="sxs-lookup"><span data-stu-id="85833-169">When you need to change validation logic, you can do so in exactly one place by adding validation attributes to the model (in this example, the `Movie` class).</span></span> <span data-ttu-id="85833-170">No tendrá que preocuparse de que diferentes partes de la aplicación sean incoherentes con el modo en que se aplican las reglas: toda la lógica de validación se definirá en un solo lugar y se usará en todas partes.</span><span class="sxs-lookup"><span data-stu-id="85833-170">You won't have to worry about different parts of the application being inconsistent with how the rules are enforced — all validation logic will be defined in one place and used everywhere.</span></span> <span data-ttu-id="85833-171">Esto mantiene el código muy limpio y hace que sea fácil de mantener y evolucionar.</span><span class="sxs-lookup"><span data-stu-id="85833-171">This keeps the code very clean, and makes it easy to maintain and evolve.</span></span> <span data-ttu-id="85833-172">También significa que respeta totalmente el principio DRY.</span><span class="sxs-lookup"><span data-stu-id="85833-172">And it means that you'll be fully honoring the DRY principle.</span></span>

## <a name="using-datatype-attributes"></a><span data-ttu-id="85833-173">Uso de atributos DataType</span><span class="sxs-lookup"><span data-stu-id="85833-173">Using DataType Attributes</span></span>

<span data-ttu-id="85833-174">Abra el archivo *Movie.cs* y examine la clase `Movie`.</span><span class="sxs-lookup"><span data-stu-id="85833-174">Open the *Movie.cs* file and examine the `Movie` class.</span></span> <span data-ttu-id="85833-175">El espacio de nombres `System.ComponentModel.DataAnnotations` proporciona atributos de formato además del conjunto integrado de atributos de validación.</span><span class="sxs-lookup"><span data-stu-id="85833-175">The `System.ComponentModel.DataAnnotations` namespace provides formatting attributes in addition to the built-in set of validation attributes.</span></span> <span data-ttu-id="85833-176">Ya hemos aplicado un valor de enumeración `DataType` en la fecha de lanzamiento y los campos de precio.</span><span class="sxs-lookup"><span data-stu-id="85833-176">We've already applied a `DataType` enumeration value to the release date and to the price fields.</span></span> <span data-ttu-id="85833-177">En el código siguiente se muestran las propiedades `ReleaseDate` y `Price` con el atributo `DataType` adecuado.</span><span class="sxs-lookup"><span data-stu-id="85833-177">The following code shows the `ReleaseDate` and `Price` properties with the appropriate `DataType` attribute.</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc//sample/MvcMovie/Models/MovieDateRatingDA.cs?highlight=2,6&name=snippet2)]

<span data-ttu-id="85833-178">Los atributos `DataType` solo proporcionan sugerencias para que el motor de vista aplique formato a los datos (y ofrece atributos o elementos como `<a>` para las direcciones URL y `<a href="mailto:EmailAddress.com">` para el correo electrónico).</span><span class="sxs-lookup"><span data-stu-id="85833-178">The `DataType` attributes only provide hints for the view engine to format the data (and supplies elements/attributes such as `<a>` for URL's and `<a href="mailto:EmailAddress.com">` for email.</span></span> <span data-ttu-id="85833-179">Use el atributo `RegularExpression` para validar el formato de los datos.</span><span class="sxs-lookup"><span data-stu-id="85833-179">You can use the `RegularExpression` attribute to validate the format of the data.</span></span> <span data-ttu-id="85833-180">El atributo `DataType` no es un atributo de validación, sino que se usa para especificar un tipo de datos más específico que el tipo intrínseco de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="85833-180">The `DataType` attribute is used to specify a data type that's more specific than the database intrinsic type, they're not validation attributes.</span></span> <span data-ttu-id="85833-181">En este caso solo queremos realizar un seguimiento de la fecha, no la hora.</span><span class="sxs-lookup"><span data-stu-id="85833-181">In this case we only want to keep track of the date, not the time.</span></span> <span data-ttu-id="85833-182">La enumeración `DataType` proporciona muchos tipos de datos, como Date (Fecha), Time (Hora), PhoneNumber (Número de teléfono), Currency (Moneda), EmailAddress (Dirección de correo electrónico), etc.</span><span class="sxs-lookup"><span data-stu-id="85833-182">The `DataType` Enumeration provides for many data types, such as Date, Time, PhoneNumber, Currency, EmailAddress and more.</span></span> <span data-ttu-id="85833-183">El atributo `DataType` también puede permitir que la aplicación proporcione automáticamente características específicas del tipo.</span><span class="sxs-lookup"><span data-stu-id="85833-183">The `DataType` attribute can also enable the application to automatically provide type-specific features.</span></span> <span data-ttu-id="85833-184">Por ejemplo, se puede crear un vínculo `mailto:` para `DataType.EmailAddress` y se puede proporcionar un selector de datos para `DataType.Date` en exploradores compatibles con HTML5.</span><span class="sxs-lookup"><span data-stu-id="85833-184">For example, a `mailto:` link can be created for `DataType.EmailAddress`, and a date selector can be provided for `DataType.Date` in browsers that support HTML5.</span></span> <span data-ttu-id="85833-185">Los atributos `DataType` emiten atributos HTML 5 `data-` (se pronuncia con el guion) que los exploradores HTML 5 pueden comprender.</span><span class="sxs-lookup"><span data-stu-id="85833-185">The `DataType` attributes emit HTML 5 `data-` (pronounced data dash) attributes that HTML 5 browsers can understand.</span></span> <span data-ttu-id="85833-186">Los atributos `DataType` **no** proporcionan ninguna validación.</span><span class="sxs-lookup"><span data-stu-id="85833-186">The `DataType` attributes do **not** provide any validation.</span></span>

<span data-ttu-id="85833-187">`DataType.Date` no especifica el formato de la fecha que se muestra.</span><span class="sxs-lookup"><span data-stu-id="85833-187">`DataType.Date` doesn't specify the format of the date that's displayed.</span></span> <span data-ttu-id="85833-188">De manera predeterminada, el campo de datos se muestra según los formatos predeterminados basados en el elemento `CultureInfo` del servidor.</span><span class="sxs-lookup"><span data-stu-id="85833-188">By default, the data field is displayed according to the default formats based on the server's `CultureInfo`.</span></span>

<span data-ttu-id="85833-189">El atributo `DisplayFormat` se usa para especificar el formato de fecha de forma explícita:</span><span class="sxs-lookup"><span data-stu-id="85833-189">The `DisplayFormat` attribute is used to explicitly specify the date format:</span></span>

```csharp
[DisplayFormat(DataFormatString = "{0:yyyy-MM-dd}", ApplyFormatInEditMode = true)]
public DateTime ReleaseDate { get; set; }
```

<span data-ttu-id="85833-190">El valor `ApplyFormatInEditMode` especifica que el formato se debe aplicar también cuando el valor se muestra en un cuadro de texto para su edición.</span><span class="sxs-lookup"><span data-stu-id="85833-190">The `ApplyFormatInEditMode` setting specifies that the formatting should also be applied when the value is displayed in a text box for editing.</span></span> <span data-ttu-id="85833-191">En algunos campos este comportamiento puede no ser conveniente. Por poner un ejemplo, es probable que con valores de moneda no se quiera que el símbolo de la divisa se incluya en el cuadro de texto editable.</span><span class="sxs-lookup"><span data-stu-id="85833-191">(You might not want that for some fields — for example, for currency values, you probably don't want the currency symbol in the text box for editing.)</span></span>

<span data-ttu-id="85833-192">El atributo `DisplayFormat` puede usarse por sí solo, pero normalmente se recomienda usar el atributo `DataType`.</span><span class="sxs-lookup"><span data-stu-id="85833-192">You can use the `DisplayFormat` attribute by itself, but it's generally a good idea to use the `DataType` attribute.</span></span> <span data-ttu-id="85833-193">El atributo `DataType` transmite la semántica de los datos en contraposición a cómo se representa en una pantalla y ofrece las siguientes ventajas que no proporciona DisplayFormat:</span><span class="sxs-lookup"><span data-stu-id="85833-193">The `DataType` attribute conveys the semantics of the data as opposed to how to render it on a screen, and provides the following benefits that you don't get with DisplayFormat:</span></span>

* <span data-ttu-id="85833-194">El explorador puede habilitar características de HTML5 (por ejemplo, mostrar un control de calendario, el símbolo de moneda adecuado según la configuración regional, vínculos de correo electrónico, etc.).</span><span class="sxs-lookup"><span data-stu-id="85833-194">The browser can enable HTML5 features (for example to show a calendar control, the locale-appropriate currency symbol, email links, etc.)</span></span>

* <span data-ttu-id="85833-195">De manera predeterminada, el explorador representa los datos con el formato correcto según la configuración regional.</span><span class="sxs-lookup"><span data-stu-id="85833-195">By default, the browser will render data using the correct format based on your locale.</span></span>

* <span data-ttu-id="85833-196">El atributo `DataType` puede habilitar MVC para que elija la plantilla de campo adecuada para representar los datos (`DisplayFormat`, si se usa por sí solo, usa la plantilla de cadena).</span><span class="sxs-lookup"><span data-stu-id="85833-196">The `DataType` attribute can enable MVC to choose the right field template to render the data (the `DisplayFormat` if used by itself uses the string template).</span></span>

> [!NOTE]
> <span data-ttu-id="85833-197">La validación de jQuery no funciona con el atributo `Range` ni `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="85833-197">jQuery validation doesn't work with the `Range` attribute and `DateTime`.</span></span> <span data-ttu-id="85833-198">Por ejemplo, el código siguiente siempre muestra un error de validación del lado cliente, incluso cuando la fecha está en el intervalo especificado:</span><span class="sxs-lookup"><span data-stu-id="85833-198">For example, the following code will always display a client side validation error, even when the date is in the specified range:</span></span>
>
> `[Range(typeof(DateTime), "1/1/1966", "1/1/2020")]`

<span data-ttu-id="85833-199">Debe deshabilitar la validación de fechas de jQuery para usar el atributo `Range` con `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="85833-199">You will need to disable jQuery date validation to use the `Range` attribute with `DateTime`.</span></span> <span data-ttu-id="85833-200">Por lo general no se recomienda compilar fechas fijas en los modelos, así que desaconseja usar el atributo `Range` y `DateTime`.</span><span class="sxs-lookup"><span data-stu-id="85833-200">It's generally not a good practice to compile hard dates in your models, so using the `Range` attribute and `DateTime` is discouraged.</span></span>

<span data-ttu-id="85833-201">El código siguiente muestra la combinación de atributos en una línea:</span><span class="sxs-lookup"><span data-stu-id="85833-201">The following code shows combining attributes on one line:</span></span>

[!code-csharp[](~/tutorials/first-mvc-app/start-mvc/sample/MvcMovie22/Models/MovieDateRatingDAmult.cs?name=snippet1)]

<span data-ttu-id="85833-202">En la siguiente parte de la serie de tutoriales, revisaremos la aplicación y realizaremos algunas mejoras a los métodos `Details` y `Delete` generados automáticamente.</span><span class="sxs-lookup"><span data-stu-id="85833-202">In the next part of the series, we review the app and make some improvements to the automatically generated `Details` and `Delete` methods.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="85833-203">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="85833-203">Additional resources</span></span>

* [<span data-ttu-id="85833-204">Trabajar con formularios</span><span class="sxs-lookup"><span data-stu-id="85833-204">Working with Forms</span></span>](xref:mvc/views/working-with-forms)
* [<span data-ttu-id="85833-205">Globalización y localización</span><span class="sxs-lookup"><span data-stu-id="85833-205">Globalization and localization</span></span>](xref:fundamentals/localization)
* [<span data-ttu-id="85833-206">Introducción a los asistentes de etiquetas</span><span class="sxs-lookup"><span data-stu-id="85833-206">Introduction to Tag Helpers</span></span>](xref:mvc/views/tag-helpers/intro)
* [<span data-ttu-id="85833-207">Creación de asistentes de etiquetas</span><span class="sxs-lookup"><span data-stu-id="85833-207">Author Tag Helpers</span></span>](xref:mvc/views/tag-helpers/authoring)

> [!div class="step-by-step"]
> <span data-ttu-id="85833-208">[Anterior](new-field.md)
> [Siguiente](details.md)</span><span class="sxs-lookup"><span data-stu-id="85833-208">[Previous](new-field.md)
[Next](details.md)</span></span>  

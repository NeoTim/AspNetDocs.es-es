---
title: Los modelos de hospedaje de componentes de Razor
author: guardrex
description: Comprender Blazor del lado cliente y servidor ASP.NET Core Razor componentes, modelos de hospedaje.
monikerRange: '>= aspnetcore-3.0'
ms.author: riande
ms.custom: mvc
ms.date: 01/29/2019
uid: razor-components/hosting-models
ms.openlocfilehash: d1e0c472d7d10eeb4cef0da735cf703c98dd1645
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57042442"
---
# <a name="razor-components-hosting-models"></a><span data-ttu-id="4cbbd-103">Los modelos de hospedaje de componentes de Razor</span><span class="sxs-lookup"><span data-stu-id="4cbbd-103">Razor Components hosting models</span></span>

<span data-ttu-id="4cbbd-104">Por [Daniel Roth](https://github.com/danroth27)</span><span class="sxs-lookup"><span data-stu-id="4cbbd-104">By [Daniel Roth](https://github.com/danroth27)</span></span>

<span data-ttu-id="4cbbd-105">Componentes de Razor es un marco web diseñado para ejecutarse del lado cliente en el explorador en un entorno de ejecución .NET basado en WebAssembly (*Blazor*) o de servidor en ASP.NET Core (*componentes de ASP.NET Core Razor*).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-105">Razor Components is a web framework designed to run client-side in the browser on a WebAssembly-based .NET runtime (*Blazor*) or server-side in ASP.NET Core (*ASP.NET Core Razor Components*).</span></span> <span data-ttu-id="4cbbd-106">Independientemente de los modelos de hospedaje de modelo, la aplicación y el componente *siguen siendo los mismos*.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-106">Regardless of the hosting model, the app and component models *remain the same*.</span></span> <span data-ttu-id="4cbbd-107">Este artículo describen los modelos de hospedaje disponibles.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-107">This article discusses the available hosting models.</span></span>

## <a name="client-side-hosting-model"></a><span data-ttu-id="4cbbd-108">Modelo de hospedaje del lado cliente</span><span class="sxs-lookup"><span data-stu-id="4cbbd-108">Client-side hosting model</span></span>

[!INCLUDE[](~/includes/razor-components-preview-notice.md)]

<span data-ttu-id="4cbbd-109">El modelo de hospedaje principal para Blazor es la ejecución del cliente en el explorador.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-109">The principal hosting model for Blazor is running client-side in the browser.</span></span> <span data-ttu-id="4cbbd-110">En este modelo, la aplicación Blazor, sus dependencias y el tiempo de ejecución de .NET se descargan en el explorador.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-110">In this model, the Blazor app, its dependencies, and the .NET runtime are downloaded to the browser.</span></span> <span data-ttu-id="4cbbd-111">La aplicación se ejecuta directamente en el subproceso de interfaz de usuario del explorador.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-111">The app is executed directly on the browser UI thread.</span></span> <span data-ttu-id="4cbbd-112">Todas las actualizaciones de la interfaz de usuario y control de eventos se produce dentro del mismo proceso.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-112">All UI updates and event handling happens within the same process.</span></span> <span data-ttu-id="4cbbd-113">Los recursos de la aplicación pueden implementarse como archivos estáticos con cualquier servidor web es preferible (consulte [Host e implementar](xref:host-and-deploy/razor-components/index)).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-113">The app assets can be deployed as static files using whatever web server is preferred (see [Host and deploy](xref:host-and-deploy/razor-components/index)).</span></span>

![Blazor de cliente: La aplicación Blazor se ejecuta en un subproceso de interfaz de usuario dentro del explorador.](hosting-models/_static/client-side.png)

<span data-ttu-id="4cbbd-115">Para crear una aplicación de Blazor con el modelo de hospedaje del lado cliente, use el **Blazor** o **Blazor (ASP.NET Core se hospedan)** plantillas de proyecto (`blazor` o `blazorhosted` plantilla cuando se usa el [dotnet nuevo](/dotnet/core/tools/dotnet-new) comando en un símbolo del sistema).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-115">To create a Blazor app using the client-side hosting model, use the **Blazor** or **Blazor (ASP.NET Core Hosted)** project templates (`blazor` or `blazorhosted` template when using the [dotnet new](/dotnet/core/tools/dotnet-new) command at a command prompt).</span></span> <span data-ttu-id="4cbbd-116">El incluye *blazor.webassembly.js* identificadores de secuencias de comandos:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-116">The included *blazor.webassembly.js* script handles:</span></span>

* <span data-ttu-id="4cbbd-117">Descargando el tiempo de ejecución. NET, la aplicación y sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-117">Downloading the .NET runtime, the app, and its dependencies.</span></span>
* <span data-ttu-id="4cbbd-118">Inicialización del tiempo de ejecución para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-118">Initialization of the runtime to run the app.</span></span>

<span data-ttu-id="4cbbd-119">El modelo de hospedaje del lado cliente ofrece varias ventajas.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-119">The client-side hosting model offers several benefits.</span></span> <span data-ttu-id="4cbbd-120">Blazor del lado cliente:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-120">Client-side Blazor:</span></span>

* <span data-ttu-id="4cbbd-121">No tiene ninguna dependencia de .NET del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-121">Has no .NET server-side dependency.</span></span>
* <span data-ttu-id="4cbbd-122">Tiene una interfaz de usuario interactiva enriquecido.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-122">Has a rich interactive UI.</span></span>
* <span data-ttu-id="4cbbd-123">Aprovecha completamente las capacidades y los recursos del cliente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-123">Fully leverages client resources and capabilities.</span></span>
* <span data-ttu-id="4cbbd-124">Las descargas de trabajan desde el servidor al cliente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-124">Offloads work from the server to the client.</span></span>
* <span data-ttu-id="4cbbd-125">Es compatible con escenarios sin conexión.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-125">Supports offline scenarios.</span></span>

<span data-ttu-id="4cbbd-126">Existen desventajas al hospedaje del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-126">There are downsides to client-side hosting.</span></span> <span data-ttu-id="4cbbd-127">Blazor del lado cliente:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-127">Client-side Blazor:</span></span>

* <span data-ttu-id="4cbbd-128">Restringe la aplicación a las capacidades del explorador.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-128">Restricts the app to the capabilities of the browser.</span></span>
* <span data-ttu-id="4cbbd-129">Requiere hardware de cliente compatible con y software (por ejemplo, WebAssembly soporte).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-129">Requires capable client hardware and software (for example, WebAssembly support).</span></span>
* <span data-ttu-id="4cbbd-130">Tiene un tamaño de descarga y aplicación mayor tiempo de carga.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-130">Has a larger download size and longer app load time.</span></span>
* <span data-ttu-id="4cbbd-131">Tiene menos madurando en tiempo de ejecución de .NET y las herramientas de soporte técnico (por ejemplo, las limitaciones de compatibilidad con .NET Standard y depuración).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-131">Has less mature .NET runtime and tooling support (for example, limitations in .NET Standard support and debugging).</span></span>

<span data-ttu-id="4cbbd-132">Visual Studio incluye la **Blazor (ASP.NET Core hospedada)** plantilla de proyecto para crear una aplicación Blazor que se ejecuta en WebAssembly y se hospeda en un servidor de ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-132">Visual Studio includes the **Blazor (ASP.NET Core hosted)** project template for creating a Blazor app that runs on WebAssembly and is hosted on an ASP.NET Core server.</span></span> <span data-ttu-id="4cbbd-133">La aplicación de ASP.NET Core sirve la aplicación Blazor a los clientes, pero en caso contrario, es un proceso independiente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-133">The ASP.NET Core app serves the Blazor app to clients but is otherwise a separate process.</span></span> <span data-ttu-id="4cbbd-134">La aplicación de Blazor del lado cliente puede interactuar con el servidor a través de la red mediante llamadas a API Web o conexiones SignalR.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-134">The client-side Blazor app can interact with the server over the network using Web API calls or SignalR connections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="4cbbd-135">Si una aplicación de cliente Blazor atendida por una aplicación de ASP.NET Core hospedada como una aplicación secundaria IIS, deshabilite al controlador heredado del módulo ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-135">If a client-side Blazor app is served by an ASP.NET Core app hosted as an IIS sub-app, disable the inherited ASP.NET Core Module handler.</span></span> <span data-ttu-id="4cbbd-136">Establecer la ruta de acceso de base de aplicación en la aplicación Blazor *index.html* archivo para el alias IIS utilizado al configurar la aplicación secundaria en IIS.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-136">Set the app base path in the Blazor app's *index.html* file to the IIS alias used when configuring the sub-app in IIS.</span></span>
>
> <span data-ttu-id="4cbbd-137">Para obtener más información, consulte [ruta de acceso de base de aplicación](xref:host-and-deploy/razor-components/index#app-base-path).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-137">For more information, see [App base path](xref:host-and-deploy/razor-components/index#app-base-path).</span></span>

## <a name="server-side-hosting-model"></a><span data-ttu-id="4cbbd-138">Modelo de hospedaje del lado servidor</span><span class="sxs-lookup"><span data-stu-id="4cbbd-138">Server-side hosting model</span></span>

<span data-ttu-id="4cbbd-139">En el modelo de hospedaje de servidor de componentes de Razor de ASP.NET Core, la aplicación se ejecuta en el servidor desde dentro de una aplicación ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-139">In the ASP.NET Core Razor Components server-side hosting model, the app is executed on the server from within an ASP.NET Core app.</span></span> <span data-ttu-id="4cbbd-140">Las actualizaciones de la interfaz de usuario, el control de eventos y las llamadas de JavaScript se controlan mediante una conexión de SignalR.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-140">UI updates, event handling, and JavaScript calls are handled over a SignalR connection.</span></span>

![ASP.NET Core Razor componentes del lado servidor: El explorador se interactúa con la aplicación (hospedada dentro de una aplicación ASP.NET Core) en el servidor a través de una conexión de SignalR.](hosting-models/_static/server-side.png)

<span data-ttu-id="4cbbd-142">Para crear una aplicación de los componentes de Razor con el modelo de hospedaje de servidor, utilice el **Blazor (lado del servidor en ASP.NET Core)** plantilla (`blazorserver` al usar [dotnet nuevo](/dotnet/core/tools/dotnet-new) en un símbolo del sistema).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-142">To create a Razor Components app using the server-side hosting model, use the **Blazor (Server-side in ASP.NET Core)** template (`blazorserver` when using [dotnet new](/dotnet/core/tools/dotnet-new) at a command prompt).</span></span> <span data-ttu-id="4cbbd-143">Una aplicación ASP.NET Core hospeda la aplicación de servidor de componentes de Razor y establece el punto de conexión de SignalR que se conectan los clientes.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-143">An ASP.NET Core app hosts the Razor Components server-side app and sets up the SignalR endpoint where clients connect.</span></span> <span data-ttu-id="4cbbd-144">La aplicación hace referencia a la aplicación de ASP.NET Core `Startup` clase para agregar:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-144">The ASP.NET Core app references the app's `Startup` class to add:</span></span>

* <span data-ttu-id="4cbbd-145">Servicios de componentes de Razor del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-145">Server-side Razor Components services.</span></span>
* <span data-ttu-id="4cbbd-146">La aplicación a la solicitud de canalización de control.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-146">The app to the request handling pipeline.</span></span>

[!code-csharp[](hosting-models/samples_snapshot/Startup.cs?highlight=5,27)]

<span data-ttu-id="4cbbd-147">El *blazor.server.js* script&dagger; establece la conexión de cliente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-147">The *blazor.server.js* script&dagger; establishes the client connection.</span></span> <span data-ttu-id="4cbbd-148">Es responsabilidad de la aplicación para conservar y restaurar el estado de la aplicación según sea necesario (por ejemplo, en el caso de una conexión de red perdidas).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-148">It's the app's responsibility to persist and restore app state as required (for example, in the event of a lost network connection).</span></span>

<span data-ttu-id="4cbbd-149">El modelo de hospedaje de servidor ofrece varias ventajas:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-149">The server-side hosting model offers several benefits:</span></span>

* <span data-ttu-id="4cbbd-150">Le permite escribir toda la aplicación con .NET y C# mediante el modelo de componentes.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-150">Allows you to write your entire app with .NET and C# using the component model.</span></span>
* <span data-ttu-id="4cbbd-151">Proporciona una idea interactiva enriquecida y evita actualizaciones innecesarias de página.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-151">Provides a rich interactive feel and avoids unnecessary page refreshes.</span></span>
* <span data-ttu-id="4cbbd-152">Tiene un tamaño de la aplicación significativamente menor que una aplicación de cliente Blazor y carga con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-152">Has a significantly smaller app size than a client-side Blazor app and loads much faster.</span></span>
* <span data-ttu-id="4cbbd-153">Lógica del componente puede aprovechar al máximo las capacidades de servidor, incluido el uso de las API compatibles de .NET Core.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-153">Component logic can take full advantage of server capabilities, including using any .NET Core compatible APIs.</span></span>
* <span data-ttu-id="4cbbd-154">Se ejecuta en .NET Core en el servidor, por lo que las herramientas, como la depuración, de .NET existente funciona según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-154">Runs on .NET Core on the server, so existing .NET tooling, such as debugging, works as expected.</span></span>
* <span data-ttu-id="4cbbd-155">Funciona con clientes ligeros (por ejemplo, los exploradores que no son compatibles con WebAssembly y recursos restringir dispositivos).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-155">Works with thin clients (for example, browsers that don't support WebAssembly and resource constrained devices).</span></span>

<span data-ttu-id="4cbbd-156">Existen desventajas al hospedaje de servidor:</span><span class="sxs-lookup"><span data-stu-id="4cbbd-156">There are downsides to server-side hosting:</span></span>

* <span data-ttu-id="4cbbd-157">Tiene una latencia mayor: Cada interacción del usuario implica un salto de red.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-157">Has higher latency: Every user interaction involves a network hop.</span></span>
* <span data-ttu-id="4cbbd-158">No ofrece ninguna compatibilidad sin conexión: Si se produce un error en la conexión de cliente, la aplicación deja de funcionar.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-158">Offers no offline support: If the client connection fails, the app stops working.</span></span>
* <span data-ttu-id="4cbbd-159">Ha reducido la escalabilidad: El servidor debe administrar varias conexiones de cliente y administrar el estado de cliente.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-159">Has reduced scalability: The server must manage multiple client connections and handle client state.</span></span>
* <span data-ttu-id="4cbbd-160">Requiere un servidor de ASP.NET Core para atender la aplicación.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-160">Requires an ASP.NET Core server to serve the app.</span></span> <span data-ttu-id="4cbbd-161">No es posible la implementación sin un servidor (por ejemplo, desde una red CDN).</span><span class="sxs-lookup"><span data-stu-id="4cbbd-161">Deployment without a server (for example, from a CDN) isn't possible.</span></span>

<span data-ttu-id="4cbbd-162">&dagger;El *blazor.server.js* script se publica en la siguiente ruta: *bin / {depurar | La versión} / {.NET FRAMEWORK de destino} /publish/ {nombre de la aplicación}. Dist/aplicación/platafor_ma*.</span><span class="sxs-lookup"><span data-stu-id="4cbbd-162">&dagger;The *blazor.server.js* script is published to the following path: *bin/{Debug|Release}/{TARGET FRAMEWORK}/publish/{APPLICATION NAME}.App/dist/_framework*.</span></span>

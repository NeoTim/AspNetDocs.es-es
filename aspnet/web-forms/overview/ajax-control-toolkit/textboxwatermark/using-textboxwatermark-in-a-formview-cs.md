---
uid: web-forms/overview/ajax-control-toolkit/textboxwatermark/using-textboxwatermark-in-a-formview-cs
title: Usar TextBoxWatermark en FormView (C#) | Microsoft Docs
author: wenz
description: El control TextBoxWatermark en el kit de herramientas de control de AJAX extiende un cuadro de texto para que se muestre un texto en el cuadro. Cuando un usuario hace clic en el cuadro,...
ms.author: riande
ms.date: 06/02/2008
ms.assetid: e6ee90bf-32a5-4987-a384-15cc7dd30c8a
msc.legacyurl: /web-forms/overview/ajax-control-toolkit/textboxwatermark/using-textboxwatermark-in-a-formview-cs
msc.type: authoredcontent
ms.openlocfilehash: 13ac0da5ca53756aa7c660cdc47c96f0c865b006
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2019
ms.locfileid: "74611308"
---
# <a name="using-textboxwatermark-in-a-formview-c"></a><span data-ttu-id="43cb4-104">Usar TextBoxWatermark en un FormView (C#)</span><span class="sxs-lookup"><span data-stu-id="43cb4-104">Using TextBoxWatermark in a FormView (C#)</span></span>

<span data-ttu-id="43cb4-105">por [Christian Wenz](https://github.com/wenz)</span><span class="sxs-lookup"><span data-stu-id="43cb4-105">by [Christian Wenz](https://github.com/wenz)</span></span>

<span data-ttu-id="43cb4-106">[Descargar código](https://download.microsoft.com/download/9/3/f/93f8daea-bebd-4821-833b-95205389c7d0/TextBoxWatermark1.cs.zip) o [Descargar PDF](https://download.microsoft.com/download/b/6/a/b6ae89ee-df69-4c87-9bfb-ad1eb2b23373/textboxwatermark1CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="43cb4-106">[Download Code](https://download.microsoft.com/download/9/3/f/93f8daea-bebd-4821-833b-95205389c7d0/TextBoxWatermark1.cs.zip) or [Download PDF](https://download.microsoft.com/download/b/6/a/b6ae89ee-df69-4c87-9bfb-ad1eb2b23373/textboxwatermark1CS.pdf)</span></span>

> <span data-ttu-id="43cb4-107">El control TextBoxWatermark en el kit de herramientas de control de AJAX extiende un cuadro de texto para que se muestre un texto en el cuadro.</span><span class="sxs-lookup"><span data-stu-id="43cb4-107">The TextBoxWatermark control in the AJAX Control Toolkit extends a text box so that a text is displayed within the box.</span></span> <span data-ttu-id="43cb4-108">Cuando un usuario hace clic en el cuadro, se vacía.</span><span class="sxs-lookup"><span data-stu-id="43cb4-108">When a user clicks into the box, it is emptied.</span></span> <span data-ttu-id="43cb4-109">Si el usuario deja el cuadro sin escribir texto, vuelve a aparecer el texto rellenado.</span><span class="sxs-lookup"><span data-stu-id="43cb4-109">If the user leaves the box without entering text, the prefilled text reappears.</span></span> <span data-ttu-id="43cb4-110">Esto también es posible dentro de un control FormView.</span><span class="sxs-lookup"><span data-stu-id="43cb4-110">This is also possible within a FormView control.</span></span>

## <a name="overview"></a><span data-ttu-id="43cb4-111">Información general del</span><span class="sxs-lookup"><span data-stu-id="43cb4-111">Overview</span></span>

<span data-ttu-id="43cb4-112">El control `TextBoxWatermark` en el kit de herramientas de control de AJAX extiende un cuadro de texto para que se muestre un texto en el cuadro.</span><span class="sxs-lookup"><span data-stu-id="43cb4-112">The `TextBoxWatermark` control in the AJAX Control Toolkit extends a text box so that a text is displayed within the box.</span></span> <span data-ttu-id="43cb4-113">Cuando un usuario hace clic en el cuadro, se vacía.</span><span class="sxs-lookup"><span data-stu-id="43cb4-113">When a user clicks into the box, it is emptied.</span></span> <span data-ttu-id="43cb4-114">Si el usuario deja el cuadro sin escribir texto, vuelve a aparecer el texto rellenado.</span><span class="sxs-lookup"><span data-stu-id="43cb4-114">If the user leaves the box without entering text, the prefilled text reappears.</span></span> <span data-ttu-id="43cb4-115">Esto también es posible dentro de un control de `FormView`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-115">This is also possible within a `FormView` control.</span></span>

## <a name="steps"></a><span data-ttu-id="43cb4-116">Pasos</span><span class="sxs-lookup"><span data-stu-id="43cb4-116">Steps</span></span>

<span data-ttu-id="43cb4-117">En primer lugar, se necesita un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="43cb4-117">First of all, a data source is required.</span></span> <span data-ttu-id="43cb4-118">Este ejemplo utiliza la base de datos AdventureWorks y el Microsoft SQL Server 2005 Express Edition.</span><span class="sxs-lookup"><span data-stu-id="43cb4-118">This sample uses the AdventureWorks database and the Microsoft SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="43cb4-119">La base de datos es una parte opcional de una instalación de Visual Studio (incluida Express Edition) y también está disponible como descarga independiente en [https://go.microsoft.com/fwlink/?LinkId=64064](https://go.microsoft.com/fwlink/?LinkId=64064).</span><span class="sxs-lookup"><span data-stu-id="43cb4-119">The database is an optional part of a Visual Studio installation (including express edition) and is also available as a separate download under [https://go.microsoft.com/fwlink/?LinkId=64064](https://go.microsoft.com/fwlink/?LinkId=64064).</span></span> <span data-ttu-id="43cb4-120">La base de datos AdventureWorks forma parte de los ejemplos de SQL Server 2005 y de las bases de datos de ejemplo (descarga en [https://www.microsoft.com/downloads/details.aspx?FamilyID=e719ecf7-9f46-4312-af89-6ad8702e4e6e&amp;D isplaylang = en](https://www.microsoft.com/downloads/details.aspx?FamilyID=e719ecf7-9f46-4312-af89-6ad8702e4e6e&amp;DisplayLang=en)).</span><span class="sxs-lookup"><span data-stu-id="43cb4-120">The AdventureWorks database is part of the SQL Server 2005 Samples and Sample Databases (download at [https://www.microsoft.com/downloads/details.aspx?FamilyID=e719ecf7-9f46-4312-af89-6ad8702e4e6e&amp;DisplayLang=en](https://www.microsoft.com/downloads/details.aspx?FamilyID=e719ecf7-9f46-4312-af89-6ad8702e4e6e&amp;DisplayLang=en)).</span></span> <span data-ttu-id="43cb4-121">La forma más sencilla de configurar la base de datos es usar el Microsoft SQL Server Management Studio Express ([https://www.microsoft.com/downloads/details.aspx?FamilyID=c243a5ae-4bd1-4e3d-94b8-5a0f62bf7796&amp;D isplaylang = en](https://www.microsoft.com/downloads/details.aspx?FamilyID=c243a5ae-4bd1-4e3d-94b8-5a0f62bf7796&amp;DisplayLang=en)) y adjuntar el archivo de base de datos `AdventureWorks.mdf`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-121">The easiest way to set the database up is to use the Microsoft SQL Server Management Studio Express ([https://www.microsoft.com/downloads/details.aspx?FamilyID=c243a5ae-4bd1-4e3d-94b8-5a0f62bf7796&amp;DisplayLang=en](https://www.microsoft.com/downloads/details.aspx?FamilyID=c243a5ae-4bd1-4e3d-94b8-5a0f62bf7796&amp;DisplayLang=en)) and attach the `AdventureWorks.mdf` database file.</span></span>

<span data-ttu-id="43cb4-122">En este ejemplo, se supone que la instancia del SQL Server 2005 Express Edition se denomina `SQLEXPRESS` y reside en el mismo equipo que el servidor Web. Esta es también la configuración predeterminada.</span><span class="sxs-lookup"><span data-stu-id="43cb4-122">For this sample, we assume that the instance of the SQL Server 2005 Express Edition is called `SQLEXPRESS` and resides on the same machine as the web server; this is also the default setup.</span></span> <span data-ttu-id="43cb4-123">Si el programa de instalación es diferente, tendrá que adaptar la información de conexión de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="43cb4-123">If your setup differs, you have to adapt the connection information for the database.</span></span>

<span data-ttu-id="43cb4-124">Para activar la funcionalidad de ASP.NET AJAX y control Toolkit, el control `ScriptManager` debe colocarse en cualquier parte de la página (pero dentro del elemento `<form>`):</span><span class="sxs-lookup"><span data-stu-id="43cb4-124">In order to activate the functionality of ASP.NET AJAX and the Control Toolkit, the `ScriptManager` control must be put anywhere on the page (but within the `<form>` element):</span></span>

[!code-aspx[Main](using-textboxwatermark-in-a-formview-cs/samples/sample1.aspx)]

<span data-ttu-id="43cb4-125">A continuación, agregue un origen de datos a la página que admita las instrucciones SQL `DELETE`, `INSERT` y `UPDATE`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-125">Then, add a data source to the page which supports the `DELETE`, `INSERT` and `UPDATE` SQL statements.</span></span> <span data-ttu-id="43cb4-126">Si usa el Asistente de Visual Studio para crear el origen de datos, tenga en cuenta que un error en la versión actual no antepone el nombre de tabla (`Vendor`) con `Purchasing`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-126">If you are using the Visual Studio assistant to create the data source, mind that a bug in the current version does not prefix the table name (`Vendor`) with `Purchasing`.</span></span> <span data-ttu-id="43cb4-127">En el marcado siguiente se muestra la sintaxis correcta:</span><span class="sxs-lookup"><span data-stu-id="43cb4-127">The following markup shows the correct syntax:</span></span>

[!code-aspx[Main](using-textboxwatermark-in-a-formview-cs/samples/sample2.aspx)]

<span data-ttu-id="43cb4-128">Recuerde el nombre (`ID`) del origen de datos, ya que se usará en la propiedad `DataSourceID` del control `FormView`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-128">Remember the name (`ID`) of the data source, since it will be used in the `DataSourceID` property of the `FormView` control.</span></span> <span data-ttu-id="43cb4-129">La sección `<InsertItemTemplate>` del `FormView` contiene un cuadro de texto que se extiende mediante el control `TextBoxWatermarkExtender`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-129">The `<InsertItemTemplate>` section of the `FormView` contains a textbox which is extended by the `TextBoxWatermarkExtender` control.</span></span> <span data-ttu-id="43cb4-130">Asegúrese de que el extensor se encuentra dentro de la plantilla y no fuera de él.</span><span class="sxs-lookup"><span data-stu-id="43cb4-130">Make sure that the extender resides within the template and not outside of it.</span></span>

[!code-aspx[Main](using-textboxwatermark-in-a-formview-cs/samples/sample3.aspx)]

<span data-ttu-id="43cb4-131">Ahora, cuando el usuario cambia al modo de inserción del control `FormView`, el campo de texto para el nuevo proveedor se rellena previamente gracias al control `TextBoxWatermarkExtender`.</span><span class="sxs-lookup"><span data-stu-id="43cb4-131">Now when the user changes into the insert mode of the `FormView` control, the text field for the new vendor is prefilled thanks to the `TextBoxWatermarkExtender` control.</span></span> <span data-ttu-id="43cb4-132">Un clic dentro del cuadro de texto permite que el texto del relleno desaparezca.</span><span class="sxs-lookup"><span data-stu-id="43cb4-132">A click inside the textbox lets the filler text disappear.</span></span>

<span data-ttu-id="43cb4-133">[![la marca de agua del campo proviene del extensor](using-textboxwatermark-in-a-formview-cs/_static/image2.png)](using-textboxwatermark-in-a-formview-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="43cb4-133">[![The watermark in the field comes from the extender](using-textboxwatermark-in-a-formview-cs/_static/image2.png)](using-textboxwatermark-in-a-formview-cs/_static/image1.png)</span></span>

<span data-ttu-id="43cb4-134">La marca de agua del campo proviene del dispositivo extender ([haga clic para ver la imagen de tamaño completo](using-textboxwatermark-in-a-formview-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="43cb4-134">The watermark in the field comes from the extender ([Click to view full-size image](using-textboxwatermark-in-a-formview-cs/_static/image3.png))</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="43cb4-135">Siguiente</span><span class="sxs-lookup"><span data-stu-id="43cb4-135">Next</span></span>](using-textboxwatermark-with-validation-controls-cs.md)

---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
title: Descripción del archivo de proyecto | Microsoft Docs
author: jrjlee
description: Archivos de proyecto de Microsoft Build Engine (MSBuild) se encuentran en el corazón del proceso de compilación e implementación. Este tema comienza con una visión general de MSBuild...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 07978d9d-341c-4524-bcba-62976f390f77
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-project-file
msc.type: authoredcontent
ms.openlocfilehash: d774a8e13e108d1be4c39e1e909d3d9683968a0d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2019
ms.locfileid: "59404928"
---
# <a name="understanding-the-project-file"></a><span data-ttu-id="0d98a-104">Descripción del archivo de proyecto</span><span class="sxs-lookup"><span data-stu-id="0d98a-104">Understanding the Project File</span></span>

<span data-ttu-id="0d98a-105">por [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="0d98a-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="0d98a-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="0d98a-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="0d98a-107">Archivos de proyecto de Microsoft Build Engine (MSBuild) se encuentran en el corazón del proceso de compilación e implementación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-107">Microsoft Build Engine (MSBuild) project files lie at the heart of the build and deployment process.</span></span> <span data-ttu-id="0d98a-108">Este tema comienza con una visión general de MSBuild y el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-108">This topic starts with a conceptual overview of MSBuild and the project file.</span></span> <span data-ttu-id="0d98a-109">Describe los componentes clave que deberá encontrarse cuando se trabaja con archivos de proyecto, y funciona a través de un ejemplo de cómo puede usar los archivos de proyecto para implementar aplicaciones del mundo real.</span><span class="sxs-lookup"><span data-stu-id="0d98a-109">It describes the key components you'll come across when you work with project files, and it works through an example of how you can use project files to deploy real-world applications.</span></span>
> 
> <span data-ttu-id="0d98a-110">Lo que aprenderá:</span><span class="sxs-lookup"><span data-stu-id="0d98a-110">What you'll learn:</span></span>
> 
> - <span data-ttu-id="0d98a-111">Cómo MSBuild usa archivos de proyecto de MSBuild para compilar proyectos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-111">How MSBuild uses MSBuild project files to build projects.</span></span>
> - <span data-ttu-id="0d98a-112">Cómo MSBuild se integra con tecnologías de implementación, como la herramienta de implementación Web de Internet Information Services (IIS) (Web Deploy).</span><span class="sxs-lookup"><span data-stu-id="0d98a-112">How MSBuild integrates with deployment technologies, like the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span>
> - <span data-ttu-id="0d98a-113">Cómo entender los componentes clave de un archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-113">How to understand the key components of a project file.</span></span>
> - <span data-ttu-id="0d98a-114">¿Cómo puede usar los archivos de proyecto para compilar e implementar aplicaciones complejas.</span><span class="sxs-lookup"><span data-stu-id="0d98a-114">How you can use project files to build and deploy complex applications.</span></span>


## <a name="msbuild-and-the-project-file"></a><span data-ttu-id="0d98a-115">MSBuild y el archivo de proyecto</span><span class="sxs-lookup"><span data-stu-id="0d98a-115">MSBuild and the Project File</span></span>

<span data-ttu-id="0d98a-116">Al crear y compilar soluciones en Visual Studio, Visual Studio utiliza MSBuild para compilar cada proyecto de la solución.</span><span class="sxs-lookup"><span data-stu-id="0d98a-116">When you create and build solutions in Visual Studio, Visual Studio uses MSBuild to build each project in your solution.</span></span> <span data-ttu-id="0d98a-117">Cada proyecto de Visual Studio incluye un archivo de proyecto de MSBuild, con una extensión de archivo que refleja el tipo de proyecto&#x2014;por ejemplo, un proyecto de C# (.csproj), un proyecto de Visual Basic.NET (.vbproj) o un proyecto de base de datos (.dbproj).</span><span class="sxs-lookup"><span data-stu-id="0d98a-117">Every Visual Studio project includes an MSBuild project file, with a file extension that reflects the type of project&#x2014;for example, a C# project (.csproj), a Visual Basic.NET project (.vbproj), or a database project (.dbproj).</span></span> <span data-ttu-id="0d98a-118">Para compilar un proyecto, MSBuild debe procesar el archivo de proyecto asociado al proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-118">In order to build a project, MSBuild must process the project file associated with the project.</span></span> <span data-ttu-id="0d98a-119">El archivo de proyecto es un documento XML que contiene toda la información y las instrucciones que MSBuild se necesita para compilar el proyecto, como el contenido para incluir los requisitos de la plataforma, información de versiones, servidor web o configuración del servidor de base de datos y la tareas que deben realizarse.</span><span class="sxs-lookup"><span data-stu-id="0d98a-119">The project file is an XML document that contains all the information and instructions that MSBuild needs in order to build your project, like the content to include, the platform requirements, versioning information, web server or database server settings, and the tasks that must be performed.</span></span>

<span data-ttu-id="0d98a-120">Archivos de proyecto de MSBuild se basan en el [esquema XML de MSBuild](https://msdn.microsoft.com/library/5dy88c2e.aspx), y así el proceso de compilación es completamente abierto y transparente.</span><span class="sxs-lookup"><span data-stu-id="0d98a-120">MSBuild project files are based on the [MSBuild XML schema](https://msdn.microsoft.com/library/5dy88c2e.aspx), and as a result the build process is entirely open and transparent.</span></span> <span data-ttu-id="0d98a-121">Además, no es necesario instalar Visual Studio para poder usar el motor de MSBuild&#x2014;el ejecutable de MSBuild.exe es parte de .NET Framework y se puede ejecutar desde un símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-121">In addition, you don't need to install Visual Studio in order to use the MSBuild engine&#x2014;the MSBuild.exe executable is part of the .NET Framework, and you can run it from a command prompt.</span></span> <span data-ttu-id="0d98a-122">Como desarrollador, puede crear sus propios archivos de proyecto de MSBuild, mediante el esquema XML de MSBuild, imponer control sofisticado y detallado sobre cómo se crea e implementa los proyectos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-122">As a developer, you can craft your own MSBuild project files, using the MSBuild XML schema, to impose sophisticated and fine-grained control over how your projects are built and deployed.</span></span> <span data-ttu-id="0d98a-123">Estos archivos de proyecto personalizado funcionan exactamente igual que los archivos de proyecto que Visual Studio genera automáticamente.</span><span class="sxs-lookup"><span data-stu-id="0d98a-123">These custom project files work in exactly the same way as the project files that Visual Studio generates automatically.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-124">También puede usar archivos de proyecto de MSBuild con el servicio de Team Build en Team Foundation Server (TFS).</span><span class="sxs-lookup"><span data-stu-id="0d98a-124">You can also use MSBuild project files with the Team Build service in Team Foundation Server (TFS).</span></span> <span data-ttu-id="0d98a-125">Por ejemplo, puede usar archivos de proyecto en escenarios de integración continua (CI) para automatizar la implementación en un entorno de prueba cuando se proteja nuevo código.</span><span class="sxs-lookup"><span data-stu-id="0d98a-125">For example, you can use project files in continuous integration (CI) scenarios to automate deployment to a test environment when new code is checked in.</span></span> <span data-ttu-id="0d98a-126">Para obtener más información, consulte [configurar Team Foundation Server para automatizar la implementación Web](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="0d98a-126">For more information, see [Configuring Team Foundation Server for Automated Web Deployment](../configuring-team-foundation-server-for-web-deployment/configuring-team-foundation-server-for-web-deployment.md).</span></span>


### <a name="project-file-naming-conventions"></a><span data-ttu-id="0d98a-127">Convenciones de nomenclatura de archivo de proyecto</span><span class="sxs-lookup"><span data-stu-id="0d98a-127">Project File Naming Conventions</span></span>

<span data-ttu-id="0d98a-128">Al crear sus propios archivos de proyecto, puede usar cualquier extensión de archivo que desee.</span><span class="sxs-lookup"><span data-stu-id="0d98a-128">When you create your own project files, you can use any file extension you like.</span></span> <span data-ttu-id="0d98a-129">Sin embargo, para facilitar las soluciones para otros comprender, debe usar estas convenciones comunes:</span><span class="sxs-lookup"><span data-stu-id="0d98a-129">However, to make your solutions easier for others to understand, you should use these common conventions:</span></span>

- <span data-ttu-id="0d98a-130">Usar la extensión de .proj cuando se crea un archivo de proyecto que compila proyectos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-130">Use the .proj extension when you create a project file that builds projects.</span></span>
- <span data-ttu-id="0d98a-131">Usar la extensión .targets cuando se crea un archivo de proyecto reutilizables para importar en otros archivos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-131">Use the .targets extension when you create a reusable project file to import into other project files.</span></span> <span data-ttu-id="0d98a-132">Archivos con la extensión .targets normalmente no generación nada a sí mismos, simplemente contienen instrucciones que se pueden importar en los archivos proj.</span><span class="sxs-lookup"><span data-stu-id="0d98a-132">Files with a .targets extension typically don't build anything themselves, they simply contain instructions that you can import into your .proj files.</span></span>

### <a name="integration-with-deployment-technologies"></a><span data-ttu-id="0d98a-133">Integración con tecnologías de implementación</span><span class="sxs-lookup"><span data-stu-id="0d98a-133">Integration with Deployment Technologies</span></span>

<span data-ttu-id="0d98a-134">Si ha trabajado con proyectos de aplicación web en Visual Studio 2010, al igual que las aplicaciones web ASP.NET y aplicaciones web de ASP.NET MVC, sabrá que estos proyectos incluyen compatibilidad integrada para empaquetar e implementar la aplicación web en un entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="0d98a-134">If you've worked with web application projects in Visual Studio 2010, like ASP.NET web applications and ASP.NET MVC web applications, you'll know that these projects include built-in support for packaging and deploying the web application to a target environment.</span></span> <span data-ttu-id="0d98a-135">El **propiedades** páginas para estos proyectos incluyen **Empaquetar/Publicar Web** y **Empaquetar/publicar SQL** pestañas que puede usar para configurar cómo los componentes de su aplicaciones se empaquetan e implementan.</span><span class="sxs-lookup"><span data-stu-id="0d98a-135">The **Properties** pages for these projects include **Package/Publish Web** and **Package/Publish SQL** tabs that you can use to configure how the components of your application are packaged and deployed.</span></span> <span data-ttu-id="0d98a-136">Esto muestra la **Empaquetar/Publicar Web** pestaña:</span><span class="sxs-lookup"><span data-stu-id="0d98a-136">This shows the **Package/Publish Web** tab:</span></span>

![](understanding-the-project-file/_static/image1.png)

<span data-ttu-id="0d98a-137">La tecnología subyacente estas capacidades se conoce como la canalización de publicación de Web (WPP).</span><span class="sxs-lookup"><span data-stu-id="0d98a-137">The underlying technology behind these capabilities is known as the Web Publishing Pipeline (WPP).</span></span> <span data-ttu-id="0d98a-138">El WPP esencialmente aporta MSBuild y [Web Deploy](https://go.microsoft.com/?linkid=9805122) conjuntamente para proporcionar un proceso de compilación, implementación de paquete y completo para las aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="0d98a-138">The WPP essentially brings MSBuild and [Web Deploy](https://go.microsoft.com/?linkid=9805122) together to provide a complete build, package, and deployment process for your web applications.</span></span>

<span data-ttu-id="0d98a-139">La buena noticia es que puede sacar partido de los puntos de integración que el WPP proporciona al crear archivos de proyecto personalizadas para proyectos web.</span><span class="sxs-lookup"><span data-stu-id="0d98a-139">The good news is that you can take advantage of the integration points that the WPP provides when you create custom project files for web projects.</span></span> <span data-ttu-id="0d98a-140">Puede incluir instrucciones de implementación en el archivo de proyecto, lo que permite compilar sus proyectos, crear paquetes de implementación web e instalar estos paquetes en servidores remotos a través de un único archivo de proyecto y una sola llamada a MSBuild.</span><span class="sxs-lookup"><span data-stu-id="0d98a-140">You can include deployment instructions in your project file, which allows you to build your projects, create web deployment packages, and install these packages on remote servers through a single project file and a single call to MSBuild.</span></span> <span data-ttu-id="0d98a-141">También puede llamar a los otros ejecutables como parte del proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-141">You can also call any other executables as part of your build process.</span></span> <span data-ttu-id="0d98a-142">Por ejemplo, puede ejecutar la herramienta de línea de comandos VSDBCMD.exe para implementar una base de datos desde un archivo de esquema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-142">For example, you can run the VSDBCMD.exe command-line tool to deploy a database from a schema file.</span></span> <span data-ttu-id="0d98a-143">En el transcurso de este tema, verá cómo puede aprovechar estas capacidades para cumplir los requisitos de los escenarios de implementación empresarial.</span><span class="sxs-lookup"><span data-stu-id="0d98a-143">Over the course of this topic, you'll see how you can take advantage of these capabilities to meet the requirements of your enterprise deployment scenarios.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-144">Para obtener más información sobre cómo funciona el proceso de implementación de aplicación web, consulte [proyecto de ASP.NET Web Application Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-144">For more information on how the web application deployment process works, see [ASP.NET Web Application Project Deployment Overview](https://msdn.microsoft.com/library/dd394698.aspx).</span></span>


## <a name="the-anatomy-of-a-project-file"></a><span data-ttu-id="0d98a-145">Anatomía de un archivo de proyecto</span><span class="sxs-lookup"><span data-stu-id="0d98a-145">The Anatomy of a Project File</span></span>

<span data-ttu-id="0d98a-146">Antes de examinar más detalladamente el proceso de compilación, es la pena dedicar unos minutos a familiarizarse con la estructura básica de un archivo de proyecto de MSBuild.</span><span class="sxs-lookup"><span data-stu-id="0d98a-146">Before you look at the build process in more detail, it's worth taking a few moments to familiarize yourself with the basic structure of an MSBuild project file.</span></span> <span data-ttu-id="0d98a-147">En esta sección se proporciona información general de los elementos más comunes que encontrará cuando revise, editar o crear un archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-147">This section provides an overview of the more common elements that you'll encounter when you review, edit, or create a project file.</span></span> <span data-ttu-id="0d98a-148">En concreto, aprenderá lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0d98a-148">In particular, you'll learn:</span></span>

- <span data-ttu-id="0d98a-149">Cómo usar *propiedades* para administrar las variables para el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-149">How to use *properties* to manage variables for the build process.</span></span>
- <span data-ttu-id="0d98a-150">Cómo usar *elementos* para identificar las entradas en el proceso de compilación, como archivos de código.</span><span class="sxs-lookup"><span data-stu-id="0d98a-150">How to use *items* to identify the inputs to the build process, like code files.</span></span>
- <span data-ttu-id="0d98a-151">Cómo usar *destinos* y *tareas* para proporcionar instrucciones de ejecución a MSBuild, mediante *propiedades* y *elementos* definido en otra parte el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-151">How to use *targets* and *tasks* to provide execution instructions to MSBuild, using *properties* and *items* defined elsewhere in the project file.</span></span>

<span data-ttu-id="0d98a-152">Esto muestra la relación entre los elementos clave de un archivo de proyecto de MSBuild:</span><span class="sxs-lookup"><span data-stu-id="0d98a-152">This shows the relationship between the key elements in an MSBuild project file:</span></span>

![](understanding-the-project-file/_static/image2.png)

### <a name="the-project-element"></a><span data-ttu-id="0d98a-153">El elemento de proyecto</span><span class="sxs-lookup"><span data-stu-id="0d98a-153">The Project Element</span></span>

<span data-ttu-id="0d98a-154">El [proyecto](https://msdn.microsoft.com/library/bcxfsh87.aspx) elemento es el elemento raíz de cada archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-154">The [Project](https://msdn.microsoft.com/library/bcxfsh87.aspx) element is the root element of every project file.</span></span> <span data-ttu-id="0d98a-155">Además de identificar el esquema XML para el archivo de proyecto, el **proyecto** elemento puede incluir atributos para especificar los puntos de entrada para el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-155">In addition to identifying the XML schema for the project file, the **Project** element can include attributes to specify the entry points for the build process.</span></span> <span data-ttu-id="0d98a-156">Por ejemplo, en el [solución de ejemplo de Contact Manager](the-contact-manager-solution.md), *Publish.proj* archivo Especifica que la compilación debe empezar por llamar el destino denominado **FullPublish**.</span><span class="sxs-lookup"><span data-stu-id="0d98a-156">For example, in the [Contact Manager sample solution](the-contact-manager-solution.md), the *Publish.proj* file specifies that the build should start by calling the target named **FullPublish**.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample1.xml)]


### <a name="properties-and-conditions"></a><span data-ttu-id="0d98a-157">Propiedades y condiciones</span><span class="sxs-lookup"><span data-stu-id="0d98a-157">Properties and Conditions</span></span>

<span data-ttu-id="0d98a-158">Normalmente necesita un archivo de proyecto proporcionar una gran cantidad de diferentes partes de información con el fin de generar e implementar los proyectos correctamente.</span><span class="sxs-lookup"><span data-stu-id="0d98a-158">A project file typically needs to provide lots of different pieces of information in order to successfully build and deploy your projects.</span></span> <span data-ttu-id="0d98a-159">Estos fragmentos de información podrían incluir nombres de servidor, las cadenas de conexión, credenciales, las configuraciones de compilación, rutas de acceso de archivo de origen y destino y cualquier otra información que van a incluir para admitir la personalización.</span><span class="sxs-lookup"><span data-stu-id="0d98a-159">These pieces of information could include server names, connection strings, credentials, build configurations, source and destination file paths, and any other information you want to include to support customization.</span></span> <span data-ttu-id="0d98a-160">En un archivo de proyecto, se deben definir las propiedades dentro de un [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-160">In a project file, properties must be defined within a [PropertyGroup](https://msdn.microsoft.com/library/t4w159bs.aspx) element.</span></span> <span data-ttu-id="0d98a-161">Propiedades de MSBuild constan de pares clave-valor.</span><span class="sxs-lookup"><span data-stu-id="0d98a-161">MSBuild properties consist of key-value pairs.</span></span> <span data-ttu-id="0d98a-162">Dentro de la **PropertyGroup** elemento, el nombre del elemento define la clave de propiedad y el contenido del elemento define el valor de propiedad.</span><span class="sxs-lookup"><span data-stu-id="0d98a-162">Within the **PropertyGroup** element, the element name defines the property key and the content of the element defines the property value.</span></span> <span data-ttu-id="0d98a-163">Por ejemplo, podría definir propiedades denominadas **ServerName** y **ConnectionString** para almacenar una cadena de conexión y nombre de servidor estático.</span><span class="sxs-lookup"><span data-stu-id="0d98a-163">For example, you could define properties named **ServerName** and **ConnectionString** to store a static server name and connection string.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample2.xml)]


<span data-ttu-id="0d98a-164">Para recuperar un valor de propiedad, use el formato \*\*$(***PropertyName***) \*\**.*</span><span class="sxs-lookup"><span data-stu-id="0d98a-164">To retrieve a property value, you use the format \**$(***PropertyName***)\*\*\*.*</span></span> <span data-ttu-id="0d98a-165">Por ejemplo, para recuperar el valor de la **ServerName** propiedad, escribiría:</span><span class="sxs-lookup"><span data-stu-id="0d98a-165">For example, to retrieve the value of the **ServerName** property, you would type:</span></span>


[!code-powershell[Main](understanding-the-project-file/samples/sample3.ps1)]


> [!NOTE]
> <span data-ttu-id="0d98a-166">Verá ejemplos de cómo y cuándo se debe usar los valores de propiedad más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-166">You'll see examples of how and when to use property values later in this topic.</span></span>


<span data-ttu-id="0d98a-167">Incrustación de información como propiedades estáticas en un archivo de proyecto no siempre es el enfoque ideal para administrar el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-167">Embedding information as static properties in a project file is not always the ideal approach to managing the build process.</span></span> <span data-ttu-id="0d98a-168">En muchos escenarios, deseará obtener la información de otros orígenes o permitir al usuario que proporcione la información desde el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-168">In a lot of scenarios, you'll want to obtain the information from other sources or empower the user to provide the information from the command prompt.</span></span> <span data-ttu-id="0d98a-169">MSBuild permite especificar cualquier valor de propiedad como un parámetro de línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-169">MSBuild allows you to specify any property value as a command-line parameter.</span></span> <span data-ttu-id="0d98a-170">Por ejemplo, el usuario podría proporcionar un valor para **ServerName** cuando que se ejecuta MSBuild.exe desde la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-170">For example, the user could provide a value for **ServerName** when he or she runs MSBuild.exe from the command line.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample4.cmd)]


> [!NOTE]
> <span data-ttu-id="0d98a-171">Para obtener más información sobre los argumentos y modificadores que puede utilizar con MSBuild.exe, vea [referencia de línea de comandos de MSBuild](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-171">For more information on the arguments and switches you can use with MSBuild.exe, see [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>


<span data-ttu-id="0d98a-172">Puede usar la misma sintaxis de propiedad para obtener los valores de variables de entorno y las propiedades de proyecto integradas.</span><span class="sxs-lookup"><span data-stu-id="0d98a-172">You can use the same property syntax to obtain the values of environment variables and built-in project properties.</span></span> <span data-ttu-id="0d98a-173">Se define una gran cantidad de propiedades utilizadas para usted, y puede usarlos en los archivos de proyecto, incluido el nombre de parámetro pertinente.</span><span class="sxs-lookup"><span data-stu-id="0d98a-173">Lots of commonly used properties are defined for you, and you can use them in your project files by including the relevant parameter name.</span></span> <span data-ttu-id="0d98a-174">Por ejemplo, para recuperar la plataforma del proyecto actual&#x2014;por ejemplo, **x86** o **AnyCpu**&#x2014;puede incluir el **$(Platform)** referencia de propiedad en el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-174">For example, to retrieve the current project platform&#x2014;for example, **x86** or **AnyCpu**&#x2014;you can include the **$(Platform)** property reference in your project file.</span></span> <span data-ttu-id="0d98a-175">Para obtener más información, consulte [Macros para propiedades y comandos de compilación](https://msdn.microsoft.com/library/c02as0cs.aspx), [propiedades comunes de proyectos de MSBuild](https://msdn.microsoft.com/library/bb629394.aspx), y [propiedades reservadas](https://msdn.microsoft.com/library/ms164309.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-175">For more information, see [Macros for Build Commands and Properties](https://msdn.microsoft.com/library/c02as0cs.aspx), [Common MSBuild Project Properties](https://msdn.microsoft.com/library/bb629394.aspx), and [Reserved Properties](https://msdn.microsoft.com/library/ms164309.aspx).</span></span>

<span data-ttu-id="0d98a-176">Las propiedades se utilizan a menudo junto con *condiciones*.</span><span class="sxs-lookup"><span data-stu-id="0d98a-176">Properties are often used in conjunction with *conditions*.</span></span> <span data-ttu-id="0d98a-177">La mayoría de los elementos de MSBuild admite la **condición** atributo, que le permite especificar los criterios que MSBuild debe evaluar el elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-177">Most MSBuild elements support the **Condition** attribute, which lets you specify the criteria upon which MSBuild should evaluate the element.</span></span> <span data-ttu-id="0d98a-178">Por ejemplo, tenga en cuenta esta definición de propiedad:</span><span class="sxs-lookup"><span data-stu-id="0d98a-178">For example, consider this property definition:</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample5.xml)]


<span data-ttu-id="0d98a-179">Cuando MSBuild procesa esta definición de propiedad, en primer lugar comprueba para ver si un **$(OutputRoot)** valor de propiedad está disponible.</span><span class="sxs-lookup"><span data-stu-id="0d98a-179">When MSBuild processes this property definition, it first checks to see whether an **$(OutputRoot)** property value is available.</span></span> <span data-ttu-id="0d98a-180">Si el valor de propiedad está en blanco&#x2014;en otras palabras, el usuario no ha proporcionado un valor para esta propiedad&#x2014;la condición se evalúa como **true** y el valor de propiedad se establece en **... \Publish\Out**. Si el usuario ha proporcionado un valor para esta propiedad, la condición se evalúa como **false** y no se utiliza el valor de propiedad estática.</span><span class="sxs-lookup"><span data-stu-id="0d98a-180">If the property value is blank&#x2014;in other words, the user hasn't provided a value for this property&#x2014;the condition evaluates to **true** and the property value is set to **..\Publish\Out**. If the user has provided a value for this property, the condition evaluates to **false** and the static property value is not used.</span></span>

<span data-ttu-id="0d98a-181">Para obtener más información sobre las diferentes maneras en que puede especificar condiciones, consulte [condiciones de MSBuild](https://msdn.microsoft.com/library/7szfhaft.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-181">For more information on the different ways in which you can specify conditions, see [MSBuild Conditions](https://msdn.microsoft.com/library/7szfhaft.aspx).</span></span>

### <a name="items-and-item-groups"></a><span data-ttu-id="0d98a-182">Los elementos y grupos de elementos</span><span class="sxs-lookup"><span data-stu-id="0d98a-182">Items and Item Groups</span></span>

<span data-ttu-id="0d98a-183">Uno de los roles del archivo del proyecto importante es definir las entradas en el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-183">One of the important roles of the project file is to define the inputs to the build process.</span></span> <span data-ttu-id="0d98a-184">Normalmente, estas entradas son archivos&#x2014;código archivos, archivos de configuración, archivos de comandos y otros archivos que necesita para procesar o copiar como parte del proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-184">Typically, these inputs are files&#x2014;code files, configuration files, command files, and any other files that you need to process or copy as part of the build process.</span></span> <span data-ttu-id="0d98a-185">En el esquema de proyecto de MSBuild, estas entradas se representan mediante [elemento](https://msdn.microsoft.com/library/ms164283.aspx) elementos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-185">In the MSBuild project schema, these inputs are represented by [Item](https://msdn.microsoft.com/library/ms164283.aspx) elements.</span></span> <span data-ttu-id="0d98a-186">En un archivo de proyecto, se deben definir los elementos dentro de un [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-186">In a project file, items must be defined within an [ItemGroup](https://msdn.microsoft.com/library/646dk05y.aspx) element.</span></span> <span data-ttu-id="0d98a-187">Al igual que **propiedad** elementos, puede denominar un **elemento** elemento que desee.</span><span class="sxs-lookup"><span data-stu-id="0d98a-187">Just like **Property** elements, you can name an **Item** element however you like.</span></span> <span data-ttu-id="0d98a-188">Sin embargo, debe especificar un **Include** atributo para identificar el archivo o comodín que representa el elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-188">However, you must specify an **Include** attribute to identify the file or wildcard that the item represents.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample6.xml)]


<span data-ttu-id="0d98a-189">Si especifica varios **elemento** elementos con el mismo nombre, en realidad está creando una lista de recursos con nombre.</span><span class="sxs-lookup"><span data-stu-id="0d98a-189">By specifying multiple **Item** elements with the same name, you're effectively creating a named list of resources.</span></span> <span data-ttu-id="0d98a-190">Una buena forma de ver esto en acción es echar una mirada dentro de uno de los archivos de proyecto que crea Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0d98a-190">A good way to see this in action is to take a look inside one of the project files that Visual Studio creates.</span></span> <span data-ttu-id="0d98a-191">Por ejemplo, el *ContactManager.Mvc.csproj* archivo en la solución de ejemplo incluye una gran cantidad de grupos de elementos, cada uno con varios con el mismo nombre **elemento** elementos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-191">For example, the *ContactManager.Mvc.csproj* file in the sample solution includes a lot of item groups, each with several identically named **Item** elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample7.xml)]


<span data-ttu-id="0d98a-192">De este modo, el archivo de proyecto es indicar a MSBuild para crear listas de archivos que deben procesarse en la misma manera&#x2014;el **referencia** lista incluye los ensamblados que deben cumplirse para una compilación correcta, el  **Compilar** lista incluye archivos de código que se deben compilar, y el **contenido** lista incluye los recursos que deben copiarse sin modificaciones.</span><span class="sxs-lookup"><span data-stu-id="0d98a-192">In this way, the project file is instructing MSBuild to construct lists of files that need to be processed in the same way&#x2014;the **Reference** list includes assemblies that must be in place for a successful build, the **Compile** list includes code files that must be compiled, and the **Content** list includes resources that must be copied unaltered.</span></span> <span data-ttu-id="0d98a-193">Veremos cómo el proceso de compilación hace referencia y utiliza estos elementos más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-193">We'll look at how the build process references and uses these items later in this topic.</span></span>

<span data-ttu-id="0d98a-194">También pueden incluir elementos [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="0d98a-194">Item elements can also include [ItemMetadata](https://msdn.microsoft.com/library/ms164284.aspx) child elements.</span></span> <span data-ttu-id="0d98a-195">Estos son pares de clave-valor definidos por el usuario y básicamente representan las propiedades que son específicas de ese elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-195">These are user-defined key-value pairs and essentially represent properties that are specific to that item.</span></span> <span data-ttu-id="0d98a-196">Por ejemplo, muchos de los **compilar** incluyen elementos en el archivo de proyecto **DependentUpon** elementos secundarios.</span><span class="sxs-lookup"><span data-stu-id="0d98a-196">For example, a lot of the **Compile** item elements in the project file include **DependentUpon** child elements.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample8.xml)]


> [!NOTE]
> <span data-ttu-id="0d98a-197">Además de metadatos de elementos creados por el usuario, todos los elementos se asignan varios metadatos comunes en la creación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-197">In addition to user-created item metadata, all items are assigned various common metadata on creation.</span></span> <span data-ttu-id="0d98a-198">Para obtener más información, consulte [Metadatos de elementos conocidos](https://msdn.microsoft.com/library/ms164313.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-198">For more information, see [Well-known Item Metadata](https://msdn.microsoft.com/library/ms164313.aspx).</span></span>


<span data-ttu-id="0d98a-199">Puede crear **ItemGroup** elementos en el nivel raíz **proyecto** elemento o dentro de específico **destino** elementos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-199">You can create **ItemGroup** elements within the root-level **Project** element or within specific **Target** elements.</span></span> <span data-ttu-id="0d98a-200">**ItemGroup** también admiten elementos **condición** atributos, que le permite adaptar las entradas en el proceso de compilación según condiciones como la plataforma o configuración del proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-200">**ItemGroup** elements also support **Condition** attributes, which lets you tailor the inputs to the build process according to conditions like the project configuration or platform.</span></span>

### <a name="targets-and-tasks"></a><span data-ttu-id="0d98a-201">Destinos y tareas</span><span class="sxs-lookup"><span data-stu-id="0d98a-201">Targets and Tasks</span></span>

<span data-ttu-id="0d98a-202">En el esquema de MSBuild, un [tarea](https://msdn.microsoft.com/library/77f2hx1s.aspx) elemento representa una instrucción de compilación individual (o tarea).</span><span class="sxs-lookup"><span data-stu-id="0d98a-202">In the MSBuild schema, a [Task](https://msdn.microsoft.com/library/77f2hx1s.aspx) element represents an individual build instruction (or task).</span></span> <span data-ttu-id="0d98a-203">MSBuild incluye un gran número de tareas predefinidas.</span><span class="sxs-lookup"><span data-stu-id="0d98a-203">MSBuild includes a multitude of predefined tasks.</span></span> <span data-ttu-id="0d98a-204">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="0d98a-204">For example:</span></span>

- <span data-ttu-id="0d98a-205">El **copia** tarea copia los archivos a una nueva ubicación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-205">The **Copy** task copies files to a new location.</span></span>
- <span data-ttu-id="0d98a-206">El **Csc** tarea invoca el compilador de Visual C#.</span><span class="sxs-lookup"><span data-stu-id="0d98a-206">The **Csc** task invokes the Visual C# compiler.</span></span>
- <span data-ttu-id="0d98a-207">El **Vbc** tarea invoca el compilador de Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="0d98a-207">The **Vbc** task invokes the Visual Basic compiler.</span></span>
- <span data-ttu-id="0d98a-208">El **Exec** tarea ejecuta un programa específico.</span><span class="sxs-lookup"><span data-stu-id="0d98a-208">The **Exec** task runs a specified program.</span></span>
- <span data-ttu-id="0d98a-209">El **mensaje** tarea escribe un mensaje a un registrador.</span><span class="sxs-lookup"><span data-stu-id="0d98a-209">The **Message** task writes a message to a logger.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-210">Para obtener detalles completos de las tareas que están disponibles de fábrica, consulte [referencia de tareas de MSBuild](https://msdn.microsoft.com/library/7z253716.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-210">For full details of the tasks that are available out of the box, see [MSBuild Task Reference](https://msdn.microsoft.com/library/7z253716.aspx).</span></span> <span data-ttu-id="0d98a-211">Para obtener más información sobre las tareas, incluida la forma de crear sus propias tareas personalizadas, vea [las tareas de MSBuild](https://msdn.microsoft.com/library/ms171466.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-211">For more information on tasks, including how to create your own custom tasks, see [MSBuild Tasks](https://msdn.microsoft.com/library/ms171466.aspx).</span></span>


<span data-ttu-id="0d98a-212">Las tareas siempre deben incluirse dentro [destino](https://msdn.microsoft.com/library/t50z2hka.aspx) elementos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-212">Tasks must always be contained within [Target](https://msdn.microsoft.com/library/t50z2hka.aspx) elements.</span></span> <span data-ttu-id="0d98a-213">Un **destino** elemento es un conjunto de uno o más tareas que se ejecutan secuencialmente y un archivo de proyecto puede contener varios destinos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-213">A **Target** element is a set of one or more tasks that are executed sequentially, and a project file can contain multiple targets.</span></span> <span data-ttu-id="0d98a-214">Cuando desea ejecutar una tarea o un conjunto de tareas, invoque el destino que los contiene.</span><span class="sxs-lookup"><span data-stu-id="0d98a-214">When you want to run a task, or a set of tasks, you invoke the target that contains them.</span></span> <span data-ttu-id="0d98a-215">Por ejemplo, suponga que tiene un archivo de proyecto simple registra un mensaje.</span><span class="sxs-lookup"><span data-stu-id="0d98a-215">For example, suppose you have a simple project file that logs a message.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample9.xml)]


<span data-ttu-id="0d98a-216">Puede invocar el destino de la línea de comandos mediante la **/t** modificador para especificar el destino.</span><span class="sxs-lookup"><span data-stu-id="0d98a-216">You can invoke the target from the command line, by using the **/t** switch to specify the target.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample10.cmd)]


<span data-ttu-id="0d98a-217">Como alternativa, puede agregar un **DefaultTargets** atributo a la **proyecto** elemento para especificar los destinos que se desean invocar.</span><span class="sxs-lookup"><span data-stu-id="0d98a-217">Alternatively, you can add a **DefaultTargets** attribute to the **Project** element, to specify the targets that you want to invoke.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample11.xml)]


<span data-ttu-id="0d98a-218">En este caso, no es necesario especificar el destino de la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-218">In this case, you don't need to specify the target from the command line.</span></span> <span data-ttu-id="0d98a-219">Simplemente puede especificar el archivo de proyecto, y MSBuild que invocará el **FullPublish** destino por usted.</span><span class="sxs-lookup"><span data-stu-id="0d98a-219">You can simply specify the project file, and MSBuild will invoke the **FullPublish** target for you.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample12.cmd)]


<span data-ttu-id="0d98a-220">Destinos y tareas pueden incluir **condición** atributos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-220">Both targets and tasks can include **Condition** attributes.</span></span> <span data-ttu-id="0d98a-221">Por lo tanto, puede elegir omitir todos destinos o tareas individuales si se cumplen ciertas condiciones.</span><span class="sxs-lookup"><span data-stu-id="0d98a-221">As such, you can choose to omit entire targets or individual tasks if certain conditions are met.</span></span>

<span data-ttu-id="0d98a-222">Por lo general, al crear tareas útiles y destinos, necesita hacer referencia a las propiedades y elementos que ha definido en otro lugar del archivo de proyecto:</span><span class="sxs-lookup"><span data-stu-id="0d98a-222">Generally speaking, when you create useful tasks and targets, you'll need to refer to the properties and items that you've defined elsewhere in the project file:</span></span>

- <span data-ttu-id="0d98a-223">Para usar un valor de propiedad, escriba **$(***PropertyName***)**, donde *PropertyName* es el nombre de la **propiedad** elemento o el nombre de la parámetro.</span><span class="sxs-lookup"><span data-stu-id="0d98a-223">To use a property value, type **$(***PropertyName***)**, where *PropertyName* is the name of the **Property** element or the name of the parameter.</span></span>
- <span data-ttu-id="0d98a-224">Para usar un elemento, escriba **@(***ItemName***)**, donde *ItemName* es el nombre de la **elemento** elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-224">To use an item, type **@(***ItemName***)**, where *ItemName* is the name of the **Item** element.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-225">Recuerde que si crea varios elementos con el mismo nombre, va a compilar una lista.</span><span class="sxs-lookup"><span data-stu-id="0d98a-225">Remember that if you create multiple items with the same name, you're building a list.</span></span> <span data-ttu-id="0d98a-226">En cambio, si crea varias propiedades con el mismo nombre, el último valor de propiedad que proporcione sobrescribirá todas las propiedades anteriores con el mismo nombre&#x2014;una propiedad sólo puede contener un valor único.</span><span class="sxs-lookup"><span data-stu-id="0d98a-226">In contrast, if you create multiple properties with the same name, the last property value you provide will overwrite any previous properties with the same name&#x2014;a property can only contain a single value.</span></span>


<span data-ttu-id="0d98a-227">Por ejemplo, en el *Publish.proj* de archivos en la solución de ejemplo, eche un vistazo a la **BuildProjects** destino.</span><span class="sxs-lookup"><span data-stu-id="0d98a-227">For example, in the *Publish.proj* file in the sample solution, take a look at the **BuildProjects** target.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample13.xml)]


<span data-ttu-id="0d98a-228">En este ejemplo, se pueden observar estos puntos clave:</span><span class="sxs-lookup"><span data-stu-id="0d98a-228">In this sample, you can observe these key points:</span></span>

- <span data-ttu-id="0d98a-229">Si el **BuildingInTeamBuild** se especifica el parámetro y tiene un valor de **true**, se ejecutará ninguna de las tareas dentro de este destino.</span><span class="sxs-lookup"><span data-stu-id="0d98a-229">If the **BuildingInTeamBuild** parameter is specified and has a value of **true**, none of the tasks within this target will be executed.</span></span>
- <span data-ttu-id="0d98a-230">El destino contiene una única instancia de la [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) tarea.</span><span class="sxs-lookup"><span data-stu-id="0d98a-230">The target contains a single instance of the [MSBuild](https://msdn.microsoft.com/library/z7f65y0d.aspx) task.</span></span> <span data-ttu-id="0d98a-231">Esta tarea le permite crear otros proyectos de MSBuild.</span><span class="sxs-lookup"><span data-stu-id="0d98a-231">This task lets you build other MSBuild projects.</span></span>
- <span data-ttu-id="0d98a-232">El **ProjectsToBuild** elemento se pasa a la tarea.</span><span class="sxs-lookup"><span data-stu-id="0d98a-232">The **ProjectsToBuild** item is passed to the task.</span></span> <span data-ttu-id="0d98a-233">Este elemento podría representar una lista de archivos de proyecto o solución, todo ello definidos por **ProjectsToBuild** elementos dentro de un grupo de elementos de elemento.</span><span class="sxs-lookup"><span data-stu-id="0d98a-233">This item could represent a list of project or solution files, all defined by **ProjectsToBuild** item elements within an item group.</span></span> <span data-ttu-id="0d98a-234">En este caso, el **ProjectsToBuild** elemento hace referencia a un solo archivo de solución.</span><span class="sxs-lookup"><span data-stu-id="0d98a-234">In this case, the **ProjectsToBuild** item refers to a single solution file.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample14.xml)]
- <span data-ttu-id="0d98a-235">Los valores de propiedad pasados a la **MSBuild** tarea incluir parámetros denominados **OutputRoot** y **configuración**.</span><span class="sxs-lookup"><span data-stu-id="0d98a-235">The property values passed to the **MSBuild** task include parameters named **OutputRoot** and **Configuration**.</span></span> <span data-ttu-id="0d98a-236">Estos se establecen en valores de parámetro si se proporcionan, o valores de propiedad estáticas si no lo son.</span><span class="sxs-lookup"><span data-stu-id="0d98a-236">These are set to parameter values if they are provided, or static property values if they are not.</span></span>

    [!code-xml[Main](understanding-the-project-file/samples/sample15.xml)]

<span data-ttu-id="0d98a-237">También puede ver que el **MSBuild** tarea invoca un destino denominado **compilar**.</span><span class="sxs-lookup"><span data-stu-id="0d98a-237">You can also see that the **MSBuild** task invokes a target named **Build**.</span></span> <span data-ttu-id="0d98a-238">Este es uno de varios destinos integrados que se usan ampliamente en los archivos de proyecto de Visual Studio y están disponible en los archivos de proyecto personalizados, como **compilar**, **Clean**, **recompilar**, y **publicar**.</span><span class="sxs-lookup"><span data-stu-id="0d98a-238">This is one of several built-in targets that are widely used in Visual Studio project files and are available to you in your custom project files, like **Build**, **Clean**, **Rebuild**, and **Publish**.</span></span> <span data-ttu-id="0d98a-239">Aprenderá más acerca del uso de destinos y tareas para controlar el proceso de compilación y sobre la **MSBuild** en particular, la tarea más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="0d98a-239">You'll learn more about using targets and tasks to control the build process, and about the **MSBuild** task in particular, later in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-240">Para obtener más información sobre los destinos, consulte [destinos de MSBuild](https://msdn.microsoft.com/library/ms171462.aspx).</span><span class="sxs-lookup"><span data-stu-id="0d98a-240">For more information on targets, see [MSBuild Targets](https://msdn.microsoft.com/library/ms171462.aspx).</span></span>


## <a name="splitting-project-files-to-support-multiple-environments"></a><span data-ttu-id="0d98a-241">Dividir archivos de proyecto para admitir varios entornos</span><span class="sxs-lookup"><span data-stu-id="0d98a-241">Splitting Project Files to Support Multiple Environments</span></span>

<span data-ttu-id="0d98a-242">Suponga que desea ser capaz de implementar una solución en varios entornos, como servidores de prueba, ensayo plataformas y entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="0d98a-242">Suppose you want to be able to deploy a solution to multiple environments, like test servers, staging platforms, and production environments.</span></span> <span data-ttu-id="0d98a-243">La configuración puede variar considerablemente entre estos entornos&#x2014;no solo en cuanto a los nombres de servidor, las cadenas de conexión y así sucesivamente, sino también potencialmente en cuanto a las credenciales, la configuración de seguridad y muchos otros factores.</span><span class="sxs-lookup"><span data-stu-id="0d98a-243">The configuration may vary substantially between these environments&#x2014;not just in terms of server names, connection strings, and so on, but also potentially in terms of credentials, security settings, and lots of other factors.</span></span> <span data-ttu-id="0d98a-244">Si tiene que hacer esto con regularidad, no es muy conveniente modificar varias propiedades en el archivo de proyecto cada vez que cambie el entorno de destino.</span><span class="sxs-lookup"><span data-stu-id="0d98a-244">If you need to do this regularly, it's not really expedient to edit multiple properties in your project file every time you switch the target environment.</span></span> <span data-ttu-id="0d98a-245">Ni es una solución ideal para requerir una lista interminable de valores de propiedad que se proporcionan para el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-245">Nor is it an ideal solution to require an endless list of property values to be provided to the build process.</span></span>

<span data-ttu-id="0d98a-246">Afortunadamente, hay una alternativa.</span><span class="sxs-lookup"><span data-stu-id="0d98a-246">Fortunately there is an alternative.</span></span> <span data-ttu-id="0d98a-247">MSBuild permite dividir la configuración de compilación en varios archivos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-247">MSBuild lets you split your build configuration across multiple project files.</span></span> <span data-ttu-id="0d98a-248">Para ver cómo funciona esto, en la solución de ejemplo, observe que hay dos archivos de proyecto personalizado:</span><span class="sxs-lookup"><span data-stu-id="0d98a-248">To see how this works, in the sample solution, notice that there are two custom project files:</span></span>

- <span data-ttu-id="0d98a-249">*Publish.proj*, que contiene las propiedades, elementos, y los destinos que son comunes a todos los entornos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-249">*Publish.proj*, which contains properties, items, and targets that are common to all environments.</span></span>
- <span data-ttu-id="0d98a-250">*Env Dev.proj*, que contiene propiedades que son específicas para un entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="0d98a-250">*Env-Dev.proj*, which contains properties that are specific to a developer environment.</span></span>

<span data-ttu-id="0d98a-251">Ahora observe que la *Publish.proj* archivo incluye una [importación](https://msdn.microsoft.com/library/92x05xfs.aspx) elemento inmediatamente debajo de la apertura **proyecto** etiqueta.</span><span class="sxs-lookup"><span data-stu-id="0d98a-251">Now notice that the *Publish.proj* file includes an [Import](https://msdn.microsoft.com/library/92x05xfs.aspx) element, immediately beneath the opening **Project** tag.</span></span>


[!code-xml[Main](understanding-the-project-file/samples/sample16.xml)]


<span data-ttu-id="0d98a-252">El **importar** elemento se usa para importar el contenido de otro archivo de proyecto de MSBuild en el archivo de proyecto de MSBuild actual.</span><span class="sxs-lookup"><span data-stu-id="0d98a-252">The **Import** element is used to import the contents of another MSBuild project file into the current MSBuild project file.</span></span> <span data-ttu-id="0d98a-253">En este caso, el **TargetEnvPropsFile** parámetro proporciona el nombre de archivo del archivo del proyecto que desea importar.</span><span class="sxs-lookup"><span data-stu-id="0d98a-253">In this case, the **TargetEnvPropsFile** parameter provides the filename of the project file you want to import.</span></span> <span data-ttu-id="0d98a-254">Puede proporcionar un valor para este parámetro al ejecutar MSBuild.</span><span class="sxs-lookup"><span data-stu-id="0d98a-254">You can provide a value for this parameter when you run MSBuild.</span></span>


[!code-console[Main](understanding-the-project-file/samples/sample17.cmd)]


<span data-ttu-id="0d98a-255">Esto combina eficazmente el contenido de los dos archivos en un único archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-255">This effectively merges the contents of the two files into a single project file.</span></span> <span data-ttu-id="0d98a-256">Con este enfoque, puede crear un archivo de proyecto que contiene la configuración de compilación universal y varios archivos de proyecto adicionales que contiene propiedades específicas del entorno.</span><span class="sxs-lookup"><span data-stu-id="0d98a-256">Using this approach, you can create one project file containing your universal build configuration and multiple supplementary project files containing environment-specific properties.</span></span> <span data-ttu-id="0d98a-257">Como resultado, basta con ejecutar un comando con un valor de parámetro diferentes le permite implementar la solución en un entorno diferente.</span><span class="sxs-lookup"><span data-stu-id="0d98a-257">As a result, simply running a command with a different parameter value lets you deploy your solution to a different environment.</span></span>

![](understanding-the-project-file/_static/image3.png)

<span data-ttu-id="0d98a-258">División de los archivos de proyecto de esta manera es una buena práctica para seguir.</span><span class="sxs-lookup"><span data-stu-id="0d98a-258">Splitting your project files in this way is a good practice to follow.</span></span> <span data-ttu-id="0d98a-259">Permite a los desarrolladores implementar en varios entornos mediante la ejecución de un solo comando, al tiempo que evita la duplicación de las propiedades de compilación universal en varios archivos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d98a-259">It allows developers to deploy to multiple environments by running a single command, while avoiding the duplication of universal build properties across multiple project files.</span></span>

> [!NOTE]
> <span data-ttu-id="0d98a-260">Para obtener instrucciones sobre cómo personalizar los archivos de proyecto específicos del entorno para sus propios entornos de servidor, consulte [configurar propiedades de implementación de un entorno de destino](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="0d98a-260">For guidance on how to customize the environment-specific project files for your own server environments, see [Configuring Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>


## <a name="conclusion"></a><span data-ttu-id="0d98a-261">Conclusión</span><span class="sxs-lookup"><span data-stu-id="0d98a-261">Conclusion</span></span>

<span data-ttu-id="0d98a-262">En este tema se proporciona una introducción general a los archivos de proyecto de MSBuild y se explica cómo puede crear sus propios archivos de proyecto personalizadas para controlar el proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="0d98a-262">This topic provided a general introduction to MSBuild project files and explained how you can create your own custom project files to control the build process.</span></span> <span data-ttu-id="0d98a-263">También introdujo el concepto de dividir los archivos de proyecto en las instrucciones de compilación universal y propiedades específicos del entorno de compilación, para que sea fácil compilar e implementar proyectos en varios destinos.</span><span class="sxs-lookup"><span data-stu-id="0d98a-263">It also introduced the concept of splitting project files into universal build instructions and environment-specific build properties, to make it easy to build and deploy projects to multiple destinations.</span></span>

<span data-ttu-id="0d98a-264">El tema siguiente, [descripción del proceso de compilación](understanding-the-build-process.md), proporciona más información sobre cómo puede usar archivos de proyecto al control compilación e implementación, le guía a través de la implementación de una solución con un nivel de complejidad realista.</span><span class="sxs-lookup"><span data-stu-id="0d98a-264">The next topic, [Understanding the Build Process](understanding-the-build-process.md), provides more insight into how you can use project files to control build and deployment by walking you through the deployment of a solution with a realistic level of complexity.</span></span>

## <a name="further-reading"></a><span data-ttu-id="0d98a-265">Información adicional</span><span class="sxs-lookup"><span data-stu-id="0d98a-265">Further Reading</span></span>

<span data-ttu-id="0d98a-266">Para obtener una introducción más detallada a los archivos de proyecto y el WPP, consulte [dentro de la Microsoft Build Engine: Uso de MSBuild y Team Foundation Build](http://amzn.com/0735645248) por Sayed Ibrahim Hashimi y William Bartholomew, ISBN: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="0d98a-266">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0d98a-267">[Anterior](setting-up-the-contact-manager-solution.md)
> [Siguiente](understanding-the-build-process.md)</span><span class="sxs-lookup"><span data-stu-id="0d98a-267">[Previous](setting-up-the-contact-manager-solution.md)
[Next](understanding-the-build-process.md)</span></span>

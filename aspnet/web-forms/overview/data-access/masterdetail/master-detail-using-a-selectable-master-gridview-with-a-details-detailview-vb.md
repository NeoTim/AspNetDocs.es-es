---
uid: web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
title: Maestro y detalles mediante un GridView maestro seleccionable con un DetailView de detalles (VB) | Microsoft Docs
author: rick-anderson
description: Este tutorial tendrá un control GridView cuyas filas incluyen el nombre y el precio de cada producto junto con un botón de selección. Al hacer clic en el botón Seleccionar para un particu...
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 1d1a7c93-971d-4690-9c5e-dac0e5014a09
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb
msc.type: authoredcontent
ms.openlocfilehash: 0bf724741ffbc01aa7611d8b075d89827bf83777
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57041932"
---
<a name="masterdetail-using-a-selectable-master-gridview-with-a-details-detailview-vb"></a><span data-ttu-id="e5759-104">Maestro y detalles mediante un GridView maestro seleccionable con un DetailView de detalles (VB)</span><span class="sxs-lookup"><span data-stu-id="e5759-104">Master/Detail Using a Selectable Master GridView with a Details DetailView (VB)</span></span>
====================
<span data-ttu-id="e5759-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="e5759-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="e5759-106">[Descargue la aplicación de ejemplo](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) o [descargar PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="e5759-106">[Download Sample App](http://download.microsoft.com/download/5/d/7/5d7571fc-d0b7-4798-ad4a-c976c02363ce/ASPNET_Data_Tutorial_10_VB.exe) or [Download PDF](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/datatutorial10vb1.pdf)</span></span>

> <span data-ttu-id="e5759-107">Este tutorial tendrá un control GridView cuyas filas incluyen el nombre y el precio de cada producto junto con un botón de selección.</span><span class="sxs-lookup"><span data-stu-id="e5759-107">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="e5759-108">Al hacer clic en el botón de selección de un determinado producto hará que su información completa para mostrarse en un control DetailsView en la misma página.</span><span class="sxs-lookup"><span data-stu-id="e5759-108">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


## <a name="introduction"></a><span data-ttu-id="e5759-109">Introducción</span><span class="sxs-lookup"><span data-stu-id="e5759-109">Introduction</span></span>

<span data-ttu-id="e5759-110">En el [tutorial anterior](master-detail-filtering-across-two-pages-vb.md) vimos cómo crear un informe de maestro y detalles mediante dos páginas web: una página web "principal", desde el que se muestra la lista de proveedores; y una página web "Detalles" que se enumeran los productos proporcionados por el texto seleccionado proveedor.</span><span class="sxs-lookup"><span data-stu-id="e5759-110">In the [previous tutorial](master-detail-filtering-across-two-pages-vb.md) we saw how to create a master/detail report using two web pages: a "master" web page, from which we displayed the list of suppliers; and a "details" web page that listed those products provided by the selected supplier.</span></span> <span data-ttu-id="e5759-111">Este formato de informe de dos páginas puede se comprimen en una sola página.</span><span class="sxs-lookup"><span data-stu-id="e5759-111">This two page report format can be condensed into one page.</span></span> <span data-ttu-id="e5759-112">Este tutorial tendrá un control GridView cuyas filas incluyen el nombre y el precio de cada producto junto con un botón de selección.</span><span class="sxs-lookup"><span data-stu-id="e5759-112">This tutorial will have a GridView whose rows include the name and price of each product along with a Select button.</span></span> <span data-ttu-id="e5759-113">Al hacer clic en el botón de selección de un determinado producto hará que su información completa para mostrarse en un control DetailsView en la misma página.</span><span class="sxs-lookup"><span data-stu-id="e5759-113">Clicking the Select button for a particular product will cause its full details to be displayed in a DetailsView control on the same page.</span></span>


<span data-ttu-id="e5759-114">[![Al hacer clic en el botón de selección muestra los detalles del producto](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-114">[![Clicking the Select Button Displays the Product's Details](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image2.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image1.png)</span></span>

<span data-ttu-id="e5759-115">**Figura 1**: Al hacer clic en el botón de selección muestra los detalles del producto ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-115">**Figure 1**: Clicking the Select Button Displays the Product's Details ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image3.png))</span></span>


## <a name="step-1-creating-a-selectable-gridview"></a><span data-ttu-id="e5759-116">Paso 1: Creación de un control GridView seleccionable</span><span class="sxs-lookup"><span data-stu-id="e5759-116">Step 1: Creating a Selectable GridView</span></span>

<span data-ttu-id="e5759-117">Recuerde que en el maestro y detalles de dos páginas de informes que cada registro maestro incluirá un hipervínculo que, al hacer clic, envía el usuario a la página de detalles, pasando la fila donde ha hecho clic `SupplierID` valor en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="e5759-117">Recall that in the two-page master/detail report that each master record included a hyperlink that, when clicked, sent the user to the details page passing the clicked row's `SupplierID` value in the querystring.</span></span> <span data-ttu-id="e5759-118">Se agregó un hipervínculo de este tipo para cada fila GridView con un campo Hyperlink.</span><span class="sxs-lookup"><span data-stu-id="e5759-118">Such a hyperlink was added to each GridView row using a HyperLinkField.</span></span> <span data-ttu-id="e5759-119">Para el informe de maestro y detalles de página única, necesitamos un botón para cada control GridView de filas que, al hacer clic, muestra los detalles.</span><span class="sxs-lookup"><span data-stu-id="e5759-119">For the single page master/details report, we will need a Button for each GridView row that, when clicked, shows the details.</span></span> <span data-ttu-id="e5759-120">El control GridView se puede configurar para que incluya un botón Seleccionar para cada fila que se produce un postback y marca esa fila como la GridView [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span><span class="sxs-lookup"><span data-stu-id="e5759-120">The GridView control can be configured to include a Select button for each row that causes a postback and marks that row as the GridView's [SelectedRow](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedrow.aspx).</span></span>

<span data-ttu-id="e5759-121">Empiece agregando un control GridView a la `DetailsBySelecting.aspx` página en el `Filtering` carpeta, establecer su `ID` propiedad `ProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="e5759-121">Start by adding a GridView control to the `DetailsBySelecting.aspx` page in the `Filtering` folder, setting its `ID` property to `ProductsGrid`.</span></span> <span data-ttu-id="e5759-122">A continuación, agregue un nuevo origen ObjectDataSource denominado `AllProductsDataSource` que invoca la `ProductsBLL` la clase `GetProducts()` método.</span><span class="sxs-lookup"><span data-stu-id="e5759-122">Next, add a new ObjectDataSource named `AllProductsDataSource` that invokes the `ProductsBLL` class's `GetProducts()` method.</span></span>


<span data-ttu-id="e5759-123">[![Crear un origen ObjectDataSource denominado AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-123">[![Create an ObjectDataSource Named AllProductsDataSource](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image5.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image4.png)</span></span>

<span data-ttu-id="e5759-124">**Figura 2**: Crear un origen ObjectDataSource denominado `AllProductsDataSource` ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-124">**Figure 2**: Create an ObjectDataSource Named `AllProductsDataSource` ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image6.png))</span></span>


<span data-ttu-id="e5759-125">[![Utilice la clase ProductsBLL](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-125">[![Use the ProductsBLL Class](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image8.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image7.png)</span></span>

<span data-ttu-id="e5759-126">**Figura 3**: Use la `ProductsBLL` clase ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-126">**Figure 3**: Use the `ProductsBLL` Class ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image9.png))</span></span>


<span data-ttu-id="e5759-127">[![Configurar el origen ObjectDataSource para invocar el método GetProducts()](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-127">[![Configure the ObjectDataSource to Invoke the GetProducts() Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image11.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image10.png)</span></span>

<span data-ttu-id="e5759-128">**Figura 4**: Configurar el origen ObjectDataSource a Invoke la `GetProducts()` método ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-128">**Figure 4**: Configure the ObjectDataSource to Invoke the `GetProducts()` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image12.png))</span></span>


<span data-ttu-id="e5759-129">Editar campos de GridView quitando todos excepto el `ProductName` y `UnitPrice` BoundFields.</span><span class="sxs-lookup"><span data-stu-id="e5759-129">Edit the GridView's fields removing all but the `ProductName` and `UnitPrice` BoundFields.</span></span> <span data-ttu-id="e5759-130">Además, no dude en personalizar estos BoundFields según sea necesario, como el formato el `UnitPrice` BoundField como moneda y cambiando el `HeaderText` propiedades de la BoundFields.</span><span class="sxs-lookup"><span data-stu-id="e5759-130">Also, feel free to customize these BoundFields as needed, such as formatting the `UnitPrice` BoundField as a currency and changing the `HeaderText` properties of the BoundFields.</span></span> <span data-ttu-id="e5759-131">Estos pasos pueden realizarse gráficamente, haciendo clic en el vínculo Editar columnas de etiqueta inteligente de GridView, o mediante la configuración manual de la sintaxis declarativa.</span><span class="sxs-lookup"><span data-stu-id="e5759-131">These steps can be accomplished graphically, by clicking the Edit Columns link from the GridView's smart tag, or by manually configuring the declarative syntax.</span></span>


<span data-ttu-id="e5759-132">[![Quitar todo salvo la ProductName y UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-132">[![Remove All But the ProductName and UnitPrice BoundFields](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image14.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image13.png)</span></span>

<span data-ttu-id="e5759-133">**Figura 5**: Quite todo, pero la `ProductName` y `UnitPrice` BoundFields ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-133">**Figure 5**: Remove All But the `ProductName` and `UnitPrice` BoundFields ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image15.png))</span></span>


<span data-ttu-id="e5759-134">El marcado final para el control GridView es:</span><span class="sxs-lookup"><span data-stu-id="e5759-134">The final markup for the GridView is:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample1.aspx)]

<span data-ttu-id="e5759-135">A continuación, se debe marcar GridView como seleccionable, que se agregará un botón Seleccionar para cada fila.</span><span class="sxs-lookup"><span data-stu-id="e5759-135">Next, we need to mark the GridView as selectable, which will add a Select button to each row.</span></span> <span data-ttu-id="e5759-136">Para lograr esto, simplemente marque la casilla de verificación Habilitar selección en la etiqueta inteligente de GridView.</span><span class="sxs-lookup"><span data-stu-id="e5759-136">To accomplish this, simply check the Enable Selection checkbox in the GridView's smart tag.</span></span>


<span data-ttu-id="e5759-137">[![Que se pueda seleccionar las filas de GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-137">[![Make the GridView's Rows Selectable](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image17.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image16.png)</span></span>

<span data-ttu-id="e5759-138">**Figura 6**: Asegúrese filas seleccionables de GridView ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-138">**Figure 6**: Make the GridView's Rows Selectable ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image18.png))</span></span>


<span data-ttu-id="e5759-139">Comprobación de la opción de habilitar la selección agrega un CommandField a la `ProductsGrid` GridView con su `ShowSelectButton` propiedad establecida en True.</span><span class="sxs-lookup"><span data-stu-id="e5759-139">Checking the Enabling Selection option adds a CommandField to the `ProductsGrid` GridView with its `ShowSelectButton` property set to True.</span></span> <span data-ttu-id="e5759-140">Esto da como resultado un botón Seleccionar para cada fila del control GridView, como se muestra en la figura 6.</span><span class="sxs-lookup"><span data-stu-id="e5759-140">This results in a Select button for each row of the GridView, as Figure 6 illustrates.</span></span> <span data-ttu-id="e5759-141">De forma predeterminada, los botones de selección se representan como LinkButtons, pero puede usar los botones o ImageButtons en su lugar a través de la CommandField `ButtonType` propiedad.</span><span class="sxs-lookup"><span data-stu-id="e5759-141">By default, the Select buttons are rendered as LinkButtons, but you can use Buttons or ImageButtons instead through the CommandField's `ButtonType` property.</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample2.aspx)]

<span data-ttu-id="e5759-142">Cuando se hace clic en el botón Seleccionar de una fila GridView que habrá trastornos una devolución de datos y la GridView `SelectedRow` se actualiza la propiedad.</span><span class="sxs-lookup"><span data-stu-id="e5759-142">When a GridView row's Select button is clicked a postback ensues and the GridView's `SelectedRow` property is updated.</span></span> <span data-ttu-id="e5759-143">Además el `SelectedRow` propiedad, el control GridView proporciona el [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), y [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) propiedades.</span><span class="sxs-lookup"><span data-stu-id="e5759-143">In addition to the `SelectedRow` property, the GridView provides the [SelectedIndex](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex%28VS.80%29.aspx), [SelectedValue](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue%28VS.80%29.aspx), and [SelectedDataKey](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selecteddatakey%28VS.80%29.aspx) properties.</span></span> <span data-ttu-id="e5759-144">El `SelectedIndex` propiedad devuelve el índice de la fila seleccionada, mientras que el `SelectedValue` y `SelectedDataKey` propiedades devuelven valores según la GridView [propiedad DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="e5759-144">The `SelectedIndex` property returns the index of the selected row, whereas the `SelectedValue` and `SelectedDataKey` properties return values based upon the GridView's [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames%28VS.80%29.aspx).</span></span>

<span data-ttu-id="e5759-145">El `DataKeyNames` propiedad se utiliza para asociar una o más campos de datos con cada fila y normalmente se utilizan para atribuir la información de identificación de forma exclusiva los datos subyacentes con cada fila GridView.</span><span class="sxs-lookup"><span data-stu-id="e5759-145">The `DataKeyNames` property is used to associate one or more data field values with each row and is commonly used to attribute uniquely identifying information from the underlying data with each GridView row.</span></span> <span data-ttu-id="e5759-146">El `SelectedValue` propiedad devuelve el valor del primer `DataKeyNames` campo de datos de la fila seleccionada mientras que el `SelectedDataKey` propiedad devuelve la fila seleccionada `DataKey` objeto, que contiene todos los valores para los campos de clave de datos especificado para esa fila.</span><span class="sxs-lookup"><span data-stu-id="e5759-146">The `SelectedValue` property returns the value of the first `DataKeyNames` data field for the selected row where as the `SelectedDataKey` property returns the selected row's `DataKey` object, which contains all of the values for the specified data key fields for that row.</span></span>

<span data-ttu-id="e5759-147">El `DataKeyNames` propiedad se establece automáticamente en los campos de datos de identificación de forma exclusiva al enlazar un origen de datos a un control GridView, DetailsView o FormView a través del diseñador.</span><span class="sxs-lookup"><span data-stu-id="e5759-147">The `DataKeyNames` property is automatically set to the uniquely-identifying data field(s) when you bind a data source to a GridView, DetailsView, or FormView through the Designer.</span></span> <span data-ttu-id="e5759-148">Aunque esta propiedad se ha establecido para que podamos automáticamente en los tutoriales anteriores, los ejemplos se habría funcionado sin el `DataKeyNames` propiedad especificada.</span><span class="sxs-lookup"><span data-stu-id="e5759-148">While this property has been set for us automatically in the preceding tutorials, the examples would have worked without the `DataKeyNames` property specified.</span></span> <span data-ttu-id="e5759-149">Sin embargo, para el control GridView seleccionable en este tutorial, así como tutoriales futuros en el que se obtendrá examinando Insertar, actualizar y eliminar, el `DataKeyNames` propiedad debe establecerse correctamente.</span><span class="sxs-lookup"><span data-stu-id="e5759-149">However, for the selectable GridView in this tutorial, as well as for future tutorials in which we'll be examining inserting, updating, and deleting, the `DataKeyNames` property must be set properly.</span></span> <span data-ttu-id="e5759-150">Dedique un momento para asegurarse de que la GridView `DataKeyNames` propiedad está establecida en `ProductID`.</span><span class="sxs-lookup"><span data-stu-id="e5759-150">Take a moment to ensure that your GridView's `DataKeyNames` property is set to `ProductID`.</span></span>

<span data-ttu-id="e5759-151">Vamos a ver nuestro progreso hasta ahora a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="e5759-151">Let's view our progress thus far through a browser.</span></span> <span data-ttu-id="e5759-152">Tenga en cuenta que el control GridView muestra el nombre y el precio de todos los productos, junto con un control LinkButton seleccione.</span><span class="sxs-lookup"><span data-stu-id="e5759-152">Note that the GridView lists the name and price for all of the products along with a Select LinkButton.</span></span> <span data-ttu-id="e5759-153">Al hacer clic en el botón de selección, se produce un postback.</span><span class="sxs-lookup"><span data-stu-id="e5759-153">Clicking the Select button causes a postback.</span></span> <span data-ttu-id="e5759-154">En el paso 2, veremos cómo hacer que una respuesta DetailsView a esta devolución de datos al mostrar los detalles del producto seleccionado.</span><span class="sxs-lookup"><span data-stu-id="e5759-154">In Step 2 we'll see how to have a DetailsView respond to this postback by displaying the details for the selected product.</span></span>


<span data-ttu-id="e5759-155">[![Cada fila del producto contiene un control LinkButton Select](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-155">[![Each Product Row Contains a Select LinkButton](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image20.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image19.png)</span></span>

<span data-ttu-id="e5759-156">**Figura 7**: Cada fila del producto contiene un control LinkButton seleccione ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-156">**Figure 7**: Each Product Row Contains a Select LinkButton ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image21.png))</span></span>


## <a name="highlighting-the-selected-row"></a><span data-ttu-id="e5759-157">Resaltado de la fila seleccionada</span><span class="sxs-lookup"><span data-stu-id="e5759-157">Highlighting the Selected Row</span></span>

<span data-ttu-id="e5759-158">El `ProductsGrid` GridView tiene un `SelectedRowStyle` propiedad que se puede utilizar para dictar el estilo visual de la fila seleccionada.</span><span class="sxs-lookup"><span data-stu-id="e5759-158">The `ProductsGrid` GridView has a `SelectedRowStyle` property that can be used to dictate the visual style for the selected row.</span></span> <span data-ttu-id="e5759-159">Utiliza correctamente, esto puede mejorar la experiencia del usuario presentando más claramente qué fila del control GridView está seleccionada actualmente.</span><span class="sxs-lookup"><span data-stu-id="e5759-159">Used properly, this can improve the user's experience by more clearly showing which row of the GridView is currently selected.</span></span> <span data-ttu-id="e5759-160">Para este tutorial, vamos a tener la fila seleccionada se resalta con un fondo amarillo.</span><span class="sxs-lookup"><span data-stu-id="e5759-160">For this tutorial, let's have the selected row be highlighted with a yellow background.</span></span>

<span data-ttu-id="e5759-161">Al igual que con nuestros tutoriales anteriores, vamos a intentar mantener la configuración relacionada con la estética definida como clases CSS.</span><span class="sxs-lookup"><span data-stu-id="e5759-161">As with our earlier tutorials, let's strive to keep the aesthetic-related settings defined as CSS classes.</span></span> <span data-ttu-id="e5759-162">Por lo tanto, cree una nueva clase CSS en `Styles.css` denominado `SelectedRowStyle`.</span><span class="sxs-lookup"><span data-stu-id="e5759-162">Therefore, create a new CSS class in `Styles.css` named `SelectedRowStyle`.</span></span>


[!code-css[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample3.css)]

<span data-ttu-id="e5759-163">Para aplicar esta clase CSS para el `SelectedRowStyle` propiedad de *todos los* GridViews en nuestra serie de tutoriales, editar la `GridView.skin` máscara en el `DataWebControls` tema para incluir el `SelectedRowStyle` opciones como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="e5759-163">To apply this CSS class to the `SelectedRowStyle` property of *all* GridViews in our tutorial series, edit the `GridView.skin` Skin in the `DataWebControls` Theme to include the `SelectedRowStyle` settings as shown below:</span></span>


[!code-aspx[Main](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/samples/sample4.aspx)]

<span data-ttu-id="e5759-164">Con esta adición, la fila seleccionada de GridView aparece resaltada con un color de fondo amarillo.</span><span class="sxs-lookup"><span data-stu-id="e5759-164">With this addition, the selected GridView row is now highlighted with a yellow background color.</span></span>


<span data-ttu-id="e5759-165">[![Personalizar la apariencia de la fila seleccionada mediante SelectedRowStyle propiedad de GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-165">[![Customize the Selected Row's Appearance Using the GridView's SelectedRowStyle Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image23.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image22.png)</span></span>

<span data-ttu-id="e5759-166">**Figura 8**: Personalizar la apariencia de usando la fila seleccionada la GridView `SelectedRowStyle` propiedad ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-166">**Figure 8**: Customize the Selected Row's Appearance Using the GridView's `SelectedRowStyle` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image24.png))</span></span>


## <a name="step-2-displaying-the-selected-products-details-in-a-detailsview"></a><span data-ttu-id="e5759-167">Paso 2: Mostrar detalles del producto seleccionado en DetailsView</span><span class="sxs-lookup"><span data-stu-id="e5759-167">Step 2: Displaying the Selected Product's Details in a DetailsView</span></span>

<span data-ttu-id="e5759-168">Con la `ProductsGrid` completar GridView, todo lo que queda es agregar un DetailsView que muestra información sobre el producto específico seleccionado.</span><span class="sxs-lookup"><span data-stu-id="e5759-168">With the `ProductsGrid` GridView complete, all that remains is to add a DetailsView that displays information about the particular product selected.</span></span> <span data-ttu-id="e5759-169">Agregar un control DetailsView por encima del control GridView y crear un nuevo origen ObjectDataSource denominado `ProductDetailsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="e5759-169">Add a DetailsView control above the GridView and create a new ObjectDataSource named `ProductDetailsDataSource`.</span></span> <span data-ttu-id="e5759-170">Puesto que deseamos que este DetailsView para mostrar información concreta sobre el producto seleccionado, configure el `ProductDetailsDataSource` para usar el `ProductsBLL` la clase `GetProductByProductID(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="e5759-170">Since we want this DetailsView to display particular information about the selected product, configure the `ProductDetailsDataSource` to use the `ProductsBLL` class's `GetProductByProductID(productID)` method.</span></span>


<span data-ttu-id="e5759-171">[![Invocar el método de la clase ProductsBLL GetProductByProductID(productID)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-171">[![Invoke the ProductsBLL Class's GetProductByProductID(productID) Method](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image26.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image25.png)</span></span>

<span data-ttu-id="e5759-172">**Figura 9**: Invocar el `ProductsBLL` la clase `GetProductByProductID(productID)` método ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-172">**Figure 9**: Invoke the `ProductsBLL` Class's `GetProductByProductID(productID)` Method ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image27.png))</span></span>


<span data-ttu-id="e5759-173">Tiene la *`productID`* valor del parámetro obtenida del control GridView `SelectedValue` propiedad.</span><span class="sxs-lookup"><span data-stu-id="e5759-173">Have the *`productID`* parameter's value obtained from the GridView control's `SelectedValue` property.</span></span> <span data-ttu-id="e5759-174">Como se explicó anteriormente, la GridView `SelectedValue` propiedad devuelve el valor de la fila seleccionada de la clave de los primeros datos.</span><span class="sxs-lookup"><span data-stu-id="e5759-174">As we discussed earlier, the GridView's `SelectedValue` property returns the first data key value for the selected row.</span></span> <span data-ttu-id="e5759-175">Por lo tanto, es imprescindible que la GridView `DataKeyNames` propiedad está establecida en `ProductID`, de modo que la fila seleccionada `ProductID` valor devuelto por `SelectedValue`.</span><span class="sxs-lookup"><span data-stu-id="e5759-175">Therefore, it's imperative that the GridView's `DataKeyNames` property is set to `ProductID`, so that the selected row's `ProductID` value is returned by `SelectedValue`.</span></span>


<span data-ttu-id="e5759-176">[![Establezca el parámetro productID a propiedad de SelectedValue prvku GridView.](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-176">[![Set the productID Parameter to the GridView's SelectedValue Property](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image29.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image28.png)</span></span>

<span data-ttu-id="e5759-177">**Figura 10**: Establecer el *`productID`* parámetro a la GridView `SelectedValue` propiedad ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-177">**Figure 10**: Set the *`productID`* Parameter to the GridView's `SelectedValue` Property ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image30.png))</span></span>


<span data-ttu-id="e5759-178">Una vez el `productDetailsDataSource` ObjectDataSource ha sido configurado correctamente y se ha enlazado a DetailsView, este tutorial está completo.</span><span class="sxs-lookup"><span data-stu-id="e5759-178">Once the `productDetailsDataSource` ObjectDataSource has been configured correctly and bound to the DetailsView, this tutorial is complete!</span></span> <span data-ttu-id="e5759-179">Cuando primero se visita la página no se selecciona ninguna fila, por lo que del control GridView `SelectedValue` propiedad devuelve `Nothing`.</span><span class="sxs-lookup"><span data-stu-id="e5759-179">When the page is first visited no row is selected, so the GridView's `SelectedValue` property returns `Nothing`.</span></span> <span data-ttu-id="e5759-180">Puesto que hay productos con un `NULL` `ProductID` valor, se devuelve ningún registro por el `GetProductByProductID(productID)` método, lo que significa que no se muestra el DetailsView (consulte la figura 11).</span><span class="sxs-lookup"><span data-stu-id="e5759-180">Since there are no products with a `NULL` `ProductID` value, no records are returned by the `GetProductByProductID(productID)` method, meaning that the DetailsView isn't displayed (see Figure 11).</span></span> <span data-ttu-id="e5759-181">Al hacer clic en botón Seleccionar de una fila GridView, una devolución de datos que habrá trastornos y DetailsView se actualiza.</span><span class="sxs-lookup"><span data-stu-id="e5759-181">Upon clicking a GridView row's Select button, a postback ensues and the DetailsView is refreshed.</span></span> <span data-ttu-id="e5759-182">Esta vez la GridView `SelectedValue` propiedad devuelve el `ProductID` de la fila seleccionada, el `GetProductByProductID(productID)` método devuelve un `ProductsDataTable` con información acerca de ese producto en particular y DetailsView muestra estos detalles (consulte la figura 12).</span><span class="sxs-lookup"><span data-stu-id="e5759-182">This time the GridView's `SelectedValue` property returns the `ProductID` of the selected row, the `GetProductByProductID(productID)` method returns a `ProductsDataTable` with information about that particular product, and the DetailsView shows these details (see Figure 12).</span></span>


<span data-ttu-id="e5759-183">[![Cuando se muestre la primera visita, sólo el control GridView](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-183">[![When First Visited, Only the GridView is Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image32.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image31.png)</span></span>

<span data-ttu-id="e5759-184">**Figura 11**: Cuando se visita en primer lugar, se muestra solo el control GridView ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-184">**Figure 11**: When First Visited, Only the GridView is Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image33.png))</span></span>


<span data-ttu-id="e5759-185">[![Al seleccionar una fila, se muestran los detalles del producto](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="e5759-185">[![Upon Selecting a Row, the Product's Details are Displayed](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image35.png)](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image34.png)</span></span>

<span data-ttu-id="e5759-186">**Figura 12**: Al seleccionar una fila, se muestran los detalles del producto ([haga clic aquí para ver imagen en tamaño completo](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="e5759-186">**Figure 12**: Upon Selecting a Row, the Product's Details are Displayed ([Click to view full-size image](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-vb/_static/image36.png))</span></span>


## <a name="summary"></a><span data-ttu-id="e5759-187">Resumen</span><span class="sxs-lookup"><span data-stu-id="e5759-187">Summary</span></span>

<span data-ttu-id="e5759-188">En este y los tres tutoriales anteriores, hemos visto una serie de técnicas para mostrar los informes de maestro y detalles.</span><span class="sxs-lookup"><span data-stu-id="e5759-188">In this and the preceding three tutorials we've seen a number of techniques for displaying master/detail reports.</span></span> <span data-ttu-id="e5759-189">En este tutorial que se examinan mediante un GridView seleccionable para alojar los registros maestros y DetailsView para mostrar los detalles sobre el registro maestro seleccionado en la misma página.</span><span class="sxs-lookup"><span data-stu-id="e5759-189">In this tutorial we examined using a selectable GridView to house the master records and a DetailsView to display details about the selected master record on the same page.</span></span> <span data-ttu-id="e5759-190">En los tutoriales anteriores hemos examinado cómo mostrar informes de maestro y detalles con listas desplegables y mostrar registros maestros en una página web y registros de detalle en otro.</span><span class="sxs-lookup"><span data-stu-id="e5759-190">In the earlier tutorials we looked at how to display master/details reports using DropDownLists and displaying master records on one web page and detail records on another.</span></span>

<span data-ttu-id="e5759-191">En este tutorial concluye nuestro examen de los informes de maestro y detalles.</span><span class="sxs-lookup"><span data-stu-id="e5759-191">This tutorial concludes our examination of master/detail reports.</span></span> <span data-ttu-id="e5759-192">Empezando por el siguiente tutorial comenzaremos nuestro periplo de formato personalizado con el control GridView, DetailsView y FormView.</span><span class="sxs-lookup"><span data-stu-id="e5759-192">Starting with the next tutorial we'll begin our exploration of customized formatting with the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="e5759-193">Veremos cómo personalizar la apariencia de estos controles en función de los datos enlazados a ellas, cómo resumir los datos en el pie de página de GridView y cómo usar plantillas para obtener un mayor grado de control sobre el diseño.</span><span class="sxs-lookup"><span data-stu-id="e5759-193">We'll see how to customize the appearance of these controls based on the data bound to them, how to summarize data in the GridView's footer, and how to use templates to obtain a greater degree of control over the layout.</span></span>

<span data-ttu-id="e5759-194">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="e5759-194">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="e5759-195">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="e5759-195">About the Author</span></span>

<span data-ttu-id="e5759-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), trabaja con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="e5759-196">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="e5759-197">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="e5759-197">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="e5759-198">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="e5759-198">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="e5759-199">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e5759-199">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="e5759-200">o a través de su blog, que puede encontrarse en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="e5759-200">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="e5759-201">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="e5759-201">Special Thanks To</span></span>

<span data-ttu-id="e5759-202">Esta serie de tutoriales ha sido revisada por muchos revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="e5759-202">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="e5759-203">Revisor de clientes potencial para este tutorial era Hilton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="e5759-203">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="e5759-204">¿Está interesado en leer mi próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="e5759-204">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="e5759-205">Si es así, envíeme una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="e5759-205">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="e5759-206">Anterior</span><span class="sxs-lookup"><span data-stu-id="e5759-206">Previous</span></span>](master-detail-filtering-across-two-pages-vb.md)

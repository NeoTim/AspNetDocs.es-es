---
uid: mvc/overview/older-versions-1/models-data/creating-model-classes-with-linq-to-sql-cs
title: Crear clases de modelo con LINQ to SQLC#() | Microsoft Docs
author: microsoft
description: El objetivo de este tutorial es explicar un método para crear clases de modelo para una aplicación ASP.NET MVC. En este tutorial, aprenderá a crear el modelo c...
ms.author: riande
ms.date: 10/07/2008
ms.assetid: f84b4a16-e8bb-49e8-87a0-1832879a3501
msc.legacyurl: /mvc/overview/older-versions-1/models-data/creating-model-classes-with-linq-to-sql-cs
msc.type: authoredcontent
ms.openlocfilehash: c27d1ffac3846fe4bc13b32c2ae91a63b2493126
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78437191"
---
# <a name="creating-model-classes-with-linq-to-sql-c"></a><span data-ttu-id="1a9d6-104">Crear clases de modelo con LINQ to SQL (C#)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-104">Creating Model Classes with LINQ to SQL (C#)</span></span>

<span data-ttu-id="1a9d6-105">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-105">by [Microsoft](https://github.com/microsoft)</span></span>

[<span data-ttu-id="1a9d6-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="1a9d6-106">Download PDF</span></span>](https://download.microsoft.com/download/1/1/f/11f721aa-d749-4ed7-bb89-a681b68894e6/ASPNET_MVC_Tutorial_10_CS.pdf)

> <span data-ttu-id="1a9d6-107">El objetivo de este tutorial es explicar un método para crear clases de modelo para una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-107">The goal of this tutorial is to explain one method of creating model classes for an ASP.NET MVC application.</span></span> <span data-ttu-id="1a9d6-108">En este tutorial, aprenderá a crear clases de modelo y a realizar el acceso a la base de datos aprovechando las ventajas de Microsoft LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-108">In this tutorial, you learn how to build model classes and perform database access by taking advantage of Microsoft LINQ to SQL.</span></span>

<span data-ttu-id="1a9d6-109">El objetivo de este tutorial es explicar un método para crear clases de modelo para una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-109">The goal of this tutorial is to explain one method of creating model classes for an ASP.NET MVC application.</span></span> <span data-ttu-id="1a9d6-110">En este tutorial, aprenderá a crear clases de modelo y a realizar el acceso a la base de datos aprovechando las ventajas de Microsoft LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="1a9d6-110">In this tutorial, you learn how to build model classes and perform database access by taking advantage of Microsoft LINQ to SQL</span></span>

<span data-ttu-id="1a9d6-111">En este tutorial, se crea una aplicación de base de datos de películas básica.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-111">In this tutorial, we build a basic Movie database application.</span></span> <span data-ttu-id="1a9d6-112">Comenzaremos por crear la aplicación de base de datos de películas de la manera más rápida y sencilla posible.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-112">We start by creating the Movie database application in the fastest and easiest way possible.</span></span> <span data-ttu-id="1a9d6-113">Se realiza todo el acceso a los datos directamente desde las acciones del controlador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-113">We perform all of our data access directly from our controller actions.</span></span>

<span data-ttu-id="1a9d6-114">A continuación, aprenderá a usar el patrón de repositorio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-114">Next, you learn how to use the Repository pattern.</span></span> <span data-ttu-id="1a9d6-115">El uso del patrón de repositorio requiere un poco más de trabajo.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-115">Using the Repository pattern requires a little more work.</span></span> <span data-ttu-id="1a9d6-116">Sin embargo, la ventaja de adoptar este patrón es que le permite compilar aplicaciones que se pueden adaptar para cambiar y se pueden probar fácilmente.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-116">However, the advantage of adopting this pattern is that it enables you to build applications that are adaptable to change and can be easily tested.</span></span>

## <a name="what-is-a-model-class"></a><span data-ttu-id="1a9d6-117">¿Qué es una clase de modelo?</span><span class="sxs-lookup"><span data-stu-id="1a9d6-117">What is a Model Class?</span></span>

<span data-ttu-id="1a9d6-118">Un modelo de MVC contiene toda la lógica de la aplicación que no está incluida en una vista de MVC o en un controlador de MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-118">An MVC model contains all of the application logic that is not contained in an MVC view or MVC controller.</span></span> <span data-ttu-id="1a9d6-119">En concreto, un modelo de MVC contiene toda la lógica de acceso a datos y la empresa de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-119">In particular, an MVC model contains all of your application business and data access logic.</span></span>

<span data-ttu-id="1a9d6-120">Puede usar diversas tecnologías diferentes para implementar la lógica de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-120">You can use a variety of different technologies to implement your data access logic.</span></span> <span data-ttu-id="1a9d6-121">Por ejemplo, puede compilar las clases de acceso a datos mediante las clases Microsoft Entity Framework, NHibernate, Subsonic o ADO.NET.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-121">For example, you can build your data access classes using the Microsoft Entity Framework, NHibernate, Subsonic, or ADO.NET classes.</span></span>

<span data-ttu-id="1a9d6-122">En este tutorial, se usa LINQ to SQL para consultar y actualizar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-122">In this tutorial, I use LINQ to SQL to query and update the database.</span></span> <span data-ttu-id="1a9d6-123">LINQ to SQL proporciona un método muy sencillo de interactuar con una base de datos de Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-123">LINQ to SQL provides you with a very easy method of interacting with a Microsoft SQL Server database.</span></span> <span data-ttu-id="1a9d6-124">Sin embargo, es importante comprender que el marco de MVC de ASP.NET no está asociado a LINQ to SQL de ningún modo.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-124">However, it is important to understand that the ASP.NET MVC framework is not tied to LINQ to SQL in any way.</span></span> <span data-ttu-id="1a9d6-125">ASP.NET MVC es compatible con cualquier tecnología de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-125">ASP.NET MVC is compatible with any data access technology.</span></span>

## <a name="create-a-movie-database"></a><span data-ttu-id="1a9d6-126">Crear una base de datos de películas</span><span class="sxs-lookup"><span data-stu-id="1a9d6-126">Create a Movie Database</span></span>

<span data-ttu-id="1a9d6-127">En este tutorial, para ilustrar cómo puede crear clases de modelo, se crea una aplicación de base de datos de película simple.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-127">In this tutorial -- in order to illustrate how you can build model classes -- we build a simple Movie database application.</span></span> <span data-ttu-id="1a9d6-128">El primer paso es crear una nueva base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-128">The first step is to create a new database.</span></span> <span data-ttu-id="1a9d6-129">Haga clic con el botón derecho en la carpeta\_de datos de la aplicación en la ventana de Explorador de soluciones y seleccione la opción de menú **Agregar, nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-129">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span> <span data-ttu-id="1a9d6-130">Seleccione la plantilla de **base de datos SQL Server** , asígnele el nombre MoviesDB. MDF y haga clic en el botón **Agregar** (vea la figura 1).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-130">Select the **SQL Server Database** template, give it the name MoviesDB.mdf, and click the **Add** button (see Figure 1).</span></span>

<span data-ttu-id="1a9d6-131">[![agregar una nueva base de datos de SQL Server](creating-model-classes-with-linq-to-sql-cs/_static/image2.png)](creating-model-classes-with-linq-to-sql-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-131">[![Adding a new SQL Server Database](creating-model-classes-with-linq-to-sql-cs/_static/image2.png)](creating-model-classes-with-linq-to-sql-cs/_static/image1.png)</span></span>

<span data-ttu-id="1a9d6-132">**Figura 01**: agregar una nueva base de datos de SQL Server ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-132">**Figure 01**: Adding a new SQL Server Database ([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image3.png))</span></span>

<span data-ttu-id="1a9d6-133">Después de crear la nueva base de datos, puede abrir la base de datos haciendo doble clic en el archivo MoviesDB. MDF en la carpeta app\_Data.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-133">After you create the new database, you can open the database by double-clicking the MoviesDB.mdf file in the App\_Data folder.</span></span> <span data-ttu-id="1a9d6-134">Al hacer doble clic en el archivo MoviesDB. MDF, se abre la ventana Explorador de servidores (vea la figura 2).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-134">Double-clicking the MoviesDB.mdf file opens the Server Explorer window (see Figure 2).</span></span>

<span data-ttu-id="1a9d6-135">La ventana de Explorador de servidores se denomina ventana de Explorador de bases de datos al usar Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-135">The Server Explorer window is called the Database Explorer window when using Visual Web Developer.</span></span>

<span data-ttu-id="1a9d6-136">[![mediante la ventana de Explorador de servidores](creating-model-classes-with-linq-to-sql-cs/_static/image5.png)](creating-model-classes-with-linq-to-sql-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-136">[![Using the Server Explorer window](creating-model-classes-with-linq-to-sql-cs/_static/image5.png)](creating-model-classes-with-linq-to-sql-cs/_static/image4.png)</span></span>

<span data-ttu-id="1a9d6-137">**Figura 02**: uso de la ventana de explorador de servidores ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-137">**Figure 02**: Using the Server Explorer window ([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image6.png))</span></span>

<span data-ttu-id="1a9d6-138">Necesitamos agregar una tabla a nuestra base de datos que represente las películas.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-138">We need to add one table to our database that represents our movies.</span></span> <span data-ttu-id="1a9d6-139">Haga clic con el botón secundario en la carpeta tablas y seleccione la opción de menú **Agregar nueva tabla**.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-139">Right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="1a9d6-140">Al seleccionar esta opción de menú, se abre el Diseñador de tablas (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-140">Selecting this menu option opens the Table Designer (see Figure 3).</span></span>

<span data-ttu-id="1a9d6-141">[![mediante la ventana de Explorador de servidores](creating-model-classes-with-linq-to-sql-cs/_static/image8.png)](creating-model-classes-with-linq-to-sql-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-141">[![Using the Server Explorer window](creating-model-classes-with-linq-to-sql-cs/_static/image8.png)](creating-model-classes-with-linq-to-sql-cs/_static/image7.png)</span></span>

<span data-ttu-id="1a9d6-142">**Figura 03**: el diseñador de tablas ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-142">**Figure 03**: The Table Designer ([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image9.png))</span></span>

<span data-ttu-id="1a9d6-143">Necesitamos agregar las siguientes columnas a la tabla de base de datos:</span><span class="sxs-lookup"><span data-stu-id="1a9d6-143">We need to add the following columns to our database table:</span></span>

| <span data-ttu-id="1a9d6-144">**Nombre de la columna**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-144">**Column Name**</span></span> | <span data-ttu-id="1a9d6-145">**Tipo de datos**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-145">**Data Type**</span></span> | <span data-ttu-id="1a9d6-146">**Permitir valores NULL**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-146">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1a9d6-147">Id.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-147">Id</span></span> | <span data-ttu-id="1a9d6-148">Valor int.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-148">Int</span></span> | <span data-ttu-id="1a9d6-149">False</span><span class="sxs-lookup"><span data-stu-id="1a9d6-149">False</span></span> |
| <span data-ttu-id="1a9d6-150">Título</span><span class="sxs-lookup"><span data-stu-id="1a9d6-150">Title</span></span> | <span data-ttu-id="1a9d6-151">Nvarchar(200)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-151">Nvarchar(200)</span></span> | <span data-ttu-id="1a9d6-152">False</span><span class="sxs-lookup"><span data-stu-id="1a9d6-152">False</span></span> |
| <span data-ttu-id="1a9d6-153">Director</span><span class="sxs-lookup"><span data-stu-id="1a9d6-153">Director</span></span> | <span data-ttu-id="1a9d6-154">Nvarchar (50)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-154">Nvarchar(50)</span></span> | <span data-ttu-id="1a9d6-155">False</span><span class="sxs-lookup"><span data-stu-id="1a9d6-155">False</span></span> |

<span data-ttu-id="1a9d6-156">Debe hacer dos cosas especiales en la columna ID.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-156">You need to do two special things to the Id column.</span></span> <span data-ttu-id="1a9d6-157">En primer lugar, debe marcar la columna ID como columna de clave principal seleccionando la columna en el Diseñador de tablas y haciendo clic en el icono de una tecla.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-157">First, you need to mark the Id column as a primary key column by selecting the column in the Table Designer and clicking the icon of a key.</span></span> <span data-ttu-id="1a9d6-158">LINQ to SQL requiere que especifique las columnas de clave principal al realizar inserciones o actualizaciones en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-158">LINQ to SQL requires you to specify your primary key columns when performing inserts or updates against the database.</span></span>

<span data-ttu-id="1a9d6-159">A continuación, debe marcar la columna ID como columna de identidad mediante la asignación del valor YES a la propiedad **is Identity** (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-159">Next, you need to mark the Id column as an Identity column by assigning the value Yes to the **Is Identity** property (see Figure 3).</span></span> <span data-ttu-id="1a9d6-160">Una columna de identidad es una columna a la que se asigna un nuevo número automáticamente cada vez que se agrega una nueva fila de datos a una tabla.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-160">An Identity column is a column that is assigned a new number automatically whenever you add a new row of data to a table.</span></span>

## <a name="create-linq-to-sql-classes"></a><span data-ttu-id="1a9d6-161">Crear clases de LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="1a9d6-161">Create LINQ to SQL Classes</span></span>

<span data-ttu-id="1a9d6-162">Nuestro modelo de MVC contendrá LINQ to SQL clases que representan la tabla de base de datos tblMovie.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-162">Our MVC model will contain LINQ to SQL classes that represent the tblMovie database table.</span></span> <span data-ttu-id="1a9d6-163">La forma más fácil de crear estas clases de LINQ to SQL es hacer clic con el botón derecho en la carpeta modelos, seleccionar **Agregar, nuevo elemento**, seleccionar la plantilla clases de LINQ to SQL, dar a las clases el nombre Movie. dbml y hacer clic en el botón **Agregar** (consulte la figura 4).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-163">The easiest way to create these LINQ to SQL classes is to right-click the Models folder, select **Add, New Item**, select the LINQ to SQL Classes template, give the classes the name Movie.dbml, and click the **Add** button (see Figure 4).</span></span>

<span data-ttu-id="1a9d6-164">[![crear clases de LINQ to SQL](creating-model-classes-with-linq-to-sql-cs/_static/image11.png)](creating-model-classes-with-linq-to-sql-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-164">[![Creating LINQ to SQL classes](creating-model-classes-with-linq-to-sql-cs/_static/image11.png)](creating-model-classes-with-linq-to-sql-cs/_static/image10.png)</span></span>

<span data-ttu-id="1a9d6-165">**Figura 04**: creación de LINQ to SQL clases ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-165">**Figure 04**: Creating LINQ to SQL classes ([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image12.png))</span></span>

<span data-ttu-id="1a9d6-166">Inmediatamente después de crear las clases de LINQ to SQL de película, aparece el Object Relational Designer.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-166">Immediately after you create the Movie LINQ to SQL Classes, the Object Relational Designer appears.</span></span> <span data-ttu-id="1a9d6-167">Puede arrastrar las tablas de base de datos desde la ventana de Explorador de servidores hasta el Object Relational Designer para crear LINQ to SQL clases que representen tablas de base de datos determinadas.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-167">You can drag database tables from the Server Explorer window onto the Object Relational Designer to create LINQ to SQL Classes that represent particular database tables.</span></span> <span data-ttu-id="1a9d6-168">Necesitamos agregar la tabla de base de datos tblMovie en el Object Relational Designer (consulte la figura 5).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-168">We need to add the tblMovie database table onto the Object Relational Designer (see Figure 5).</span></span>

<span data-ttu-id="1a9d6-169">[![mediante el Object Relational Designer](creating-model-classes-with-linq-to-sql-cs/_static/image14.png)](creating-model-classes-with-linq-to-sql-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-169">[![Using the Object Relational Designer](creating-model-classes-with-linq-to-sql-cs/_static/image14.png)](creating-model-classes-with-linq-to-sql-cs/_static/image13.png)</span></span>

<span data-ttu-id="1a9d6-170">**Figura 05**: uso del Object Relational Designer ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-170">**Figure 05**: Using the Object Relational Designer  ([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image15.png))</span></span>

<span data-ttu-id="1a9d6-171">De forma predeterminada, la Object Relational Designer crea una clase con el mismo nombre que la tabla de base de datos que se arrastra al diseñador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-171">By default, the Object Relational Designer creates a class with the very same name as the database table that you drag onto the Designer.</span></span> <span data-ttu-id="1a9d6-172">Sin embargo, no queremos llamar a nuestra clase `tblMovie`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-172">However, we don't want to call our class `tblMovie`.</span></span> <span data-ttu-id="1a9d6-173">Por lo tanto, haga clic en el nombre de la clase en el diseñador y cambie el nombre de la clase a Movie.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-173">Therefore, click the name of the class in the Designer and change the name of the class to Movie.</span></span>

<span data-ttu-id="1a9d6-174">Por último, recuerde hacer clic en el botón **Guardar** (la imagen del disquete) para guardar las clases de LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-174">Finally, remember to click the **Save** button (the picture of the floppy) to save the LINQ to SQL Classes.</span></span> <span data-ttu-id="1a9d6-175">De lo contrario, el Object Relational Designer no generará las clases de LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-175">Otherwise, the LINQ to SQL Classes won't be generated by the Object Relational Designer.</span></span>

## <a name="using-linq-to-sql-in-a-controller-action"></a><span data-ttu-id="1a9d6-176">Usar LINQ to SQL en una acción de controlador</span><span class="sxs-lookup"><span data-stu-id="1a9d6-176">Using LINQ to SQL in a Controller Action</span></span>

<span data-ttu-id="1a9d6-177">Ahora que tenemos las clases de LINQ to SQL, podemos usar estas clases para recuperar datos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-177">Now that we have our LINQ to SQL classes, we can use these classes to retrieve data from the database.</span></span> <span data-ttu-id="1a9d6-178">En esta sección, aprenderá a usar clases de LINQ to SQL directamente dentro de una acción de controlador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-178">In this section, you learn how to use LINQ to SQL classes directly within a controller action.</span></span> <span data-ttu-id="1a9d6-179">Mostraremos la lista de películas de la tabla de base de datos tblMovies en una vista de MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-179">We'll display the list of movies from the tblMovies database table in an MVC view.</span></span>

<span data-ttu-id="1a9d6-180">En primer lugar, es necesario modificar la clase HomeController.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-180">First, we need to modify the HomeController class.</span></span> <span data-ttu-id="1a9d6-181">Esta clase se puede encontrar en la carpeta Controllers de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-181">This class can be found in the Controllers folder of your application.</span></span> <span data-ttu-id="1a9d6-182">Modifique la clase para que se parezca a la clase de la lista 1.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-182">Modify the class so it looks like the class in Listing 1.</span></span>

<span data-ttu-id="1a9d6-183">**Lista 1: `Controllers\HomeController.cs`**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-183">**Listing 1 – `Controllers\HomeController.cs`**</span></span>

[!code-csharp[Main](creating-model-classes-with-linq-to-sql-cs/samples/sample1.cs)]

<span data-ttu-id="1a9d6-184">La acción `Index()` de la lista 1 utiliza una LINQ to SQL clase DataContext (la `MovieDataContext`) para representar la base de datos `MoviesDB`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-184">The `Index()` action in Listing 1 uses a LINQ to SQL DataContext class (the `MovieDataContext`) to represent the `MoviesDB` database.</span></span> <span data-ttu-id="1a9d6-185">La clase `MoveDataContext` se generó en el Object Relational Designer de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-185">The `MoveDataContext` class was generated by the Visual Studio Object Relational Designer.</span></span>

<span data-ttu-id="1a9d6-186">Se realiza una consulta LINQ en el DataContext para recuperar todas las películas de la tabla de base de datos `tblMovies`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-186">A LINQ query is performed against the DataContext to retrieve all of the movies from the `tblMovies` database table.</span></span> <span data-ttu-id="1a9d6-187">La lista de películas se asigna a una variable local denominada `movies`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-187">The list of movies is assigned to a local variable named `movies`.</span></span> <span data-ttu-id="1a9d6-188">Por último, la lista de películas se pasa a la vista a través de los datos de la vista.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-188">Finally, the list of movies is passed to the view through view data.</span></span>

<span data-ttu-id="1a9d6-189">Para mostrar las películas, es necesario modificar la vista de índice.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-189">In order to show the movies, we next need to modify the Index view.</span></span> <span data-ttu-id="1a9d6-190">Puede encontrar la vista de índice en la carpeta `Views\Home\`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-190">You can find the Index view in the `Views\Home\` folder.</span></span> <span data-ttu-id="1a9d6-191">Actualice la vista de índice para que se parezca a la vista de la lista 2.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-191">Update the Index view so that it looks like the view in Listing 2.</span></span>

<span data-ttu-id="1a9d6-192">**Lista 2: `Views\Home\Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-192">**Listing 2 – `Views\Home\Index.aspx`**</span></span>

[!code-aspx[Main](creating-model-classes-with-linq-to-sql-cs/samples/sample2.aspx)]

<span data-ttu-id="1a9d6-193">Observe que la vista de índice modificada incluye una directiva de `<%@ import namespace %>` en la parte superior de la vista.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-193">Notice that the modified Index view includes an `<%@ import namespace %>` directive at the top of the view.</span></span> <span data-ttu-id="1a9d6-194">Esta directiva importa el `MvcApplication1.Models namespace`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-194">This directive imports the `MvcApplication1.Models namespace`.</span></span> <span data-ttu-id="1a9d6-195">Necesitamos este espacio de nombres para trabajar con las clases de `model` (en particular, la clase `Movie`) en la vista.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-195">We need this namespace in order to work with the `model` classes – in particular, the `Movie` class -- in the view.</span></span>

<span data-ttu-id="1a9d6-196">La vista de la lista 2 contiene un bucle `foreach` que recorre en iteración todos los elementos representados por la propiedad `ViewData.Model`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-196">The view in Listing 2 contains a `foreach` loop that iterates through all of the items represented by the `ViewData.Model` property.</span></span> <span data-ttu-id="1a9d6-197">El valor de la propiedad `Title` se muestra para cada `movie`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-197">The value of the `Title` property is displayed for each `movie`.</span></span>

<span data-ttu-id="1a9d6-198">Observe que el valor de la propiedad `ViewData.Model` se convierte en un `IEnumerable`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-198">Notice that the value of the `ViewData.Model` property is cast to an `IEnumerable`.</span></span> <span data-ttu-id="1a9d6-199">Esto es necesario para recorrer el contenido de `ViewData.Model`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-199">This is necessary in order to loop through the contents of `ViewData.Model`.</span></span> <span data-ttu-id="1a9d6-200">Otra opción consiste en crear un `view`fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-200">Another option here is to create a strongly-typed `view`.</span></span> <span data-ttu-id="1a9d6-201">Cuando se crea un `view`fuertemente tipado, se convierte la propiedad `ViewData.Model` en un tipo determinado de la clase de código subyacente de una vista.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-201">When you create a strongly-typed `view`, you cast the `ViewData.Model` property to a particular type in a view's code-behind class.</span></span>

<span data-ttu-id="1a9d6-202">Si ejecuta la aplicación después de modificar la clase de `HomeController` y la vista de índice, obtendrá una página en blanco.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-202">If you run the application after modifying the `HomeController` class and the Index view then you will get a blank page.</span></span> <span data-ttu-id="1a9d6-203">Aparecerá una página en blanco porque no hay ningún registro de película en la tabla de base de datos de `tblMovies`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-203">You'll get a blank page because there are no movie records in the `tblMovies` database table.</span></span>

<span data-ttu-id="1a9d6-204">Para agregar registros a la tabla de base de datos de `tblMovies`, haga clic con el botón secundario en la tabla de base de datos `tblMovies` en la ventana Explorador de servidores (Explorador de bases de datos ventana en Visual Web Developer) y seleccione la opción de menú Mostrar datos de tabla.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-204">In order to add records to the `tblMovies` database table, right-click the `tblMovies` database table in the Server Explorer window (Database Explorer window in Visual Web Developer) and select the menu option Show Table Data.</span></span> <span data-ttu-id="1a9d6-205">Puede insertar registros de `movie` mediante la cuadrícula que aparece (vea la figura 6).</span><span class="sxs-lookup"><span data-stu-id="1a9d6-205">You can insert `movie` records by using the grid that appears (see Figure 6).</span></span>

<span data-ttu-id="1a9d6-206">[![insertar películas](creating-model-classes-with-linq-to-sql-cs/_static/image17.png)](creating-model-classes-with-linq-to-sql-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-206">[![Inserting movies](creating-model-classes-with-linq-to-sql-cs/_static/image17.png)](creating-model-classes-with-linq-to-sql-cs/_static/image16.png)</span></span>

<span data-ttu-id="1a9d6-207">**Figura 06**: inserción de películas ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-207">**Figure 06**: Inserting movies([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image18.png))</span></span>

<span data-ttu-id="1a9d6-208">Después de agregar algunos registros de base de datos a la tabla de `tblMovies` y ejecutar la aplicación, verá la página en la figura 7.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-208">After you add some database records to the `tblMovies` table, and you run the application, you'll see the page in Figure 7.</span></span> <span data-ttu-id="1a9d6-209">Todos los registros de la base de datos de películas se muestran en una lista con viñetas.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-209">All of the movie database records are displayed in a bulleted list.</span></span>

<span data-ttu-id="1a9d6-210">[![visualización de películas con la vista de índice](creating-model-classes-with-linq-to-sql-cs/_static/image20.png)](creating-model-classes-with-linq-to-sql-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-210">[![Displaying movies with the Index view](creating-model-classes-with-linq-to-sql-cs/_static/image20.png)](creating-model-classes-with-linq-to-sql-cs/_static/image19.png)</span></span>

<span data-ttu-id="1a9d6-211">**Figura 07**: visualización de películas con la vista de índice ([haga clic para ver la imagen de tamaño completo](creating-model-classes-with-linq-to-sql-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="1a9d6-211">**Figure 07**: Displaying movies with the Index view([Click to view full-size image](creating-model-classes-with-linq-to-sql-cs/_static/image21.png))</span></span>

## <a name="using-the-repository-pattern"></a><span data-ttu-id="1a9d6-212">Uso del patrón de repositorio</span><span class="sxs-lookup"><span data-stu-id="1a9d6-212">Using the Repository Pattern</span></span>

<span data-ttu-id="1a9d6-213">En la sección anterior, usamos LINQ to SQL clases directamente dentro de una acción de controlador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-213">In the previous section, we used LINQ to SQL classes directly within a controller action.</span></span> <span data-ttu-id="1a9d6-214">Usamos la clase `MovieDataContext` directamente desde la acción del controlador de `Index()`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-214">We used the `MovieDataContext` class directly from the `Index()` controller action.</span></span> <span data-ttu-id="1a9d6-215">En el caso de una aplicación simple, no hay ningún problema.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-215">There is nothing wrong with doing this in the case of a simple application.</span></span> <span data-ttu-id="1a9d6-216">Sin embargo, trabajar directamente con LINQ to SQL en una clase de controlador crea problemas cuando es necesario crear una aplicación más compleja.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-216">However, working directly with LINQ to SQL in a controller class creates problems when you need to build a more complex application.</span></span>

<span data-ttu-id="1a9d6-217">El uso de LINQ to SQL dentro de una clase de controlador dificulta el cambio de las tecnologías de acceso a datos en el futuro.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-217">Using LINQ to SQL within a controller class makes it difficult to switch data access technologies in the future.</span></span> <span data-ttu-id="1a9d6-218">Por ejemplo, podría decidir pasar de usar Microsoft LINQ to SQL a usar Microsoft Entity Framework como tecnología de acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-218">For example, you might decide to switch from using Microsoft LINQ to SQL to using the Microsoft Entity Framework as your data access technology.</span></span> <span data-ttu-id="1a9d6-219">En ese caso, deberá volver a escribir todos los controladores que tengan acceso a la base de datos dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-219">In that case, you would need to rewrite every controller that accesses the database within your application.</span></span>

<span data-ttu-id="1a9d6-220">El uso de LINQ to SQL dentro de una clase de controlador también dificulta la compilación de pruebas unitarias para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-220">Using LINQ to SQL within a controller class also makes it difficult to build unit tests for your application.</span></span> <span data-ttu-id="1a9d6-221">Normalmente, no desea interactuar con una base de datos al realizar pruebas unitarias.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-221">Normally, you do not want to interact with a database when performing unit tests.</span></span> <span data-ttu-id="1a9d6-222">Quiere usar las pruebas unitarias para probar la lógica de la aplicación y no el servidor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-222">You want to use your unit tests to test your application logic and not your database server.</span></span>

<span data-ttu-id="1a9d6-223">Para compilar una aplicación MVC que sea más adaptable al cambio futuro y que se pueda probar más fácilmente, debería considerar la posibilidad de usar el patrón de repositorio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-223">In order to build an MVC application that is more adaptable to future change and that can be more easily tested, you should consider using the Repository pattern.</span></span> <span data-ttu-id="1a9d6-224">Cuando se usa el patrón de repositorio, se crea una clase de repositorio independiente que contiene toda la lógica de acceso a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-224">When you use the Repository pattern, you create a separate repository class that contains all of your database access logic.</span></span>

<span data-ttu-id="1a9d6-225">Cuando se crea la clase de repositorio, se crea una interfaz que representa todos los métodos usados por la clase de repositorio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-225">When you create the repository class, you create an interface that represents all of the methods used by the repository class.</span></span> <span data-ttu-id="1a9d6-226">Dentro de los controladores, escriba el código en la interfaz en lugar del repositorio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-226">Within your controllers, you write your code against the interface instead of the repository.</span></span> <span data-ttu-id="1a9d6-227">De este modo, puede implementar el repositorio mediante distintas tecnologías de acceso a datos en el futuro.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-227">That way, you can implement the repository using different data access technologies in the future.</span></span>

<span data-ttu-id="1a9d6-228">La interfaz de la lista 3 se denomina `IMovieRepository` y representa un único método denominado `ListAll()`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-228">The interface in Listing 3 is named `IMovieRepository` and it represents a single method named `ListAll()`.</span></span>

<span data-ttu-id="1a9d6-229">**Lista 3: `Models\IMovieRepository.cs`**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-229">**Listing 3 – `Models\IMovieRepository.cs`**</span></span>

[!code-csharp[Main](creating-model-classes-with-linq-to-sql-cs/samples/sample3.cs)]

<span data-ttu-id="1a9d6-230">La clase Repository de la lista 4 implementa la interfaz `IMovieRepository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-230">The repository class in Listing 4 implements the `IMovieRepository` interface.</span></span> <span data-ttu-id="1a9d6-231">Observe que contiene un método denominado `ListAll()` que corresponde al método requerido por la interfaz `IMovieRepository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-231">Notice that it contains a method named `ListAll()` that corresponds to the method required by the `IMovieRepository` interface.</span></span>

<span data-ttu-id="1a9d6-232">**Lista 4: `Models\MovieRepository.cs`**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-232">**Listing 4 – `Models\MovieRepository.cs`**</span></span>

[!code-csharp[Main](creating-model-classes-with-linq-to-sql-cs/samples/sample4.cs)]

<span data-ttu-id="1a9d6-233">Por último, la clase `MoviesController` de la lista 5 usa el patrón de repositorio.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-233">Finally, the `MoviesController` class in Listing 5 uses the Repository pattern.</span></span> <span data-ttu-id="1a9d6-234">Ya no utiliza clases de LINQ to SQL directamente.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-234">It no longer uses LINQ to SQL classes directly.</span></span>

<span data-ttu-id="1a9d6-235">**Lista 5: `Controllers\MoviesController.cs`**</span><span class="sxs-lookup"><span data-stu-id="1a9d6-235">**Listing 5 – `Controllers\MoviesController.cs`**</span></span>

[!code-csharp[Main](creating-model-classes-with-linq-to-sql-cs/samples/sample5.cs)]

<span data-ttu-id="1a9d6-236">Observe que la clase `MoviesController` de la lista 5 tiene dos constructores.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-236">Notice that the `MoviesController` class in Listing 5 has two constructors.</span></span> <span data-ttu-id="1a9d6-237">El primer constructor, el constructor sin parámetros, se llama cuando se ejecuta la aplicación.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-237">The first constructor, the parameterless constructor, is called when your application is running.</span></span> <span data-ttu-id="1a9d6-238">Este constructor crea una instancia de la clase `MovieRepository` y la pasa al segundo constructor.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-238">This constructor creates an instance of the `MovieRepository` class and passes it to the second constructor.</span></span>

<span data-ttu-id="1a9d6-239">El segundo constructor tiene un parámetro único: un parámetro `IMovieRepository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-239">The second constructor has a single parameter: an `IMovieRepository` parameter.</span></span> <span data-ttu-id="1a9d6-240">Este constructor simplemente asigna el valor del parámetro a un campo de nivel de clase denominado `_repository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-240">This constructor simply assigns the value of the parameter to a class-level field named `_repository`.</span></span>

<span data-ttu-id="1a9d6-241">La clase `MoviesController` está aprovechando un modelo de diseño de software denominado patrón de inserción de dependencias.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-241">The `MoviesController` class is taking advantage of a software design pattern called the Dependency Injection pattern.</span></span> <span data-ttu-id="1a9d6-242">En concreto, se usa algo denominado inyección de dependencia de constructor.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-242">In particular, it is using something called Constructor Dependency Injection.</span></span> <span data-ttu-id="1a9d6-243">Para obtener más información sobre este patrón, lea el siguiente artículo de Martin Fowler:</span><span class="sxs-lookup"><span data-stu-id="1a9d6-243">You can read more about this pattern by reading the following article by Martin Fowler:</span></span>

[http://martinfowler.com/articles/injection.html](http://martinfowler.com/articles/injection.html)

<span data-ttu-id="1a9d6-244">Tenga en cuenta que todo el código de la clase `MoviesController` (con la excepción del primer constructor) interactúa con la interfaz `IMovieRepository` en lugar de la clase `MovieRepository` real.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-244">Notice that all of the code in the `MoviesController` class (with the exception of the first constructor) interacts with the `IMovieRepository` interface instead of the actual `MovieRepository` class.</span></span> <span data-ttu-id="1a9d6-245">El código interactúa con una interfaz abstracta en lugar de una implementación concreta de la interfaz.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-245">The code interacts with an abstract interface instead of a concrete implementation of the interface.</span></span>

<span data-ttu-id="1a9d6-246">Si desea modificar la tecnología de acceso a datos utilizada por la aplicación, puede simplemente implementar la interfaz de `IMovieRepository` con una clase que use la tecnología de acceso a bases de datos alternativa.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-246">If you want to modify the data access technology used by the application then you can simply implement the `IMovieRepository` interface with a class that uses the alternative database access technology.</span></span> <span data-ttu-id="1a9d6-247">Por ejemplo, podría crear una clase de `EntityFrameworkMovieRepository` o una clase de `SubSonicMovieRepository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-247">For example, you could create an `EntityFrameworkMovieRepository` class or a `SubSonicMovieRepository` class.</span></span> <span data-ttu-id="1a9d6-248">Dado que la clase de controlador se programa en la interfaz, puede pasar una nueva implementación de `IMovieRepository` a la clase de controlador y la clase seguiría funcionando.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-248">Because the controller class is programmed against the interface, you can pass a new implementation of `IMovieRepository` to the controller class and the class would continue to work.</span></span>

<span data-ttu-id="1a9d6-249">Además, si desea probar la clase `MoviesController`, puede pasar una clase de repositorio de películas falsa al `HomeController`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-249">Furthermore, if you want to test the `MoviesController` class, then you can pass a fake movie repository class to the `HomeController`.</span></span> <span data-ttu-id="1a9d6-250">Puede implementar la clase `IMovieRepository` con una clase que no tenga acceso realmente a la base de datos, pero que contenga todos los métodos necesarios de la interfaz `IMovieRepository`.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-250">You can implement the `IMovieRepository` class with a class that does not actually access the database but contains all of the required methods of the `IMovieRepository` interface.</span></span> <span data-ttu-id="1a9d6-251">De este modo, puede realizar una prueba unitaria de la clase `MoviesController` sin tener acceso realmente a una base de datos real.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-251">That way, you can unit test the `MoviesController` class without actually accessing a real database.</span></span>

## <a name="summary"></a><span data-ttu-id="1a9d6-252">Resumen</span><span class="sxs-lookup"><span data-stu-id="1a9d6-252">Summary</span></span>

<span data-ttu-id="1a9d6-253">El objetivo de este tutorial era mostrar cómo puede crear clases de modelo de MVC aprovechando las ventajas de Microsoft LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-253">The goal of this tutorial was to demonstrate how you can create MVC model classes by taking advantage of Microsoft LINQ to SQL.</span></span> <span data-ttu-id="1a9d6-254">Hemos examinado dos estrategias para mostrar los datos de la base de datos en una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-254">We examined two strategies for displaying database data in an ASP.NET MVC application.</span></span> <span data-ttu-id="1a9d6-255">En primer lugar, creamos LINQ to SQL clases y usaban las clases directamente dentro de una acción de controlador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-255">First, we created LINQ to SQL classes and used the classes directly within a controller action.</span></span> <span data-ttu-id="1a9d6-256">El uso de LINQ to SQL clases dentro de un controlador permite mostrar los datos de la base de datos de forma rápida y sencilla en una aplicación MVC.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-256">Using LINQ to SQL classes within a controller enables you to quickly and easily display database data in an MVC application.</span></span>

<span data-ttu-id="1a9d6-257">A continuación, se ha explorado un poco más difícil, pero uso realmente virtuosomente más, la ruta de acceso para mostrar los datos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-257">Next, we explored a slightly more difficult, but definitely more virtuous, path for displaying database data.</span></span> <span data-ttu-id="1a9d6-258">Aprovechamos el patrón del repositorio y colocamos toda la lógica de acceso a la base de datos en una clase de repositorio independiente.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-258">We took advantage of the Repository pattern and placed all of our database access logic in a separate repository class.</span></span> <span data-ttu-id="1a9d6-259">En nuestro controlador, escribimos todo el código en una interfaz en lugar de una clase concreta.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-259">In our controller, we wrote all of our code against an interface instead of a concrete class.</span></span> <span data-ttu-id="1a9d6-260">La ventaja del modelo de repositorio es que nos permite cambiar fácilmente las tecnologías de acceso a bases de datos en el futuro y nos permite probar fácilmente las clases de controlador.</span><span class="sxs-lookup"><span data-stu-id="1a9d6-260">The advantage of the Repository pattern is that it enables us to easily change database access technologies in the future and it enables us to easily test our controller classes.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1a9d6-261">[Anterior](creating-model-classes-with-the-entity-framework-cs.md)
> [Siguiente](displaying-a-table-of-database-data-cs.md)</span><span class="sxs-lookup"><span data-stu-id="1a9d6-261">[Previous](creating-model-classes-with-the-entity-framework-cs.md)
[Next](displaying-a-table-of-database-data-cs.md)</span></span>

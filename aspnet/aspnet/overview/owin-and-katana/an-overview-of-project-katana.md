---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: Información general del proyecto Katana | Microsoft Docs
author: howarddierking
description: El marco de ASP.NET ha existido durante más de diez años, y la plataforma ha permitido el desarrollo de innumerables sitios Web y servicios. Como aplicación Web...
ms.author: riande
ms.date: 08/30/2013
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: 72f70faa151007558ecbb270143ecd5b37c2134d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2019
ms.locfileid: "59392578"
---
# <a name="an-overview-of-project-katana"></a><span data-ttu-id="6d5e9-104">Información general del proyecto Katana</span><span class="sxs-lookup"><span data-stu-id="6d5e9-104">An Overview of Project Katana</span></span>

<span data-ttu-id="6d5e9-105">por [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="6d5e9-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="6d5e9-106">El marco de ASP.NET ha existido durante más de diez años, y la plataforma ha permitido el desarrollo de innumerables sitios Web y servicios.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="6d5e9-107">Tal y como han evolucionado las estrategias de desarrollo de aplicaciones Web, el marco de trabajo ha sido capaz de evolucionar en el paso con tecnologías como ASP.NET MVC y ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="6d5e9-108">Como el desarrollo de aplicaciones Web tiene el siguiente paso evolutivo en el mundo de la informática en nube, proyecto [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) proporciona el conjunto de componentes para aplicaciones de ASP.NET, lo que les permite ser flexible y portátil, subyacente ligero y proporcionar un mejor rendimiento, dicho de otro modo, el proyecto [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) en la nube optimiza las aplicaciones ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>


## <a name="why-katana--why-now"></a><span data-ttu-id="6d5e9-109">¿Por qué Katana: ¿por qué ahora?</span><span class="sxs-lookup"><span data-stu-id="6d5e9-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="6d5e9-110">Sin tener en cuenta si uno está debatiendo un producto para desarrolladores de framework o por el usuario final, es importante comprender las motivaciones subyacentes para crear el producto y en este paso incluye saber que se creó el producto para.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="6d5e9-111">ASP.NET se creó originalmente con dos clientes en mente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="6d5e9-112">**El primer grupo de clientes era que los programadores de ASP clásicos.**</span><span class="sxs-lookup"><span data-stu-id="6d5e9-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="6d5e9-113">En el momento, ASP fue una de las principales tecnologías para crear aplicaciones y sitios Web dinámicos, controlada por datos mediante entrelazamiento de marcado y el script del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="6d5e9-114">El tiempo de ejecución ASP había proporcionado el script del lado servidor con un conjunto de objetos que abstrae los aspectos básicos de protocolo HTTP subyacente y el servidor Web y proporciona acceso a otros servicios tal administración de Estados de sesión y aplicación, almacenar en caché, etcetera. Aunque eficaz, las aplicaciones ASP clásicas se convirtió en un desafío de administrar a medida que aumentó de tamaño y complejidad.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="6d5e9-115">Esto fue principalmente debido a la falta de estructura que se encuentra en entornos junto con la duplicación de código resultante de la intercalación de marcado y código de script.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="6d5e9-116">Con el fin de aprovechar los puntos fuertes de ASP clásico además de satisfacer algunos de sus desafíos, ASP.NET aprovechó la organización de código proporcionada por los lenguajes orientados a objetos de .NET Framework mientras conserva también el modelo de programación del lado servidor a qué ASP clásico había crecido a los desarrolladores acostumbrados.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="6d5e9-117">**El segundo grupo de clientes de destino para ASP.NET era que los desarrolladores de aplicaciones de negocio de Windows.**</span><span class="sxs-lookup"><span data-stu-id="6d5e9-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="6d5e9-118">A diferencia de los desarrolladores ASP clásicos, que estaban acostumbrados a escribir el marcado HTML y el código para generar marcado HTML más, los desarrolladores de formularios Windows Forms (por ejemplo, los desarrolladores de VB6 antes que ellos) estaba acostumbrado a una experiencia en tiempo de diseño que incluye un elemento canvas y un amplio conjunto de usuario controles de interfaz.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="6d5e9-119">La primera versión de ASP.NET: también conocido como "Web Forms" proporciona una experiencia similar en tiempo de diseño junto con un modelo de evento del lado servidor para los componentes de interfaz de usuario y un conjunto de características de infraestructura (por ejemplo, ViewState) para crear una experiencia de desarrollador coherente entre el cliente y la programación del lado del servidor.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="6d5e9-120">Formularios Web Forms hid eficazmente la naturaleza sin estado de la Web en un modelo de evento con estado que estaba familiar para los desarrolladores de formularios Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="6d5e9-121">Estos desafíos mediante el modelo histórico</span><span class="sxs-lookup"><span data-stu-id="6d5e9-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="6d5e9-122">**El resultado final fue un maduro y con muchas características de tiempo de ejecución y el modelo de programación del desarrollador.**</span><span class="sxs-lookup"><span data-stu-id="6d5e9-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="6d5e9-123">Sin embargo, con la que variedad de características incluye dos retos importantes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="6d5e9-124">En primer lugar, el marco de trabajo fue **monolítica**, con lógicamente distintas unidades de funcionalidad estrechamente acoplados en el mismo ensamblado System.Web.dll (por ejemplo, los objetos de núcleo HTTP con el marco de formularios Web).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="6d5e9-125">En segundo lugar, se incluyó como parte de .NET Framework más grande, lo que significaba que ASP.NET la **era de tiempo entre las versiones del orden de los años.**</span><span class="sxs-lookup"><span data-stu-id="6d5e9-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="6d5e9-126">Esto dificultaba ASP.NET para mantenerse al día con todos los cambios que se producen en rápida evolución de desarrollo Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="6d5e9-127">Por último, se acopla System.Web.dll propio de varias maneras diferentes para un opción de hospedaje específico: Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="6d5e9-128">Cambios evolutivos en estos: ASP.NET MVC y ASP.NET Web API</span><span class="sxs-lookup"><span data-stu-id="6d5e9-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="6d5e9-129">Y una gran cantidad de cambios estaba sucediendo en el desarrollo Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="6d5e9-130">Aplicaciones Web cada vez más que se desarrollaron como una serie de pequeños, centran componentes en lugar de marcos de trabajo grandes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="6d5e9-131">El número de componentes, así como la frecuencia con que se publicaron se aumenta a un ritmo nunca más rápido.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="6d5e9-132">Resultaba evidente que marcos de trabajo para obtener, desacoplado y delimitará en lugar de mayor y más completos, por lo tanto, requiere la adaptación al ritmo de la Web la **equipo ASP.NET tardó varios pasos evolutivos para habilitar ASP.NET como una familia de componentes Web conectables, en lugar de un solo marco**.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="6d5e9-133">Uno de los primeros cambios era el aumento de la popularidad del conocido modelo de diseño model-view-controller (MVC) gracias a los marcos de desarrollo Web como Ruby on Rails.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="6d5e9-134">Este estilo de creación de aplicaciones Web le asignó el desarrollador mayor control sobre el marcado de su aplicación al tiempo que se mantiene la separación de marcado y la lógica empresarial, que fue uno de los puntos de venta iniciales para ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="6d5e9-135">Para satisfacer la demanda de este estilo de desarrollo de aplicaciones Web, Microsoft ha adoptado la oportunidad para colocarse mejor para el futuro por **desarrollando ASP.NET MVC fuera de banda** (y no lo incluido en .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="6d5e9-136">ASP.NET MVC se publicó como una descarga independiente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="6d5e9-137">Esto daba al equipo de ingeniería de la flexibilidad para entregar actualizaciones de mucha más frecuencia que había sido posible anteriormente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="6d5e9-138">Otro cambio importante en el desarrollo de aplicaciones Web fue el cambio de páginas Web dinámicas generados por el servidor a la inicial del marcado estático con secciones dinámicas de la página que se genera a partir de script de cliente comunicarse **con las API Web back-end a través de Las solicitudes AJAX**.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="6d5e9-139">Este cambio de arquitectura ayudó a impulsar el auge de las API Web y el desarrollo del marco ASP.NET Web API.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="6d5e9-140">Como en el caso de ASP.NET MVC, la versión de ASP.NET Web API proporciona otra oportunidad para desarrollar aún más como un marco más modular ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="6d5e9-141">El equipo de ingeniería aprovechó la oportunidad y **compilan ASP.NET Web API de modo que no tuviera ninguna dependencia en cualquiera de los tipos de marco principal se encuentra en System.Web.dll**.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="6d5e9-142">Esto habilita dos cosas: en primer lugar, significa que podría evolucionar API Web de ASP.NET de forma totalmente independiente (y puede seguir iterar rápidamente porque se entrega a través de NuGet).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="6d5e9-143">En segundo lugar, porque se produjeron sin dependencias externas a System.Web.dll y, por lo tanto, ninguna dependencia de IIS, ASP.NET Web API incluía la capacidad para ejecutarse en un host personalizado (por ejemplo, una aplicación de consola, el servicio de Windows, etcetera.)</span><span class="sxs-lookup"><span data-stu-id="6d5e9-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="6d5e9-144">El futuro: Un marco de trabajo ágil</span><span class="sxs-lookup"><span data-stu-id="6d5e9-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="6d5e9-145">Al desacoplar componentes de marco de trabajo entre sí y, a continuación, publicarlas en NuGet, marcos de trabajo podrían ahora **recorrer en iteración más rápida y más independiente**.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="6d5e9-146">Además, la eficacia y flexibilidad de capacidad de autohospedaje de la API Web resultó ser muy atractivas para los desarrolladores que deseaban un **host pequeña y ligera** para sus servicios.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="6d5e9-147">Resultó tan atractivo, de hecho, que otros marcos también querían esta funcionalidad, y esto aparece un nuevo desafío en que cada marco de trabajo se ejecutó en su propio proceso de host en su propia dirección base y deba administrarse (iniciado, detenido, etc.) por separado.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="6d5e9-148">Una aplicación Web moderna suele ser compatible con servicio de archivos estáticos, generación de páginas dinámicas, API Web y más recientemente real-time o notificaciones push.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="6d5e9-149">Se espera que cada uno de estos servicios debe ejecutar y administrar de forma independiente era simplemente no realista.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="6d5e9-150">¿Qué se necesitaba era una sola abstracción de hospedaje que permiten a un desarrollador crear una aplicación desde una variedad de diferentes componentes y marcos de trabajo y, a continuación, ejecutar dicha aplicación en un host de apoyo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="6d5e9-151">La interfaz Web abierta para .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="6d5e9-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="6d5e9-152">Inspirado en los beneficios que se logra mediante [Rack](http://rack.github.io/) en la Comunidad de Ruby, varios miembros de la Comunidad .NET establecen para crear una abstracción entre servidores Web y componentes de framework.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="6d5e9-153">Dos objetivos de diseño para la abstracción de OWIN eran que era sencilla y que tardó el menor número posible de dependencias en otros tipos de marco de trabajo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="6d5e9-154">Estos dos objetivos ayudar a garantizar:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-154">These two goals help ensure:</span></span>

- <span data-ttu-id="6d5e9-155">Nuevos componentes se podrían desarrollados y consumen más fácilmente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="6d5e9-156">Las aplicaciones se puedan portar más fácilmente entre los hosts y potencialmente toda las plataformas y sistemas operativos.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="6d5e9-157">La abstracción resultante se compone de dos elementos principales.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="6d5e9-158">El primero es el diccionario del entorno.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-158">The first is the environment dictionary.</span></span> <span data-ttu-id="6d5e9-159">Esta estructura de datos es responsable de almacenar todo el estado necesario para procesar una solicitud HTTP y respuesta, así como cualquier estado del servidor pertinente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="6d5e9-160">El diccionario del entorno se define como sigue:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="6d5e9-161">Un servidor Web compatible con OWIN es responsable de rellenar el diccionario del entorno con datos, como las colecciones de encabezado para una solicitud y respuesta HTTP y secuencias de cuerpo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="6d5e9-162">A continuación, es responsabilidad de los componentes de aplicación o marco para rellenar o actualizar el diccionario con los valores adicionales y escribir en la secuencia del cuerpo de respuesta.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="6d5e9-163">Además de especificar el tipo para el diccionario del entorno, la especificación de OWIN define una lista de pares de clave-valor de diccionario principal.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="6d5e9-164">Por ejemplo, la siguiente tabla muestra las claves del diccionario requerido para una solicitud HTTP:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="6d5e9-165">Nombre de clave</span><span class="sxs-lookup"><span data-stu-id="6d5e9-165">Key Name</span></span> | <span data-ttu-id="6d5e9-166">Descripción del valor</span><span class="sxs-lookup"><span data-stu-id="6d5e9-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="6d5e9-167">Un Stream con el cuerpo de solicitud, si existe.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="6d5e9-168">PUEDE utilizarse Stream.Null como marcador de posición si no hay ningún cuerpo de solicitud.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="6d5e9-169">Consulte [cuerpo de la solicitud](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="6d5e9-170">Un `IDictionary<string, string[]>` de encabezados de solicitud.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="6d5e9-171">Consulte [encabezados](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="6d5e9-172">Un `string` que contiene el método de solicitud HTTP de la solicitud (por ejemplo, `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="6d5e9-173">Un `string` que contiene la ruta de acceso de la solicitud.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-173">A `string` containing the request path.</span></span> <span data-ttu-id="6d5e9-174">La ruta de acceso debe ser relativa a la "raíz" del delegado de la aplicación; consulte [las rutas de acceso](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="6d5e9-175">Un `string` que contiene la parte de la ruta de acceso de solicitud correspondiente a la "raíz" del delegado de la aplicación; vea [las rutas de acceso](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="6d5e9-176">Un `string` que contiene el nombre del protocolo y la versión (por ejemplo, `"HTTP/1.0"` o `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="6d5e9-177">Un `string` que contiene el componente de cadena de consulta de la solicitud HTTP URI, sin el símbolo inicial "?" (p. ej., `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="6d5e9-178">El valor puede ser una cadena vacía.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="6d5e9-179">Un `string` que contiene el esquema URI utilizado para la solicitud (por ejemplo, `"http"`, `"https"`); vea [esquema URI](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="6d5e9-180">El segundo elemento clave de OWIN es el delegado de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="6d5e9-181">Se trata de una firma de función que actúa como la interfaz principal entre todos los componentes de una aplicación OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="6d5e9-182">La definición de delegado de la aplicación es como sigue:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="6d5e9-183">Delegado de la aplicación, a continuación, es simplemente una implementación del tipo de delegado Func donde la función acepta el diccionario del entorno como entrada y devuelve una tarea.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="6d5e9-184">Este diseño tiene varias implicaciones para los desarrolladores:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="6d5e9-185">Hay un número muy pequeño de las dependencias de tipo necesarias para poder escribir componentes de OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="6d5e9-186">Esto aumenta en gran medida la accesibilidad de OWIN para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="6d5e9-187">El diseño asincrónico permite la abstracción ser eficiente con su propio control de recursos informáticos, especialmente en operaciones intensivas de E/S más.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="6d5e9-188">Dado que el delegado de la aplicación es una unidad atómica de ejecución y debido a que el diccionario del entorno se realizan como un parámetro en el delegado, se pueden encadenar fácilmente los componentes de OWIN para crear las canalizaciones de procesamiento de HTTP complejo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="6d5e9-189">Desde una perspectiva de implementación, OWIN es una especificación ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="6d5e9-190">Su objetivo no es tener el siguiente marco Web, pero en su lugar una especificación de cómo interactúan los marcos Web y servidores Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="6d5e9-191">Si ha investigado [OWIN](http://owin.org/) o [Katana](https://github.com/aspnet/AspNetKatana/wiki), es posible que también haya observado el [paquete Owin NuGet](http://nuget.org/packages/Owin) y Owin.dll.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="6d5e9-192">Esta biblioteca contiene una sola interfaz, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), que formaliza y se codifica la secuencia de inicio se describe en [sección 4](http://owin.org/html/owin.html#4-application-startup) de la especificación de OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="6d5e9-193">Aunque no es necesario para compilar los servidores OWIN, la [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interfaz proporciona un punto de referencia concreta y se utiliza por los componentes del proyecto Katana.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="6d5e9-194">Project Katana</span><span class="sxs-lookup"><span data-stu-id="6d5e9-194">Project Katana</span></span>

<span data-ttu-id="6d5e9-195">Mientras que tanto el [OWIN](http://owin.org/html/owin.html) especificación y *Owin.dll* son propiedad de comunidad y comunidad de ejecutar los esfuerzos de código abierto, el [Katana](https://github.com/aspnet/AspNetKatana/wiki) proyecto representa el conjunto de OWIN componentes que, mientras sigue abierto, creados y publicados por Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="6d5e9-196">Estos componentes incluyen componentes de infraestructura, como los hosts y servidores, así como componentes funcionales, como los componentes de autenticación y los enlaces a marcos como [SignalR](../../../signalr/index.md) y [Web de ASP.NET API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="6d5e9-197">El proyecto tiene los siguientes tres objetivos de alto niveles:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="6d5e9-198">**Portable** – componentes deben poder que fácilmente se sustituirá para los componentes nuevos cuando estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="6d5e9-199">Esto incluye todos los tipos de componentes, desde el marco de trabajo para el servidor y el host.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="6d5e9-200">La implicación de este objetivo es que marcos de terceros pueden ejecutar sin problemas en servidores de Microsoft, mientras que los marcos de Microsoft podría ejecutarse en hosts y servidores de terceros.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="6d5e9-201">**Flexible y modular**: a diferencia de muchos marcos que incluyen una gran variedad de características que están activadas de forma predeterminada, los componentes del proyecto Katana deben ser pequeño y centrado, lo que proporciona control para determinar qué componentes para el desarrollador de aplicaciones Use en su aplicación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="6d5e9-202">**Ligero y de alto rendimiento y escalables** : dividiendo el concepto tradicional de un marco de trabajo en un conjunto de pequeños, centra los componentes que se agregan explícitamente por el desarrollador de aplicaciones, una aplicación de Katana resultante puede consumir menos informática los recursos y como resultado, controlar más carga que con otros tipos de servidores y marcos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="6d5e9-203">Como los requisitos de la aplicación exigen más características de la infraestructura subyacente, los que se pueden agregar a la canalización de OWIN, pero que debe ser una decisión explícita por parte del desarrollador de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="6d5e9-204">Además, la sustitución de componentes de nivel inferior significa que cuando estén disponibles, nuevos servidores de alto rendimiento sin problemas se pueden introducir para mejorar el rendimiento de aplicaciones OWIN sin interrumpir las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="6d5e9-205">Introducción a los componentes de Katana</span><span class="sxs-lookup"><span data-stu-id="6d5e9-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="6d5e9-206">Cuando apareció por primera vez, uno de los aspectos de la [Node.js](http://nodejs.org/) framework que dibujó inmediatamente atención de la gente estaba la simplicidad con que uno podría crear y ejecutar un servidor Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="6d5e9-207">Si los objetivos de Katana se enmarcada en luz de [Node.js](http://nodejs.org/), uno podría resumirlos diciendo que Katana ofrece muchas de las ventajas de [Node.js](http://nodejs.org/) (y marcos que le guste) sin obligar al desarrollador desechar todo lo que sabe acerca de cómo desarrollar aplicaciones Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="6d5e9-208">Para que esta instrucción es cierta, comenzar con el proyecto Katana debe ser igual de sencillo en la naturaleza [Node.js](http://nodejs.org/).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="6d5e9-209">Creación de "Hello World!"</span><span class="sxs-lookup"><span data-stu-id="6d5e9-209">Creating "Hello World!"</span></span>

<span data-ttu-id="6d5e9-210">Una diferencia importante entre el desarrollo de JavaScript y .NET es la presencia (o ausencia) de un compilador.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="6d5e9-211">Por lo tanto, el punto de partida para un servidor de Katana simple es un proyecto de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="6d5e9-212">Sin embargo, podemos empezar con la mínima de tipos de proyecto: la aplicación Web ASP.NET vacía.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="6d5e9-213">A continuación, se instalará el [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) paquete NuGet al proyecto.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="6d5e9-214">Este paquete proporciona un servidor OWIN que se ejecuta en la canalización de solicitudes ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="6d5e9-215">Se puede encontrar en el [Galería de NuGet](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) y puede instalarse mediante el cuadro de diálogo del Administrador de paquetes de Visual Studio o la consola del Administrador de paquetes con el siguiente comando:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="6d5e9-216">Instalar el `Microsoft.Owin.Host.SystemWeb` paquete instalará algunos paquetes adicionales como dependencias.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="6d5e9-217">Una de esas dependencias es `Microsoft.Owin`, una biblioteca que proporciona varios tipos y métodos auxiliares para el desarrollo de aplicaciones OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="6d5e9-218">Podemos usar estos tipos para escribir rápidamente el siguiente servidor "¡hello world".</span><span class="sxs-lookup"><span data-stu-id="6d5e9-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="6d5e9-219">Ahora se puede ejecutar este servidor Web muy sencilla con Visual Studio **F5** comando e incluye compatibilidad completa con la depuración.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="6d5e9-220">Hosts de conmutación</span><span class="sxs-lookup"><span data-stu-id="6d5e9-220">Switching hosts</span></span>

<span data-ttu-id="6d5e9-221">De forma predeterminada, se ejecuta el ejemplo anterior de "hello world" en la canalización de solicitudes ASP.NET, que usa System.Web en el contexto de IIS.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="6d5e9-222">Esto puede por sí solo agregar un enorme valor tal y como nos permite beneficiarse de la flexibilidad y capacidad de composición de una canalización OWIN con las capacidades de administración y la madurez general de IIS.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="6d5e9-223">Sin embargo, puede haber casos en que no son necesarias las ventajas proporcionadas por IIS y el deseo es para un host pequeño y más ligero.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="6d5e9-224">¿Qué es necesario, a continuación, para ejecutar nuestro servidor Web simple fuera de IIS y System.Web?</span><span class="sxs-lookup"><span data-stu-id="6d5e9-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="6d5e9-225">Para ilustrar el objetivo de portabilidad, mover desde un host de servidor Web a un host de la línea de comandos requiere simplemente agregar las dependencias de servidor y host nuevo a la carpeta de salida del proyecto y, a continuación, iniciar el host.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="6d5e9-226">En este ejemplo, se hospedarán nuestro servidor Web en un host de Katana llamado `OwinHost.exe` y usará el servidor basado en Katana HttpListener.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="6d5e9-227">De forma similar a otros componentes de Katana, estos se adquirirá de NuGet con el comando siguiente:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="6d5e9-228">Desde la línea de comandos, podemos, a continuación, navegue hasta la carpeta raíz del proyecto y ejecutar simplemente el `OwinHost.exe` (que se instaló en la carpeta de herramientas de su paquete NuGet correspondiente).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="6d5e9-229">De forma predeterminada, `OwinHost.exe` está configurado para buscar el servidor basado en HttpListener y por lo que no es necesaria ninguna configuración adicional.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="6d5e9-230">Navegar en un explorador Web para `http://localhost:5000/` muestra la aplicación ahora se ejecuta a través de la consola.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="6d5e9-231">Arquitectura de Katana</span><span class="sxs-lookup"><span data-stu-id="6d5e9-231">Katana Architecture</span></span>

 <span data-ttu-id="6d5e9-232">La arquitectura de componentes de Katana divide una aplicación en cuatro capas lógicas, como se muestra a continuación: *host, el servidor de middleware,* y *aplicación*.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="6d5e9-233">La arquitectura de componentes está factorizada de tal manera que las implementaciones de estas capas se pueden sustituir fácilmente, en muchos casos, sin necesidad de volver a compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="6d5e9-234">administrador de flujos de trabajo</span><span class="sxs-lookup"><span data-stu-id="6d5e9-234">Host</span></span>

 <span data-ttu-id="6d5e9-235">El host es responsable de:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-235">The host is responsible for:</span></span>

- <span data-ttu-id="6d5e9-236">Administrar el proceso subyacente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-236">Managing the underlying process.</span></span>
- <span data-ttu-id="6d5e9-237">Coordinación de flujo de trabajo que da como resultado la selección de un servidor y la construcción de una canalización de OWIN a través de las solicitudes que se controlarán.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

  <span data-ttu-id="6d5e9-238">En la actualidad, hay 3 opciones de hospedaje principales para las aplicaciones basadas en Katana:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="6d5e9-239">**IIS/ASP.NET**: Con los tipos de HttpModule y HttpHandler estándar, pueden ejecutar canalizaciones OWIN en IIS como parte de un flujo de solicitud ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="6d5e9-240">Compatibilidad con el hospedaje de ASP.NET se habilita al instalar el paquete Microsoft.AspNet.Host.SystemWeb NuGet en un proyecto de aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="6d5e9-241">Además, dado que IIS actúa como un host y un servidor, la distinción de servidor/host OWIN está vinculada en este paquete de NuGet, lo que significa que si usa el host SystemWeb, un desarrollador no puede sustituir una implementación de servidor alternativo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="6d5e9-242">**Host personalizado**: El conjunto de componentes de Katana ofrece la posibilidad de un desarrollador para hospedar aplicaciones en su propio proceso personalizado, ya sea una aplicación de consola, el servicio de Windows, etcetera. Esta funcionalidad es similar a la capacidad de autohospedaje proporcionada por la API Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="6d5e9-243">El ejemplo siguiente muestra un host personalizado de código de API Web:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="6d5e9-244">El programa de instalación de host automático para una aplicación de Katana es similar:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="6d5e9-245">Una diferencia importante entre los ejemplos de autohospedaje de Web API y Katana es que el código de configuración de Web API falta en el ejemplo autohospedaje de Katana.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="6d5e9-246">Con el fin de habilitar la portabilidad y capacidad de composición, Katana separa el código que inicia el servidor desde el código que configura la canalización de procesamiento de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="6d5e9-247">El código que configura la API Web, a continuación, se encuentra en la clase Startup, que además se especifica como el parámetro de tipo en WebApplication.Start.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="6d5e9-248">La clase de inicio se tratarán en mayor detalle más adelante en este artículo.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="6d5e9-249">Sin embargo, el código necesario para iniciar un proceso autohospedaje es sorprendentemente similar al código que puede que esté usando hoy mismo en las aplicaciones de autohospedaje de ASP.NET Web API de Katana.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="6d5e9-250">**OwinHost.exe**: Aunque algunos deseará escribir un proceso personalizado para ejecutar aplicaciones Katana Web, muchos sería preferible simplemente iniciar un ejecutable pregenerado que puede iniciar un servidor y ejecutar su aplicación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="6d5e9-251">En este escenario, se incluye el conjunto de componentes de Katana `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="6d5e9-252">Cuando se ejecuta desde dentro del directorio raíz de un proyecto, este archivo ejecutable iniciará un servidor (usa el servidor de HttpListener de forma predeterminada) y usar las convenciones para la búsqueda y ejecución de la clase de inicio del usuario.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="6d5e9-253">Para un control más granular, el archivo ejecutable proporciona un número de parámetros de línea de comandos adicionales.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="6d5e9-254">Servidor</span><span class="sxs-lookup"><span data-stu-id="6d5e9-254">Server</span></span>

 <span data-ttu-id="6d5e9-255">Mientras el host es responsable de iniciar y mantener en el que se ejecuta la aplicación, la responsabilidad del servidor de proceso abrir un socket de red, escuchar las solicitudes y enviarlos a través de la canalización de componentes OWIN especificados por el usuario (como se es posible que haya notado, esta canalización se especifica en la clase de inicio del desarrollador de la aplicación).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="6d5e9-256">Actualmente, el proyecto Katana incluye dos implementaciones de servidor:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="6d5e9-257">**Microsoft.Owin.Host.SystemWeb**: Como se mencionó anteriormente, IIS junto con los actos de canalización ASP.NET como un host y un servidor.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="6d5e9-258">Por lo tanto, al elegir la opción de hospedaje, IIS administra las preocupaciones de nivel de host como activación de procesos tanto escucha las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="6d5e9-259">Para aplicaciones Web de ASP.NET, a continuación, envía las solicitudes a la canalización ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="6d5e9-260">El host de Katana SystemWeb registra un ASP.NET HttpModule y HttpHandler para interceptar las solicitudes a medida que fluyen a través de la canalización HTTP y envían a través de la canalización OWIN especificada por el usuario.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="6d5e9-261">**Microsoft.Owin.Host.HttpListener**: Como su nombre indica, este servidor de Katana usa la clase de .NET Framework HttpListener para abrir un socket y enviar solicitudes a una canalización OWIN especificado por el desarrollador.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="6d5e9-262">Esto es actualmente la selección de servidor predeterminado para la API de autohospedaje de Katana y OwinHost.exe.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="6d5e9-263">Middleware/framework</span><span class="sxs-lookup"><span data-stu-id="6d5e9-263">Middleware/framework</span></span>

 <span data-ttu-id="6d5e9-264">Como se mencionó anteriormente, cuando el servidor acepta una solicitud desde un cliente, es responsable de pasarlo a través de una canalización de los componentes OWIN, que se especifican mediante el código de inicio del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="6d5e9-265">Estos componentes de canalización se conocen como middleware.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="6d5e9-266">En un nivel muy básico, un componente de middleware OWIN simplemente tiene que implementar al delegado de la aplicación OWIN para que sea que se puede llamar.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="6d5e9-267">Sin embargo, con el fin de simplificar el desarrollo y la composición de los componentes de middleware, Katana es compatible con un puñado de convenciones y tipos de aplicación auxiliar para componentes de middleware.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="6d5e9-268">La más común de estos es el `OwinMiddleware` clase.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="6d5e9-269">Un componente de middleware personalizado creado con esta clase tendría un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="6d5e9-270">Esta clase se deriva de `OwinMiddleware`, implementa un constructor que acepta una instancia de la siguiente middleware en la canalización como uno de sus argumentos y, a continuación, se pasa al constructor base.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="6d5e9-271">Argumentos adicionales que se usan para configurar el middleware también se declaran como parámetros del constructor después del parámetro de middleware siguiente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="6d5e9-272">En tiempo de ejecución, el middleware se ejecuta a través de invalidado `Invoke` método.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="6d5e9-273">Este método toma un único argumento de tipo `OwinContext`.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="6d5e9-274">Este objeto de contexto proporciona la `Microsoft.Owin` paquete de NuGet se ha descrito anteriormente y proporciona acceso fuertemente tipado para el diccionario de solicitud, respuesta y entorno, junto con algunos tipos auxiliares adicionales.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="6d5e9-275">La clase de middleware puede agregarse fácilmente a la canalización OWIN en el código de inicio de la aplicación como sigue:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="6d5e9-276">Dado que la infraestructura de Katana simplemente crea una canalización de componentes de middleware OWIN y porque los componentes simplemente es necesario admitir el delegado de la aplicación para participar en la canalización, componentes de middleware pueden abarcar desde simple los registradores todos marcos como ASP.NET, Web API, o [SignalR](../../../signalr/index.md).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="6d5e9-277">Por ejemplo, la adición de ASP.NET Web API a la canalización OWIN anterior requiere agregando el siguiente código de inicio:</span><span class="sxs-lookup"><span data-stu-id="6d5e9-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="6d5e9-278">La infraestructura de Katana compilará la canalización de componentes de middleware basado en el orden en que se agregaron en el objeto IAppBuilder en el método de configuración.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="6d5e9-279">A continuación, en nuestro ejemplo, LoggerMiddleware puede controlar todas las solicitudes que fluyen a través de la canalización, independientemente de cómo finalmente se controlan esas solicitudes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="6d5e9-280">Esto habilita escenarios eficaces donde un componente de middleware (por ejemplo, un componente de autenticación) pueda procesar las solicitudes de una canalización que incluye varios componentes y marcos (por ejemplo, ASP.NET Web API, SignalR y un servidor de archivos estáticos).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="6d5e9-281">Aplicaciones</span><span class="sxs-lookup"><span data-stu-id="6d5e9-281">Applications</span></span>

<span data-ttu-id="6d5e9-282">Como se muestra en los ejemplos anteriores, OWIN y el proyecto Katana no se deben considerar como un nuevo modelo de programación de aplicaciones, sino como una abstracción para desacoplar los modelos de programación de aplicaciones y marcos de trabajo de servidor y la infraestructura de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="6d5e9-283">Por ejemplo, al compilar aplicaciones de API Web, el marco de trabajo de desarrollador seguirá usar el marco ASP.NET Web API, con independencia de si la aplicación se ejecuta en una canalización de OWIN mediante componentes desde el proyecto Katana.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="6d5e9-284">El lugar donde estará visible para el desarrollador de aplicaciones código relacionado con el OWIN será el código de inicio de la aplicación, donde el desarrollador crea la canalización de OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="6d5e9-285">En el código de inicio, el desarrollador registrará una serie de instrucciones UseXx, por lo general, una para cada componente de middleware que va a procesar las solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="6d5e9-286">Esta experiencia tendrá el mismo efecto que el registro de módulos HTTP en el mundo actual de System.Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="6d5e9-287">Normalmente, un middleware framework más grande, como ASP.NET Web API o [SignalR](../../../signalr/index.md) se registrará al final de la canalización.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="6d5e9-288">Componentes de middleware transversales, como los de autenticación o almacenamiento en caché, por lo general se registran hacia el principio de la canalización para que procesará las solicitudes de todos los marcos de trabajo y componentes registrados más adelante en la canalización.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="6d5e9-289">Esta separación de los componentes de middleware entre sí y desde los componentes de infraestructura subyacentes habilita los componentes evolucionando a diferentes velocidades asegurándose de que el sistema general permanece estable.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="6d5e9-290">Componentes, paquetes de NuGet</span><span class="sxs-lookup"><span data-stu-id="6d5e9-290">Components – NuGet Packages</span></span>

<span data-ttu-id="6d5e9-291">Como muchas bibliotecas actuales y marcos de trabajo, los componentes del proyecto Katana se entregan como un conjunto de paquetes de NuGet.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="6d5e9-292">La próxima versión 2.0, el gráfico de dependencias de paquete de Katana tiene el aspecto siguiente.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="6d5e9-293">(Haga clic en la imagen para aumentarla).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="6d5e9-294">Casi todos los paquetes en el proyecto Katana depende, directa o indirectamente, el paquete Owin.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="6d5e9-295">Es posible que recuerde que este es el paquete que contiene la interfaz de IAppBuilder, que proporciona una implementación concreta de la secuencia de inicio de la aplicación que se describe en la sección 4 de la especificación de OWIN.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="6d5e9-296">Además, muchos de los paquetes dependen Microsoft.Owin, que proporciona un conjunto de tipos de aplicación auxiliar para trabajar con solicitudes y respuestas HTTP.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="6d5e9-297">El resto del paquete se puede clasificar como a los paquetes de infraestructura (servidores o hosts) o middleware de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="6d5e9-298">Paquetes y dependencias que son externas al proyecto Katana se muestran en color naranja.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="6d5e9-299">La infraestructura de hospedaje de Katana 2.0 incluye tanto el SystemWeb y servidores basados en HttpListener, el paquete OwinHost para ejecutar aplicaciones OWIN mediante OwinHost.exe y el paquete Microsoft.Owin.Hosting para el autohospedaje aplicaciones OWIN en un host personalizado (por ejemplo, aplicación de consola, el servicio de Windows, etcetera.)</span><span class="sxs-lookup"><span data-stu-id="6d5e9-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="6d5e9-300">Katana 2.0, los componentes de middleware se centran principalmente en proporcionar diversas formas de autenticación.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="6d5e9-301">Se proporciona un componente de middleware adicional para el diagnóstico, que habilita la compatibilidad con una página de inicio y de error.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="6d5e9-302">A medida que crece OWIN en la abstracción de hospedaje de hecho, el ecosistema de componentes de middleware, tanto los desarrollados por Microsoft y terceros, también crecerá en número.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6d5e9-303">Conclusión</span><span class="sxs-lookup"><span data-stu-id="6d5e9-303">Conclusion</span></span>

 <span data-ttu-id="6d5e9-304">Desde su comienzo, el objetivo del proyecto Katana no ha sido crear y, por tanto, obliga a los desarrolladores para obtener información sobre otro marco Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="6d5e9-305">En su lugar, el objetivo ha sido crear una abstracción para dar a los desarrolladores de aplicaciones Web de .NET más alternativas que previamente ha sido posible.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="6d5e9-306">Al dividir las capas lógicas de una pila típica de aplicación Web en un conjunto de componentes reemplazables, el proyecto Katana permite a los componentes en toda la pila para mejorar la tarifa que tiene sentido para los componentes.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="6d5e9-307">Mediante la creación de todos los componentes en torno a la abstracción simple de OWIN, Katana permite que marcos de trabajo y las aplicaciones que se basa en ellos sea portable entre una variedad de distintos servidores y hosts.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="6d5e9-308">Colocando el desarrollador en el control de la pila de Katana garantiza que el programador realiza la elección más avanzada acerca de cómo ligera o cómo completo debe ser su pila Web.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  
  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="6d5e9-309">Para obtener más información sobre Katana</span><span class="sxs-lookup"><span data-stu-id="6d5e9-309">For more information about Katana</span></span>

- <span data-ttu-id="6d5e9-310">El proyecto Katana en GitHub: [ https://github.com/aspnet/AspNetKatana/ ](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="6d5e9-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="6d5e9-311">Vídeo: [El proyecto Katana - OWIN para ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), por Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="6d5e9-312">Reconocimientos</span><span class="sxs-lookup"><span data-stu-id="6d5e9-312">Acknowledgements</span></span>

- <span data-ttu-id="6d5e9-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [ @RickAndMSFT ](http://twitter.com/RickAndMSFT) ) Rick es programadora senior de Microsoft, centrándose en Azure y MVC.</span><span class="sxs-lookup"><span data-stu-id="6d5e9-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="6d5e9-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [ @shanselman ](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="6d5e9-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="6d5e9-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [ @jongalloway ](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="6d5e9-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>

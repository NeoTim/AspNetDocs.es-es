---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/vb/adding-a-view
title: Agregar una vista (VB) | Microsoft Docs
author: Rick-Anderson
description: Este tutorial le enseñará los aspectos básicos de la creación de una aplicación web MVC de ASP.NET con Microsoft Visual Web Developer 2010 Express Service Pack 1, que es...
ms.author: riande
ms.date: 01/12/2011
ms.assetid: d3633f64-5d3c-45c9-ae4b-cb1563e3739f
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/vb/adding-a-view
msc.type: authoredcontent
ms.openlocfilehash: fa200935d83bb26c07b302449a6eba6fd67b5322
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/19/2020
ms.locfileid: "77457381"
---
# <a name="adding-a-view-vb"></a><span data-ttu-id="2eab1-103">Agregar una vista (VB)</span><span class="sxs-lookup"><span data-stu-id="2eab1-103">Adding a View (VB)</span></span>

<span data-ttu-id="2eab1-104">por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="2eab1-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="2eab1-105">Este tutorial le enseñará los aspectos básicos de la creación de una aplicación web MVC de ASP.NET con Microsoft Visual Web Developer 2010 Express Service Pack 1, que es una versión gratuita de Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2eab1-105">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="2eab1-106">Antes de empezar, asegúrese de que ha instalado los requisitos previos que se enumeran a continuación.</span><span class="sxs-lookup"><span data-stu-id="2eab1-106">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="2eab1-107">Para instalar todos ellos, haga clic en el vínculo siguiente: [instalador de plataforma web](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="2eab1-107">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="2eab1-108">Como alternativa, puede instalar individualmente los requisitos previos con los siguientes vínculos:</span><span class="sxs-lookup"><span data-stu-id="2eab1-108">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="2eab1-109">Requisitos previos de Visual Studio Web Developer Express SP1</span><span class="sxs-lookup"><span data-stu-id="2eab1-109">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="2eab1-110">ASP.NET MVC 3 Tools Update</span><span class="sxs-lookup"><span data-stu-id="2eab1-110">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="2eab1-111">[SQL Server Compact 4,0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(compatibilidad con herramientas y tiempo de ejecución)</span><span class="sxs-lookup"><span data-stu-id="2eab1-111">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="2eab1-112">Si utiliza Visual Studio 2010 en lugar de Visual Web Developer 2010, instale los requisitos previos haciendo clic en el siguiente vínculo: [requisitos previos de Visual Studio 2010](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="2eab1-112">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="2eab1-113">Un proyecto de Visual Web Developer con código fuente de VB.NET está disponible para acompañar este tema.</span><span class="sxs-lookup"><span data-stu-id="2eab1-113">A Visual Web Developer project with VB.NET source code is available to accompany this topic.</span></span> <span data-ttu-id="2eab1-114">[Descargue la versión de VB.net](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="2eab1-114">[Download the VB.NET version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="2eab1-115">Si lo prefiere C#, cambie a la [ C# versión](../cs/adding-a-view.md) de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="2eab1-115">If you prefer C#, switch to the [C# version](../cs/adding-a-view.md) of this tutorial.</span></span>

<span data-ttu-id="2eab1-116">En esta sección vamos a modificar la clase `HelloWorldController` para que use un archivo de plantilla de vista para encapsular correctamente el proceso de generación de respuestas HTML a un cliente.</span><span class="sxs-lookup"><span data-stu-id="2eab1-116">In this section we're going to modify the `HelloWorldController` class to use a view template file to cleanly encapsulate the process of generating HTML responses to a client.</span></span>

<span data-ttu-id="2eab1-117">Comencemos usando una plantilla de vista con el método `Index` en la clase `HelloWorldController`.</span><span class="sxs-lookup"><span data-stu-id="2eab1-117">Let's start by using a view template with the `Index` method in the `HelloWorldController` class.</span></span> <span data-ttu-id="2eab1-118">Actualmente, el método `Index` devuelve una cadena con un mensaje que está codificado de forma rígida dentro de la clase de controlador.</span><span class="sxs-lookup"><span data-stu-id="2eab1-118">Currently the `Index` method returns a string with a message that is hard-coded within the controller class.</span></span> <span data-ttu-id="2eab1-119">Cambie el método de `Index` para que devuelva un objeto `View`, como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="2eab1-119">Change the `Index` method to return a `View` object, as shown in the following:</span></span>

[!code-vb[Main](adding-a-view/samples/sample1.vb)]

<span data-ttu-id="2eab1-120">Ahora vamos a agregar una plantilla de vista a nuestro proyecto que se puede invocar con el método `Index`.</span><span class="sxs-lookup"><span data-stu-id="2eab1-120">Let's now add a view template to our project that we can invoke with the `Index` method.</span></span> <span data-ttu-id="2eab1-121">Para ello, haga clic con el botón secundario dentro del método `Index` y haga clic en **Agregar vista**.</span><span class="sxs-lookup"><span data-stu-id="2eab1-121">To do this, right-click inside the `Index` method and click **Add View**.</span></span>

<span data-ttu-id="2eab1-122">[![IndexAddView](adding-a-view/_static/image2.png "IndexAddView")](adding-a-view/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-122">[![IndexAddView](adding-a-view/_static/image2.png "IndexAddView")](adding-a-view/_static/image1.png)</span></span>

<span data-ttu-id="2eab1-123">Aparece el cuadro de diálogo **Agregar vista** .</span><span class="sxs-lookup"><span data-stu-id="2eab1-123">The **Add View** dialog box appears.</span></span> <span data-ttu-id="2eab1-124">Deje las entradas predeterminadas y haga clic en el botón **Agregar** .</span><span class="sxs-lookup"><span data-stu-id="2eab1-124">Leave the default entries and click the **Add** button.</span></span>

<span data-ttu-id="2eab1-125">[![3addView](adding-a-view/_static/image4.png "3addView")](adding-a-view/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-125">[![3addView](adding-a-view/_static/image4.png "3addView")](adding-a-view/_static/image3.png)</span></span>

<span data-ttu-id="2eab1-126">Se crean la carpeta *MvcMovie\Views\HelloWorld* y el archivo *MvcMovie\Views\HelloWorld\Index.vbhtml* .</span><span class="sxs-lookup"><span data-stu-id="2eab1-126">The *MvcMovie\Views\HelloWorld* folder and the *MvcMovie\Views\HelloWorld\Index.vbhtml* file are created.</span></span> <span data-ttu-id="2eab1-127">Puede verlos en **Explorador de soluciones**:</span><span class="sxs-lookup"><span data-stu-id="2eab1-127">You can see them in **Solution Explorer**:</span></span>

<span data-ttu-id="2eab1-128">[![SolnExpHelloWorldIndx](adding-a-view/_static/image6.png "SolnExpHelloWorldIndx")](adding-a-view/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-128">[![SolnExpHelloWorldIndx](adding-a-view/_static/image6.png "SolnExpHelloWorldIndx")](adding-a-view/_static/image5.png)</span></span>

<span data-ttu-id="2eab1-129">Agregue cierto código HTML bajo la etiqueta `<h2>`.</span><span class="sxs-lookup"><span data-stu-id="2eab1-129">Add some HTML under the `<h2>` tag.</span></span> <span data-ttu-id="2eab1-130">A continuación se muestra el archivo *MvcMovie\Views\HelloWorld\Index.vbhtml* modificado.</span><span class="sxs-lookup"><span data-stu-id="2eab1-130">The modified *MvcMovie\Views\HelloWorld\Index.vbhtml* file is shown below.</span></span>

[!code-vbhtml[Main](adding-a-view/samples/sample2.vbhtml)]

<span data-ttu-id="2eab1-131">Ejecute la aplicación y vaya al controlador de&quot; de &quot;Hola mundo (`http://localhost:xxxx/HelloWorld`).</span><span class="sxs-lookup"><span data-stu-id="2eab1-131">Run the application and browse to the &quot;hello world&quot; controller (`http://localhost:xxxx/HelloWorld`).</span></span> <span data-ttu-id="2eab1-132">El método `Index` del controlador no hace mucho trabajo; simplemente ejecutó la instrucción `return View()`, lo que indica que queríamos usar un archivo de plantilla de vista para presentar una respuesta al cliente.</span><span class="sxs-lookup"><span data-stu-id="2eab1-132">The `Index` method in your controller didn't do much work; it simply ran the statement `return View()`, which indicated that we wanted to use a view template file to render a response to the client.</span></span> <span data-ttu-id="2eab1-133">Dado que no especificamos explícitamente el nombre del archivo de plantilla de vista que se va a usar, ASP.NET MVC tenía como valor predeterminado el archivo de vista *index. vbhtml* dentro de la carpeta *\Views\HelloWorld* .</span><span class="sxs-lookup"><span data-stu-id="2eab1-133">Because we did not explicitly specify the name of the view template file to use, ASP.NET MVC defaulted to using the *Index.vbhtml* view file within the *\Views\HelloWorld* folder.</span></span> <span data-ttu-id="2eab1-134">En la imagen siguiente se muestra la cadena codificada de forma rígida en la vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-134">The image below shows the string hard-coded in the view.</span></span>

<span data-ttu-id="2eab1-135">[![3HelloWorld](adding-a-view/_static/image8.png "3HelloWorld")](adding-a-view/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-135">[![3HelloWorld](adding-a-view/_static/image8.png "3HelloWorld")](adding-a-view/_static/image7.png)</span></span>

<span data-ttu-id="2eab1-136">Parece bastante bueno.</span><span class="sxs-lookup"><span data-stu-id="2eab1-136">Looks pretty good.</span></span> <span data-ttu-id="2eab1-137">Sin embargo, tenga en cuenta que la barra de título del explorador indica &quot;&quot; de índice y el título grande de la página indica &quot;mi aplicación MVC.&quot; vamos a cambiarlas.</span><span class="sxs-lookup"><span data-stu-id="2eab1-137">However, notice that the browser's title bar says &quot;Index&quot; and the big title on the page says &quot;My MVC Application.&quot; Let's change those.</span></span>

## <a name="changing-views-and-layout-pages"></a><span data-ttu-id="2eab1-138">Cambiar vistas y páginas de diseño</span><span class="sxs-lookup"><span data-stu-id="2eab1-138">Changing views and layout pages</span></span>

<span data-ttu-id="2eab1-139">En primer lugar, vamos a cambiar el texto &quot;mi aplicación MVC.&quot; que el texto se comparta y aparezca en todas las páginas.</span><span class="sxs-lookup"><span data-stu-id="2eab1-139">First, let's change the text &quot;My MVC Application.&quot; That text is shared and appears on every page.</span></span> <span data-ttu-id="2eab1-140">Realmente aparece solo en un lugar de nuestro proyecto, aunque esté en cada página de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2eab1-140">It actually appears in only one place in our project, even though it's on every page in our application.</span></span> <span data-ttu-id="2eab1-141">Vaya a la carpeta */views/Shared* en **Explorador de soluciones** y abra el archivo *\_layout. vbhtml* .</span><span class="sxs-lookup"><span data-stu-id="2eab1-141">Go to the */Views/Shared* folder in **Solution Explorer** and open the *\_Layout.vbhtml* file.</span></span> <span data-ttu-id="2eab1-142">Este archivo se denomina página de diseño y es el shell de &quot;compartido&quot; que usan todas las demás páginas.</span><span class="sxs-lookup"><span data-stu-id="2eab1-142">This file is called a layout page and it's the shared &quot;shell&quot; that all other pages use.</span></span>

<span data-ttu-id="2eab1-143">Observe la línea de código `@RenderBody()` situada cerca de la parte inferior del archivo.</span><span class="sxs-lookup"><span data-stu-id="2eab1-143">Note the `@RenderBody()` line of code near the bottom of the file.</span></span> <span data-ttu-id="2eab1-144">`RenderBody` es un marcador de posición en el que se muestran todas las páginas que se crean, &quot;&quot; ajustadas en la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="2eab1-144">`RenderBody` is a placeholder where all the pages you create show up, &quot;wrapped&quot; in the layout page.</span></span> <span data-ttu-id="2eab1-145">Cambie el encabezado `<h1>` de **&quot;** &quot; de aplicación mvc a &quot;aplicación de películas MVC&quot;.</span><span class="sxs-lookup"><span data-stu-id="2eab1-145">Change the `<h1>` heading from **&quot;** My MVC Application&quot; to &quot;MVC Movie App&quot;.</span></span>

[!code-html[Main](adding-a-view/samples/sample3.html)]

<span data-ttu-id="2eab1-146">Ejecute la aplicación y observe que ahora dice &quot;aplicación de películas MVC&quot;.</span><span class="sxs-lookup"><span data-stu-id="2eab1-146">Run the application and note it now says &quot;MVC Movie App&quot;.</span></span> <span data-ttu-id="2eab1-147">Haga clic en el vínculo **About (acerca** de) y esa página muestra también &quot;aplicación de películas MVC&quot;.</span><span class="sxs-lookup"><span data-stu-id="2eab1-147">Click the **About** link, and that page shows &quot;MVC Movie App&quot;, too.</span></span>

<span data-ttu-id="2eab1-148">A continuación se muestra el archivo completo *\_layout. vbhtml* :</span><span class="sxs-lookup"><span data-stu-id="2eab1-148">The complete *\_Layout.vbhtml* file is shown below:</span></span>

[!code-cshtml[Main](adding-a-view/samples/sample4.cshtml)]

<span data-ttu-id="2eab1-149">Ahora, vamos a cambiar el título de la página de índice (ver).</span><span class="sxs-lookup"><span data-stu-id="2eab1-149">Now, let's change the title of the Index page (view).</span></span>

[!code-vbhtml[Main](adding-a-view/samples/sample5.vbhtml)]

<span data-ttu-id="2eab1-150">Abra *MvcMovie\Views\HelloWorld\Index.vbhtml*.</span><span class="sxs-lookup"><span data-stu-id="2eab1-150">Open *MvcMovie\Views\HelloWorld\Index.vbhtml*.</span></span> <span data-ttu-id="2eab1-151">Hay dos lugares para hacer un cambio: en primer lugar, el texto que aparece en el título del explorador y, a continuación, en el encabezado secundario (el elemento `<h2>`).</span><span class="sxs-lookup"><span data-stu-id="2eab1-151">There are two places to make a change: first, the text that appears in the title of the browser, and then in the secondary header (the `<h2>` element).</span></span> <span data-ttu-id="2eab1-152">Haremos ligeramente diferentes para que pueda ver qué fragmento de código cambia la parte de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2eab1-152">We'll make them slightly different so you can see which bit of code changes which part of the app.</span></span>

<span data-ttu-id="2eab1-153">Ejecute la aplicación y vaya a`http://localhost:xx/HelloWorld`.</span><span class="sxs-lookup"><span data-stu-id="2eab1-153">Run the application and browse to`http://localhost:xx/HelloWorld`.</span></span> <span data-ttu-id="2eab1-154">Tenga en cuenta que el título del explorador, el encabezado principal y los encabezados secundarios han cambiado.</span><span class="sxs-lookup"><span data-stu-id="2eab1-154">Notice that the browser title, the primary heading, and the secondary headings have changed.</span></span> <span data-ttu-id="2eab1-155">Es fácil realizar cambios importantes en la aplicación con pequeños cambios en una vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-155">It's easy to make big changes in your application with small changes to a view.</span></span> <span data-ttu-id="2eab1-156">(Si no ve los cambios en el explorador, es posible que esté viendo contenido almacenado en caché.</span><span class="sxs-lookup"><span data-stu-id="2eab1-156">(If you don't see changes in the browser, you might be viewing cached content.</span></span> <span data-ttu-id="2eab1-157">Presione Ctrl+F5 en el explorador para forzar que se cargue la respuesta del servidor).</span><span class="sxs-lookup"><span data-stu-id="2eab1-157">Press Ctrl+F5 in your browser to force the response from the server to be loaded.)</span></span>

<span data-ttu-id="2eab1-158">[![3_MyMovieList](adding-a-view/_static/image10.png "3_MyMovieList")](adding-a-view/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-158">[![3_MyMovieList](adding-a-view/_static/image10.png "3_MyMovieList")](adding-a-view/_static/image9.png)</span></span>

<span data-ttu-id="2eab1-159">No obstante, nuestro pequeño bit de&quot; de datos de &quot;(en este caso, el &quot;mensaje Hola mundo!&quot;) está codificado de forma rígida.</span><span class="sxs-lookup"><span data-stu-id="2eab1-159">Our little bit of &quot;data&quot; (in this case the &quot;Hello World!&quot; message) is hard-coded, though.</span></span> <span data-ttu-id="2eab1-160">Nuestra aplicación MVC tiene V (views) y tenemos C (controladores), pero todavía no hay M (modelo).</span><span class="sxs-lookup"><span data-stu-id="2eab1-160">Our MVC application has V (views) and we've got C (controllers), but no M (model) yet.</span></span> <span data-ttu-id="2eab1-161">En breve, veremos cómo crear una base de datos y recuperar los datos del modelo.</span><span class="sxs-lookup"><span data-stu-id="2eab1-161">Shortly, we'll walk through how create a database and retrieve model data from it.</span></span>

## <a name="passing-data-from-the-controller-to-the-view"></a><span data-ttu-id="2eab1-162">Pasar datos del controlador a la vista</span><span class="sxs-lookup"><span data-stu-id="2eab1-162">Passing Data from the Controller to the View</span></span>

<span data-ttu-id="2eab1-163">Sin embargo, antes de ir a una base de datos y hablar acerca de los modelos, vamos a hablar primero sobre cómo pasar información desde el controlador a una vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-163">Before we go to a database and talk about models, though, let's first talk about passing information from the Controller to a View.</span></span> <span data-ttu-id="2eab1-164">Queremos pasar lo que requiere una plantilla de vista para presentar una respuesta HTML a un cliente.</span><span class="sxs-lookup"><span data-stu-id="2eab1-164">We want to pass what a view template requires in order to render an HTML response to a client.</span></span> <span data-ttu-id="2eab1-165">Normalmente, estos objetos se crean y pasan por una clase de controlador a una plantilla de vista, y solo deben contener los datos que requiere la plantilla de vista, y no más.</span><span class="sxs-lookup"><span data-stu-id="2eab1-165">These objects are typically created and passed by a controller class to a view template, and they should contain only the data that the view template requires — and no more.</span></span>

<span data-ttu-id="2eab1-166">Anteriormente, con la clase `HelloWorldController`, el método de acción `Welcome` tomó un `name` y un parámetro `numTimes` y, a continuación, generaba los valores de los parámetros en el explorador.</span><span class="sxs-lookup"><span data-stu-id="2eab1-166">Previously with the `HelloWorldController` class, the `Welcome` action method took a `name` and a `numTimes` parameter and then output the parameter values to the browser.</span></span> <span data-ttu-id="2eab1-167">En lugar de hacer que el controlador siga representando esta respuesta directamente, vamos a colocar los datos en un contenedor para la vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-167">Rather than have the controller continue to render this response directly, let's instead we'll put that data in a bag for the View.</span></span> <span data-ttu-id="2eab1-168">Los controladores y las vistas pueden utilizar un `ViewBag` objeto para almacenar los datos.</span><span class="sxs-lookup"><span data-stu-id="2eab1-168">Controllers and Views can use a `ViewBag` object to hold that data.</span></span> <span data-ttu-id="2eab1-169">Que se pasará a una plantilla de vista automáticamente y se usará para representar la respuesta HTML usando el contenido del contenedor como datos.</span><span class="sxs-lookup"><span data-stu-id="2eab1-169">That will be passed over to a view template automatically, and used to render the HTML response using the contents of the bag as data.</span></span> <span data-ttu-id="2eab1-170">De este modo, el controlador se preocupa de una cosa y de la plantilla de vista con otra, lo que nos permite mantener limpio &quot;la separación de preocupaciones&quot; dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2eab1-170">That way the controller is concerned with one thing and the view template with another — enabling us to maintain clean &quot;separation of concerns&quot; within the application.</span></span>

<span data-ttu-id="2eab1-171">Como alternativa, podríamos definir una clase personalizada y, a continuación, crear una instancia de ese objeto en nuestro propio, rellenarla con datos y pasarla a la vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-171">Alternatively, we could define a custom class, then create an instance of that object on our own, fill it with data and pass it to the View.</span></span> <span data-ttu-id="2eab1-172">Esto se suele denominar ViewModel, ya que es un modelo personalizado para la vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-172">That is often called a ViewModel, because it's a custom Model for the View.</span></span> <span data-ttu-id="2eab1-173">Sin embargo, para pequeñas cantidades de datos, ViewBag funciona bien.</span><span class="sxs-lookup"><span data-stu-id="2eab1-173">For small amounts of data, however, the ViewBag works great.</span></span>

<span data-ttu-id="2eab1-174">Vuelva al archivo *HelloWorldController. VB* cambie el método `Welcome` dentro del controlador para colocar el mensaje y NumTimes en ViewBag.</span><span class="sxs-lookup"><span data-stu-id="2eab1-174">Return to the *HelloWorldController.vb* file change the `Welcome` method inside the controller to put the Message and NumTimes into the ViewBag.</span></span> <span data-ttu-id="2eab1-175">ViewBag es un objeto dinámico.</span><span class="sxs-lookup"><span data-stu-id="2eab1-175">The ViewBag is a dynamic object.</span></span> <span data-ttu-id="2eab1-176">Esto significa que puede colocar todo lo que desee en él.</span><span class="sxs-lookup"><span data-stu-id="2eab1-176">That means you can put whatever you want in to it.</span></span> <span data-ttu-id="2eab1-177">ViewBag no tiene ninguna propiedad definida hasta que coloque algo dentro de ella.</span><span class="sxs-lookup"><span data-stu-id="2eab1-177">The ViewBag has no defined properties until you put something inside it.</span></span>

<span data-ttu-id="2eab1-178">El `HelloWorldController.vb` completo con la nueva clase en el mismo archivo.</span><span class="sxs-lookup"><span data-stu-id="2eab1-178">The complete `HelloWorldController.vb` with the new class in the same file.</span></span>

[!code-vb[Main](adding-a-view/samples/sample6.vb)]

<span data-ttu-id="2eab1-179">Ahora nuestro ViewBag contiene datos que se pasarán a la vista automáticamente.</span><span class="sxs-lookup"><span data-stu-id="2eab1-179">Now our ViewBag contains data that will be passed over to the View automatically.</span></span> <span data-ttu-id="2eab1-180">De nuevo, también podríamos haber pasado nuestro propio objeto, como esto, si le gusta:</span><span class="sxs-lookup"><span data-stu-id="2eab1-180">Again, alternatively we could have passed in our own object like this if we liked:</span></span>

[!code-csharp[Main](adding-a-view/samples/sample7.cs)]

<span data-ttu-id="2eab1-181">Ahora necesitamos una plantilla `WelcomeView`.</span><span class="sxs-lookup"><span data-stu-id="2eab1-181">Now we need a `WelcomeView` template!</span></span> <span data-ttu-id="2eab1-182">Ejecute la aplicación para compilar el nuevo código.</span><span class="sxs-lookup"><span data-stu-id="2eab1-182">Run the application so the new code is compiled.</span></span> <span data-ttu-id="2eab1-183">Cierre el explorador, haga clic con el botón secundario dentro del método `Welcome` y, a continuación, haga clic en **Agregar vista**.</span><span class="sxs-lookup"><span data-stu-id="2eab1-183">Close the browser, right-click inside the `Welcome` method, and then click **Add View**.</span></span>

<span data-ttu-id="2eab1-184">Este es el aspecto que tiene el cuadro de diálogo **Agregar vista** .</span><span class="sxs-lookup"><span data-stu-id="2eab1-184">Here's what your **Add View** dialog box looks like.</span></span>

<span data-ttu-id="2eab1-185">[![3AddWelcomeView](adding-a-view/_static/image12.png "3AddWelcomeView")](adding-a-view/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-185">[![3AddWelcomeView](adding-a-view/_static/image12.png "3AddWelcomeView")](adding-a-view/_static/image11.png)</span></span>

<span data-ttu-id="2eab1-186">Agregue el siguiente código bajo el elemento `<h2>` en la nueva <em>Página principal.</em> archivo vbhtml.</span><span class="sxs-lookup"><span data-stu-id="2eab1-186">Add the following code under the `<h2>` element in the new <em>Welcome.</em>vbhtml file.</span></span> <span data-ttu-id="2eab1-187">Haremos un bucle y digamos &quot;Hello&quot; tantas veces como indique el usuario.</span><span class="sxs-lookup"><span data-stu-id="2eab1-187">We'll make a loop and say &quot;Hello&quot; as many times as the user says we should!</span></span>

[!code-vbhtml[Main](adding-a-view/samples/sample8.vbhtml)]

<span data-ttu-id="2eab1-188">Ejecute la aplicación y vaya a `http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`</span><span class="sxs-lookup"><span data-stu-id="2eab1-188">Run the application and browse to `http://localhost:xx/HelloWorld/Welcome?name=Scott&numtimes=4`</span></span>

<span data-ttu-id="2eab1-189">Ahora los datos se toman de la dirección URL y se pasan al controlador automáticamente.</span><span class="sxs-lookup"><span data-stu-id="2eab1-189">Now data is taken from the URL and passed to the controller automatically.</span></span> <span data-ttu-id="2eab1-190">El controlador empaqueta los datos en un objeto `Model` y pasa ese objeto a la vista.</span><span class="sxs-lookup"><span data-stu-id="2eab1-190">The controller packages up the data into a `Model` object and passes that object to the view.</span></span> <span data-ttu-id="2eab1-191">La vista que muestra los datos como HTML para el usuario.</span><span class="sxs-lookup"><span data-stu-id="2eab1-191">The view than displays the data as HTML to the user.</span></span>

<span data-ttu-id="2eab1-192">[![3Hello_Scott_4](adding-a-view/_static/image14.png "3Hello_Scott_4")](adding-a-view/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="2eab1-192">[![3Hello_Scott_4](adding-a-view/_static/image14.png "3Hello_Scott_4")](adding-a-view/_static/image13.png)</span></span>

<span data-ttu-id="2eab1-193">Bueno, esto era un tipo de &quot;M&quot; para el modelo, pero no el tipo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="2eab1-193">Well, that was a kind of an &quot;M&quot; for model, but not the database kind.</span></span> <span data-ttu-id="2eab1-194">Vamos a aprovechar lo que hemos aprendido para crear una base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="2eab1-194">Let's take what we've learned and create a database of movies.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="2eab1-195">[Anterior](adding-a-controller.md)
> [Siguiente](adding-a-model.md)</span><span class="sxs-lookup"><span data-stu-id="2eab1-195">[Previous](adding-a-controller.md)
[Next](adding-a-model.md)</span></span>

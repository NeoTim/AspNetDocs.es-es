---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Mostrar datos en un gráfico con ASP.NET Web Pages (Razor) | Microsoft Docs
author: microsoft
description: Este capítulo explica cómo mostrar datos en un gráfico. En los capítulos anteriores, aprendió a mostrar los datos manualmente y en una cuadrícula. Este capítulo explica...
ms.author: riande
ms.date: 05/22/2012
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: f97f214abeaeb88634dd10aaebacc0d58e91ab84
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59422465"
---
# <a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="61dcf-105">Mostrar datos en un gráfico con ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="61dcf-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>

<span data-ttu-id="61dcf-106">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="61dcf-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="61dcf-107">En este artículo se explica cómo usar un gráfico para mostrar datos en un sitio Web de ASP.NET Web Pages (Razor) mediante el `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="61dcf-108">**Aprenderá lo**:</span><span class="sxs-lookup"><span data-stu-id="61dcf-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="61dcf-109">Cómo mostrar los datos en un gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="61dcf-110">Cómo aplicar el estilo de los gráficos que usan temas integrados.</span><span class="sxs-lookup"><span data-stu-id="61dcf-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="61dcf-111">Cómo guardar gráficos y cómo almacenar en caché para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="61dcf-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="61dcf-112">Estas son las características introducidas en el artículo de programación de ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="61dcf-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="61dcf-113">El `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="61dcf-114">La información de este artículo se aplica a las páginas Web de ASP.NET 1.0 y Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="61dcf-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>


<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="61dcf-115">La aplicación auxiliar de gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-115">The Chart Helper</span></span>

<span data-ttu-id="61dcf-116">Cuando desea mostrar los datos en forma gráfica, puede usar `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="61dcf-117">El `Chart` auxiliar puede presentar una imagen que muestra los datos en una variedad de tipos de gráficos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="61dcf-118">Admite muchas opciones para dar formato y etiquetado.</span><span class="sxs-lookup"><span data-stu-id="61dcf-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="61dcf-119">El `Chart` auxiliar puede representar más de 30 tipos de gráficos, incluidos todos los tipos de gráficos que es posible que esté familiarizado con desde Microsoft Excel u otras herramientas &#8212; gráficos de áreas, gráficos de barras, gráficos de columnas, gráficos de líneas y los gráficos circulares, junto con más los gráficos especializados, como los gráficos de cotizaciones.</span><span class="sxs-lookup"><span data-stu-id="61dcf-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="61dcf-120">**Gráfico de áreas** ![Descripción: Imagen del tipo de gráfico de áreas</span><span class="sxs-lookup"><span data-stu-id="61dcf-120">**Area chart** ![Description: Picture of the Area chart type</span></span>](7-displaying-data-in-a-chart/_static/image1.jpg) | <span data-ttu-id="61dcf-121">**Gráfico de barras** ![Descripción: Imagen del tipo de gráfico de barras</span><span class="sxs-lookup"><span data-stu-id="61dcf-121">**Bar chart** ![Description: Picture of the Bar chart type</span></span>](7-displaying-data-in-a-chart/_static/image2.jpg) |
| --- | --- |
| <span data-ttu-id="61dcf-122">**Gráfico de columnas** ![Descripción: Imagen del tipo de gráfico de columnas</span><span class="sxs-lookup"><span data-stu-id="61dcf-122">**Column chart** ![Description: Picture of the Column chart type</span></span>](7-displaying-data-in-a-chart/_static/image3.jpg) | <span data-ttu-id="61dcf-123">**Gráfico de líneas** ![Descripción: Imagen del tipo de gráfico de líneas</span><span class="sxs-lookup"><span data-stu-id="61dcf-123">**Line chart** ![Description: Picture of the Line chart type</span></span>](7-displaying-data-in-a-chart/_static/image4.jpg) |
| <span data-ttu-id="61dcf-124">**Gráfico circular** ![Descripción: Imagen del tipo de gráfico circular</span><span class="sxs-lookup"><span data-stu-id="61dcf-124">**Pie chart** ![Description: Picture of the Pie chart type</span></span>](7-displaying-data-in-a-chart/_static/image5.jpg) | <span data-ttu-id="61dcf-125">**Gráfico de cotizaciones** ![Descripción: Imagen del tipo de gráfico de cotizaciones</span><span class="sxs-lookup"><span data-stu-id="61dcf-125">**Stock chart** ![Description: Picture of the Stock chart type</span></span>](7-displaying-data-in-a-chart/_static/image6.jpg) |

### <a name="chart-elements"></a><span data-ttu-id="61dcf-126">Elemento de gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-126">Chart Elements</span></span>

<span data-ttu-id="61dcf-127">Los gráficos muestran datos y elementos adicionales, como leyendas, ejes, series y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="61dcf-128">La siguiente imagen muestra muchos de los elementos de gráfico que se pueden personalizar al usar el `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="61dcf-129">En este artículo se muestra cómo establecer algunos (no todos) de estos elementos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-129">This article shows you how to set some (not all) of these elements.</span></span>

![Descripción: Imagen que muestra los elementos del gráfico](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="61dcf-131">Creación de un gráfico de datos</span><span class="sxs-lookup"><span data-stu-id="61dcf-131">Creating a Chart from Data</span></span>

<span data-ttu-id="61dcf-132">Los datos que se muestra en un gráfico pueden ser de una matriz de los resultados devueltos de una base de datos, o de datos que se encuentra en un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="61dcf-133">Uso de una matriz</span><span class="sxs-lookup"><span data-stu-id="61dcf-133">Using an Array</span></span>

<span data-ttu-id="61dcf-134">Como se explica en [Introducción a ASP.NET Web Pages de programación mediante la sintaxis Razor](https://go.microsoft.com/fwlink/?LinkId=202890), una matriz permite almacenar una colección de elementos similares en una única variable.</span><span class="sxs-lookup"><span data-stu-id="61dcf-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="61dcf-135">Puede utilizar matrices que contienen los datos que se van a incluir en el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="61dcf-136">Este procedimiento muestra cómo puede crear un gráfico de datos en las matrices, con el tipo de gráfico predeterminado.</span><span class="sxs-lookup"><span data-stu-id="61dcf-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="61dcf-137">También muestra cómo mostrar el gráfico dentro de la página.</span><span class="sxs-lookup"><span data-stu-id="61dcf-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="61dcf-138">Cree un nuevo archivo denominado *ChartArrayBasic.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="61dcf-139">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="61dcf-140">En primer lugar, el código crea un nuevo gráfico y establece su ancho y alto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="61dcf-141">Especificar el título del gráfico mediante la `AddTitle` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="61dcf-142">Para agregar datos, use el `AddSeries` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="61dcf-143">En este ejemplo, se usa el `name`, `xValue`, y `yValues` parámetros de la `AddSeries` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="61dcf-144">El `name` parámetro se muestra en la leyenda del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="61dcf-145">El `xValue` parámetro contiene una matriz de datos que se muestran en el eje horizontal del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="61dcf-146">El `yValues` parámetro contiene una matriz de datos que se usan para trazar los puntos verticales del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="61dcf-147">El `Write` método realmente representa el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="61dcf-148">En este caso, ya que no ha especificado un tipo de gráfico, el `Chart` auxiliar representa su gráfico predeterminado, que es un gráfico de columnas.</span><span class="sxs-lookup"><span data-stu-id="61dcf-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="61dcf-149">Ejecute la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-149">Run the page in the browser.</span></span> <span data-ttu-id="61dcf-150">El explorador muestra el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="61dcf-151">Uso de una consulta de base de datos para los datos del gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="61dcf-152">Si la información que desee crear un gráfico está en una base de datos, puede ejecutar una consulta de base de datos y, a continuación, utilizar datos de los resultados para crear el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="61dcf-153">Este procedimiento muestra cómo leer y mostrar los datos de la base de datos creada en el artículo [Introducción al trabajo con una base de datos en sitios de ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="61dcf-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="61dcf-154">Agregar un *aplicación\_datos* carpeta a la raíz del sitio Web si la carpeta no existe.</span><span class="sxs-lookup"><span data-stu-id="61dcf-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="61dcf-155">En el *aplicación\_datos* carpeta, agregue el archivo de base de datos denominado *SmallBakery.sdf* que se describe en [Introducción al trabajo con una base de datos en sitios de ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="61dcf-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="61dcf-156">Cree un nuevo archivo denominado *ChartDataQuery.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="61dcf-157">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="61dcf-158">El código primero abre la base de datos SmallBakery y lo asigna a una variable denominada `db`.</span><span class="sxs-lookup"><span data-stu-id="61dcf-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="61dcf-159">Esta variable representa un `Database` objeto que puede usarse para leer y escribir en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="61dcf-160">A continuación, el código ejecuta una consulta SQL para obtener el nombre y el precio de cada producto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="61dcf-161">El código crea un nuevo gráfico y le pasa la consulta de base de datos mediante una llamada del gráfico `DataBindTable` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="61dcf-162">Este método toma dos parámetros: el `dataSource` parámetro es para los datos de la consulta y el `xField` parámetro le permite establecer la columna de datos se usa para el eje x del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="61dcf-163">Como alternativa al uso de la `DataBindTable` método, puede usar el `AddSeries` método de la `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="61dcf-164">El `AddSeries` método le permite definir la `xValue` y `yValues` parámetros.</span><span class="sxs-lookup"><span data-stu-id="61dcf-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="61dcf-165">Por ejemplo, en lugar de usar el `DataBindTable` método similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="61dcf-166">Puede usar el `AddSeries` método similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="61dcf-167">Ambas representan los mismos resultados.</span><span class="sxs-lookup"><span data-stu-id="61dcf-167">Both render the same results.</span></span> <span data-ttu-id="61dcf-168">El `AddSeries` método es más flexible porque puede especificar el tipo de gráfico y los datos de manera explícita, pero la `DataBindTable` método es más fácil de usar si no necesita la flexibilidad adicional.</span><span class="sxs-lookup"><span data-stu-id="61dcf-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="61dcf-169">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="61dcf-170">Usar datos XML</span><span class="sxs-lookup"><span data-stu-id="61dcf-170">Using XML Data</span></span>

<span data-ttu-id="61dcf-171">La tercera opción de gráficos es usar un archivo XML como los datos para el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="61dcf-172">Esto requiere que el archivo XML tiene también un archivo de esquema (*.xsd* archivo) que describe la estructura XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="61dcf-173">Este procedimiento muestra cómo leer datos desde un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="61dcf-174">En el *aplicación\_datos* carpeta, cree un nuevo archivo XML denominado *data.xml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="61dcf-175">Reemplace el XML existente con lo siguiente, que es algunos datos XML acerca de los empleados de una compañía ficticia.</span><span class="sxs-lookup"><span data-stu-id="61dcf-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="61dcf-176">En el *aplicación\_datos* carpeta, cree un nuevo archivo XML denominado *data.xsd*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="61dcf-177">(Tenga en cuenta que la extensión de este momento es *.xsd*.)</span><span class="sxs-lookup"><span data-stu-id="61dcf-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="61dcf-178">Reemplace el código XML existente con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="61dcf-179">En la raíz del sitio Web, cree un nuevo archivo denominado *ChartDataXML.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="61dcf-180">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="61dcf-181">El código crea primero un `DataSet` objeto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="61dcf-182">Este objeto se usa para administrar los datos que se leen desde el archivo XML y organizarlo según la información en el archivo de esquema.</span><span class="sxs-lookup"><span data-stu-id="61dcf-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="61dcf-183">(Tenga en cuenta que la parte superior del código incluye la instrucción `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="61dcf-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="61dcf-184">Esto es necesario para poder trabajar con el `DataSet` objeto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="61dcf-185">Para obtener más información, consulte [ &quot;Using&quot; instrucciones y nombres completos](#SB_UsingStatements) más adelante en este artículo.)</span><span class="sxs-lookup"><span data-stu-id="61dcf-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="61dcf-186">A continuación, el código crea un `DataView` objeto basado en el conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="61dcf-187">La vista de datos proporciona un objeto que se puede enlazar el gráfico &#8212; es decir, lectura y trazar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="61dcf-188">El gráfico se enlaza a los datos mediante el `AddSeries` método, como se vio anteriormente al representar gráficamente los datos de matriz, salvo que esta vez el `xValue` y `yValues` parámetros están establecidos en el `DataView` objeto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="61dcf-189">Este ejemplo también muestra cómo especificar un tipo de gráfico determinado.</span><span class="sxs-lookup"><span data-stu-id="61dcf-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="61dcf-190">Cuando se agregan los datos en el `AddSeries` método, el `chartType` parámetro también se establece para mostrar un gráfico circular.</span><span class="sxs-lookup"><span data-stu-id="61dcf-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="61dcf-191">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="61dcf-192">Las instrucciones "Using" y los nombres completos</span><span class="sxs-lookup"><span data-stu-id="61dcf-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="61dcf-193">.NET Framework que ASP.NET Web Pages con sintaxis Razor se basa en consta de varios miles de componentes (clases).</span><span class="sxs-lookup"><span data-stu-id="61dcf-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="61dcf-194">Para que sea fácil de administrar para trabajar con todas estas clases, que están organizados en *espacios de nombres*, que son similares a las bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="61dcf-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="61dcf-195">Por ejemplo, el `System.Web` espacio de nombres contiene clases que admiten la comunicación del explorador y el servidor, el `System.Xml` espacio de nombres contiene clases que se usan para crear y leer archivos XML, y el `System.Data` espacio de nombres contiene clases que permiten trabajar con los datos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="61dcf-196">Para tener acceso a cualquier clase en .NET Framework, debe saber no solo el nombre de clase, sino también el espacio de nombres que se encuentra la clase en código.</span><span class="sxs-lookup"><span data-stu-id="61dcf-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="61dcf-197">Por ejemplo, para poder usar el `Chart` auxiliar, el código necesita encontrar el `System.Web.Helpers.Chart` (clase), que combina el espacio de nombres (`System.Web.Helpers`) con el nombre de clase (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="61dcf-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="61dcf-198">Esto se conoce como la clase *completo* nombre &#8212; su ubicación completa y no ambigua en la gran amplitud de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="61dcf-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="61dcf-199">En el código, esto sería similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="61dcf-200">Sin embargo, resulta complicado (y propenso a errores) tener que usar estos nombres largos y completo cada vez que desee hacer referencia a una clase o la aplicación auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="61dcf-201">Por lo tanto, para que sea más fácil de usar los nombres de clase, puede *importar* los espacios de nombres que le interesa, que suele ser es tan solo unas entre los muchos espacios de nombres en .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="61dcf-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="61dcf-202">Si ha importado un espacio de nombres, puede usar un nombre de clase (`Chart`) en lugar del nombre completo (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="61dcf-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="61dcf-203">Cuando el código se ejecuta y encuentra un nombre de clase, puede consultar solo los espacios de nombres que ha importado para encontrar esa clase.</span><span class="sxs-lookup"><span data-stu-id="61dcf-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="61dcf-204">Al usar ASP.NET Web Pages con sintaxis Razor para crear páginas web, normalmente usa el mismo conjunto de clases cada vez, incluidos el `WebPage` clase, las aplicaciones auxiliares de diversos y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="61dcf-205">Para guardar el trabajo de importación de los espacios de nombres pertinentes cada vez que cree un sitio Web, ASP.NET se configura para que importa automáticamente un conjunto de espacios de nombres básicos para cada sitio Web.</span><span class="sxs-lookup"><span data-stu-id="61dcf-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="61dcf-206">Por eso no han tenido que tratar con los espacios de nombres o importar hasta ahora; todas las clases que ha trabajado con que se encuentran en espacios de nombres que se importan automáticamente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="61dcf-207">Sin embargo, en ocasiones necesitará trabajar con una clase que no se encuentra en un espacio de nombres que se importa automáticamente para usted.</span><span class="sxs-lookup"><span data-stu-id="61dcf-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="61dcf-208">En ese caso, puede usar nombres completos de esa clase, o puede importar manualmente el espacio de nombres que contiene la clase.</span><span class="sxs-lookup"><span data-stu-id="61dcf-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="61dcf-209">Para importar un espacio de nombres, usa el `using` instrucción (`import` en Visual Basic), como vimos anteriormente en un ejemplo del artículo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="61dcf-210">Por ejemplo, el `DataSet` clase está en el `System.Data` espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="61dcf-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="61dcf-211">El `System.Data` espacio de nombres no está disponible automáticamente para las páginas de Razor de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="61dcf-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="61dcf-212">Por lo tanto, para que funcione con el `DataSet` mediante su nombre completo de clase, puede usar código similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="61dcf-213">Si tiene que usar el `DataSet` clase varias veces puede importar un espacio de nombres similar al siguiente y, a continuación, use simplemente el nombre de clase en el código:</span><span class="sxs-lookup"><span data-stu-id="61dcf-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="61dcf-214">Puede agregar `using` instrucciones para otros espacios de .NET Framework que desea hacer referencia.</span><span class="sxs-lookup"><span data-stu-id="61dcf-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="61dcf-215">Sin embargo, como se indicó, no tendrá que hacer esto con frecuencia, dado que la mayoría de las clases que va a trabajar con está en espacios de nombres que se importan automáticamente por ASP.NET para su uso en *.cshtml* y *.vbhtml* páginas.</span><span class="sxs-lookup"><span data-stu-id="61dcf-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>


<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="61dcf-216">Mostrar gráficos dentro de una página Web</span><span class="sxs-lookup"><span data-stu-id="61dcf-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="61dcf-217">En los ejemplos, ha visto hasta ahora, se crea un gráfico y, a continuación, el gráfico se presenta directamente en el explorador como un gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="61dcf-218">En muchos casos, sin embargo, desea mostrar un gráfico como parte de una página, no solo por sí mismo en el explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="61dcf-219">Para ello requiere un proceso de dos pasos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-219">To do that requires a two-step process.</span></span> <span data-ttu-id="61dcf-220">El primer paso es crear una página que genera el gráfico, como ya ha visto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="61dcf-221">El segundo paso es mostrar la imagen resultante en otra página.</span><span class="sxs-lookup"><span data-stu-id="61dcf-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="61dcf-222">Para mostrar la imagen, usa HTML `<img>` elemento, en la misma manera que lo haría para mostrar cualquier imagen.</span><span class="sxs-lookup"><span data-stu-id="61dcf-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="61dcf-223">Sin embargo, en lugar de hacer referencia a un *.jpg* o *.png* archivo, el `<img>` referencias del elemento de la *.cshtml* archivo que contiene el `Chart` auxiliar que crea el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="61dcf-224">Cuando se ejecuta la página de presentación, el `<img>` elemento obtiene el resultado de la `Chart` auxiliar y representa el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="61dcf-225">Cree un archivo denominado *ShowChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="61dcf-226">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="61dcf-227">El código usa el `<img>` elemento para mostrar el gráfico que creó anteriormente en el *ChartArrayBasic.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="61dcf-228">Ejecute la página web en un explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-228">Run the web page in a browser.</span></span> <span data-ttu-id="61dcf-229">El *ShowChart.cshtml* archivo basándose en el código incluido en la imagen del gráfico muestra el *ChartArrayBasic.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="61dcf-230">Aplicar estilos a un gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-230">Styling a Chart</span></span>

<span data-ttu-id="61dcf-231">El `Chart` auxiliar admite un gran número de opciones que le permiten personalizar la apariencia del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="61dcf-232">Puede establecer los colores, fuentes, bordes y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="61dcf-233">Una manera fácil de personalizar la apariencia de un gráfico es usar un *tema*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="61dcf-234">Los temas son colecciones de información que especifican cómo presentar un gráfico utilizando fuentes, colores, etiquetas, paletas, bordes y efectos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="61dcf-235">(Tenga en cuenta que el estilo de un gráfico no indica el tipo de gráfico).</span><span class="sxs-lookup"><span data-stu-id="61dcf-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="61dcf-236">En la tabla siguiente se enumera temas integrados.</span><span class="sxs-lookup"><span data-stu-id="61dcf-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="61dcf-237">Tema</span><span class="sxs-lookup"><span data-stu-id="61dcf-237">Theme</span></span> | <span data-ttu-id="61dcf-238">Descripción</span><span class="sxs-lookup"><span data-stu-id="61dcf-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="61dcf-239">Muestra columnas rojas sobre un fondo blanco.</span><span class="sxs-lookup"><span data-stu-id="61dcf-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="61dcf-240">Muestra las columnas en un fondo degradado azul en azul.</span><span class="sxs-lookup"><span data-stu-id="61dcf-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="61dcf-241">Muestra las columnas en un fondo degradado verde en azul.</span><span class="sxs-lookup"><span data-stu-id="61dcf-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="61dcf-242">Muestra columnas naranjas sobre un fondo degradado de color amarillo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="61dcf-243">Muestra las columnas 3D de color rojo sobre un fondo blanco.</span><span class="sxs-lookup"><span data-stu-id="61dcf-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="61dcf-244">Puede especificar el tema que se usará al crear un nuevo gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="61dcf-245">Cree un nuevo archivo denominado *ChartStyleGreen.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="61dcf-246">Reemplace el contenido existente en la página con lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="61dcf-247">Este código es el mismo que el ejemplo anterior que usa la base de datos para los datos, pero agrega la `theme` parámetro cuando crea el `Chart` objeto.</span><span class="sxs-lookup"><span data-stu-id="61dcf-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="61dcf-248">A continuación muestra el código modificado:</span><span class="sxs-lookup"><span data-stu-id="61dcf-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="61dcf-249">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-249">Run the page in a browser.</span></span> <span data-ttu-id="61dcf-250">Verá los mismos datos que antes, pero el gráfico parece más precisos:</span><span class="sxs-lookup"><span data-stu-id="61dcf-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="61dcf-251">Guardar un gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-251">Saving a Chart</span></span>

<span data-ttu-id="61dcf-252">Cuando se usa el `Chart` auxiliar como se ha visto hasta ahora en este artículo, la aplicación auxiliar vuelve a crea el gráfico desde el principio cada vez que se invoca.</span><span class="sxs-lookup"><span data-stu-id="61dcf-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="61dcf-253">Si es necesario, el código para el gráfico también vuelve a consulta la base de datos o vuelve a lee el archivo XML para obtener los datos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="61dcf-254">En algunos casos, esto puede ser una operación compleja, como si la base de datos que se está consultando es grande, o si el archivo XML contiene una gran cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="61dcf-255">Incluso si el gráfico no implica una gran cantidad de datos, el proceso de creación dinámica de una imagen ocupa los recursos del servidor y, si muchas personas solicitan la página o páginas que muestren el gráfico, puede haber un impacto en el rendimiento de su sitio Web.</span><span class="sxs-lookup"><span data-stu-id="61dcf-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="61dcf-256">Para ayudar a reducir el impacto del rendimiento de la creación de un gráfico, puede crear una gráfico la primera vez necesite y, a continuación, guárdelo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="61dcf-257">Cuando el gráfico se necesita una vez más, en lugar de volver a generarlo, puede capturar la versión guardada y presentar eso.</span><span class="sxs-lookup"><span data-stu-id="61dcf-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="61dcf-258">Puede guardar un gráfico de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="61dcf-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="61dcf-259">Almacenar en caché el gráfico de memoria del equipo (en el servidor).</span><span class="sxs-lookup"><span data-stu-id="61dcf-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="61dcf-260">Guarde el gráfico como un archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="61dcf-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="61dcf-261">Guardar el gráfico como un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-261">Save the chart as an XML file.</span></span> <span data-ttu-id="61dcf-262">Esta opción le permite modificar el gráfico antes de guardarla.</span><span class="sxs-lookup"><span data-stu-id="61dcf-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="61dcf-263">Almacenamiento en caché de un gráfico</span><span class="sxs-lookup"><span data-stu-id="61dcf-263">Caching a Chart</span></span>

<span data-ttu-id="61dcf-264">Después de crear un gráfico, puede almacenarla en caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="61dcf-265">Un gráfico de almacenamiento en caché significa que no tiene que volver a crearse si debe mostrarse de nuevo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="61dcf-266">Cuando se guarda un gráfico en la memoria caché, se proporciona una clave que debe ser única para ese gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="61dcf-267">Los gráficos que se guardan en la memoria caché podrían quitarse si el servidor se ejecuta bajo en memoria.</span><span class="sxs-lookup"><span data-stu-id="61dcf-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="61dcf-268">Además, la memoria caché se borra si se reinicia la aplicación por cualquier motivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="61dcf-269">Por lo tanto, la manera estándar para trabajar con un gráfico almacenado en caché es comprobar siempre en primer lugar, si está disponible en la memoria caché y, si no, a continuación, crear o volver a crearla.</span><span class="sxs-lookup"><span data-stu-id="61dcf-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="61dcf-270">En la raíz de su sitio Web, cree un archivo denominado *ShowCachedChart.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="61dcf-271">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="61dcf-272">El `<img>` etiqueta incluye un `src` atributo que apunta a la *ChartSaveToCache.cshtml* de archivo y pasa una clave a la página como una cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="61dcf-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="61dcf-273">La clave contiene el valor &quot;myChartKey&quot;.</span><span class="sxs-lookup"><span data-stu-id="61dcf-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="61dcf-274">El *ChartSaveToCache.cshtml* archivo contiene el `Chart` auxiliar que crea el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="61dcf-275">Esta página se creará en un momento.</span><span class="sxs-lookup"><span data-stu-id="61dcf-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="61dcf-276">Al final de la página, hay un vínculo a una página denominada *ClearCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="61dcf-277">Que es una página que va a crear en breve.</span><span class="sxs-lookup"><span data-stu-id="61dcf-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="61dcf-278">Necesita el *ClearCache.cshtml* solo para comprobar el almacenamiento en caché para este ejemplo, no es un vínculo o una página que incluiría normalmente al trabajar con gráficos almacenados en caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="61dcf-279">En la raíz de su sitio Web, cree un nuevo archivo denominado *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="61dcf-280">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="61dcf-281">El código comprueba primero si algo se pasó como el valor de clave en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="61dcf-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="61dcf-282">Si es así, el código intenta leer un gráfico de la memoria caché mediante una llamada a la `GetFromCache` método y pasando la clave.</span><span class="sxs-lookup"><span data-stu-id="61dcf-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="61dcf-283">Si resulta que no hay nada en la memoria caché bajo esa clave (que podría ocurrir la primera vez que se solicita el gráfico), el código crea el gráfico como de costumbre.</span><span class="sxs-lookup"><span data-stu-id="61dcf-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="61dcf-284">Cuando finalice el gráfico, el código lo guarda en la memoria caché mediante una llamada a `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="61dcf-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="61dcf-285">Este método requiere una clave (por lo que el gráfico se puede solicitar más adelante) y la cantidad de tiempo que se debe guardar el gráfico en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="61dcf-286">(El tiempo exacto que se desea almacenar en caché un gráfico dependería de la frecuencia con que pensaba que podrían cambiar los datos que representa). El `SaveToCache` método también requiere una `slidingExpiration` parámetro &#8212; si se establece en true, el tiempo de espera de contador se restablece cada vez que se tiene acceso el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="61dcf-287">En este caso, en realidad significa que la entrada de caché del gráfico expira 2 minutos desde la última vez que alguien tiene acceso a los gráficos.</span><span class="sxs-lookup"><span data-stu-id="61dcf-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="61dcf-288">(La alternativa a la fecha de expiración variable es una expiración absoluta, lo que significa que la entrada de caché expirará exactamente 2 minutos una vez que se llevó a la memoria caché, con independencia de la frecuencia con había accedido).</span><span class="sxs-lookup"><span data-stu-id="61dcf-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="61dcf-289">Por último, el código usa el `WriteFromCache` método para recuperar y representar el gráfico de la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="61dcf-290">Tenga en cuenta que este método está fuera del `if` bloque que comprueba la memoria caché, ya que obtendrá el gráfico de la memoria caché si el gráfico estaba allí para empezar o tenía que se genera y se guarda en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="61dcf-291">Tenga en cuenta que en el ejemplo, el `AddTitle` método incluye una marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="61dcf-292">(Agregan la fecha y hora actuales &#8212; `DateTime.Now` &#8212; al título.)</span><span class="sxs-lookup"><span data-stu-id="61dcf-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="61dcf-293">Crear una nueva página denominada *ClearCache.cshtml* y reemplace su contenido por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="61dcf-294">Esta página usa el `WebCache` auxiliar para quitar del gráfico que se almacena en caché *ChartSaveToCache.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="61dcf-295">Como se indicó anteriormente, normalmente no tiene que tener una página similar al siguiente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="61dcf-296">Aquí se crea solo para que sea más fácil probar el almacenamiento en caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="61dcf-297">Ejecute el *ShowCachedChart.cshtml* página web en un explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="61dcf-298">La página muestra la imagen del gráfico según el código incluido en el *ChartSaveToCache.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="61dcf-299">Tome nota de lo que dice la marca de tiempo en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Descripción: Imagen del gráfico básico con marca de tiempo en el título del gráfico](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="61dcf-301">Cierre el explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-301">Close the browser.</span></span>
8. <span data-ttu-id="61dcf-302">Ejecute el *ShowCachedChart.cshtml* nuevo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="61dcf-303">Tenga en cuenta que la marca de tiempo es el mismo que antes, lo que indica que no se regeneró el gráfico, pero en su lugar se ha leído de la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="61dcf-304">En *ShowCachedChart.cshtml*, haga clic en el **Borrar caché** vínculo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="61dcf-305">Esto le llevará a *ClearCache.cshtml*, que informa de que se ha borrado la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="61dcf-306">Haga clic en el **volver a ShowCachedChart.cshtml** vincular o vuelva a ejecutar *ShowCachedChart.cshtml* desde WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="61dcf-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="61dcf-307">Tenga en cuenta que ha cambiado esta vez la marca de tiempo, porque se ha borrado la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="61dcf-308">Por lo tanto, el código tenía que volver a generar el gráfico y devolverlo a la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="61dcf-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="61dcf-309">Guardar un gráfico como un archivo de imagen</span><span class="sxs-lookup"><span data-stu-id="61dcf-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="61dcf-310">También puede guardar un gráfico como un archivo de imagen (por ejemplo, como un *.jpg* archivo) en el servidor.</span><span class="sxs-lookup"><span data-stu-id="61dcf-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="61dcf-311">A continuación, puede usar el archivo de imagen tal como haría con cualquier imagen.</span><span class="sxs-lookup"><span data-stu-id="61dcf-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="61dcf-312">La ventaja es que el archivo se almacena en lugar de guardar en una memoria caché temporal.</span><span class="sxs-lookup"><span data-stu-id="61dcf-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="61dcf-313">Puede guardar una nueva imagen de gráfico en momentos diferentes (por ejemplo, cada hora) y, a continuación, mantener un registro permanente de los cambios que se producen con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="61dcf-314">Tenga en cuenta que debe asegurarse de que la aplicación web tiene permiso para guardar un archivo en la carpeta en el servidor donde desea colocar el archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="61dcf-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="61dcf-315">En la raíz de su sitio Web, cree una carpeta denominada  *\_ChartFiles* si aún no existe.</span><span class="sxs-lookup"><span data-stu-id="61dcf-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="61dcf-316">En la raíz de su sitio Web, cree un nuevo archivo denominado *ChartSave.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="61dcf-317">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="61dcf-318">El código comprueba primero si el *.jpg* existe el archivo mediante una llamada a la `File.Exists` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="61dcf-319">Si el archivo no existe, el código crea un nuevo `Chart` desde una matriz.</span><span class="sxs-lookup"><span data-stu-id="61dcf-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="61dcf-320">Esta vez, el código llama a la `Save` y pasa el `path` parámetro para especificar la ruta de acceso y nombre de archivo guardar el gráfico de.</span><span class="sxs-lookup"><span data-stu-id="61dcf-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="61dcf-321">En el cuerpo de la página, un `<img>` elemento utiliza la ruta de acceso para que apunte a la *.jpg* archivo para mostrar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="61dcf-322">Ejecute el *ChartSave.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="61dcf-323">Vuelva a WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="61dcf-323">Return to WebMatrix.</span></span> <span data-ttu-id="61dcf-324">Tenga en cuenta que un archivo de imagen denominado *chart01.jpg* se ha guardado en el  *\_ChartFiles* carpeta.</span><span class="sxs-lookup"><span data-stu-id="61dcf-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="61dcf-325">Guardar un gráfico como un archivo XML</span><span class="sxs-lookup"><span data-stu-id="61dcf-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="61dcf-326">Por último, puede guardar un gráfico como un archivo XML en el servidor.</span><span class="sxs-lookup"><span data-stu-id="61dcf-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="61dcf-327">Una ventaja de usar este método a través de almacenamiento en caché el gráfico o guardar el gráfico en un archivo es que podría modificar el XML antes de mostrar el gráfico si deseara.</span><span class="sxs-lookup"><span data-stu-id="61dcf-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="61dcf-328">La aplicación debe tener permisos de lectura/escritura para la carpeta en el servidor donde desea colocar el archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="61dcf-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="61dcf-329">En la raíz de su sitio Web, cree un nuevo archivo denominado *ChartSaveXml.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="61dcf-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="61dcf-330">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="61dcf-331">Este código es similar al código que vio antes para almacenar un gráfico en la memoria caché, salvo que usa un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="61dcf-332">El código comprueba primero si existe el archivo XML mediante una llamada a la `File.Exists` método.</span><span class="sxs-lookup"><span data-stu-id="61dcf-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="61dcf-333">Si el archivo existe, el código crea un nuevo `Chart` objeto y pasa el nombre de archivo como el `themePath` parámetro.</span><span class="sxs-lookup"><span data-stu-id="61dcf-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="61dcf-334">Esto crea el gráfico según cualquier cosa que esté en el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="61dcf-335">Si ya no existe el archivo XML, el código crea un gráfico como lo haría normalmente y, a continuación, llama a `SaveXml` para guardarlo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="61dcf-336">El gráfico se representa utilizando el `Write` método, como se ha visto antes.</span><span class="sxs-lookup"><span data-stu-id="61dcf-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="61dcf-337">Al igual que con la página que se ha mostrado el almacenamiento en caché, este código incluye una marca de tiempo en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="61dcf-338">Crear una nueva página denominada *ChartDisplayXMLChart.cshtml* y agregarle el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="61dcf-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="61dcf-339">Ejecute el *ChartDisplayXMLChart.cshtml* página.</span><span class="sxs-lookup"><span data-stu-id="61dcf-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="61dcf-340">Se muestra el gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-340">The chart is displayed.</span></span> <span data-ttu-id="61dcf-341">Tome nota de la marca de tiempo en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="61dcf-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="61dcf-342">Cierre el explorador.</span><span class="sxs-lookup"><span data-stu-id="61dcf-342">Close the browser.</span></span>
6. <span data-ttu-id="61dcf-343">En WebMatrix, haga clic en el  *\_ChartFiles* carpeta, haga clic en **actualizar**y, a continuación, abra la carpeta.</span><span class="sxs-lookup"><span data-stu-id="61dcf-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="61dcf-344">El *XMLChart.xml* archivo en esta carpeta se creó mediante el `Chart` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="61dcf-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Descripción: La carpeta _ChartFiles que muestra el archivo XMLChart.xml creado por la aplicación auxiliar de gráfico.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="61dcf-346">Ejecute el *ChartDisplayXMLChart.cshtml* página nuevo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="61dcf-347">El gráfico muestra la misma marca de tiempo como la primera vez que ejecutó la página.</span><span class="sxs-lookup"><span data-stu-id="61dcf-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="61dcf-348">Eso es porque el gráfico se genera desde el código XML que guardó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="61dcf-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="61dcf-349">En WebMatrix, abra el  *\_ChartFiles* carpeta y eliminar la *XMLChart.xml* archivo.</span><span class="sxs-lookup"><span data-stu-id="61dcf-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="61dcf-350">Ejecute el *ChartDisplayXMLChart.cshtml* página una vez más.</span><span class="sxs-lookup"><span data-stu-id="61dcf-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="61dcf-351">Esta vez, se actualiza la marca de tiempo, porque el `Chart` auxiliar tenía que volver a crear el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="61dcf-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="61dcf-352">Si lo desea, compruebe la  *\_ChartFiles* carpeta y tenga en cuenta que el archivo XML está hacia atrás.</span><span class="sxs-lookup"><span data-stu-id="61dcf-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="61dcf-353">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="61dcf-353">Additional Resources</span></span>

- [<span data-ttu-id="61dcf-354">Introducción al trabajo con una base de datos en ASP.NET Web Pages sitios</span><span class="sxs-lookup"><span data-stu-id="61dcf-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="61dcf-355">Uso de almacenamiento en caché en ASP.NET Web Pages sitios para mejorar el rendimiento</span><span class="sxs-lookup"><span data-stu-id="61dcf-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="61dcf-356">[Clase de gráfico](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (referencia de API de páginas Web de ASP.NET en MSDN)</span><span class="sxs-lookup"><span data-stu-id="61dcf-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>

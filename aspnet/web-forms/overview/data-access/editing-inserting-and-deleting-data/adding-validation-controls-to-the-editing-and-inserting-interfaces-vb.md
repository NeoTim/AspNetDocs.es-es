---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-vb
title: Agregar controles de validación a las interfaces de edición e inserción (VB) | Microsoft Docs
author: rick-anderson
description: En este tutorial veremos lo fácil que es agregar controles de validación a la EditItemTemplate e InsertItemTemplate de un control Web de datos para proporcionar más...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: e3d7028a-7a22-4a4f-babe-d53afc41c0e2
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-vb
msc.type: authoredcontent
ms.openlocfilehash: 5c5ad110ee0836f0a464b02a2b29254e2e06381e
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78479437"
---
# <a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-vb"></a><span data-ttu-id="cd767-103">Agregar controles de validación a las interfaces de edición e inserción (VB)</span><span class="sxs-lookup"><span data-stu-id="cd767-103">Adding Validation Controls to the Editing and Inserting Interfaces (VB)</span></span>

<span data-ttu-id="cd767-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="cd767-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="cd767-105">[Descarga](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_VB.exe) de la aplicación de ejemplo o [descarga de PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/datatutorial19vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="cd767-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_VB.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/datatutorial19vb1.pdf)</span></span>

> <span data-ttu-id="cd767-106">En este tutorial veremos lo fácil que es agregar controles de validación a la EditItemTemplate e InsertItemTemplate de un control Web de datos para proporcionar una interfaz de usuario más infalible.</span><span class="sxs-lookup"><span data-stu-id="cd767-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>

## <a name="introduction"></a><span data-ttu-id="cd767-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="cd767-107">Introduction</span></span>

<span data-ttu-id="cd767-108">Los controles GridView y DetailsView de los ejemplos que hemos examinado en los tres últimos tutoriales se han compuesto de BoundFields y CheckBoxFields (los tipos de campo que Visual Studio agrega automáticamente al enlazar un control GridView o DetailsView a un origen de datos control a través de la etiqueta inteligente).</span><span class="sxs-lookup"><span data-stu-id="cd767-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="cd767-109">Al editar una fila en GridView o DetailsView, las BoundFields que no son de solo lectura se convierten en cuadros de texto, desde los que el usuario final puede modificar los datos existentes.</span><span class="sxs-lookup"><span data-stu-id="cd767-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="cd767-110">Del mismo modo, al insertar un nuevo registro en un control DetailsView, los BoundFields cuya propiedad `InsertVisible` esté establecida en `True` (el valor predeterminado) se representan como cuadros de texto vacíos, en los que el usuario puede proporcionar los valores de campo del nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="cd767-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `True` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="cd767-111">Del mismo modo, CheckBoxFields, que están deshabilitados en la interfaz estándar de solo lectura, se convierten en casillas habilitadas en las interfaces de edición e inserción.</span><span class="sxs-lookup"><span data-stu-id="cd767-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="cd767-112">Aunque las interfaces de edición e inserción predeterminadas para BoundField y CheckBoxField pueden ser útiles, la interfaz carece de cualquier tipo de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="cd767-113">Si un usuario comete un error en la entrada de datos (por ejemplo, si se omite el campo `ProductName` o si se escribe un valor no válido para `UnitsInStock` (por ejemplo,-50), se generará una excepción desde las profundidades de la arquitectura de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="cd767-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="cd767-114">Aunque esta excepción se puede administrar correctamente tal como se muestra en el [tutorial anterior](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-vb.md), lo ideal es que la interfaz de usuario de edición o inserción incluya controles de validación para evitar que un usuario escriba datos no válidos en primer lugar.</span><span class="sxs-lookup"><span data-stu-id="cd767-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-vb.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="cd767-115">Para proporcionar una interfaz personalizada de edición o inserción, es necesario reemplazar el objeto BoundField o CheckBoxField con TemplateField.</span><span class="sxs-lookup"><span data-stu-id="cd767-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="cd767-116">TemplateFields, que eran el tema de discusión sobre el [uso de TemplateFields en el control GridView](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) y el [uso de TemplateFields en los](../custom-formatting/using-templatefields-in-the-detailsview-control-vb.md) tutoriales del control DetailsView, pueden constar de varias plantillas que definen interfaces independientes para diferentes Estados de fila.</span><span class="sxs-lookup"><span data-stu-id="cd767-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-vb.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="cd767-117">La `ItemTemplate` de TemplateField se utiliza para representar campos o filas de solo lectura en los controles DetailsView o GridView, mientras que los `EditItemTemplate` y `InsertItemTemplate` indican las interfaces que se van a usar para los modos de edición e inserción, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="cd767-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="cd767-118">En este tutorial veremos lo fácil que es agregar controles de validación al `EditItemTemplate` de TemplateField y `InsertItemTemplate` para proporcionar una interfaz de usuario más infalible.</span><span class="sxs-lookup"><span data-stu-id="cd767-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="cd767-119">En concreto, este tutorial toma el ejemplo creado en el tutorial [examen de los eventos asociados con la inserción, actualización y eliminación,](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md) y aumenta las interfaces de edición e inserción para incluir la validación adecuada.</span><span class="sxs-lookup"><span data-stu-id="cd767-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deleting"></a><span data-ttu-id="cd767-120">Paso 1: replicar el ejemplo desde el[examen de los eventos asociados a la inserción, actualización y eliminación](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md)</span><span class="sxs-lookup"><span data-stu-id="cd767-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md)</span></span>

<span data-ttu-id="cd767-121">En el tutorial [examinar los eventos asociados con la inserción, actualización y eliminación](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md) , hemos creado una página con los nombres y los precios de los productos en un control GridView modificable.</span><span class="sxs-lookup"><span data-stu-id="cd767-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-vb.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="cd767-122">Además, la página incluye un DetailsView cuya propiedad `DefaultMode` se estableció en `Insert`, por lo que siempre se representa en modo de inserción.</span><span class="sxs-lookup"><span data-stu-id="cd767-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="cd767-123">Desde este DetailsView, el usuario puede escribir el nombre y el precio de un nuevo producto, hacer clic en Insertar y agregarlo al sistema (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="cd767-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>

<span data-ttu-id="cd767-124">[![el ejemplo anterior permite a los usuarios agregar nuevos productos y editar los existentes](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-124">[![The Previous Example Allows Users to Add New Products and Edit Existing Ones](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image1.png)</span></span>

<span data-ttu-id="cd767-125">**Figura 1**: el ejemplo anterior permite a los usuarios agregar nuevos productos y editar los existentes ([haga clic para ver la imagen a tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image3.png))</span></span>

<span data-ttu-id="cd767-126">Nuestro objetivo de este tutorial es aumentar el control DetailsView y GridView para proporcionar controles de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="cd767-127">En concreto, nuestra lógica de validación hará lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="cd767-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="cd767-128">Requerir que se proporcione el nombre al insertar o editar un producto</span><span class="sxs-lookup"><span data-stu-id="cd767-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="cd767-129">Requiere que se proporcione el precio al insertar un registro. al editar un registro, seguiremos requiriendo un precio, pero usará la lógica de programación en el controlador de eventos `RowUpdating` de GridView que ya está presente en el tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="cd767-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="cd767-130">Asegúrese de que el valor especificado para el precio sea un formato de moneda válido</span><span class="sxs-lookup"><span data-stu-id="cd767-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="cd767-131">Antes de que podamos ver el aumento del ejemplo anterior para incluir la validación, primero es necesario replicar el ejemplo de la página `DataModificationEvents.aspx` en la página de este tutorial, `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="cd767-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="cd767-132">Para lograr esto, es necesario copiar tanto el marcado declarativo de la página `DataModificationEvents.aspx` como su código fuente.</span><span class="sxs-lookup"><span data-stu-id="cd767-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="cd767-133">En primer lugar, copie el marcado declarativo realizando los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="cd767-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="cd767-134">Abrir la página de `DataModificationEvents.aspx` en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cd767-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="cd767-135">Vaya al marcado declarativo de la página (haga clic en el botón origen en la parte inferior de la página).</span><span class="sxs-lookup"><span data-stu-id="cd767-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="cd767-136">Copie el texto dentro de las etiquetas `<asp:Content>` y `</asp:Content>` (líneas 3 a 44), como se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="cd767-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>

<span data-ttu-id="cd767-137">[![copiar el texto del control &lt;ASP: Content&gt;](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-137">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image4.png)</span></span>

<span data-ttu-id="cd767-138">**Figura 2**: copiar el texto del control `<asp:Content>` ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image6.png))</span></span>

1. <span data-ttu-id="cd767-139">Abrir la página `UIValidation.aspx`</span><span class="sxs-lookup"><span data-stu-id="cd767-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="cd767-140">Ir al marcado declarativo de la página</span><span class="sxs-lookup"><span data-stu-id="cd767-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="cd767-141">Pegue el texto dentro del control `<asp:Content>`.</span><span class="sxs-lookup"><span data-stu-id="cd767-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="cd767-142">Para copiar sobre el código fuente, abra la página `DataModificationEvents.aspx.vb` y copie solo el texto *dentro* de la clase `EditInsertDelete_DataModificationEvents`.</span><span class="sxs-lookup"><span data-stu-id="cd767-142">To copy over the source code, open the `DataModificationEvents.aspx.vb` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="cd767-143">Copie los tres controladores de eventos (`Page_Load`, `GridView1_RowUpdating`y `ObjectDataSource1_Inserting`), pero **no** copie la declaración de clase.</span><span class="sxs-lookup"><span data-stu-id="cd767-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration.</span></span> <span data-ttu-id="cd767-144">Pegue el texto copiado *dentro* de la clase `EditInsertDelete_UIValidation` en `UIValidation.aspx.vb`.</span><span class="sxs-lookup"><span data-stu-id="cd767-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.vb`.</span></span>

<span data-ttu-id="cd767-145">Después de desplazarse por el contenido y el código de `DataModificationEvents.aspx` a `UIValidation.aspx`, dedique un momento a probar el progreso en un explorador.</span><span class="sxs-lookup"><span data-stu-id="cd767-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="cd767-146">Debería ver la misma salida y experimentar la misma funcionalidad en cada una de estas dos páginas (consulte la figura 1 para obtener una captura de pantalla de `DataModificationEvents.aspx` en acción).</span><span class="sxs-lookup"><span data-stu-id="cd767-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="cd767-147">Paso 2: convertir BoundFields en TemplateFields</span><span class="sxs-lookup"><span data-stu-id="cd767-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="cd767-148">Para agregar controles de validación a las interfaces de edición e inserción, los BoundFields utilizados por los controles DetailsView y GridView deben convertirse en TemplateFields.</span><span class="sxs-lookup"><span data-stu-id="cd767-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="cd767-149">Para ello, haga clic en los vínculos editar columnas y editar campos de las etiquetas inteligentes GridView y DetailsView, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="cd767-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="cd767-150">Allí, seleccione cada uno de los BoundFields y haga clic en el vínculo "convertir este campo en TemplateField".</span><span class="sxs-lookup"><span data-stu-id="cd767-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>

<span data-ttu-id="cd767-151">[![convertir cada BoundFields de DetailsView y de GridView en TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-151">[![Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image7.png)</span></span>

<span data-ttu-id="cd767-152">**Figura 3**: conversión de cada uno de los BoundFields de DetailsView y GridView en TemplateFields ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image9.png))</span></span>

<span data-ttu-id="cd767-153">Al convertir un BoundField en un TemplateField a través del cuadro de diálogo campos, se genera un TemplateField que exhibe las mismas interfaces de solo lectura, edición e inserción, que el propio BoundField.</span><span class="sxs-lookup"><span data-stu-id="cd767-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="cd767-154">En el marcado siguiente se muestra la sintaxis declarativa para el campo `ProductName` en DetailsView después de convertirse en TemplateField:</span><span class="sxs-lookup"><span data-stu-id="cd767-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample1.aspx)]

<span data-ttu-id="cd767-155">Tenga en cuenta que este TemplateField tenía tres plantillas creadas automáticamente `ItemTemplate`, `EditItemTemplate`y `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="cd767-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="cd767-156">En el `ItemTemplate` se muestra un valor de campo de datos único (`ProductName`) mediante un control Web de etiqueta, mientras que los `EditItemTemplate` y `InsertItemTemplate` presentan el valor del campo de datos en un control Web TextBox que asocia el campo de datos a la propiedad `Text` del cuadro de texto mediante el enlace de datos bidireccional.</span><span class="sxs-lookup"><span data-stu-id="cd767-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="cd767-157">Puesto que solo usamos DetailsView en esta página para insertar, puede quitar el `ItemTemplate` y `EditItemTemplate` de los dos TemplateFields, aunque no hay ningún daño en dejarlos.</span><span class="sxs-lookup"><span data-stu-id="cd767-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="cd767-158">Dado que GridView no es compatible con las características integradas de inserción de DetailsView, convertir el campo de `ProductName` de GridView en un TemplateField solo produce una `ItemTemplate` y `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="cd767-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample2.aspx)]

<span data-ttu-id="cd767-159">Al hacer clic en "convertir este campo en TemplateField", Visual Studio ha creado un TemplateField cuyas plantillas imitan la interfaz de usuario del BoundField convertido.</span><span class="sxs-lookup"><span data-stu-id="cd767-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="cd767-160">Para comprobarlo, visite esta página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="cd767-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="cd767-161">Observará que la apariencia y el comportamiento de TemplateFields son idénticos a la experiencia cuando se usaron BoundFields en su lugar.</span><span class="sxs-lookup"><span data-stu-id="cd767-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="cd767-162">No dude en personalizar las interfaces de edición en las plantillas según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="cd767-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="cd767-163">Por ejemplo, es posible que deseemos que el cuadro de texto del `UnitPrice` TemplateFields se represente como un cuadro de texto más pequeño que el cuadro de texto `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="cd767-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="cd767-164">Para ello, puede establecer la propiedad `Columns` del cuadro de texto en un valor adecuado o proporcionar un ancho absoluto a través de la propiedad `Width`.</span><span class="sxs-lookup"><span data-stu-id="cd767-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="cd767-165">En el siguiente tutorial, veremos cómo personalizar por completo la interfaz de edición reemplazando el cuadro de texto con un control Web de entrada de datos alternativo.</span><span class="sxs-lookup"><span data-stu-id="cd767-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>

## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="cd767-166">Paso 3: agregar los controles de validación a los`EditItemTemplate` de GridView</span><span class="sxs-lookup"><span data-stu-id="cd767-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="cd767-167">Al construir formularios de entrada de datos, es importante que los usuarios escriban los campos obligatorios y que todas las entradas proporcionadas tengan valores con el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="cd767-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="cd767-168">Para asegurarse de que las entradas de un usuario son válidas, ASP.NET proporciona cinco controles de validación integrados que están diseñados para su uso con el fin de validar el valor de un solo control de entrada:</span><span class="sxs-lookup"><span data-stu-id="cd767-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="cd767-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) garantiza que se ha proporcionado un valor</span><span class="sxs-lookup"><span data-stu-id="cd767-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="cd767-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) valida un valor con respecto a otro valor de control Web o un valor constante, o bien garantiza que el formato del valor es válido para un tipo de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="cd767-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="cd767-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) garantiza que un valor está dentro de un intervalo de valores</span><span class="sxs-lookup"><span data-stu-id="cd767-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="cd767-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) valida un valor con respecto a una [expresión regular](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="cd767-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="cd767-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) valida un valor con un método personalizado definido por el usuario</span><span class="sxs-lookup"><span data-stu-id="cd767-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="cd767-174">Para obtener más información sobre estos cinco controles, consulte la [sección de controles de validación](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) de los [tutoriales de inicio rápido de ASP.net](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="cd767-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="cd767-175">En nuestro tutorial, tendremos que usar un RequiredFieldValidator en el `ProductName` TemplateFields y DetailsView de GridView y un RequiredFieldValidator en la `UnitPrice` TemplateField de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="cd767-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="cd767-176">Además, tendremos que agregar un control CompareValidator a ambos controles ' `UnitPrice` TemplateFields que garantiza que el valor del precio especificado tiene un valor mayor o igual que 0 y se presenta en un formato de moneda válido.</span><span class="sxs-lookup"><span data-stu-id="cd767-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="cd767-177">Mientras que ASP.NET 1. x tenía estos cinco mismos controles de validación, ASP.NET 2,0 ha agregado varias mejoras, las dos principales que son la compatibilidad con scripts de cliente para exploradores distintos de Internet Explorer y la capacidad de crear particiones de los controles de validación de una página en grupos de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="cd767-178">Para obtener más información sobre las nuevas características de control de validación en 2,0, consulte [dessección de los controles de validación en ASP.NET 2,0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="cd767-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>

<span data-ttu-id="cd767-179">Comencemos agregando los controles de validación necesarios a los `EditItemTemplate` s en el TemplateFields de GridView.</span><span class="sxs-lookup"><span data-stu-id="cd767-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="cd767-180">Para ello, haga clic en el vínculo editar plantillas de la etiqueta inteligente de GridView para abrir la interfaz de edición de plantillas.</span><span class="sxs-lookup"><span data-stu-id="cd767-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="cd767-181">Desde aquí, puede seleccionar la plantilla que se va a editar en la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="cd767-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="cd767-182">Puesto que queremos aumentar la interfaz de edición, es necesario agregar controles de validación al `ProductName` y `UnitPrice``EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="cd767-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>

<span data-ttu-id="cd767-183">[![necesitamos ampliar el EditItemTemplates de ProductName y UnitPrice](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-183">[![We Need to Extend the ProductName and UnitPrice's EditItemTemplates](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image10.png)</span></span>

<span data-ttu-id="cd767-184">**Figura 4**: es necesario extender el `ProductName` y `UnitPrice``EditItemTemplate` s ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image12.png))</span></span>

<span data-ttu-id="cd767-185">En el `EditItemTemplate``ProductName`, agregue un RequiredFieldValidator arrastrándolo desde el cuadro de herramientas a la interfaz de edición de plantillas, colocando después del cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="cd767-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>

<span data-ttu-id="cd767-186">[![agregar un RequiredFieldValidator a ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-186">[![Add a RequiredFieldValidator to the ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image13.png)</span></span>

<span data-ttu-id="cd767-187">**Figura 5**: agregar un RequiredFieldValidator al `EditItemTemplate` de `ProductName` ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image15.png))</span></span>

<span data-ttu-id="cd767-188">Todos los controles de validación funcionan validando la entrada de un único control Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="cd767-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="cd767-189">Por lo tanto, es necesario indicar que el RequiredFieldValidator que se acaba de agregar debe validarse con el cuadro de texto del `EditItemTemplate`; Esto se logra estableciendo la [propiedad ControlToValidate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) del control de validación en el `ID` del control Web adecuado.</span><span class="sxs-lookup"><span data-stu-id="cd767-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="cd767-190">Actualmente, el cuadro de texto tiene el `ID` en su lugar nondescript de `TextBox1`, pero vamos a cambiarlo a algo más adecuado.</span><span class="sxs-lookup"><span data-stu-id="cd767-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="cd767-191">Haga clic en el cuadro de texto de la plantilla y, a continuación, en el ventana Propiedades, cambie el `ID` de `TextBox1` a `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="cd767-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>

<span data-ttu-id="cd767-192">[![cambiar el identificador del cuadro de texto a EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-192">[![Change the TextBox's ID to EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image16.png)</span></span>

<span data-ttu-id="cd767-193">**Ilustración 6**: cambiar el `ID` del cuadro de texto a `EditProductName` ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image18.png))</span></span>

<span data-ttu-id="cd767-194">A continuación, establezca la propiedad `ControlToValidate` del RequiredFieldValidator en `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="cd767-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="cd767-195">Por último, establezca la [propiedad ErrorMessage](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) en "debe proporcionar el nombre del producto" y la [propiedad Text](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) en "\*".</span><span class="sxs-lookup"><span data-stu-id="cd767-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="cd767-196">El valor de la propiedad `Text`, si se proporciona, es el texto que muestra el control de validación si se produce un error en la validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="cd767-197">El control ValidationSummary usa el valor de la propiedad `ErrorMessage`, que es necesario. Si se omite el valor de la propiedad `Text`, el valor de la propiedad `ErrorMessage` es también el texto mostrado por el control de validación en entradas no válidas.</span><span class="sxs-lookup"><span data-stu-id="cd767-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="cd767-198">Después de establecer estas tres propiedades del RequiredFieldValidator, la pantalla debe tener un aspecto similar al de la figura 7.</span><span class="sxs-lookup"><span data-stu-id="cd767-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>

<span data-ttu-id="cd767-199">[![establecer las propiedades ControlToValidate, ErrorMessage y text del RequiredFieldValidator](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-199">[![Set the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image19.png)</span></span>

<span data-ttu-id="cd767-200">**Figura 7**: establecimiento de las propiedades `ControlToValidate`, `ErrorMessage`y `Text` del RequiredFieldValidator ([haga clic para ver la imagen a tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image21.png))</span></span>

<span data-ttu-id="cd767-201">Con el RequiredFieldValidator agregado al `EditItemTemplate``ProductName`, todo lo que queda es agregar la validación necesaria al `EditItemTemplate``UnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="cd767-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="cd767-202">Como hemos decidido que, en esta página, el `UnitPrice` es opcional al editar un registro, no es necesario agregar un RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="cd767-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="cd767-203">Sin embargo, es necesario agregar un CompareValidator para asegurarse de que el `UnitPrice`, si se proporciona, tiene el formato correcto como moneda y es mayor o igual que 0.</span><span class="sxs-lookup"><span data-stu-id="cd767-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="cd767-204">Antes de agregar el control CompareValidator al `EditItemTemplate``UnitPrice`, vamos a cambiar el identificador del control Web TextBox de `TextBox2` a `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="cd767-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="cd767-205">Después de realizar este cambio, agregue CompareValidator, estableciendo su propiedad `ControlToValidate` en `EditUnitPrice`, su `ErrorMessage` propiedad en "el precio debe ser mayor o igual que cero y no puede incluir el símbolo de divisa", y su propiedad `Text` en "\*".</span><span class="sxs-lookup"><span data-stu-id="cd767-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="cd767-206">Para indicar que el valor de `UnitPrice` debe ser mayor o igual que 0, establezca la propiedad de [operador](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) de CompareValidator en `GreaterThanEqual`, su [propiedad ValueToCompare](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) en "0" y su [propiedad Type](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) en `Currency`.</span><span class="sxs-lookup"><span data-stu-id="cd767-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="cd767-207">La sintaxis declarativa siguiente muestra el `UnitPrice` `EditItemTemplate` de TemplateField una vez realizados estos cambios:</span><span class="sxs-lookup"><span data-stu-id="cd767-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample3.aspx)]

<span data-ttu-id="cd767-208">Después de realizar estos cambios, abra la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="cd767-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="cd767-209">Si intenta omitir el nombre o escribir un valor de precio no válido al editar un producto, aparecerá un asterisco junto al cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="cd767-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="cd767-210">Como se muestra en la figura 8, se considera que un valor de precio que incluye el símbolo de moneda como $19,95 es no válido.</span><span class="sxs-lookup"><span data-stu-id="cd767-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="cd767-211">El `Type` de `Currency` del CompareValidator permite separadores de dígitos (como comas o puntos, en función de la configuración de la referencia cultural) y un signo más o menos inicial, pero *no* permite un símbolo de moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="cd767-212">Este comportamiento puede perplex a los usuarios, ya que la interfaz de edición representa actualmente el `UnitPrice` con el formato de moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="cd767-213">Recuerde que en los *eventos asociados con la inserción, actualización y eliminación* del tutorial, establecemos la propiedad `DataFormatString` de BoundField en `{0:c}` para darle formato de moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="cd767-214">Además, se establece la propiedad `ApplyFormatInEditMode` en true, lo que hace que la interfaz de edición de GridView formatee el `UnitPrice` como moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="cd767-215">Al convertir BoundField en TemplateField, Visual Studio indicó esta configuración y dio formato a la propiedad `Text` del cuadro de texto como moneda mediante la sintaxis de DataBinding `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="cd767-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>

<span data-ttu-id="cd767-216">[![aparece un asterisco junto a los cuadros de texto con una entrada no válida](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-216">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image22.png)</span></span>

<span data-ttu-id="cd767-217">**Figura 8**: aparece un asterisco junto a los cuadros de texto con una entrada no válida ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image24.png))</span></span>

<span data-ttu-id="cd767-218">Aunque la validación funciona tal cual, el usuario tiene que quitar manualmente el símbolo de moneda al editar un registro, lo que no es aceptable.</span><span class="sxs-lookup"><span data-stu-id="cd767-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="cd767-219">Para solucionar este comportamiento, tenemos tres opciones:</span><span class="sxs-lookup"><span data-stu-id="cd767-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="cd767-220">Configure el `EditItemTemplate` para que el valor `UnitPrice` no tenga el formato de moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="cd767-221">Permita que el usuario escriba un símbolo de divisa quitando el control CompareValidator y reemplazándolo por un RegularExpressionValidator que compruebe correctamente si hay un valor de moneda con el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="cd767-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="cd767-222">El problema es que la expresión regular para validar un valor de moneda no es bastante y requeriría escribir código si deseáramos incorporar la configuración de referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="cd767-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="cd767-223">Quite completamente el control de validación y confíe en la lógica de validación del lado servidor en el controlador de eventos `RowUpdating` de GridView.</span><span class="sxs-lookup"><span data-stu-id="cd767-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="cd767-224">Vamos a usar la opción #1 para este ejercicio.</span><span class="sxs-lookup"><span data-stu-id="cd767-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="cd767-225">Actualmente, el `UnitPrice` tiene el formato de moneda debido a la expresión de enlace de enlaces para el cuadro de texto en el `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="cd767-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="cd767-226">Cambie la instrucción BIND a `Bind("UnitPrice", "{0:n2}")`, que da formato al resultado como un número con dos dígitos de precisión.</span><span class="sxs-lookup"><span data-stu-id="cd767-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="cd767-227">Esto se puede hacer directamente a través de la sintaxis declarativa o haciendo clic en el vínculo editar enlaces de enlace del cuadro de texto `EditUnitPrice` en el `EditItemTemplate` de `UnitPrice` TemplateField (vea las figuras 9 y 10).</span><span class="sxs-lookup"><span data-stu-id="cd767-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>

<span data-ttu-id="cd767-228">[![haga clic en el vínculo editar DataBindings del cuadro de texto](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-228">[![Click on the TextBox's Edit DataBindings link](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image25.png)</span></span>

<span data-ttu-id="cd767-229">**Figura 9**: haga clic en el vínculo editar DataBindings del cuadro de texto ([haga clic para ver la imagen a tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image27.png))</span></span>

<span data-ttu-id="cd767-230">[![especificar el especificador de formato en la instrucción BIND](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-230">[![Specify the Format Specifier in the Bind Statement](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image28.png)</span></span>

<span data-ttu-id="cd767-231">**Figura 10**: especifique el especificador de formato en la instrucción `Bind` ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image30.png))</span></span>

<span data-ttu-id="cd767-232">Con este cambio, el precio con formato en la interfaz de edición incluye comas como separador de grupos y un punto como separador decimal, pero sale del símbolo de moneda.</span><span class="sxs-lookup"><span data-stu-id="cd767-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="cd767-233">El `EditItemTemplate` `UnitPrice` no incluye un RequiredFieldValidator, lo que permite que el PostBack se represente y se inicie la lógica de actualización.</span><span class="sxs-lookup"><span data-stu-id="cd767-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="cd767-234">Sin embargo, el controlador de eventos `RowUpdating` copiado del tutorial *examinar los eventos asociados con la inserción, actualización y eliminación* incluye una comprobación mediante programación que garantiza que se proporciona el `UnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="cd767-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="cd767-235">No dude en quitar esta lógica, déjela tal cual, o bien agregue un RequiredFieldValidator al `EditItemTemplate``UnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="cd767-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>

## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="cd767-236">Paso 4: Resumen de los problemas de entrada de datos</span><span class="sxs-lookup"><span data-stu-id="cd767-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="cd767-237">Además de los cinco controles de validación, ASP.NET incluye el [control ValidationSummary](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), que muestra los `ErrorMessage` s de los controles de validación que detectaron datos no válidos.</span><span class="sxs-lookup"><span data-stu-id="cd767-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="cd767-238">Estos datos de resumen se pueden mostrar como texto en la página web o a través de un cuadro de mensajes modal del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="cd767-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="cd767-239">Vamos a mejorar este tutorial para incluir un cuadro de mensajes del lado cliente que resuma los problemas de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="cd767-240">Para ello, arrastre un control ValidationSummary desde el cuadro de herramientas hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="cd767-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="cd767-241">La ubicación del control de validación no importa realmente, ya que vamos a configurarlo para que solo se muestre el resumen como un cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="cd767-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="cd767-242">Después de agregar el control, establezca la [propiedad ShowSummary](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) en `False` y su [propiedad método ShowMessageBox](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) en `True`.</span><span class="sxs-lookup"><span data-stu-id="cd767-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `False` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `True`.</span></span> <span data-ttu-id="cd767-243">Con esta adición, cualquier error de validación se resume en un cuadro de mensajes del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="cd767-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>

<span data-ttu-id="cd767-244">[![los errores de validación se resumen en un cuadro de mensajes del lado cliente](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-244">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image31.png)</span></span>

<span data-ttu-id="cd767-245">**Figura 11**: los errores de validación se resumen en un cuadro de mensajes del lado cliente ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image33.png))</span></span>

## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="cd767-246">Paso 5: agregar los controles de validación al`InsertItemTemplate` de DetailsView</span><span class="sxs-lookup"><span data-stu-id="cd767-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="cd767-247">Lo único que queda para este tutorial es agregar los controles de validación a la interfaz de inserción de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="cd767-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="cd767-248">El proceso de agregar controles de validación a las plantillas de DetailsView es idéntico al que se examinó en el paso 3; por lo tanto, vamos a usar la tarea en este paso.</span><span class="sxs-lookup"><span data-stu-id="cd767-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="cd767-249">Como hicimos con los `EditItemTemplate` de GridView, recomiendo cambiar el nombre de los `ID` s de los cuadros de texto del `TextBox1` de nondescript y `TextBox2` a `InsertProductName` y `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="cd767-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="cd767-250">Agregue un RequiredFieldValidator al `InsertItemTemplate``ProductName`.</span><span class="sxs-lookup"><span data-stu-id="cd767-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="cd767-251">Establezca el `ControlToValidate` en el `ID` del cuadro de texto de la plantilla, su propiedad `Text` en "\*" y su propiedad `ErrorMessage` en "debe proporcionar el nombre del producto".</span><span class="sxs-lookup"><span data-stu-id="cd767-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="cd767-252">Puesto que el `UnitPrice` es necesario para esta página al agregar un nuevo registro, agregue un RequiredFieldValidator al `InsertItemTemplate`de `UnitPrice`, estableciendo las propiedades `ControlToValidate`, `Text`y `ErrorMessage` adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="cd767-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="cd767-253">Por último, agregue también un control CompareValidator al `UnitPrice` `InsertItemTemplate`, configurando sus propiedades `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`y `ValueToCompare` igual que hicimos con el control CompareValidator del `UnitPrice`en la `EditItemTemplate`de GridView.</span><span class="sxs-lookup"><span data-stu-id="cd767-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="cd767-254">Después de agregar estos controles de validación, no se puede Agregar un nuevo producto al sistema si no se proporciona su nombre o si su precio es un número negativo o tiene un formato incorrecto.</span><span class="sxs-lookup"><span data-stu-id="cd767-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>

<span data-ttu-id="cd767-255">[![se ha agregado la lógica de validación a la interfaz de inserción de DetailsView](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-255">[![Validation Logic has been Added to the DetailsView's Inserting Interface](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image34.png)</span></span>

<span data-ttu-id="cd767-256">**Figura 12**: se ha agregado la lógica de validación a la interfaz de inserción de DetailsView ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image36.png))</span></span>

## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="cd767-257">Paso 6: crear particiones de los controles de validación en grupos de validación</span><span class="sxs-lookup"><span data-stu-id="cd767-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="cd767-258">Nuestra página consta de dos conjuntos lógicamente dispares de controles de validación: los que corresponden a la interfaz de edición de GridView y los que corresponden a la interfaz de inserción de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="cd767-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="cd767-259">De forma predeterminada, cuando se produce un postback, se comprueban *todos* los controles de validación de la página.</span><span class="sxs-lookup"><span data-stu-id="cd767-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="cd767-260">Sin embargo, al editar un registro, no queremos que se validen los controles de validación de la interfaz de inserción de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="cd767-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="cd767-261">En la figura 13 se muestra nuestro dilema actual cuando un usuario edita un producto con valores perfectamente válidos, al hacer clic en actualizar se produce un error de validación porque los valores de nombre y precio de la interfaz de inserción están en blanco.</span><span class="sxs-lookup"><span data-stu-id="cd767-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>

<span data-ttu-id="cd767-262">[![la actualización de un producto provoca la activación de los controles de validación de la interfaz de inserción](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-262">[![Updating a Product Causes the Inserting Interface's Validation Controls to Fire](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image37.png)</span></span>

<span data-ttu-id="cd767-263">**Figura 13**: la actualización de un producto provoca la activación de los controles de validación de la interfaz de inserción ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image39.png))</span></span>

<span data-ttu-id="cd767-264">Los controles de validación de ASP.NET 2,0 se pueden particionar en grupos de validación a través de su propiedad `ValidationGroup`.</span><span class="sxs-lookup"><span data-stu-id="cd767-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="cd767-265">Para asociar un conjunto de controles de validación en un grupo, basta con establecer su propiedad `ValidationGroup` en el mismo valor.</span><span class="sxs-lookup"><span data-stu-id="cd767-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="cd767-266">En nuestro tutorial, establezca las propiedades de `ValidationGroup` de los controles de validación en el TemplateFields de GridView en `EditValidationControls` y las propiedades `ValidationGroup` de TemplateFields de DetailsView en `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="cd767-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="cd767-267">Estos cambios se pueden realizar directamente en el marcado declarativo o a través del ventana Propiedades cuando se usa la interfaz de edición de plantillas del diseñador.</span><span class="sxs-lookup"><span data-stu-id="cd767-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="cd767-268">Además de los controles de validación, el botón y los controles relacionados con los botones de ASP.NET 2,0 también incluyen una propiedad `ValidationGroup`.</span><span class="sxs-lookup"><span data-stu-id="cd767-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="cd767-269">Solo se comprueba la validez de los validadores de un grupo de validación cuando un botón que tiene el mismo `ValidationGroup` configuración de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="cd767-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="cd767-270">Por ejemplo, para que el botón Insertar de DetailsView desencadene el grupo de validación `InsertValidationControls`, es necesario establecer la propiedad `ValidationGroup` de CommandField en `InsertValidationControls` (vea la figura 14).</span><span class="sxs-lookup"><span data-stu-id="cd767-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="cd767-271">Además, establezca la propiedad CommandField's `ValidationGroup` de GridView en `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="cd767-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>

<span data-ttu-id="cd767-272">[![establecer la propiedad CommandField's ValidationGroup de DetailsView en InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="cd767-272">[![Set the DetailsView's CommandField's ValidationGroup property to InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image40.png)</span></span>

<span data-ttu-id="cd767-273">**Figura 14**: establezca la propiedad CommandField's `ValidationGroup` de DetailsView en `InsertValidationControls` ([haga clic para ver la imagen de tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="cd767-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/_static/image42.png))</span></span>

<span data-ttu-id="cd767-274">Después de estos cambios, los TemplateFields y CommandFields de DetailsView y GridView deben ser similares a los siguientes:</span><span class="sxs-lookup"><span data-stu-id="cd767-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="cd767-275">TemplateFields y CommandField de DetailsView</span><span class="sxs-lookup"><span data-stu-id="cd767-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample4.aspx)]

<span data-ttu-id="cd767-276">CommandField y TemplateFields de GridView</span><span class="sxs-lookup"><span data-stu-id="cd767-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample5.aspx)]

<span data-ttu-id="cd767-277">En este momento, los controles de validación específicos de la edición se activan solo cuando se hace clic en el botón actualizar de GridView y los controles de validación específicos de la inserción se activan solo cuando se hace clic en el botón Insertar de DetailsView, resolviendo el problema resaltado en la figura 13.</span><span class="sxs-lookup"><span data-stu-id="cd767-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="cd767-278">Sin embargo, con este cambio, el control ValidationSummary ya no aparece cuando se escriben datos no válidos.</span><span class="sxs-lookup"><span data-stu-id="cd767-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="cd767-279">El control ValidationSummary también contiene una propiedad `ValidationGroup` y solo muestra información de resumen para los controles de validación de su grupo de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="cd767-280">Por lo tanto, es necesario tener dos controles de validación en esta página, uno para el grupo de validación `InsertValidationControls` y otro para `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="cd767-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-vb/samples/sample6.aspx)]

<span data-ttu-id="cd767-281">Con esta adición, nuestro tutorial está completo.</span><span class="sxs-lookup"><span data-stu-id="cd767-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="cd767-282">Resumen</span><span class="sxs-lookup"><span data-stu-id="cd767-282">Summary</span></span>

<span data-ttu-id="cd767-283">Aunque BoundFields puede proporcionar una interfaz de inserción y edición, la interfaz no es personalizable.</span><span class="sxs-lookup"><span data-stu-id="cd767-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="cd767-284">Normalmente, queremos agregar controles de validación a la interfaz de edición e inserción para asegurarse de que el usuario escriba las entradas necesarias en un formato válido.</span><span class="sxs-lookup"><span data-stu-id="cd767-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="cd767-285">Para ello, debemos convertir BoundFields en TemplateFields y agregar los controles de validación a las plantillas adecuadas.</span><span class="sxs-lookup"><span data-stu-id="cd767-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="cd767-286">En este tutorial se amplió el ejemplo del tutorial *examinando los eventos asociados con la inserción, actualización y eliminación* , agregando controles de validación a la interfaz de inserción de DetailsView y a la interfaz de edición de GridView.</span><span class="sxs-lookup"><span data-stu-id="cd767-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="cd767-287">Además, vimos cómo Mostrar información de validación de Resumen mediante el control ValidationSummary y cómo crear particiones de los controles de validación de la página en grupos de validación distintos.</span><span class="sxs-lookup"><span data-stu-id="cd767-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="cd767-288">Como vimos en este tutorial, TemplateFields permite aumentar las interfaces de edición e inserción para incluir controles de validación.</span><span class="sxs-lookup"><span data-stu-id="cd767-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="cd767-289">TemplateFields también se puede extender para incluir controles Web de entrada adicionales, lo que permite reemplazar el cuadro de texto por un control Web más adecuado.</span><span class="sxs-lookup"><span data-stu-id="cd767-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="cd767-290">En el tutorial siguiente, veremos cómo reemplazar el control TextBox con un control DropDownList enlazado a datos, que es ideal para editar una clave externa (como `CategoryID` o `SupplierID` en la tabla `Products`).</span><span class="sxs-lookup"><span data-stu-id="cd767-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="cd767-291">¡ Feliz programación!</span><span class="sxs-lookup"><span data-stu-id="cd767-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="cd767-292">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="cd767-292">About the Author</span></span>

<span data-ttu-id="cd767-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros de ASP/ASP. net y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha estado trabajando con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="cd767-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="cd767-294">Scott funciona como consultor, profesor y redactor independiente.</span><span class="sxs-lookup"><span data-stu-id="cd767-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="cd767-295">Su último libro se [*enseña a ASP.NET 2,0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="cd767-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="cd767-296">Puede ponerse en contacto con usted en [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="cd767-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="cd767-297">o a través de su blog, que encontrará en [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="cd767-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="cd767-298">Agradecimiento especial a</span><span class="sxs-lookup"><span data-stu-id="cd767-298">Special Thanks To</span></span>

<span data-ttu-id="cd767-299">Muchos revisores útiles revisaron esta serie de tutoriales.</span><span class="sxs-lookup"><span data-stu-id="cd767-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="cd767-300">Los revisores responsables de este tutorial eran Liz Shulok y Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="cd767-300">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="cd767-301">¿Está interesado en revisar los próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="cd767-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="cd767-302">En caso afirmativo, suéltelo en [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="cd767-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="cd767-303">[Anterior](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-vb.md)
> [Siguiente](customizing-the-data-modification-interface-vb.md)</span><span class="sxs-lookup"><span data-stu-id="cd767-303">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-vb.md)
[Next](customizing-the-data-modification-interface-vb.md)</span></span>

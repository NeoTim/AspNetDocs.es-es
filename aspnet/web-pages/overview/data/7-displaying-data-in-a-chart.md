---
uid: web-pages/overview/data/7-displaying-data-in-a-chart
title: Mostrar datos en un gráfico con ASP.NET Web Pages (Razor) | Microsoft Docs
author: microsoft
description: En este capítulo se explica cómo mostrar los datos en un gráfico. En los capítulos anteriores, aprendió a Mostrar datos manualmente y en una cuadrícula. En este capítulo se explica...
ms.author: riande
ms.date: 05/22/2012
ms.assetid: f889fd46-4dac-4ecb-83d8-60e64c22036e
msc.legacyurl: /web-pages/overview/data/7-displaying-data-in-a-chart
msc.type: authoredcontent
ms.openlocfilehash: 6dad67d4e3d38d57a761c567d937d714a3184ea9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509137"
---
# <a name="displaying-data-in-a-chart-with-aspnet-web-pages-razor"></a><span data-ttu-id="c3e09-105">Mostrar datos en un gráfico con ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="c3e09-105">Displaying Data in a Chart with ASP.NET Web Pages (Razor)</span></span>

<span data-ttu-id="c3e09-106">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="c3e09-106">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="c3e09-107">En este artículo se explica cómo usar un gráfico para Mostrar datos en un sitio web de ASP.NET Web Pages (Razor) mediante la aplicación auxiliar de `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-107">This article explains how to use a chart to display data in an ASP.NET Web Pages (Razor) website by using the `Chart` helper.</span></span>
> 
> <span data-ttu-id="c3e09-108">**Lo que aprenderá**:</span><span class="sxs-lookup"><span data-stu-id="c3e09-108">**What you'll learn**:</span></span>
> 
> - <span data-ttu-id="c3e09-109">Cómo mostrar los datos en un gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-109">How to display data in a chart.</span></span>
> - <span data-ttu-id="c3e09-110">Cómo aplicar estilos a los gráficos mediante temas integrados.</span><span class="sxs-lookup"><span data-stu-id="c3e09-110">How to style charts using built-in themes.</span></span>
> - <span data-ttu-id="c3e09-111">Cómo guardar gráficos y cómo almacenarlos en memoria caché para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="c3e09-111">How to save charts and how to cache them for better performance.</span></span>
> 
> <span data-ttu-id="c3e09-112">Estas son las características de programación de ASP.NET que se introdujeron en el artículo:</span><span class="sxs-lookup"><span data-stu-id="c3e09-112">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="c3e09-113">Aplicación auxiliar de `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-113">The `Chart` helper.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="c3e09-114">La información de este artículo se aplica a ASP.NET Web Pages 1,0 y páginas web 2.</span><span class="sxs-lookup"><span data-stu-id="c3e09-114">The information in this article applies to ASP.NET Web Pages 1.0 and Web Pages 2.</span></span>

<a id="The_Chart_Helper"></a>
## <a name="the-chart-helper"></a><span data-ttu-id="c3e09-115">Aplicación auxiliar de gráficos</span><span class="sxs-lookup"><span data-stu-id="c3e09-115">The Chart Helper</span></span>

<span data-ttu-id="c3e09-116">Si desea mostrar los datos en formato gráfico, puede utilizar la aplicación auxiliar `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-116">When you want to display your data in graphical form, you can use `Chart` helper.</span></span> <span data-ttu-id="c3e09-117">La aplicación auxiliar de `Chart` puede representar una imagen que muestra los datos en diversos tipos de gráficos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-117">The `Chart` helper can render an image that displays data in a variety of chart types.</span></span> <span data-ttu-id="c3e09-118">Admite muchas opciones de formato y etiquetado.</span><span class="sxs-lookup"><span data-stu-id="c3e09-118">It supports many options for formatting and labeling.</span></span> <span data-ttu-id="c3e09-119">La aplicación auxiliar de `Chart` puede representar más de 30 tipos de gráficos, incluidos todos los tipos de gráficos con los que puede estar familiarizado desde Microsoft Excel u &#8212; otros gráficos de áreas de herramientas, gráficos de barras, gráficos de columnas, gráficos de líneas y gráficos circulares, junto con gráficos más especializados como gráficos de cotizaciones.</span><span class="sxs-lookup"><span data-stu-id="c3e09-119">The `Chart` helper can render more than 30 types of charts, including all the types of charts that you might be familiar with from Microsoft Excel or other tools &#8212; area charts, bar charts, column charts, line charts, and pie charts, along with more specialized charts like stock charts.</span></span>

| <span data-ttu-id="c3e09-120">**Gráfico de áreas** ![Descripción: imagen del tipo de gráfico de áreas](7-displaying-data-in-a-chart/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-120">**Area chart** ![Description: Picture of the Area chart type](7-displaying-data-in-a-chart/_static/image1.jpg)</span></span> | <span data-ttu-id="c3e09-121">**Gráfico de barras** ![Descripción: imagen del tipo de gráfico de barras](7-displaying-data-in-a-chart/_static/image2.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-121">**Bar chart** ![Description: Picture of the Bar chart type](7-displaying-data-in-a-chart/_static/image2.jpg)</span></span> |
| --- | --- |
| <span data-ttu-id="c3e09-122">**Gráfico de columnas** ![Descripción: imagen del tipo de gráfico de columnas](7-displaying-data-in-a-chart/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-122">**Column chart** ![Description: Picture of the Column chart type](7-displaying-data-in-a-chart/_static/image3.jpg)</span></span> | <span data-ttu-id="c3e09-123">**Gráfico de líneas** ![Descripción: imagen del tipo de gráfico de líneas](7-displaying-data-in-a-chart/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-123">**Line chart** ![Description: Picture of the Line chart type](7-displaying-data-in-a-chart/_static/image4.jpg)</span></span> |
| <span data-ttu-id="c3e09-124">**Gráfico circular** ![Descripción: imagen del tipo de gráfico circular](7-displaying-data-in-a-chart/_static/image5.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-124">**Pie chart** ![Description: Picture of the Pie chart type](7-displaying-data-in-a-chart/_static/image5.jpg)</span></span> | <span data-ttu-id="c3e09-125">**Gráfico de cotizaciones** ![Descripción: imagen del tipo de gráfico de cotizaciones](7-displaying-data-in-a-chart/_static/image6.jpg)</span><span class="sxs-lookup"><span data-stu-id="c3e09-125">**Stock chart** ![Description: Picture of the Stock chart type](7-displaying-data-in-a-chart/_static/image6.jpg)</span></span> |

### <a name="chart-elements"></a><span data-ttu-id="c3e09-126">Elemento de gráfico</span><span class="sxs-lookup"><span data-stu-id="c3e09-126">Chart Elements</span></span>

<span data-ttu-id="c3e09-127">Los gráficos muestran datos y elementos adicionales como leyendas, ejes, series, etc.</span><span class="sxs-lookup"><span data-stu-id="c3e09-127">Charts show data and additional elements like legends, axes, series, and so on.</span></span> <span data-ttu-id="c3e09-128">En la imagen siguiente se muestran muchos de los elementos de gráfico que se pueden personalizar al utilizar la aplicación auxiliar `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-128">The following picture shows many of the chart elements that you can customize when you use the `Chart` helper.</span></span> <span data-ttu-id="c3e09-129">En este artículo se muestra cómo establecer algunos (no todos) de estos elementos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-129">This article shows you how to set some (not all) of these elements.</span></span>

![Descripción: imagen que muestra los elementos del gráfico](7-displaying-data-in-a-chart/_static/image7.jpg)

<a id="Creating_a_Chart"></a>
## <a name="creating-a-chart-from-data"></a><span data-ttu-id="c3e09-131">Crear un gráfico a partir de datos</span><span class="sxs-lookup"><span data-stu-id="c3e09-131">Creating a Chart from Data</span></span>

<span data-ttu-id="c3e09-132">Los datos que se muestran en un gráfico pueden ser de una matriz, de los resultados devueltos de una base de datos o de los datos que se encuentra en un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-132">The data you display in a chart can be from an array, from the results returned from a database, or from data that's in an XML file.</span></span>

### <a name="using-an-array"></a><span data-ttu-id="c3e09-133">Usar una matriz</span><span class="sxs-lookup"><span data-stu-id="c3e09-133">Using an Array</span></span>

<span data-ttu-id="c3e09-134">Como se explica en [Introducción a la programación de ASP.NET Web pages mediante la sintaxis Razor](https://go.microsoft.com/fwlink/?LinkId=202890), una matriz permite almacenar una colección de elementos similares en una sola variable.</span><span class="sxs-lookup"><span data-stu-id="c3e09-134">As explained in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890), an array lets you store a collection of similar items in a single variable.</span></span> <span data-ttu-id="c3e09-135">Puede usar matrices para contener los datos que desea incluir en el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-135">You can use arrays to contain the data that you want to include in your chart.</span></span>

<span data-ttu-id="c3e09-136">Este procedimiento muestra cómo se puede crear un gráfico a partir de los datos de las matrices, utilizando el tipo de gráfico predeterminado.</span><span class="sxs-lookup"><span data-stu-id="c3e09-136">This procedure shows how you can create a chart from data in arrays, using the default chart type.</span></span> <span data-ttu-id="c3e09-137">También muestra cómo mostrar el gráfico dentro de la página.</span><span class="sxs-lookup"><span data-stu-id="c3e09-137">It also shows how to display the chart within the page.</span></span>

1. <span data-ttu-id="c3e09-138">Cree un nuevo archivo llamado *ChartArrayBasic. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-138">Create a new file named *ChartArrayBasic.cshtml*.</span></span>
2. <span data-ttu-id="c3e09-139">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-139">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample1.cshtml)]

    <span data-ttu-id="c3e09-140">En primer lugar, el código crea un nuevo gráfico y establece su ancho y alto.</span><span class="sxs-lookup"><span data-stu-id="c3e09-140">The code first creates a new chart and sets its width and height.</span></span> <span data-ttu-id="c3e09-141">El título del gráfico se especifica mediante el método `AddTitle`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-141">You specify the chart title by using the `AddTitle` method.</span></span> <span data-ttu-id="c3e09-142">Para agregar datos, use el método `AddSeries`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-142">To add data, you use the `AddSeries` method.</span></span> <span data-ttu-id="c3e09-143">En este ejemplo, se usan los parámetros `name`, `xValue`y `yValues` del método `AddSeries`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-143">In this example, you use the `name`, `xValue`, and `yValues` parameters of the `AddSeries` method.</span></span> <span data-ttu-id="c3e09-144">El parámetro `name` se muestra en la leyenda del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-144">The `name` parameter is displayed in the chart legend.</span></span> <span data-ttu-id="c3e09-145">El parámetro `xValue` contiene una matriz de datos que se muestra a lo largo del eje horizontal del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-145">The `xValue` parameter contains an array of data that's displayed along the horizontal axis of the chart.</span></span> <span data-ttu-id="c3e09-146">El parámetro `yValues` contiene una matriz de datos que se usa para trazar los puntos verticales del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-146">The `yValues` parameter contains an array of data that's used to plot the vertical points of the chart.</span></span>

    <span data-ttu-id="c3e09-147">En realidad, el método `Write` representa el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-147">The `Write` method actually renders the chart.</span></span> <span data-ttu-id="c3e09-148">En este caso, como no especificó un tipo de gráfico, el ayudante de `Chart` representa su gráfico predeterminado, que es un gráfico de columnas.</span><span class="sxs-lookup"><span data-stu-id="c3e09-148">In this case, because you didn't specify a chart type, the `Chart` helper renders its default chart, which is a column chart.</span></span>
3. <span data-ttu-id="c3e09-149">Ejecute la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-149">Run the page in the browser.</span></span> <span data-ttu-id="c3e09-150">El explorador muestra el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-150">The browser displays the chart.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image8.jpg)

### <a name="using-a-database-query-for-chart-data"></a><span data-ttu-id="c3e09-151">Usar una consulta de base de datos para los datos de gráfico</span><span class="sxs-lookup"><span data-stu-id="c3e09-151">Using a Database Query for Chart Data</span></span>

<span data-ttu-id="c3e09-152">Si la información que desea incluir en el gráfico se encuentra en una base de datos, puede ejecutar una consulta de base de datos y, a continuación, utilizar los datos de los resultados para crear el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-152">If the information you want to chart is in a database, you can run a database query and then use data from the results to create the chart.</span></span> <span data-ttu-id="c3e09-153">En este procedimiento se muestra cómo leer y mostrar los datos de la base de datos creada en el artículo [Introducción al trabajo con una base de datos en ASP.NET Web pages sitios](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="c3e09-153">This procedure shows you how to read and display the data from the database created in the article [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>

1. <span data-ttu-id="c3e09-154">Agregue una carpeta de *\_de datos* de la aplicación a la raíz del sitio web si la carpeta no existe todavía.</span><span class="sxs-lookup"><span data-stu-id="c3e09-154">Add an *App\_Data* folder to the root of the website if the folder does not already exist.</span></span>
2. <span data-ttu-id="c3e09-155">En la carpeta *App\_Data* , agregue el archivo de base de datos denominado *SmallBakery. sdf* que se describe en [Introducción al trabajo con una base de datos en sitios de ASP.NET Web pages](https://go.microsoft.com/fwlink/?LinkId=202893).</span><span class="sxs-lookup"><span data-stu-id="c3e09-155">In the *App\_Data* folder, add the database file named *SmallBakery.sdf* that's described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=202893).</span></span>
3. <span data-ttu-id="c3e09-156">Cree un nuevo archivo llamado *ChartDataQuery. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-156">Create a new file named *ChartDataQuery.cshtml*.</span></span>
4. <span data-ttu-id="c3e09-157">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-157">Replace the existing content with the following:</span></span>   

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample2.cshtml)]

    <span data-ttu-id="c3e09-158">El código abre primero la base de datos SmallBakery y la asigna a una variable denominada `db`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-158">The code first opens the SmallBakery database and assigns it to a variable named `db`.</span></span> <span data-ttu-id="c3e09-159">Esta variable representa un objeto `Database` que se puede utilizar para leer y escribir en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-159">This variable represents a `Database` object that can be used to read from and write to the database.</span></span> <span data-ttu-id="c3e09-160">A continuación, el código ejecuta una consulta SQL para obtener el nombre y el precio de cada producto.</span><span class="sxs-lookup"><span data-stu-id="c3e09-160">Next, the code runs a SQL query to get the name and price of each product.</span></span> <span data-ttu-id="c3e09-161">El código crea un nuevo gráfico y le pasa la consulta de base de datos llamando al método `DataBindTable` del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-161">The code creates a new chart and passes the database query to it by calling the chart's `DataBindTable` method.</span></span> <span data-ttu-id="c3e09-162">Este método toma dos parámetros: el parámetro `dataSource` es para los datos de la consulta y el parámetro `xField` permite establecer qué columna de datos se utiliza para el eje x del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-162">This method takes two parameters: the `dataSource` parameter is for the data from the query, and the `xField` parameter lets you set which data column is used for the chart's x-axis.</span></span>

    <span data-ttu-id="c3e09-163">Como alternativa al uso del método `DataBindTable`, puede utilizar el método `AddSeries` de la aplicación auxiliar `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-163">As an alternative to using the `DataBindTable` method, you can use the `AddSeries` method of the `Chart` helper.</span></span> <span data-ttu-id="c3e09-164">El método `AddSeries` permite establecer los parámetros `xValue` y `yValues`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-164">The `AddSeries` method lets you set the `xValue` and `yValues` parameters.</span></span> <span data-ttu-id="c3e09-165">Por ejemplo, en lugar de usar el método `DataBindTable` como este:</span><span class="sxs-lookup"><span data-stu-id="c3e09-165">For example, instead of using the `DataBindTable` method like this:</span></span>

    [!code-css[Main](7-displaying-data-in-a-chart/samples/sample3.css)]

    <span data-ttu-id="c3e09-166">Puede usar el método `AddSeries` como el siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-166">You can use the `AddSeries` method like this:</span></span>

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample4.html)]

    <span data-ttu-id="c3e09-167">Ambos representan los mismos resultados.</span><span class="sxs-lookup"><span data-stu-id="c3e09-167">Both render the same results.</span></span> <span data-ttu-id="c3e09-168">El método `AddSeries` es más flexible, ya que puede especificar el tipo de gráfico y los datos más explícitamente, pero el método `DataBindTable` es más fácil de usar si no necesita la flexibilidad adicional.</span><span class="sxs-lookup"><span data-stu-id="c3e09-168">The `AddSeries` method is more flexible because you can specify the chart type and data more explicitly, but the `DataBindTable` method is easier to use if you don't need the extra flexibility.</span></span>
5. <span data-ttu-id="c3e09-169">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-169">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image9.jpg)

### <a name="using-xml-data"></a><span data-ttu-id="c3e09-170">Usar datos XML</span><span class="sxs-lookup"><span data-stu-id="c3e09-170">Using XML Data</span></span>

<span data-ttu-id="c3e09-171">La tercera opción para los gráficos es usar un archivo XML como los datos para el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-171">The third option for charting is to use an XML file as the data for the chart.</span></span> <span data-ttu-id="c3e09-172">Esto requiere que el archivo XML también tenga un archivo de esquema (archivo *. xsd* ) que describa la estructura XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-172">This requires that the XML file also have a schema file (*.xsd* file) that describes the XML structure.</span></span> <span data-ttu-id="c3e09-173">En este procedimiento se muestra cómo leer datos de un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-173">This procedure shows you how to read data from an XML file.</span></span>

1. <span data-ttu-id="c3e09-174">En la carpeta *App\_Data* , cree un nuevo archivo XML denominado *Data. XML*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-174">In the *App\_Data* folder, create a new XML file named *data.xml*.</span></span>
2. <span data-ttu-id="c3e09-175">Reemplace el XML existente por lo siguiente, que contiene algunos datos XML acerca de los empleados de una compañía ficticia.</span><span class="sxs-lookup"><span data-stu-id="c3e09-175">Replace the existing XML with the following, which is some XML data about employees in a fictional company.</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample5.xml)]
3. <span data-ttu-id="c3e09-176">En la carpeta *App\_Data* , cree un nuevo archivo XML denominado *Data. xsd*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-176">In the *App\_Data* folder, create a new XML file named *data.xsd*.</span></span> <span data-ttu-id="c3e09-177">(Tenga en cuenta que la extensión es *. xsd*).</span><span class="sxs-lookup"><span data-stu-id="c3e09-177">(Note that the extension this time is *.xsd*.)</span></span>
4. <span data-ttu-id="c3e09-178">Reemplace el XML existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-178">Replace the existing XML with the following:</span></span> 

    [!code-xml[Main](7-displaying-data-in-a-chart/samples/sample6.xml)]
5. <span data-ttu-id="c3e09-179">En la raíz del sitio web, cree un nuevo archivo denominado *ChartDataXML. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-179">In the root of the website, create a new file named *ChartDataXML.cshtml*.</span></span>
6. <span data-ttu-id="c3e09-180">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-180">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample7.cshtml)]

    <span data-ttu-id="c3e09-181">En primer lugar, el código crea un objeto `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-181">The code first creates a `DataSet` object.</span></span> <span data-ttu-id="c3e09-182">Este objeto se usa para administrar los datos que se leen desde el archivo XML y los organiza en función de la información del archivo de esquema.</span><span class="sxs-lookup"><span data-stu-id="c3e09-182">This object is used to manage the data that's read from the XML file and organize it according to the information in the schema file.</span></span> <span data-ttu-id="c3e09-183">(Observe que la parte superior del código incluye la instrucción `using SystemData`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-183">(Notice that the top of the code includes the statement `using SystemData`.</span></span> <span data-ttu-id="c3e09-184">Esto es necesario para poder trabajar con el objeto de `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-184">This is required in order to be able to work with the `DataSet` object.</span></span> <span data-ttu-id="c3e09-185">Para obtener más información, vea [&quot;usar instrucciones de&quot; y nombres completos](#SB_UsingStatements) más adelante en este artículo).</span><span class="sxs-lookup"><span data-stu-id="c3e09-185">For more information, see [&quot;Using&quot; Statements and Fully Qualified Names](#SB_UsingStatements) later in this article.)</span></span>

    <span data-ttu-id="c3e09-186">A continuación, el código crea un objeto de `DataView` basado en el conjunto de DataSet.</span><span class="sxs-lookup"><span data-stu-id="c3e09-186">Next, the code creates a `DataView` object based on the dataset.</span></span> <span data-ttu-id="c3e09-187">La vista de datos proporciona un objeto al &#8212; que se puede enlazar el gráfico; es decir, lectura y trazado.</span><span class="sxs-lookup"><span data-stu-id="c3e09-187">The data view provides an object that the chart can bind to &#8212; that is, read and plot.</span></span> <span data-ttu-id="c3e09-188">El gráfico se enlaza a los datos mediante el método `AddSeries`, como se vio antes al representar los datos de la matriz, excepto en que esta vez los parámetros `xValue` y `yValues` se establecen en el objeto `DataView`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-188">The chart binds to the data using the `AddSeries` method, as you saw earlier when charting the array data, except that this time the `xValue` and `yValues` parameters are set to the `DataView` object.</span></span>

    <span data-ttu-id="c3e09-189">En este ejemplo también se muestra cómo especificar un tipo de gráfico determinado.</span><span class="sxs-lookup"><span data-stu-id="c3e09-189">This example also shows you how to specify a particular chart type.</span></span> <span data-ttu-id="c3e09-190">Cuando los datos se agregan en el método `AddSeries`, el parámetro `chartType` también se establece para mostrar un gráfico circular.</span><span class="sxs-lookup"><span data-stu-id="c3e09-190">When the data is added in the `AddSeries` method, the `chartType` parameter is also set to display a pie chart.</span></span>
7. <span data-ttu-id="c3e09-191">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-191">Run the page in a browser.</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image10.jpg)

> [!TIP]
> 
> <a id="SB_UsingStatements"></a>
> ### <a name="using-statements-and-fully-qualified-names"></a><span data-ttu-id="c3e09-192">Instrucciones "Using" y nombres completos</span><span class="sxs-lookup"><span data-stu-id="c3e09-192">"Using" Statements and Fully Qualified Names</span></span>
> 
> <span data-ttu-id="c3e09-193">El .NET Framework que ASP.NET Web Pages con sintaxis Razor se basa en se compone de muchos miles de componentes (clases).</span><span class="sxs-lookup"><span data-stu-id="c3e09-193">The .NET Framework that ASP.NET Web Pages with Razor syntax is based on consists of many thousands of components (classes).</span></span> <span data-ttu-id="c3e09-194">Para que sea manejable trabajar con todas estas clases, se organizan en *espacios de nombres*, que son similares a las bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="c3e09-194">To make it manageable to work with all these classes, they're organized into *namespaces*, which are somewhat like libraries.</span></span> <span data-ttu-id="c3e09-195">Por ejemplo, el espacio de nombres `System.Web` contiene clases que admiten la comunicación entre exploradores y servidores, el espacio de nombres `System.Xml` contiene clases que se usan para crear y leer archivos XML, y el espacio de nombres `System.Data` contiene clases que permiten trabajar con datos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-195">For example, the `System.Web` namespace contains classes that support browser/server communication, the `System.Xml` namespace contains classes that are used to create and read XML files, and the `System.Data` namespace contains classes that let you work with data.</span></span>
> 
> <span data-ttu-id="c3e09-196">Para tener acceso a cualquier clase determinada en el .NET Framework, el código necesita saber no solo el nombre de clase, sino también el espacio de nombres en el que se encuentra la clase.</span><span class="sxs-lookup"><span data-stu-id="c3e09-196">In order to access any given class in the .NET Framework, code needs to know not just the class name, but also the namespace that the class is in.</span></span> <span data-ttu-id="c3e09-197">Por ejemplo, para usar la aplicación auxiliar `Chart`, el código necesita encontrar la clase `System.Web.Helpers.Chart`, que combina el espacio de nombres (`System.Web.Helpers`) con el nombre de clase (`Chart`).</span><span class="sxs-lookup"><span data-stu-id="c3e09-197">For example, in order to use the `Chart` helper, code needs to find the `System.Web.Helpers.Chart` class, which combines the namespace (`System.Web.Helpers`) with the class name (`Chart`).</span></span> <span data-ttu-id="c3e09-198">Esto se conoce como el nombre &#8212; *completo* de la clase de su ubicación completa e inequívoca dentro de la inmensaidad del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c3e09-198">This is known as the class's *fully-qualified* name &#8212; its complete, unambiguous location within the vastness of the .NET Framework.</span></span> <span data-ttu-id="c3e09-199">En el código, esto sería similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-199">In code, this would look like the following:</span></span>
> 
> `var myChart = new System.Web.Helpers.Chart(width: 600, height: 400) // etc.`
> 
> <span data-ttu-id="c3e09-200">Sin embargo, es engorroso (y propenso a errores) tener que usar estos nombres completos y largos cada vez que desea hacer referencia a una clase o aplicación auxiliar.</span><span class="sxs-lookup"><span data-stu-id="c3e09-200">However, it's cumbersome (and error prone) to have to use these long, fully-qualified names every time you want to refer to a class or helper.</span></span> <span data-ttu-id="c3e09-201">Por lo tanto, para facilitar el uso de nombres de clase, puede *importar* los espacios de nombres que le interesan, que suele ser un puñado de entre los muchos espacios de nombres del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c3e09-201">Therefore, to make it easier to use class names, you can *import* the namespaces you're interested in, which is usually is just a handful from among the many namespaces in the .NET Framework.</span></span> <span data-ttu-id="c3e09-202">Si ha importado un espacio de nombres, puede usar solo un nombre de clase (`Chart`) en lugar del nombre completo (`System.Web.Helpers.Chart`).</span><span class="sxs-lookup"><span data-stu-id="c3e09-202">If you've imported a namespace, you can use just a class name (`Chart`) instead of the fully qualified name (`System.Web.Helpers.Chart`).</span></span> <span data-ttu-id="c3e09-203">Cuando el código se ejecuta y encuentra un nombre de clase, puede buscar en solo los espacios de nombres que ha importado para encontrar esa clase.</span><span class="sxs-lookup"><span data-stu-id="c3e09-203">When your code runs and encounters a class name, it can look in just the namespaces you've imported to find that class.</span></span>
> 
> <span data-ttu-id="c3e09-204">Cuando se usa ASP.NET Web Pages con sintaxis Razor para crear páginas web, normalmente se usa el mismo conjunto de clases cada vez, incluidas la clase `WebPage`, las diversas aplicaciones auxiliares, etc.</span><span class="sxs-lookup"><span data-stu-id="c3e09-204">When you use ASP.NET Web Pages with Razor syntax to create web pages, you typically use the same set of classes each time, including the `WebPage` class, the various helpers, and so on.</span></span> <span data-ttu-id="c3e09-205">Para ahorrarle el trabajo de importar los espacios de nombres relevantes cada vez que cree un sitio web, ASP.NET se configura de modo que importe automáticamente un conjunto de espacios de nombres principales para cada sitio Web.</span><span class="sxs-lookup"><span data-stu-id="c3e09-205">To save you the work of importing the relevant namespaces every time you create a website, ASP.NET is configured so it automatically imports a set of core namespaces for every website.</span></span> <span data-ttu-id="c3e09-206">Esta es la razón por la que no ha tenido que tratar con los espacios de nombres ni importar hasta ahora; todas las clases con las que ha trabajado se encuentran en espacios de nombres que ya se han importado.</span><span class="sxs-lookup"><span data-stu-id="c3e09-206">That's why you haven't had to deal with namespaces or importing up to now; all the classes you've worked with are in namespaces that are already imported for you.</span></span>
> 
> <span data-ttu-id="c3e09-207">Sin embargo, a veces es necesario trabajar con una clase que no está en un espacio de nombres que se importa automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c3e09-207">However, sometimes you need to work with a class that isn't in a namespace that's automatically imported for you.</span></span> <span data-ttu-id="c3e09-208">En ese caso, puede usar el nombre completo de la clase, o bien puede importar manualmente el espacio de nombres que contiene la clase.</span><span class="sxs-lookup"><span data-stu-id="c3e09-208">In that case, you can either use that class's fully-qualified name, or you can manually import the namespace that contains the class.</span></span> <span data-ttu-id="c3e09-209">Para importar un espacio de nombres, use la instrucción `using` (`import` en Visual Basic), como vio en un ejemplo anterior de este artículo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-209">To import a namespace, you use the `using` statement (`import` in Visual Basic), as you saw in an example earlier the article.</span></span>
> 
> <span data-ttu-id="c3e09-210">Por ejemplo, la clase `DataSet` está en el espacio de nombres `System.Data`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-210">For example, the `DataSet` class is in the `System.Data` namespace.</span></span> <span data-ttu-id="c3e09-211">El espacio de nombres `System.Data` no está disponible automáticamente para las páginas de Razor ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c3e09-211">The `System.Data` namespace is not automatically available to ASP.NET Razor pages.</span></span> <span data-ttu-id="c3e09-212">Por lo tanto, para trabajar con la clase `DataSet` utilizando su nombre completo, puede usar código como el siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-212">Therefore, to work with the `DataSet` class using its fully qualified name, you can use code like this:</span></span>
> 
> `var dataSet = new System.Data.DataSet();`
> 
> <span data-ttu-id="c3e09-213">Si tiene que usar la clase `DataSet` repetidamente, puede importar un espacio de nombres como este y, a continuación, usar solo el nombre de clase en el código:</span><span class="sxs-lookup"><span data-stu-id="c3e09-213">If you have to use the `DataSet` class repeatedly you can import a namespace like this and then use just the class name in code:</span></span>
> 
> [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample8.cshtml)]
> 
> <span data-ttu-id="c3e09-214">Puede Agregar `using` instrucciones para cualquier otro espacio de nombres de .NET Framework al que desee hacer referencia.</span><span class="sxs-lookup"><span data-stu-id="c3e09-214">You can add `using` statements for any other .NET Framework namespaces that you want to reference.</span></span> <span data-ttu-id="c3e09-215">Sin embargo, como se indicó, no tendrá que hacer esto a menudo, porque la mayoría de las clases con las que trabajará se encuentran en espacios de nombres que se importan automáticamente mediante ASP.NET para su uso en las páginas *. cshtml* y *. vbhtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-215">However, as noted, you won't need to do this often, because most of the classes that you'll work with are in namespaces that are imported automatically by ASP.NET for use in *.cshtml* and *.vbhtml* pages.</span></span>

<a id="Displaying_Charts"></a>
## <a name="displaying-charts-inside-a-web-page"></a><span data-ttu-id="c3e09-216">Mostrar gráficos dentro de una página web</span><span class="sxs-lookup"><span data-stu-id="c3e09-216">Displaying Charts Inside a Web Page</span></span>

<span data-ttu-id="c3e09-217">En los ejemplos que se han visto hasta ahora, se crea un gráfico y, a continuación, el gráfico se representa directamente en el explorador como un gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-217">In the examples you've seen so far, you create a chart and then the chart is rendered directly to the browser as a graphic.</span></span> <span data-ttu-id="c3e09-218">Sin embargo, en muchos casos, desea mostrar un gráfico como parte de una página, no solo en el explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-218">In many cases, though, you want to display a chart as part of a page, not just by itself in the browser.</span></span> <span data-ttu-id="c3e09-219">Para ello, es necesario un proceso de dos pasos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-219">To do that requires a two-step process.</span></span> <span data-ttu-id="c3e09-220">El primer paso es crear una página que genere el gráfico, tal como ya se ha visto.</span><span class="sxs-lookup"><span data-stu-id="c3e09-220">The first step is to create a page that generates the chart, as you've already seen.</span></span>

<span data-ttu-id="c3e09-221">El segundo paso es mostrar la imagen resultante en otra página.</span><span class="sxs-lookup"><span data-stu-id="c3e09-221">The second step is to display the resulting image in another page.</span></span> <span data-ttu-id="c3e09-222">Para mostrar la imagen, use un elemento de `<img>` HTML, de la misma manera que mostraría cualquier imagen.</span><span class="sxs-lookup"><span data-stu-id="c3e09-222">To display the image, you use an HTML `<img>` element, in the same way you would to display any image.</span></span> <span data-ttu-id="c3e09-223">Sin embargo, en lugar de hacer referencia a un archivo *. jpg* o *. png* , el elemento `<img>` hace referencia al archivo *. cshtml* que contiene la aplicación auxiliar de `Chart` que crea el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-223">However, instead of referencing a *.jpg* or *.png* file, the `<img>` element references the *.cshtml* file that contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="c3e09-224">Cuando se ejecuta la página de visualización, el elemento `<img>` obtiene la salida de la aplicación auxiliar de `Chart` y representa el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-224">When the display page runs, the `<img>` element gets the output of the `Chart` helper and renders the chart.</span></span>

![](7-displaying-data-in-a-chart/_static/image11.jpg)

1. <span data-ttu-id="c3e09-225">Cree un archivo denominado *ShowChart. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-225">Create a file named *ShowChart.cshtml*.</span></span>
2. <span data-ttu-id="c3e09-226">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-226">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample9.html)]

    <span data-ttu-id="c3e09-227">El código utiliza el elemento `<img>` para mostrar el gráfico que creó anteriormente en el archivo *ChartArrayBasic. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-227">The code uses the `<img>` element to display the chart that you created earlier in the *ChartArrayBasic.cshtml* file.</span></span>
3. <span data-ttu-id="c3e09-228">Ejecute la página web en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-228">Run the web page in a browser.</span></span> <span data-ttu-id="c3e09-229">El archivo *ShowChart. cshtml* muestra la imagen del gráfico en función del código contenido en el archivo *ChartArrayBasic. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-229">The *ShowChart.cshtml* file displays the chart image based on the code contained in the *ChartArrayBasic.cshtml* file.</span></span>

<a id="Styling_a_Chart"></a>
## <a name="styling-a-chart"></a><span data-ttu-id="c3e09-230">Aplicar estilos a un gráfico</span><span class="sxs-lookup"><span data-stu-id="c3e09-230">Styling a Chart</span></span>

<span data-ttu-id="c3e09-231">La aplicación auxiliar de `Chart` admite un gran número de opciones que permiten personalizar la apariencia del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-231">The `Chart` helper supports a large number of options that let you customize the appearance of the chart.</span></span> <span data-ttu-id="c3e09-232">Puede establecer colores, fuentes, bordes, etc.</span><span class="sxs-lookup"><span data-stu-id="c3e09-232">You can set colors, fonts, borders, and so on.</span></span> <span data-ttu-id="c3e09-233">Una manera fácil de personalizar la apariencia de un gráfico es usar un *tema*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-233">An easy way to customize the appearance of a chart is to use a *theme*.</span></span> <span data-ttu-id="c3e09-234">Los temas son colecciones de información que especifican cómo presentar un gráfico utilizando fuentes, colores, etiquetas, paletas, bordes y efectos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-234">Themes are collections of information that specify how to render a chart using fonts, colors, labels, palettes, borders, and effects.</span></span> <span data-ttu-id="c3e09-235">(Tenga en cuenta que el estilo de un gráfico no indica el tipo de gráfico).</span><span class="sxs-lookup"><span data-stu-id="c3e09-235">(Note that the style of a chart does not indicate the type of chart.)</span></span>

<span data-ttu-id="c3e09-236">En la tabla siguiente se enumeran los temas integrados.</span><span class="sxs-lookup"><span data-stu-id="c3e09-236">The following table lists built-in themes.</span></span>

| <span data-ttu-id="c3e09-237">Tema</span><span class="sxs-lookup"><span data-stu-id="c3e09-237">Theme</span></span> | <span data-ttu-id="c3e09-238">Description</span><span class="sxs-lookup"><span data-stu-id="c3e09-238">Description</span></span> |
| --- | --- |
| `Vanilla` | <span data-ttu-id="c3e09-239">Muestra las columnas rojas en un fondo blanco.</span><span class="sxs-lookup"><span data-stu-id="c3e09-239">Displays red columns on a white background.</span></span> |
| `Blue` | <span data-ttu-id="c3e09-240">Muestra las columnas azules en un fondo de degradado azul.</span><span class="sxs-lookup"><span data-stu-id="c3e09-240">Displays blue columns on a blue gradient background.</span></span> |
| `Green` | <span data-ttu-id="c3e09-241">Muestra las columnas azules en un fondo de degradado verde.</span><span class="sxs-lookup"><span data-stu-id="c3e09-241">Displays blue columns on a green gradient background.</span></span> |
| `Yellow` | <span data-ttu-id="c3e09-242">Muestra las columnas naranja en un fondo de degradado amarillo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-242">Displays orange columns on a yellow gradient background.</span></span> |
| `Vanilla3D` | <span data-ttu-id="c3e09-243">Muestra las columnas 3D en rojo en un fondo blanco.</span><span class="sxs-lookup"><span data-stu-id="c3e09-243">Displays 3-D red columns on a white background.</span></span> |

<span data-ttu-id="c3e09-244">Puede especificar el tema que se va a utilizar al crear un nuevo gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-244">You can specify the theme to use when you create a new chart.</span></span>

1. <span data-ttu-id="c3e09-245">Cree un nuevo archivo llamado *ChartStyleGreen. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-245">Create a new file named *ChartStyleGreen.cshtml*.</span></span>
2. <span data-ttu-id="c3e09-246">Reemplace el contenido existente en la página por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-246">Replace the existing content in the page with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample10.cshtml)]

    <span data-ttu-id="c3e09-247">Este código es el mismo que el ejemplo anterior que usa la base de datos para los datos, pero agrega el parámetro `theme` cuando crea el objeto `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-247">This code is the same as the earlier example that uses the database for data, but adds the `theme` parameter when it creates the `Chart` object.</span></span> <span data-ttu-id="c3e09-248">A continuación se muestra el código modificado:</span><span class="sxs-lookup"><span data-stu-id="c3e09-248">The following shows the changed code:</span></span>

    [!code-csharp[Main](7-displaying-data-in-a-chart/samples/sample11.cs)]
3. <span data-ttu-id="c3e09-249">Ejecute la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-249">Run the page in a browser.</span></span> <span data-ttu-id="c3e09-250">Verá los mismos datos que antes, pero el gráfico tiene un aspecto más pulido:</span><span class="sxs-lookup"><span data-stu-id="c3e09-250">You see the same data as before, but the chart looks more polished:</span></span> 

    ![](7-displaying-data-in-a-chart/_static/image12.jpg)

<a id="Saving_a_Chart"></a>
## <a name="saving-a-chart"></a><span data-ttu-id="c3e09-251">Guardar un gráfico</span><span class="sxs-lookup"><span data-stu-id="c3e09-251">Saving a Chart</span></span>

<span data-ttu-id="c3e09-252">Cuando se usa la aplicación auxiliar `Chart` como se ha visto hasta ahora en este artículo, el ayudante vuelve a crear el gráfico desde el principio cada vez que se invoca.</span><span class="sxs-lookup"><span data-stu-id="c3e09-252">When you use the `Chart` helper as you've seen so far in this article, the helper re-creates the chart from scratch each time it's invoked.</span></span> <span data-ttu-id="c3e09-253">Si es necesario, el código del gráfico también vuelve a consultar la base de datos o vuelve a leer el archivo XML para obtener los datos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-253">If necessary, the code for the chart also re-queries the database or re-reads the XML file to get the data.</span></span> <span data-ttu-id="c3e09-254">En algunos casos, puede tratarse de una operación compleja, por ejemplo, si la base de datos que está consultando es grande o si el archivo XML contiene una gran cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="c3e09-254">In some cases, doing this can be a complex operation, such as if the database that you're querying is large, or if the XML file contains a lot of data.</span></span> <span data-ttu-id="c3e09-255">Incluso si el gráfico no implica muchos datos, el proceso de creación dinámica de una imagen ocupa recursos del servidor y, si muchas personas solicitan la página o las páginas que muestran el gráfico, puede haber un impacto en el rendimiento del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="c3e09-255">Even if the chart doesn't involve a lot of data, the process of dynamically creating an image takes up server resources, and if many people request the page or pages that display the chart, there can be an impact on the performance of your website.</span></span>

<span data-ttu-id="c3e09-256">Para ayudar a reducir el impacto potencial en el rendimiento de la creación de un gráfico, puede crear un gráfico la primera vez que lo necesite y, después, guardarlo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-256">To help you reduce the potential performance impact of creating a chart, you can create a chart the first time you need it and then save it.</span></span> <span data-ttu-id="c3e09-257">Cuando vuelva a ser necesario el gráfico, en lugar de volver a generarlo, puede capturar la versión guardada y representarla.</span><span class="sxs-lookup"><span data-stu-id="c3e09-257">When the chart is needed again, rather than regenerating it, you can just fetch the saved version and render that.</span></span>

<span data-ttu-id="c3e09-258">Puede guardar un gráfico de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="c3e09-258">You can save a chart in these ways:</span></span>

- <span data-ttu-id="c3e09-259">Almacene en caché el gráfico en la memoria del equipo (en el servidor).</span><span class="sxs-lookup"><span data-stu-id="c3e09-259">Cache the chart in computer memory (on the server).</span></span>
- <span data-ttu-id="c3e09-260">Guarde el gráfico como un archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="c3e09-260">Save the chart as an image file.</span></span>
- <span data-ttu-id="c3e09-261">Guarde el gráfico como un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-261">Save the chart as an XML file.</span></span> <span data-ttu-id="c3e09-262">Esta opción le permite modificar el gráfico antes de guardarlo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-262">This option lets you modify the chart before you save it.</span></span>

### <a name="caching-a-chart"></a><span data-ttu-id="c3e09-263">Almacenar en caché un gráfico</span><span class="sxs-lookup"><span data-stu-id="c3e09-263">Caching a Chart</span></span>

<span data-ttu-id="c3e09-264">Después de crear un gráfico, puede almacenarlo en caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-264">After you've created a chart, you can cache it.</span></span> <span data-ttu-id="c3e09-265">Almacenar en caché un gráfico significa que no es necesario volver a crearlo si debe volver a mostrarse.</span><span class="sxs-lookup"><span data-stu-id="c3e09-265">Caching a chart means that it doesn't have to be re-created if it needs to be displayed again.</span></span> <span data-ttu-id="c3e09-266">Al guardar un gráfico en la memoria caché, se le asigna una clave que debe ser única para ese gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-266">When you save a chart in the cache, you give it a key that must be unique to that chart.</span></span>

<span data-ttu-id="c3e09-267">Es posible que se quiten los gráficos guardados en la memoria caché si el servidor tiene poca memoria.</span><span class="sxs-lookup"><span data-stu-id="c3e09-267">Charts saved to the cache might be removed if the server runs low on memory.</span></span> <span data-ttu-id="c3e09-268">Además, la memoria caché se borra si la aplicación se reinicia por cualquier motivo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-268">In addition, the cache is cleared if your application restarts for any reason.</span></span> <span data-ttu-id="c3e09-269">Por lo tanto, la manera estándar de trabajar con un gráfico en caché es comprobar siempre si está disponible en la memoria caché y, si no es así, crearlo o volver a crearlo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-269">Therefore, the standard way to work with a cached chart is to always check first whether it's available in the cache, and if not, then to create or re-create it.</span></span>

1. <span data-ttu-id="c3e09-270">En la raíz de su sitio web, cree un archivo denominado *ShowCachedChart. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-270">At the root of your website, create a file named *ShowCachedChart.cshtml*.</span></span>
2. <span data-ttu-id="c3e09-271">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-271">Replace the existing content with the following:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample12.html)]

    <span data-ttu-id="c3e09-272">La etiqueta `<img>` incluye un atributo `src` que apunta al archivo *ChartSaveToCache. cshtml* y pasa una clave a la página como una cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="c3e09-272">The `<img>` tag includes a `src` attribute that points to the *ChartSaveToCache.cshtml* file and passes a key to the page as a query string.</span></span> <span data-ttu-id="c3e09-273">La clave contiene el valor &quot;myChartKey&quot;.</span><span class="sxs-lookup"><span data-stu-id="c3e09-273">The key contains the value &quot;myChartKey&quot;.</span></span> <span data-ttu-id="c3e09-274">El archivo *ChartSaveToCache. cshtml* contiene el ayudante `Chart` que crea el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-274">The *ChartSaveToCache.cshtml* file contains the `Chart` helper that creates the chart.</span></span> <span data-ttu-id="c3e09-275">Creará esta página en un momento.</span><span class="sxs-lookup"><span data-stu-id="c3e09-275">You'll create this page in a moment.</span></span>

    <span data-ttu-id="c3e09-276">Al final de la página hay un vínculo a una página denominada *ClearCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-276">At the end of the page there's a link to a page named *ClearCache.cshtml*.</span></span> <span data-ttu-id="c3e09-277">Esta es una página que también creará en breve.</span><span class="sxs-lookup"><span data-stu-id="c3e09-277">That's a page that you'll also create shortly.</span></span> <span data-ttu-id="c3e09-278">Solo necesita *ClearCache. cshtml* para probar el almacenamiento en caché en este ejemplo, no es un vínculo o página que normalmente incluiría al trabajar con gráficos en caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-278">You need the *ClearCache.cshtml* only to test caching for this example — it's not a link or page that you'd normally include when working with cached charts.</span></span>
3. <span data-ttu-id="c3e09-279">En la raíz de su sitio web, cree un nuevo archivo denominado *ChartSaveToCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-279">At the root of your website, create a new file named *ChartSaveToCache.cshtml*.</span></span>
4. <span data-ttu-id="c3e09-280">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-280">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample13.cshtml)]

    <span data-ttu-id="c3e09-281">En primer lugar, el código comprueba si se ha pasado algo como valor de clave en la cadena de consulta.</span><span class="sxs-lookup"><span data-stu-id="c3e09-281">The code first checks whether anything was passed as the key value in the query string.</span></span> <span data-ttu-id="c3e09-282">Si es así, el código intenta leer un gráfico de la memoria caché llamando al método `GetFromCache` y pasándole la clave.</span><span class="sxs-lookup"><span data-stu-id="c3e09-282">If so, the code tries to read a chart out of the cache by calling the `GetFromCache` method and passing it the key.</span></span> <span data-ttu-id="c3e09-283">Si no hay nada en la memoria caché bajo esa clave (que se produciría la primera vez que se solicita el gráfico), el código crea el gráfico como de costumbre.</span><span class="sxs-lookup"><span data-stu-id="c3e09-283">If it turns out that there's nothing in the cache under that key (which would happen the first time that the chart is requested), the code creates the chart as usual.</span></span> <span data-ttu-id="c3e09-284">Una vez finalizado el gráfico, el código lo guarda en la memoria caché mediante una llamada a `SaveToCache`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-284">When the chart is finished, the code saves it to the cache by calling `SaveToCache`.</span></span> <span data-ttu-id="c3e09-285">Ese método requiere una clave (para que el gráfico se pueda solicitar más adelante) y la cantidad de tiempo que el gráfico se debe guardar en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-285">That method requires a key (so the chart can be requested later), and the amount of time that the chart should be saved in the cache.</span></span> <span data-ttu-id="c3e09-286">(El tiempo exacto en el que se podía almacenar en caché un gráfico dependería de la frecuencia con la que los datos que representa podrían cambiar). El método `SaveToCache` también requiere un parámetro &#8212; `slidingExpiration` si se establece en true, se restablece el contador de tiempo de espera cada vez que se tiene acceso al gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-286">(The exact time you'd cache a chart would depend on how often you thought the data it represents might change.) The `SaveToCache` method also requires a `slidingExpiration` parameter &#8212; if this is set to true, the timeout counter is reset each time the chart is accessed.</span></span> <span data-ttu-id="c3e09-287">En este caso, en efecto significa que la entrada de caché del gráfico expira 2 minutos después de la última vez que un usuario tuvo acceso al gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-287">In this case, it in effect means that the chart's cache entry expires 2 minutes after the last time someone accessed the chart.</span></span> <span data-ttu-id="c3e09-288">(La alternativa a la expiración variable es la expiración absoluta, lo que significa que la entrada de caché expiraría exactamente 2 minutos después de colocarse en la memoria caché, independientemente de la frecuencia con la que se había tenido acceso a ella).</span><span class="sxs-lookup"><span data-stu-id="c3e09-288">(The alternative to sliding expiration is absolute expiration, meaning that the cache entry would expire exactly 2 minutes after it was put into the cache, no matter how often it had been accessed.)</span></span>

    <span data-ttu-id="c3e09-289">Por último, el código utiliza el método `WriteFromCache` para capturar y representar el gráfico de la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-289">Finally, the code uses the `WriteFromCache` method to fetch and render the chart from the cache.</span></span> <span data-ttu-id="c3e09-290">Tenga en cuenta que este método está fuera del bloque `if` que comprueba la memoria caché, ya que obtendrá el gráfico de la memoria caché independientemente de si el gráfico se ha podido iniciar o debe generarse y guardarse en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-290">Note that this method is outside the `if` block that checks the cache, because it will get the chart from the cache whether the chart was there to begin with or had to be generated and saved in the cache.</span></span>

    <span data-ttu-id="c3e09-291">Observe que en el ejemplo, el método `AddTitle` incluye una marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-291">Notice that in the example, the `AddTitle` method includes a timestamp.</span></span> <span data-ttu-id="c3e09-292">(Agrega la fecha y hora &#8212; actuales `DateTime.Now` &#8212; al título).</span><span class="sxs-lookup"><span data-stu-id="c3e09-292">(It adds the current date and time &#8212; `DateTime.Now` &#8212; to the title.)</span></span>
5. <span data-ttu-id="c3e09-293">Cree una nueva página denominada *ClearCache. cshtml* y reemplace su contenido por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-293">Create a new page named *ClearCache.cshtml* and replace its content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample14.cshtml)]

    <span data-ttu-id="c3e09-294">En esta página se usa la aplicación auxiliar de `WebCache` para quitar el gráfico almacenado en caché en *ChartSaveToCache. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-294">This page uses the `WebCache` helper to remove the chart that's cached in *ChartSaveToCache.cshtml*.</span></span> <span data-ttu-id="c3e09-295">Como se indicó anteriormente, normalmente no tiene que tener una página como esta.</span><span class="sxs-lookup"><span data-stu-id="c3e09-295">As noted earlier, you don't normally have to have a page like this.</span></span> <span data-ttu-id="c3e09-296">Solo se crea aquí para que sea más fácil probar el almacenamiento en caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-296">You're creating it here only to make it easier to test caching.</span></span>
6. <span data-ttu-id="c3e09-297">Ejecute la Página Web de *ShowCachedChart. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-297">Run the *ShowCachedChart.cshtml* web page in a browser.</span></span> <span data-ttu-id="c3e09-298">La página muestra la imagen del gráfico en función del código contenido en el archivo *ChartSaveToCache. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-298">The page displays the chart image based on the code contained in the *ChartSaveToCache.cshtml* file.</span></span> <span data-ttu-id="c3e09-299">Tome nota de lo que la marca de tiempo indica en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-299">Take note of what the timestamp says in the chart title.</span></span> 

    ![Descripción: imagen del gráfico básico con marca de tiempo en el título del gráfico](7-displaying-data-in-a-chart/_static/image13.jpg)
7. <span data-ttu-id="c3e09-301">Cierre el explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-301">Close the browser.</span></span>
8. <span data-ttu-id="c3e09-302">Vuelva a ejecutar *ShowCachedChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-302">Run the *ShowCachedChart.cshtml* again.</span></span> <span data-ttu-id="c3e09-303">Observe que la marca de tiempo es igual que antes, lo que indica que el gráfico no se regeneró, sino que se leyó en su lugar desde la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-303">Notice that the timestamp is the same as before, which indicates that the chart was not regenerated, but was instead read from the cache.</span></span>
9. <span data-ttu-id="c3e09-304">En *ShowCachedChart. cshtml*, haga clic en el vínculo **Borrar caché** .</span><span class="sxs-lookup"><span data-stu-id="c3e09-304">In *ShowCachedChart.cshtml*, click the **Clear cache** link.</span></span> <span data-ttu-id="c3e09-305">Esto le lleva a *ClearCache. cshtml*, que informa de que se ha borrado la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-305">This takes you to *ClearCache.cshtml*, which reports that the cache has been cleared.</span></span>
10. <span data-ttu-id="c3e09-306">Haga clic en el vínculo **volver a ShowCachedChart. cshtml** o vuelva a ejecutar *ShowCachedChart. cshtml* desde WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="c3e09-306">Click the **Return to ShowCachedChart.cshtml** link, or re-run *ShowCachedChart.cshtml* from WebMatrix.</span></span> <span data-ttu-id="c3e09-307">Tenga en cuenta que esta vez la marca de tiempo ha cambiado porque se ha borrado la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-307">Notice that this time the timestamp has changed, because the cache has been cleared.</span></span> <span data-ttu-id="c3e09-308">Por lo tanto, el código tenía que volver a generar el gráfico y colocarlo de nuevo en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="c3e09-308">Therefore, the code had to regenerate the chart and put it back into the cache.</span></span>

### <a name="saving-a-chart-as-an-image-file"></a><span data-ttu-id="c3e09-309">Guardar un gráfico como un archivo de imagen</span><span class="sxs-lookup"><span data-stu-id="c3e09-309">Saving a Chart as an Image File</span></span>

<span data-ttu-id="c3e09-310">También puede guardar un gráfico como un archivo de imagen (por ejemplo, como un archivo *. jpg* ) en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c3e09-310">You can also save a chart as an image file (for example, as a *.jpg* file) on the server.</span></span> <span data-ttu-id="c3e09-311">Después, puede usar el archivo de imagen como lo haría con cualquier imagen.</span><span class="sxs-lookup"><span data-stu-id="c3e09-311">You can then use the image file the way you would any image.</span></span> <span data-ttu-id="c3e09-312">La ventaja es que el archivo se almacena en lugar de guardarse en una caché temporal.</span><span class="sxs-lookup"><span data-stu-id="c3e09-312">The advantage is the file is stored rather than saved to a temporary cache.</span></span> <span data-ttu-id="c3e09-313">Puede guardar una nueva imagen de gráfico en momentos diferentes (por ejemplo, cada hora) y, a continuación, mantener un registro permanente de los cambios que se producen a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-313">You can save a new chart image at different times (for example, every hour) and then keep a permanent record of the changes that occur over time.</span></span> <span data-ttu-id="c3e09-314">Tenga en cuenta que debe asegurarse de que la aplicación web tiene permiso para guardar un archivo en la carpeta del servidor en el que desea colocar el archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="c3e09-314">Note that you must make sure that your web application has permission to save a file to the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="c3e09-315">En la raíz de su sitio web, cree una carpeta denominada *\_ChartFiles* si aún no existe.</span><span class="sxs-lookup"><span data-stu-id="c3e09-315">At the root of your website, create a folder named *\_ChartFiles* if it does not already exist.</span></span>
2. <span data-ttu-id="c3e09-316">En la raíz de su sitio web, cree un nuevo archivo denominado *ChartSave. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-316">At the root of your website, create a new file named *ChartSave.cshtml*.</span></span>
3. <span data-ttu-id="c3e09-317">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-317">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample15.cshtml)]

    <span data-ttu-id="c3e09-318">El código comprueba primero para ver si existe el archivo *. jpg* llamando al método `File.Exists`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-318">The code first checks to see whether the *.jpg* file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="c3e09-319">Si el archivo no existe, el código crea un nuevo `Chart` a partir de una matriz.</span><span class="sxs-lookup"><span data-stu-id="c3e09-319">If the file does not exist, the code creates a new `Chart` from an array.</span></span> <span data-ttu-id="c3e09-320">Esta vez, el código llama al método `Save` y pasa el parámetro `path` para especificar la ruta de acceso del archivo y el nombre del archivo donde se guardará el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-320">This time, the code calls the `Save` method and passes the `path` parameter to specify the file path and file name of where to save the chart.</span></span> <span data-ttu-id="c3e09-321">En el cuerpo de la página, un elemento `<img>` usa la ruta de acceso para que apunte al archivo *. jpg* que se va a mostrar.</span><span class="sxs-lookup"><span data-stu-id="c3e09-321">In the body of the page, an `<img>` element uses the path to point to the *.jpg* file to display.</span></span>
4. <span data-ttu-id="c3e09-322">Ejecute el archivo *ChartSave. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-322">Run the *ChartSave.cshtml* file.</span></span>
5. <span data-ttu-id="c3e09-323">Vuelva a WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="c3e09-323">Return to WebMatrix.</span></span> <span data-ttu-id="c3e09-324">Observe que se ha guardado un archivo de imagen denominado *chart01. jpg* en la carpeta *\_ChartFiles*</span><span class="sxs-lookup"><span data-stu-id="c3e09-324">Notice that an image file named *chart01.jpg* has been saved in the *\_ChartFiles* folder.</span></span>

### <a name="saving-a-chart-as-an-xml-file"></a><span data-ttu-id="c3e09-325">Guardar un gráfico como un archivo XML</span><span class="sxs-lookup"><span data-stu-id="c3e09-325">Saving a Chart as an XML File</span></span>

<span data-ttu-id="c3e09-326">Por último, puede guardar un gráfico como un archivo XML en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c3e09-326">Finally, you can save a chart as an XML file on the server.</span></span> <span data-ttu-id="c3e09-327">Una ventaja de usar este método para almacenar en caché el gráfico o guardar el gráfico en un archivo es que puede modificar el código XML antes de mostrar el gráfico si lo desea.</span><span class="sxs-lookup"><span data-stu-id="c3e09-327">An advantage of using this method over caching the chart or saving the chart to a file is that you could modify the XML before displaying the chart if you wanted to.</span></span> <span data-ttu-id="c3e09-328">La aplicación debe tener permisos de lectura y escritura para la carpeta en el servidor donde desea colocar el archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="c3e09-328">Your application has to have read/write permissions for the folder on the server where you want to put the image file.</span></span>

1. <span data-ttu-id="c3e09-329">En la raíz de su sitio web, cree un nuevo archivo denominado *ChartSaveXml. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="c3e09-329">At the root of your website, create a new file named *ChartSaveXml.cshtml*.</span></span>
2. <span data-ttu-id="c3e09-330">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="c3e09-330">Replace the existing content with the following:</span></span>

    [!code-cshtml[Main](7-displaying-data-in-a-chart/samples/sample16.cshtml)]

    <span data-ttu-id="c3e09-331">Este código es similar al código que vio anteriormente para almacenar un gráfico en la memoria caché, con la excepción de que usa un archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-331">This code is similar to the code that you saw earlier for storing a chart in the cache, except that it uses an XML file.</span></span> <span data-ttu-id="c3e09-332">El código comprueba primero para ver si el archivo XML existe llamando al método `File.Exists`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-332">The code first checks to see whether the XML file exists by calling the `File.Exists` method.</span></span> <span data-ttu-id="c3e09-333">Si el archivo existe, el código crea un nuevo objeto `Chart` y pasa el nombre del archivo como parámetro `themePath`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-333">If the file does exist, the code creates a new `Chart` object and passes the file name as the `themePath` parameter.</span></span> <span data-ttu-id="c3e09-334">Esto crea el gráfico en función de lo que haya en el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-334">This creates the chart based on whatever's in the XML file.</span></span> <span data-ttu-id="c3e09-335">Si el archivo XML todavía no existe, el código crea un gráfico como normal y, a continuación, llama a `SaveXml` para guardarlo.</span><span class="sxs-lookup"><span data-stu-id="c3e09-335">If the XML file doesn't already exist, the code creates a chart like normal and then calls `SaveXml` to save it.</span></span> <span data-ttu-id="c3e09-336">El gráfico se representa utilizando el método `Write`, como se ha visto antes.</span><span class="sxs-lookup"><span data-stu-id="c3e09-336">The chart is rendered using the `Write` method, as you've seen before.</span></span>

    <span data-ttu-id="c3e09-337">Como con la página que mostró el almacenamiento en caché, este código incluye una marca de tiempo en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-337">As with the page that showed caching, this code includes a timestamp in the chart title.</span></span>
3. <span data-ttu-id="c3e09-338">Cree una nueva página denominada *ChartDisplayXMLChart. cshtml* y agréguele el siguiente marcado:</span><span class="sxs-lookup"><span data-stu-id="c3e09-338">Create a new page named *ChartDisplayXMLChart.cshtml* and add the following markup to it:</span></span> 

    [!code-html[Main](7-displaying-data-in-a-chart/samples/sample17.html)]
4. <span data-ttu-id="c3e09-339">Ejecute la página *ChartDisplayXMLChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-339">Run the *ChartDisplayXMLChart.cshtml* page.</span></span> <span data-ttu-id="c3e09-340">Se muestra el gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-340">The chart is displayed.</span></span> <span data-ttu-id="c3e09-341">Tome nota de la marca de tiempo en el título del gráfico.</span><span class="sxs-lookup"><span data-stu-id="c3e09-341">Take note of the timestamp in the chart's title.</span></span>
5. <span data-ttu-id="c3e09-342">Cierre el explorador.</span><span class="sxs-lookup"><span data-stu-id="c3e09-342">Close the browser.</span></span>
6. <span data-ttu-id="c3e09-343">En WebMatrix, haga clic con el botón secundario en la carpeta *\_ChartFiles* , haga clic en **Actualizar**y, a continuación, abra la carpeta.</span><span class="sxs-lookup"><span data-stu-id="c3e09-343">In WebMatrix, right-click the *\_ChartFiles* folder, click **Refresh**, and then open the folder.</span></span> <span data-ttu-id="c3e09-344">El archivo *XMLChart. XML* de esta carpeta fue creado por la aplicación auxiliar de `Chart`.</span><span class="sxs-lookup"><span data-stu-id="c3e09-344">The *XMLChart.xml* file in this folder was created by the `Chart` helper.</span></span> 

    ![Descripción: la carpeta _ChartFiles que muestra el archivo XMLChart. XML creado por la aplicación auxiliar de gráfico.](7-displaying-data-in-a-chart/_static/image14.jpg)
7. <span data-ttu-id="c3e09-346">Vuelva a ejecutar la página *ChartDisplayXMLChart. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-346">Run the *ChartDisplayXMLChart.cshtml* page again.</span></span> <span data-ttu-id="c3e09-347">El gráfico muestra la misma marca de tiempo que la primera vez que ejecutó la página.</span><span class="sxs-lookup"><span data-stu-id="c3e09-347">The chart shows the same timestamp as the first time you ran the page.</span></span> <span data-ttu-id="c3e09-348">Esto se debe a que el gráfico se genera a partir del XML que guardó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c3e09-348">That's because the chart is being generated from the XML you saved earlier.</span></span>
8. <span data-ttu-id="c3e09-349">En WebMatrix, abra la carpeta *\_ChartFiles* y elimine el archivo *XMLChart. XML* .</span><span class="sxs-lookup"><span data-stu-id="c3e09-349">In WebMatrix, open the *\_ChartFiles* folder and delete the *XMLChart.xml* file.</span></span>
9. <span data-ttu-id="c3e09-350">Ejecute la página *ChartDisplayXMLChart. cshtml* una vez más.</span><span class="sxs-lookup"><span data-stu-id="c3e09-350">Run the *ChartDisplayXMLChart.cshtml* page once more.</span></span> <span data-ttu-id="c3e09-351">Esta vez, la marca de tiempo se actualiza porque el `Chart` ayudante tenía que volver a crear el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="c3e09-351">This time, the timestamp is updated, because the `Chart` helper had to recreate the XML file.</span></span> <span data-ttu-id="c3e09-352">Si lo desea, Compruebe la carpeta *\_ChartFiles* y observe que el archivo XML vuelve a ser.</span><span class="sxs-lookup"><span data-stu-id="c3e09-352">If you want, check the *\_ChartFiles* folder and notice that the XML file is back.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="c3e09-353">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="c3e09-353">Additional Resources</span></span>

- [<span data-ttu-id="c3e09-354">Introducción al trabajo con una base de datos en ASP.NET Web Pages sitios</span><span class="sxs-lookup"><span data-stu-id="c3e09-354">Introduction to Working with a Database in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=202893)
- [<span data-ttu-id="c3e09-355">Usar el almacenamiento en caché en sitios de ASP.NET Web Pages para mejorar el rendimiento</span><span class="sxs-lookup"><span data-stu-id="c3e09-355">Using Caching in ASP.NET Web Pages Sites to Improve Performance</span></span>](https://go.microsoft.com/fwlink/?LinkId=202903)
- <span data-ttu-id="c3e09-356">[Chart (clase](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) ) (referencia de la API de ASP.NET Web pages en MSDN)</span><span class="sxs-lookup"><span data-stu-id="c3e09-356">[Chart Class](https://msdn.microsoft.com/library/system.web.helpers.chart(v=vs.99)) (ASP.NET Web Pages API reference on MSDN)</span></span>

---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
title: Descripción de las actualizaciones parciales de página con ASP.NET AJAX | Microsoft Docs
author: scottcate
description: Quizás la característica más visible de las extensiones de ASP.NET AJAX es la capacidad de realizar una actualización de página parcial o incremental sin realizar un postback completo a t...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 54d9df99-1161-4899-b4e8-2679c85915e7
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-partial-page-updates-with-asp-net-ajax
msc.type: authoredcontent
ms.openlocfilehash: 4b87cb8f58dbd7f27b16bcb0d488ff361770d4fe
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78439273"
---
# <a name="understanding-partial-page-updates-with-aspnet-ajax"></a><span data-ttu-id="5e318-103">Descripción de las actualizaciones de página parcial con ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="5e318-103">Understanding Partial Page Updates with ASP.NET AJAX</span></span>

<span data-ttu-id="5e318-104">por [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="5e318-104">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="5e318-105">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="5e318-105">Download PDF</span></span>](https://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial01_Partial_Page_Updates_cs.pdf)

> <span data-ttu-id="5e318-106">Quizás la característica más visible de las extensiones de AJAX de ASP.NET es la posibilidad de realizar una actualización de página parcial o incremental sin realizar un postback completo en el servidor, sin cambios de código y cambios de marcado mínimos.</span><span class="sxs-lookup"><span data-stu-id="5e318-106">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="5e318-107">Las ventajas son extensas: el estado de los elementos multimedia (como Adobe Flash o Windows Media) no cambia, se reducen los costos de ancho de banda y el cliente no experimenta el parpadeo normalmente asociado a un postback.</span><span class="sxs-lookup"><span data-stu-id="5e318-107">The advantages are extensive – the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

## <a name="introduction"></a><span data-ttu-id="5e318-108">Introducción</span><span class="sxs-lookup"><span data-stu-id="5e318-108">Introduction</span></span>

<span data-ttu-id="5e318-109">La tecnología ASP.NET de Microsoft aporta un modelo de programación orientado a objetos y basado en eventos y lo agrupa con las ventajas del código compilado.</span><span class="sxs-lookup"><span data-stu-id="5e318-109">Microsoft's ASP.NET technology brings an object-oriented and event-driven programming model and unites it with the benefits of compiled code.</span></span> <span data-ttu-id="5e318-110">Sin embargo, su modelo de procesamiento del lado servidor tiene varias desventajas inherentes a la tecnología:</span><span class="sxs-lookup"><span data-stu-id="5e318-110">However, its server-side processing model has several drawbacks inherent in the technology:</span></span>

- <span data-ttu-id="5e318-111">Las actualizaciones de página requieren un recorrido de ida y vuelta al servidor, lo que requiere una actualización de página.</span><span class="sxs-lookup"><span data-stu-id="5e318-111">Page updates require a round-trip to the server, which requires a page refresh.</span></span>
- <span data-ttu-id="5e318-112">Los recorridos de ida y vuelta no conservan los efectos generados por JavaScript u otra tecnología del lado cliente (como Adobe Flash)</span><span class="sxs-lookup"><span data-stu-id="5e318-112">Round-trips do not persist any effects generated by Javascript or other client-side technology (such as Adobe Flash)</span></span>
- <span data-ttu-id="5e318-113">Durante el postback, los exploradores distintos de Microsoft Internet Explorer no admiten la restauración automática de la posición de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="5e318-113">During postback, browsers other than Microsoft Internet Explorer do not support automatically restoring the scroll position.</span></span> <span data-ttu-id="5e318-114">E incluso en Internet Explorer, sigue habiendo un parpadeo a medida que se actualiza la página.</span><span class="sxs-lookup"><span data-stu-id="5e318-114">And even in Internet Explorer, there is still a flicker as the page is refreshed.</span></span>
- <span data-ttu-id="5e318-115">Los postbacks pueden implicar una gran cantidad de ancho de banda, ya que el \_\_campo de formulario VIEWSTATE puede crecer, especialmente cuando se trabaja con controles como el control GridView o los repetidores.</span><span class="sxs-lookup"><span data-stu-id="5e318-115">Postbacks may involve a high amount of bandwidth as the \_\_VIEWSTATE form field may grow, especially when dealing with controls such as the GridView control or repeaters.</span></span>
- <span data-ttu-id="5e318-116">No hay ningún modelo unificado para obtener acceso a los servicios web a través de JavaScript u otra tecnología del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-116">There is no unified model for accessing Web Services through JavaScript or other client-side technology.</span></span>

<span data-ttu-id="5e318-117">Escriba extensiones de ASP.NET AJAX de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5e318-117">Enter Microsoft's ASP.NET AJAX extensions.</span></span> <span data-ttu-id="5e318-118">AJAX, que representa **una** **J** AvaScript sincrónica **a** ND **X** ml, es un marco de trabajo integrado para proporcionar actualizaciones de páginas incrementales a través de JavaScript multiplataforma, compuesto por código del lado servidor que incluye el marco de Microsoft Ajax, y un componente de script denominado Microsoft Ajax script Library.</span><span class="sxs-lookup"><span data-stu-id="5e318-118">AJAX, which stands for **A** synchronous **J** avaScript **A** nd **X** ML, is an integrated framework for providing incremental page updates via cross-platform JavaScript, composed of server-side code comprising the Microsoft AJAX Framework, and a script component called the Microsoft AJAX Script Library.</span></span> <span data-ttu-id="5e318-119">Las extensiones de AJAX de ASP.NET también proporcionan compatibilidad multiplataforma para acceder a los servicios Web de ASP.NET a través de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5e318-119">The ASP.NET AJAX extensions also provide cross-platform support for accessing ASP.NET Web Services via JavaScript.</span></span>

<span data-ttu-id="5e318-120">En estas notas del producto se examina la funcionalidad de las actualizaciones parciales de páginas de ASP.NET AJAX Extensions, que incluye el componente ScriptManager, el control UpdatePanel y el control UpdateProgress, y tiene en cuenta los escenarios en los que deben o no deben ser utiliza.</span><span class="sxs-lookup"><span data-stu-id="5e318-120">This whitepaper examines the partial page updates functionality of the ASP.NET AJAX Extensions, which includes the ScriptManager component, the UpdatePanel control, and the UpdateProgress control, and considers scenarios in which they should or should not be utilized.</span></span>

<span data-ttu-id="5e318-121">Estas notas del producto se basan en la versión beta 2 de Visual Studio 2008 y el .NET Framework 3,5, que integra las extensiones de AJAX de ASP.NET en la biblioteca de clases base (donde anteriormente era un componente de complemento disponible para ASP.NET 2,0).</span><span class="sxs-lookup"><span data-stu-id="5e318-121">This whitepaper is based on the Beta 2 release of the Visual Studio 2008 and the .NET Framework 3.5, which integrates the ASP.NET AJAX Extensions into the Base Class Library (where it was previously an add-on component available for ASP.NET 2.0).</span></span> <span data-ttu-id="5e318-122">En estas notas del producto también se supone que usa Visual Studio 2008 y no Visual Web Developer Express Edition; es posible que algunas plantillas de proyecto a las que se hace referencia no estén disponibles para los usuarios de Visual Web Developer Express.</span><span class="sxs-lookup"><span data-stu-id="5e318-122">This whitepaper also assumes that you are using Visual Studio 2008 and not Visual Web Developer Express Edition; some project templates that are referenced may not be available to Visual Web Developer Express users.</span></span>

## <a name="partial-page-updates"></a><span data-ttu-id="5e318-123">Actualizaciones parciales de páginas</span><span class="sxs-lookup"><span data-stu-id="5e318-123">Partial Page Updates</span></span>

<span data-ttu-id="5e318-124">Quizás la característica más visible de las extensiones de AJAX de ASP.NET es la posibilidad de realizar una actualización de página parcial o incremental sin realizar un postback completo en el servidor, sin cambios de código y cambios de marcado mínimos.</span><span class="sxs-lookup"><span data-stu-id="5e318-124">Perhaps the most visible feature of the ASP.NET AJAX Extensions is the ability to do a partial or incremental page updates without doing a full postback to the server, with no code changes and minimal markup changes.</span></span> <span data-ttu-id="5e318-125">Las ventajas son extensas: el estado de los elementos multimedia (como Adobe Flash o Windows Media) no cambia, se reducen los costos de ancho de banda y el cliente no experimenta el parpadeo normalmente asociado a un postback.</span><span class="sxs-lookup"><span data-stu-id="5e318-125">The advantages are extensive - the state of your multimedia (such as Adobe Flash or Windows Media) is unchanged, bandwidth costs are reduced, and the client does not experience the flicker usually associated with a postback.</span></span>

<span data-ttu-id="5e318-126">La capacidad de integrar la representación parcial de páginas se integra en ASP.NET con unos cambios mínimos en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="5e318-126">The ability to integrate partial page rendering is integrated into ASP.NET with minimal changes into your project.</span></span>

## <a name="walkthrough-integrating-partial-rendering-into-an-existing-project"></a><span data-ttu-id="5e318-127">Tutorial: integrar la representación parcial en un proyecto existente</span><span class="sxs-lookup"><span data-stu-id="5e318-127">Walkthrough: Integrating Partial Rendering into an Existing Project</span></span>

1. <span data-ttu-id="5e318-128">En Microsoft Visual Studio 2008, cree un nuevo proyecto de sitio web de ASP.NET. para ello, vaya a <em>archivo</em> <em>-&gt; nuevo</em> <em>-&gt; sitio web</em> y seleccione ASP.net sitio web en el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="5e318-128">In Microsoft Visual Studio 2008, create a new ASP.NET Web Site project by going to <em>File</em><em>-&gt; New</em><em>-&gt; Web Site</em> and selecting ASP.NET Web Site from the dialog.</span></span> <span data-ttu-id="5e318-129">Puede asignarle el nombre que desee, y puede instalarlo en el sistema de archivos o en Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="5e318-129">You can name it whatever you like, and you may install it either to the file system or into Internet Information Services (IIS).</span></span>
2. <span data-ttu-id="5e318-130">Se le presentará la página predeterminada en blanco con el marcado ASP.NET básico (un formulario del lado servidor y una directiva `@Page`).</span><span class="sxs-lookup"><span data-stu-id="5e318-130">You will be presented with the blank default page with basic ASP.NET markup (a server-side form and an `@Page` directive).</span></span> <span data-ttu-id="5e318-131">Quite una etiqueta llamada `Label1` y un botón denominado `Button1` en la página dentro del elemento de formulario.</span><span class="sxs-lookup"><span data-stu-id="5e318-131">Drop a Label called `Label1` and a Button called `Button1` onto the page within the form element.</span></span> <span data-ttu-id="5e318-132">Puede establecer sus propiedades de texto en el valor que desee.</span><span class="sxs-lookup"><span data-stu-id="5e318-132">You may set their text properties to whatever you like.</span></span>
3. <span data-ttu-id="5e318-133">En Vista de diseño, haga doble clic en `Button1` para generar un controlador de eventos de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="5e318-133">In Design view, double-click `Button1` to generate a code-behind event handler.</span></span> <span data-ttu-id="5e318-134">Dentro de este controlador de eventos, establezca `Label1.Text` en el botón.</span><span class="sxs-lookup"><span data-stu-id="5e318-134">Within this event handler, set `Label1.Text` to You clicked the button!</span></span> <span data-ttu-id="5e318-135">.</span><span class="sxs-lookup"><span data-stu-id="5e318-135">.</span></span>

<span data-ttu-id="5e318-136">**Lista 1: marcado para default. aspx antes de habilitar la representación parcial**</span><span class="sxs-lookup"><span data-stu-id="5e318-136">**Listing 1: Markup for default.aspx before partial rendering is enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample1.aspx)]

<span data-ttu-id="5e318-137">**Lista 2: Codebehind (recortado) en default.aspx.cs**</span><span class="sxs-lookup"><span data-stu-id="5e318-137">**Listing 2: Codebehind (trimmed) in default.aspx.cs**</span></span>

[!code-csharp[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample2.cs)]

1. <span data-ttu-id="5e318-138">Presione F5 para iniciar el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="5e318-138">Press F5 to launch your web site.</span></span> <span data-ttu-id="5e318-139">Visual Studio le pedirá que agregue un archivo Web. config para habilitar la depuración. lo haga.</span><span class="sxs-lookup"><span data-stu-id="5e318-139">Visual Studio will prompt you to add a web.config file to enable debugging; do so.</span></span> <span data-ttu-id="5e318-140">Al hacer clic en el botón, tenga en cuenta que la página se actualiza para cambiar el texto de la etiqueta, y hay un breve parpadeo a medida que se vuelve a dibujar la página.</span><span class="sxs-lookup"><span data-stu-id="5e318-140">When you click the button, notice that the page refreshes to change the text in the label, and there is a brief flicker as the page is redrawn.</span></span>
2. <span data-ttu-id="5e318-141">Después de cerrar la ventana del explorador, vuelva a Visual Studio y a la página de marcado.</span><span class="sxs-lookup"><span data-stu-id="5e318-141">After closing your browser window, return to Visual Studio and to the markup page.</span></span> <span data-ttu-id="5e318-142">Desplácese hacia abajo en el cuadro de herramientas de Visual Studio y busque la pestaña extensiones AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-142">Scroll down in the Visual Studio toolbox, and find the tab labeled AJAX Extensions.</span></span> <span data-ttu-id="5e318-143">(Si no dispone de esta pestaña porque está usando una versión anterior de las extensiones AJAX o Atlas, consulte el tutorial para registrar los elementos del cuadro de herramientas de extensiones AJAX más adelante en esta nota del producto o instale la versión actual con el Windows Installer descargable. en el sitio web).</span><span class="sxs-lookup"><span data-stu-id="5e318-143">(If you do not have this tab because you are using an older version of AJAX or Atlas extensions, refer to the walkthrough for registering the AJAX Extensions toolbox items later in this whitepaper, or install the current version with the Windows Installer downloadable from the website).</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image2.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image1.png)

<span data-ttu-id="5e318-144">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-144">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image3.png))</span></span>

1. <span data-ttu-id="5e318-145"><em>Problema conocido:</em> Si instala Visual Studio 2008 en un equipo que ya tiene instalado Visual Studio 2005 con las extensiones de AJAX de ASP.NET 2,0, Visual Studio 2008 importará los elementos del cuadro de herramientas de extensiones AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-145"><em>Known Issue:</em>If you install Visual Studio 2008 onto a computer that already has Visual Studio 2005 installed with the ASP.NET 2.0 AJAX Extensions, Visual Studio 2008 will import the AJAX Extensions toolbox items.</span></span> <span data-ttu-id="5e318-146">Puede determinar si este es el caso examinando la información sobre herramientas de los componentes; deben indicar la versión 3.5.0.0.</span><span class="sxs-lookup"><span data-stu-id="5e318-146">You can determine whether this is the case by examining the tooltip of the components; they should say Version 3.5.0.0.</span></span> <span data-ttu-id="5e318-147">Si dicen la versión 2.0.0.0, ha importado los elementos de cuadro de herramientas antiguos y tendrá que importarlos manualmente mediante el cuadro de diálogo Elegir elementos del cuadro de herramientas de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5e318-147">If they say Version 2.0.0.0, then you have imported your old toolbox items, and will need to manually import them by using the Choose Toolbox Items dialog in Visual Studio.</span></span> <span data-ttu-id="5e318-148">No podrá agregar controles de la versión 2 a través del diseñador.</span><span class="sxs-lookup"><span data-stu-id="5e318-148">You will be unable to add Version 2 controls via the designer.</span></span>

2. <span data-ttu-id="5e318-149">Antes de que comience la etiqueta de `<asp:Label>`, cree una línea de espacio en blanco y haga doble clic en el control UpdatePanel en el cuadro de herramientas.</span><span class="sxs-lookup"><span data-stu-id="5e318-149">Before the `<asp:Label>` tag begins, create a line of whitespace, and double-click on the UpdatePanel control in the toolbox.</span></span> <span data-ttu-id="5e318-150">Tenga en cuenta que una nueva Directiva de `@Register` se incluye en la parte superior de la página, lo que indica que los controles del espacio de nombres System. Web. UI se deben importar utilizando el prefijo `asp:`.</span><span class="sxs-lookup"><span data-stu-id="5e318-150">Note that a new `@Register` directive is included at the top of the page, indicating that controls within the System.Web.UI namespace should be imported using the `asp:` prefix.</span></span>
3. <span data-ttu-id="5e318-151">Arrastre la etiqueta de cierre `</asp:UpdatePanel>` más allá del final del elemento de botón, de modo que el elemento tenga el formato correcto con los controles de etiqueta y de botón ajustados.</span><span class="sxs-lookup"><span data-stu-id="5e318-151">Drag the closing `</asp:UpdatePanel>` tag past the end of the Button element, so that the element is well-formed with the Label and Button controls wrapped.</span></span>
4. <span data-ttu-id="5e318-152">Después de la etiqueta de apertura `<asp:UpdatePanel>`, empiece a abrir una nueva etiqueta.</span><span class="sxs-lookup"><span data-stu-id="5e318-152">After the opening `<asp:UpdatePanel>` tag, begin opening a new tag.</span></span> <span data-ttu-id="5e318-153">Tenga en cuenta que IntelliSense le pide dos opciones.</span><span class="sxs-lookup"><span data-stu-id="5e318-153">Note that IntelliSense prompts you with two options.</span></span> <span data-ttu-id="5e318-154">En este caso, cree una etiqueta de `<ContentTemplate>`.</span><span class="sxs-lookup"><span data-stu-id="5e318-154">In this case, create a `<ContentTemplate>` tag.</span></span> <span data-ttu-id="5e318-155">Asegúrese de ajustar esta etiqueta alrededor de la etiqueta y el botón para que el marcado tenga el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="5e318-155">Be sure to wrap this tag around your Label and Button so that the markup is well-formed.</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image5.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image4.png)

<span data-ttu-id="5e318-156">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-156">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image6.png))</span></span>

1. <span data-ttu-id="5e318-157">En cualquier lugar dentro del elemento `<form>`, incluya un control ScriptManager haciendo doble clic en el elemento `ScriptManager` del cuadro de herramientas.</span><span class="sxs-lookup"><span data-stu-id="5e318-157">Anywhere within the `<form>` element, include a ScriptManager control by double-clicking on the `ScriptManager` item in the toolbox.</span></span>
2. <span data-ttu-id="5e318-158">Edite la etiqueta de `<asp:ScriptManager>` para que incluya el atributo `EnablePartialRendering= true`.</span><span class="sxs-lookup"><span data-stu-id="5e318-158">Edit the `<asp:ScriptManager>` tag so that it includes the attribute `EnablePartialRendering= true`.</span></span>

<span data-ttu-id="5e318-159">**Lista 3: marcado para default. aspx con representación parcial habilitada**</span><span class="sxs-lookup"><span data-stu-id="5e318-159">**Listing 3: Markup for default.aspx with partial rendering enabled**</span></span>

[!code-aspx[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample3.aspx)]

1. <span data-ttu-id="5e318-160">Abra el archivo Web. config.</span><span class="sxs-lookup"><span data-stu-id="5e318-160">Open your web.config file.</span></span> <span data-ttu-id="5e318-161">Tenga en cuenta que Visual Studio ha agregado automáticamente una referencia de compilación a System. Web. Extensions. dll.</span><span class="sxs-lookup"><span data-stu-id="5e318-161">Notice that Visual Studio has automatically added a compilation reference to System.Web.Extensions.dll.</span></span>

1. <span data-ttu-id="5e318-162">Novedades de Visual Studio 2008: el archivo Web. config que se incluye en las plantillas de proyecto de sitio web de ASP.NET incluye automáticamente todas las referencias necesarias a las extensiones de ASP.NET AJAX e incluye secciones comentadas de información de configuración que se pueden Sin comentarios para habilitar funcionalidad adicional.</span><span class="sxs-lookup"><span data-stu-id="5e318-162">What's New in Visual Studio 2008: The web.config that comes with the ASP.NET Web Site project templates automatically includes all necessary references to the ASP.NET AJAX Extensions, and includes commented sections of configuration information that can be un-commented to enable additional functionality.</span></span> <span data-ttu-id="5e318-163">Visual Studio 2005 tenía plantillas similares al instalar las extensiones de AJAX de ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="5e318-163">Visual Studio 2005 had similar templates when ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="5e318-164">Sin embargo, en Visual Studio 2008, las extensiones de AJAX están desactivadas de forma predeterminada (es decir, se les hace referencia de forma predeterminada, pero se pueden quitar como referencias).</span><span class="sxs-lookup"><span data-stu-id="5e318-164">However, in Visual Studio 2008, the AJAX Extensions are opt-out by default (that is, they are referenced by default, but can be removed as references).</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image8.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image7.png)

<span data-ttu-id="5e318-165">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-165">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image9.png))</span></span>

1. <span data-ttu-id="5e318-166">Presione F5 para iniciar el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="5e318-166">Press F5 to launch your website.</span></span> <span data-ttu-id="5e318-167">Tenga en cuenta que no se requirieron cambios en el código fuente para admitir el marcado de solo representación parcial.</span><span class="sxs-lookup"><span data-stu-id="5e318-167">Note how no source code changes were required to support partial rendering - only markup was changed.</span></span>

<span data-ttu-id="5e318-168">Al iniciar el sitio web, debería ver que la representación parcial ahora está habilitada, porque al hacer clic en el botón no habrá ningún parpadeo, ni se producirá ningún cambio en la posición de desplazamiento de la página (en este ejemplo no se muestra eso).</span><span class="sxs-lookup"><span data-stu-id="5e318-168">When you launch your website, you should see that partial rendering is now enabled, because when you click on the button there will be no flicker, nor will there be any change in the page scroll position (this example does not demonstrate that).</span></span> <span data-ttu-id="5e318-169">Si fuera a la vista del origen representado de la página después de hacer clic en el botón, se confirmará que, de hecho, no se ha producido una devolución: el texto de la etiqueta original sigue siendo parte del marcado de origen y la etiqueta ha cambiado a través de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5e318-169">If you were to look at the rendered source of the page after clicking the button, it will confirm that in fact a post-back has not occurred - the original label text is still part of the source markup, and the label has changed through JavaScript.</span></span>

<span data-ttu-id="5e318-170">Visual Studio 2008 no parece tener una plantilla predefinida para un sitio web habilitado para ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-170">Visual Studio 2008 does not appear to come with a pre-defined template for an ASP.NET AJAX-Enabled web site.</span></span> <span data-ttu-id="5e318-171">Sin embargo, esta plantilla estaba disponible en Visual Studio 2005 si se instalaron las extensiones de AJAX de Visual Studio 2005 y ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="5e318-171">However, such a template was available within Visual Studio 2005 if the Visual Studio 2005 and ASP.NET 2.0 AJAX Extensions were installed.</span></span> <span data-ttu-id="5e318-172">Por lo tanto, es probable que la configuración de un sitio web y a partir de la plantilla de sitio web habilitada para AJAX sea aún más fácil, ya que la plantilla debe incluir un archivo Web. config totalmente configurado (compatible con todas las extensiones de ASP.NET AJAX, incluido el acceso a servicios web). y la serialización de JSON: notación de objetos JavaScript) e incluye de forma predeterminada un UpdatePanel y ContentTemplate en la Página principal de formularios Web Forms.</span><span class="sxs-lookup"><span data-stu-id="5e318-172">Consequently, configuring a web site and starting with the AJAX-Enabled Web Site template will likely be even easier, as the template should include a fully-configured web.config file (supporting all of the ASP.NET AJAX Extensions, including Web Services access and JSON serialization - JavaScript Object Notation) and includes an UpdatePanel and ContentTemplate within the main Web Forms page by default.</span></span> <span data-ttu-id="5e318-173">Habilitar la representación parcial con esta página predeterminada es tan sencillo como volver a visitar el paso 10 de este tutorial y colocar los controles en la página.</span><span class="sxs-lookup"><span data-stu-id="5e318-173">Enabling partial rendering with this default page is as simple as revisiting Step 10 of this walkthrough and dropping controls onto the page.</span></span>

## <a name="the-scriptmanager-control"></a><span data-ttu-id="5e318-174">El control ScriptManager</span><span class="sxs-lookup"><span data-stu-id="5e318-174">The ScriptManager Control</span></span>

## <a name="scriptmanager-control-reference"></a><span data-ttu-id="5e318-175">Referencia de control ScriptManager</span><span class="sxs-lookup"><span data-stu-id="5e318-175">ScriptManager Control Reference</span></span>

<span data-ttu-id="5e318-176">Propiedades habilitadas para marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-176">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="5e318-177">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="5e318-177">**Property Name**</span></span> | <span data-ttu-id="5e318-178">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-178">**Type**</span></span> | <span data-ttu-id="5e318-179">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-179">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-180">AllowCustomErrors-Redirect</span><span class="sxs-lookup"><span data-stu-id="5e318-180">AllowCustomErrors-Redirect</span></span> | <span data-ttu-id="5e318-181">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-181">Bool</span></span> | <span data-ttu-id="5e318-182">Especifica si se va a utilizar la sección de errores personalizados del archivo Web. config para controlar los errores.</span><span class="sxs-lookup"><span data-stu-id="5e318-182">Specifies whether to use the custom error section of the web.config file to handle errors.</span></span> |
| <span data-ttu-id="5e318-183">AsyncPostBackError-Message</span><span class="sxs-lookup"><span data-stu-id="5e318-183">AsyncPostBackError-Message</span></span> | <span data-ttu-id="5e318-184">Cadena</span><span class="sxs-lookup"><span data-stu-id="5e318-184">String</span></span> | <span data-ttu-id="5e318-185">Obtiene o establece el mensaje de error enviado al cliente si se produce un error.</span><span class="sxs-lookup"><span data-stu-id="5e318-185">Gets or sets the error message sent to the client if an error is raised.</span></span> |
| <span data-ttu-id="5e318-186">AsyncPostBack-Timeout</span><span class="sxs-lookup"><span data-stu-id="5e318-186">AsyncPostBack-Timeout</span></span> | <span data-ttu-id="5e318-187">Int32</span><span class="sxs-lookup"><span data-stu-id="5e318-187">Int32</span></span> | <span data-ttu-id="5e318-188">Obtiene o establece la cantidad de tiempo predeterminada que un cliente debe esperar para que se complete la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-188">Gets or sets the default amount of a time a client should wait for the asynchronous request to complete.</span></span> |
| <span data-ttu-id="5e318-189">EnableScript-Globalization</span><span class="sxs-lookup"><span data-stu-id="5e318-189">EnableScript-Globalization</span></span> | <span data-ttu-id="5e318-190">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-190">Bool</span></span> | <span data-ttu-id="5e318-191">Obtiene o establece si la globalización de script está habilitada.</span><span class="sxs-lookup"><span data-stu-id="5e318-191">Gets or sets whether script globalization is enabled.</span></span> |
| <span data-ttu-id="5e318-192">EnableScript-Localization</span><span class="sxs-lookup"><span data-stu-id="5e318-192">EnableScript-Localization</span></span> | <span data-ttu-id="5e318-193">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-193">Bool</span></span> | <span data-ttu-id="5e318-194">Obtiene o establece si la localización del script está habilitada.</span><span class="sxs-lookup"><span data-stu-id="5e318-194">Gets or sets whether script localization is enabled.</span></span> |
| <span data-ttu-id="5e318-195">ScriptLoadTimeout</span><span class="sxs-lookup"><span data-stu-id="5e318-195">ScriptLoadTimeout</span></span> | <span data-ttu-id="5e318-196">Int32</span><span class="sxs-lookup"><span data-stu-id="5e318-196">Int32</span></span> | <span data-ttu-id="5e318-197">Determina el número de segundos permitidos para cargar scripts en el cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-197">Determines the number of seconds allowed for loading scripts into the client</span></span> |
| <span data-ttu-id="5e318-198">ScriptMode</span><span class="sxs-lookup"><span data-stu-id="5e318-198">ScriptMode</span></span> | <span data-ttu-id="5e318-199">Enum (auto, Debug, release, inherit)</span><span class="sxs-lookup"><span data-stu-id="5e318-199">Enum (Auto, Debug, Release, Inherit)</span></span> | <span data-ttu-id="5e318-200">Obtiene o establece si se van a representar las versiones de lanzamiento de los scripts.</span><span class="sxs-lookup"><span data-stu-id="5e318-200">Gets or sets whether to render release versions of scripts</span></span> |
| <span data-ttu-id="5e318-201">ScriptPath</span><span class="sxs-lookup"><span data-stu-id="5e318-201">ScriptPath</span></span> | <span data-ttu-id="5e318-202">Cadena</span><span class="sxs-lookup"><span data-stu-id="5e318-202">String</span></span> | <span data-ttu-id="5e318-203">Obtiene o establece la ruta de acceso raíz a la ubicación de los archivos de script que se van a enviar al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-203">Gets or sets the root path to the location of script files to be sent to the client.</span></span> |

<span data-ttu-id="5e318-204">Propiedades de solo código:</span><span class="sxs-lookup"><span data-stu-id="5e318-204">Code-Only Properties:</span></span>

| <span data-ttu-id="5e318-205">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="5e318-205">**Property Name**</span></span> | <span data-ttu-id="5e318-206">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-206">**Type**</span></span> | <span data-ttu-id="5e318-207">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-207">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-208">AuthenticationService</span><span class="sxs-lookup"><span data-stu-id="5e318-208">AuthenticationService</span></span> | <span data-ttu-id="5e318-209">AuthenticationService-administrador</span><span class="sxs-lookup"><span data-stu-id="5e318-209">AuthenticationService-Manager</span></span> | <span data-ttu-id="5e318-210">Obtiene detalles sobre el proxy del servicio de autenticación de ASP.NET que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-210">Gets details about the ASP.NET Authentication Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="5e318-211">IsDebuggingEnabled</span><span class="sxs-lookup"><span data-stu-id="5e318-211">IsDebuggingEnabled</span></span> | <span data-ttu-id="5e318-212">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-212">Bool</span></span> | <span data-ttu-id="5e318-213">Obtiene si está habilitada la depuración de scripts y código.</span><span class="sxs-lookup"><span data-stu-id="5e318-213">Gets whether script and code debugging is enabled.</span></span> |
| <span data-ttu-id="5e318-214">IsInAsyncPostback</span><span class="sxs-lookup"><span data-stu-id="5e318-214">IsInAsyncPostback</span></span> | <span data-ttu-id="5e318-215">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-215">Bool</span></span> | <span data-ttu-id="5e318-216">Obtiene si la página se encuentra actualmente en una solicitud de devolución de datos asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-216">Gets whether the page is currently in an asynchronous post back request.</span></span> |
| <span data-ttu-id="5e318-217">ProfileService (</span><span class="sxs-lookup"><span data-stu-id="5e318-217">ProfileService</span></span> | <span data-ttu-id="5e318-218">ProfileService-Manager</span><span class="sxs-lookup"><span data-stu-id="5e318-218">ProfileService-Manager</span></span> | <span data-ttu-id="5e318-219">Obtiene detalles sobre el proxy del servicio de generación de perfiles de ASP.NET que se enviará al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-219">Gets details about the ASP.NET Profiling Service proxy that will be sent to the client.</span></span> |
| <span data-ttu-id="5e318-220">Scripts</span><span class="sxs-lookup"><span data-stu-id="5e318-220">Scripts</span></span> | <span data-ttu-id="5e318-221">Script de&lt;de recopilación: referencia&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-221">Collection&lt;Script-Reference&gt;</span></span> | <span data-ttu-id="5e318-222">Obtiene una colección de referencias de script que se enviarán al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-222">Gets a collection of script references that will be sent to the client.</span></span> |
| <span data-ttu-id="5e318-223">Servicios</span><span class="sxs-lookup"><span data-stu-id="5e318-223">Services</span></span> | <span data-ttu-id="5e318-224">Servicio de colección&lt;-referencia&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-224">Collection&lt;Service-Reference&gt;</span></span> | <span data-ttu-id="5e318-225">Obtiene una colección de referencias de proxy de servicio Web que se enviarán al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-225">Gets a collection of Web Service proxy references that will be sent to the client.</span></span> |
| <span data-ttu-id="5e318-226">SupportsPartialRendering</span><span class="sxs-lookup"><span data-stu-id="5e318-226">SupportsPartialRendering</span></span> | <span data-ttu-id="5e318-227">Bool</span><span class="sxs-lookup"><span data-stu-id="5e318-227">Bool</span></span> | <span data-ttu-id="5e318-228">Obtiene si el cliente actual admite la representación parcial.</span><span class="sxs-lookup"><span data-stu-id="5e318-228">Gets whether the current client supports partial rendering.</span></span> <span data-ttu-id="5e318-229">Si esta propiedad devuelve **false**, todas las solicitudes de página serán postbacks estándar.</span><span class="sxs-lookup"><span data-stu-id="5e318-229">If this property returns **false**, then all page requests will be standard postbacks.</span></span> |

<span data-ttu-id="5e318-230">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="5e318-230">Public Code Methods:</span></span>

| <span data-ttu-id="5e318-231">**Nombre de método**</span><span class="sxs-lookup"><span data-stu-id="5e318-231">**Method Name**</span></span> | <span data-ttu-id="5e318-232">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-232">**Type**</span></span> | <span data-ttu-id="5e318-233">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-233">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-234">SetFocus(string)</span><span class="sxs-lookup"><span data-stu-id="5e318-234">SetFocus(string)</span></span> | <span data-ttu-id="5e318-235">Void</span><span class="sxs-lookup"><span data-stu-id="5e318-235">Void</span></span> | <span data-ttu-id="5e318-236">Establece el foco del cliente en un control determinado cuando se ha completado la solicitud.</span><span class="sxs-lookup"><span data-stu-id="5e318-236">Sets the focus of the client to a particular control when the request has completed.</span></span> |

<span data-ttu-id="5e318-237">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-237">Markup Descendants:</span></span>

| <span data-ttu-id="5e318-238">**Tag**</span><span class="sxs-lookup"><span data-stu-id="5e318-238">**Tag**</span></span> | <span data-ttu-id="5e318-239">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-239">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5e318-240">&lt;AuthenticationService&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-240">&lt;AuthenticationService&gt;</span></span> | <span data-ttu-id="5e318-241">Proporciona detalles sobre el proxy al servicio de autenticación de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e318-241">Provides details about the proxy to the ASP.NET authentication service.</span></span> |
| <span data-ttu-id="5e318-242">&lt;ProfileService&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-242">&lt;ProfileService&gt;</span></span> | <span data-ttu-id="5e318-243">Proporciona detalles sobre el proxy para el servicio de generación de perfiles ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e318-243">Provides details about the proxy to the ASP.NET profiling service.</span></span> |
| <span data-ttu-id="5e318-244">&lt;Scripts&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-244">&lt;Scripts&gt;</span></span> | <span data-ttu-id="5e318-245">Proporciona referencias de script adicionales.</span><span class="sxs-lookup"><span data-stu-id="5e318-245">Provides additional script references.</span></span> |
| <span data-ttu-id="5e318-246">&lt;ASP: ScriptReference&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-246">&lt;asp:ScriptReference&gt;</span></span> | <span data-ttu-id="5e318-247">Denota una referencia de script específica.</span><span class="sxs-lookup"><span data-stu-id="5e318-247">Denotes a specific script reference.</span></span> |
| <span data-ttu-id="5e318-248">&lt;Servicio&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-248">&lt;Service&gt;</span></span> | <span data-ttu-id="5e318-249">Proporciona referencias de servicio web adicionales que tendrán las clases de proxy generadas.</span><span class="sxs-lookup"><span data-stu-id="5e318-249">Provides additional Web Service references which will have proxy classes generated.</span></span> |
| <span data-ttu-id="5e318-250">&lt;ASP: ServiceReference&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-250">&lt;asp:ServiceReference&gt;</span></span> | <span data-ttu-id="5e318-251">Denota una referencia de servicio Web específica.</span><span class="sxs-lookup"><span data-stu-id="5e318-251">Denotes a specific Web Service reference.</span></span> |

<span data-ttu-id="5e318-252">El control ScriptManager es el núcleo fundamental para las extensiones de ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-252">The ScriptManager control is the essential core for the ASP.NET AJAX Extensions.</span></span> <span data-ttu-id="5e318-253">Proporciona acceso a la biblioteca de scripts (incluido el amplio sistema de tipos de scripts del lado cliente), admite la representación parcial y proporciona una amplia compatibilidad para servicios adicionales de ASP.NET (como la autenticación y la generación de perfiles, pero también otros servicios web).</span><span class="sxs-lookup"><span data-stu-id="5e318-253">It provides access to the script library (including the extensive client-side script type system), supports partial rendering, and provides extensive support for additional ASP.NET services (such as authentication and profiling, but also other Web Services).</span></span> <span data-ttu-id="5e318-254">El control ScriptManager también proporciona compatibilidad con la globalización y la localización para los scripts de cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-254">The ScriptManager control also provides globalization and localization support for the client scripts.</span></span>

## <a name="providing-alternative-and-supplemental-scripts"></a><span data-ttu-id="5e318-255">Proporcionar scripts alternativos y adicionales</span><span class="sxs-lookup"><span data-stu-id="5e318-255">Providing Alternative and Supplemental Scripts</span></span>

<span data-ttu-id="5e318-256">Aunque las extensiones de AJAX Microsoft ASP.NET 2,0 incluyen el código de script completo en las ediciones Debug y Release como recursos insertados en los ensamblados a los que se hace referencia, los desarrolladores pueden redirigir el ScriptManager a archivos de script personalizados, así como registrar scripts adicionales necesarios.</span><span class="sxs-lookup"><span data-stu-id="5e318-256">While the Microsoft ASP.NET 2.0 AJAX Extensions include the entire script code in both debug and release editions as resources embedded in the referenced assemblies, developers are free to redirect the ScriptManager to customized script files, as well as register additional necessary scripts.</span></span>

<span data-ttu-id="5e318-257">Para reemplazar el enlace predeterminado para los scripts incluidos normalmente (como los que admiten el espacio de nombres sys. WebForms y el sistema de escritura personalizado), puede registrarse para el evento `ResolveScriptReference` de la clase ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="5e318-257">To override the default binding for the typically-included scripts (such as those which support the Sys.WebForms namespace and the custom typing system), you can register for the `ResolveScriptReference` event of the ScriptManager class.</span></span> <span data-ttu-id="5e318-258">Cuando se llama a este método, el controlador de eventos tiene la oportunidad de cambiar la ruta de acceso al archivo de script en cuestión. a continuación, el administrador de scripts enviará una copia diferente o personalizada de los scripts al cliente.</span><span class="sxs-lookup"><span data-stu-id="5e318-258">When this method is called, the event handler has the opportunity to change the path to the script file in question; the script manager will then send a different or customized copy of the scripts to the client.</span></span>

<span data-ttu-id="5e318-259">Además, las referencias de script (representadas por la clase `ScriptReference`) se pueden incluir mediante programación o mediante el marcado.</span><span class="sxs-lookup"><span data-stu-id="5e318-259">Additionally, script references (represented by the `ScriptReference` class) can be included programmatically or via markup.</span></span> <span data-ttu-id="5e318-260">Para ello, puede modificar mediante programación la `ScriptManager.Scripts` colección o incluir etiquetas de `<asp:ScriptReference>` bajo la etiqueta `<Scripts>`, que es un elemento secundario de primer nivel del control ScriptManager.</span><span class="sxs-lookup"><span data-stu-id="5e318-260">To do so, either programmatically modify the `ScriptManager.Scripts` collection, or include `<asp:ScriptReference>` tags under the `<Scripts>` tag, which is a first-level child of the ScriptManager control.</span></span>

## <a name="custom-error-handling-for-updatepanels"></a><span data-ttu-id="5e318-261">Control de errores personalizado para UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="5e318-261">Custom Error Handling for UpdatePanels</span></span>

<span data-ttu-id="5e318-262">Aunque las actualizaciones se controlan mediante desencadenadores especificados por controles UpdatePanel, la compatibilidad con el control de errores y los mensajes de error personalizados se controla mediante la instancia del control ScriptManager de una página.</span><span class="sxs-lookup"><span data-stu-id="5e318-262">Although updates are handled by triggers specified by UpdatePanel controls, the support for error handling and custom error messages is handled by a page's ScriptManager control instance.</span></span> <span data-ttu-id="5e318-263">Para ello, se expone un evento, `AsyncPostBackError`, a la página que puede proporcionar una lógica de control de excepciones personalizada.</span><span class="sxs-lookup"><span data-stu-id="5e318-263">This is done by exposing an event, `AsyncPostBackError`, to the page which can then provide custom exception-handling logic.</span></span>

<span data-ttu-id="5e318-264">Al consumir el evento AsyncPostBackError, puede especificar la propiedad `AsyncPostBackErrorMessage`, que hace que se genere un cuadro de alerta tras la finalización de la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="5e318-264">By consuming the AsyncPostBackError event, you may specify the `AsyncPostBackErrorMessage` property, which then causes an alert box to be raised upon completion of the callback.</span></span>

<span data-ttu-id="5e318-265">También es posible la personalización del cliente en lugar de utilizar el cuadro de alerta predeterminado. por ejemplo, puede que desee mostrar un elemento de `<div>` personalizado en lugar del cuadro de diálogo modal del explorador predeterminado.</span><span class="sxs-lookup"><span data-stu-id="5e318-265">Client-side customization is also possible instead of using the default alert box; for instance, you may want to display a customized `<div>` element rather than the default browser modal dialog.</span></span> <span data-ttu-id="5e318-266">En este caso, puede controlar el error en el script de cliente:</span><span class="sxs-lookup"><span data-stu-id="5e318-266">In this case, you can handle the error in client script:</span></span>

<span data-ttu-id="5e318-267">**Lista 5: script del lado cliente para mostrar los errores personalizados**</span><span class="sxs-lookup"><span data-stu-id="5e318-267">**Listing 5: Client-side script to display custom errors**</span></span>

[!code-html[Main](understanding-partial-page-updates-with-asp-net-ajax/samples/sample4.html)]

<span data-ttu-id="5e318-268">Simplemente, el script anterior registra una devolución de llamada con el tiempo de ejecución de AJAX del cliente para cuando se ha completado la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-268">Quite simply, the above script registers a callback with the client-side AJAX runtime for when the asynchronous request has been completed.</span></span> <span data-ttu-id="5e318-269">A continuación, comprueba si se ha producido un error y, en ese caso, procesa los detalles del mismo y, por último, indica al tiempo de ejecución que el error se ha controlado en el script personalizado.</span><span class="sxs-lookup"><span data-stu-id="5e318-269">It then checks to see whether an error was reported, and if so, processes the details of it, finally indicating to the runtime that the error was handled in custom script.</span></span>

## <a name="globalization-and-localization-support"></a><span data-ttu-id="5e318-270">Compatibilidad con la globalización y la localización</span><span class="sxs-lookup"><span data-stu-id="5e318-270">Globalization and Localization Support</span></span>

<span data-ttu-id="5e318-271">El control ScriptManager proporciona una amplia compatibilidad para la localización de cadenas de scripts y componentes de interfaz de usuario. sin embargo, ese tema está fuera del ámbito de esta nota del producto.</span><span class="sxs-lookup"><span data-stu-id="5e318-271">The ScriptManager control provides extensive support for localization of script strings and user interface components; however, that topic is outside of the scope of this whitepaper.</span></span> <span data-ttu-id="5e318-272">Para obtener más información, vea las notas del producto sobre la compatibilidad de globalización en extensiones de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e318-272">For more information, see the whitepaper, Globalization Support in ASP.NET AJAX Extensions.</span></span>

## <a name="the-updatepanel-control"></a><span data-ttu-id="5e318-273">Control UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="5e318-273">The UpdatePanel Control</span></span>

## <a name="updatepanel-control-reference"></a><span data-ttu-id="5e318-274">Referencia de control UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="5e318-274">UpdatePanel Control Reference</span></span>

<span data-ttu-id="5e318-275">Propiedades habilitadas para marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-275">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="5e318-276">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="5e318-276">**Property Name**</span></span> | <span data-ttu-id="5e318-277">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-277">**Type**</span></span> | <span data-ttu-id="5e318-278">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-278">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-279">ChildrenAsTriggers</span><span class="sxs-lookup"><span data-stu-id="5e318-279">ChildrenAsTriggers</span></span> | <span data-ttu-id="5e318-280">bool</span><span class="sxs-lookup"><span data-stu-id="5e318-280">bool</span></span> | <span data-ttu-id="5e318-281">Especifica si los controles secundarios invocan automáticamente la actualización en el PostBack.</span><span class="sxs-lookup"><span data-stu-id="5e318-281">Specifies whether child controls automatically invoke refresh on postback.</span></span> |
| <span data-ttu-id="5e318-282">Representación</span><span class="sxs-lookup"><span data-stu-id="5e318-282">RenderMode</span></span> | <span data-ttu-id="5e318-283">enum (bloque, alineado)</span><span class="sxs-lookup"><span data-stu-id="5e318-283">enum (Block, Inline)</span></span> | <span data-ttu-id="5e318-284">Especifica la manera en que se presentará visualmente el contenido.</span><span class="sxs-lookup"><span data-stu-id="5e318-284">Specifies the way the content will be visually presented.</span></span> |
| <span data-ttu-id="5e318-285">UpdateMode</span><span class="sxs-lookup"><span data-stu-id="5e318-285">UpdateMode</span></span> | <span data-ttu-id="5e318-286">enum (siempre, condicional)</span><span class="sxs-lookup"><span data-stu-id="5e318-286">enum (Always, Conditional)</span></span> | <span data-ttu-id="5e318-287">Especifica si UpdatePanel siempre se actualiza durante una representación parcial o si solo se actualiza cuando se alcanza un desencadenador.</span><span class="sxs-lookup"><span data-stu-id="5e318-287">Specifies whether the UpdatePanel is always refreshed during a partial render or if it is only refreshed when a trigger is hit.</span></span> |

<span data-ttu-id="5e318-288">Propiedades de solo código:</span><span class="sxs-lookup"><span data-stu-id="5e318-288">Code-Only Properties:</span></span>

| <span data-ttu-id="5e318-289">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="5e318-289">**Property Name**</span></span> | <span data-ttu-id="5e318-290">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-290">**Type**</span></span> | <span data-ttu-id="5e318-291">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-291">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-292">IsInPartialRendering</span><span class="sxs-lookup"><span data-stu-id="5e318-292">IsInPartialRendering</span></span> | <span data-ttu-id="5e318-293">bool</span><span class="sxs-lookup"><span data-stu-id="5e318-293">bool</span></span> | <span data-ttu-id="5e318-294">Obtiene si UpdatePanel admite la representación parcial de la solicitud actual.</span><span class="sxs-lookup"><span data-stu-id="5e318-294">Gets whether the UpdatePanel is supporting partial rendering for the current request.</span></span> |
| <span data-ttu-id="5e318-295">ContentTemplate</span><span class="sxs-lookup"><span data-stu-id="5e318-295">ContentTemplate</span></span> | <span data-ttu-id="5e318-296">ITemplate</span><span class="sxs-lookup"><span data-stu-id="5e318-296">ITemplate</span></span> | <span data-ttu-id="5e318-297">Obtiene la plantilla de marcado para la solicitud de actualización.</span><span class="sxs-lookup"><span data-stu-id="5e318-297">Gets the markup template for the update request.</span></span> |
| <span data-ttu-id="5e318-298">ContentTemplateContainer</span><span class="sxs-lookup"><span data-stu-id="5e318-298">ContentTemplateContainer</span></span> | <span data-ttu-id="5e318-299">Control</span><span class="sxs-lookup"><span data-stu-id="5e318-299">Control</span></span> | <span data-ttu-id="5e318-300">Obtiene la plantilla de programación para la solicitud de actualización.</span><span class="sxs-lookup"><span data-stu-id="5e318-300">Gets the programmatic template for the update request.</span></span> |
| <span data-ttu-id="5e318-301">Desencadenadores</span><span class="sxs-lookup"><span data-stu-id="5e318-301">Triggers</span></span> | <span data-ttu-id="5e318-302">UpdatePanel-TriggerCollection</span><span class="sxs-lookup"><span data-stu-id="5e318-302">UpdatePanel- TriggerCollection</span></span> | <span data-ttu-id="5e318-303">Obtiene la lista de desencadenadores asociados al objeto UpdatePanel actual.</span><span class="sxs-lookup"><span data-stu-id="5e318-303">Gets the list of triggers associated with the current UpdatePanel.</span></span> |

<span data-ttu-id="5e318-304">Métodos de código público:</span><span class="sxs-lookup"><span data-stu-id="5e318-304">Public Code Methods:</span></span>

| <span data-ttu-id="5e318-305">**Nombre de método**</span><span class="sxs-lookup"><span data-stu-id="5e318-305">**Method Name**</span></span> | <span data-ttu-id="5e318-306">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-306">**Type**</span></span> | <span data-ttu-id="5e318-307">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-307">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-308">Update()</span><span class="sxs-lookup"><span data-stu-id="5e318-308">Update()</span></span> | <span data-ttu-id="5e318-309">Void</span><span class="sxs-lookup"><span data-stu-id="5e318-309">Void</span></span> | <span data-ttu-id="5e318-310">Actualiza el UpdatePanel especificado mediante programación.</span><span class="sxs-lookup"><span data-stu-id="5e318-310">Updates the specified UpdatePanel programmatically.</span></span> <span data-ttu-id="5e318-311">Permite que una solicitud de servidor desencadene una representación parcial de un UpdatePanel sin desencadenar.</span><span class="sxs-lookup"><span data-stu-id="5e318-311">Allows a server request to trigger a partial render of an otherwise-untriggered UpdatePanel.</span></span> |

<span data-ttu-id="5e318-312">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-312">Markup Descendants:</span></span>

| <span data-ttu-id="5e318-313">**Tag**</span><span class="sxs-lookup"><span data-stu-id="5e318-313">**Tag**</span></span> | <span data-ttu-id="5e318-314">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-314">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5e318-315">&lt;ContentTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-315">&lt;ContentTemplate&gt;</span></span> | <span data-ttu-id="5e318-316">Especifica el marcado que se va a utilizar para representar el resultado de la representación parcial.</span><span class="sxs-lookup"><span data-stu-id="5e318-316">Specifies the markup to be used to render the partial rendering result.</span></span> <span data-ttu-id="5e318-317">Elemento secundario de &lt;ASP:&gt;UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-317">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="5e318-318">&lt;Desencadenadores&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-318">&lt;Triggers&gt;</span></span> | <span data-ttu-id="5e318-319">Especifica una colección de *n* controles asociados con la actualización de este UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-319">Specifies a collection of *n* controls associated with updating this UpdatePanel.</span></span> <span data-ttu-id="5e318-320">Elemento secundario de &lt;ASP:&gt;UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-320">Child of &lt;asp:UpdatePanel&gt;.</span></span> |
| <span data-ttu-id="5e318-321">&lt;ASP: AsyncPostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-321">&lt;asp:AsyncPostBackTrigger&gt;</span></span> | <span data-ttu-id="5e318-322">Especifica un desencadenador que invoca una representación de página parcial para el UpdatePanel determinado.</span><span class="sxs-lookup"><span data-stu-id="5e318-322">Specifies a trigger that invokes a partial page render for the given UpdatePanel.</span></span> <span data-ttu-id="5e318-323">Puede ser o no un control como descendiente del UpdatePanel en cuestión.</span><span class="sxs-lookup"><span data-stu-id="5e318-323">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="5e318-324">Granular en el nombre del evento. Secundario de &lt;desencadenadores&gt;.</span><span class="sxs-lookup"><span data-stu-id="5e318-324">Granular to the event name.Child of &lt;Triggers&gt;.</span></span> |
| <span data-ttu-id="5e318-325">&lt;ASP: PostBackTrigger&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-325">&lt;asp:PostBackTrigger&gt;</span></span> | <span data-ttu-id="5e318-326">Especifica un control que hace que se actualice toda la página.</span><span class="sxs-lookup"><span data-stu-id="5e318-326">Specifies a control that causes the entire page to refresh.</span></span> <span data-ttu-id="5e318-327">Puede ser o no un control como descendiente del UpdatePanel en cuestión.</span><span class="sxs-lookup"><span data-stu-id="5e318-327">This may or may not be a control as a descendant of the UpdatePanel in question.</span></span> <span data-ttu-id="5e318-328">Granular en el objeto.</span><span class="sxs-lookup"><span data-stu-id="5e318-328">Granular to the object.</span></span> <span data-ttu-id="5e318-329">Secundario de &lt;desencadenadores&gt;.</span><span class="sxs-lookup"><span data-stu-id="5e318-329">Child of &lt;Triggers&gt;.</span></span> |

<span data-ttu-id="5e318-330">El control `UpdatePanel` es el control que delimita el contenido del lado servidor que participará en la funcionalidad de representación parcial de las extensiones AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-330">The `UpdatePanel` control is the control that delimits the server-side content that will take part in the partial rendering functionality of the AJAX Extensions.</span></span> <span data-ttu-id="5e318-331">No hay ningún límite en cuanto al número de controles UpdatePanel que pueden estar en una página y se pueden anidar.</span><span class="sxs-lookup"><span data-stu-id="5e318-331">There is no limit to the number of UpdatePanel controls that can be on a page, and they can be nested.</span></span> <span data-ttu-id="5e318-332">Cada UpdatePanel está aislado, por lo que cada uno puede funcionar de forma independiente (puede tener dos UpdatePanel en ejecución al mismo tiempo, lo que representa diferentes partes de la página, independientemente del postback de la página).</span><span class="sxs-lookup"><span data-stu-id="5e318-332">Each UpdatePanel is isolated, so that each can work independently (you can have two UpdatePanels running at the same time, rendering different parts of the page, independent of the page's postback).</span></span>

<span data-ttu-id="5e318-333">El control UpdatePanel se centra principalmente en los desencadenadores de control; de forma predeterminada, cualquier control contenido en el `ContentTemplate` de UpdatePanel que crea un postback se registra como desencadenador de UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-333">The UpdatePanel control primarily deals with control triggers - by default, any control contained within an UpdatePanel's `ContentTemplate` that creates a postback is registered as a trigger for the UpdatePanel.</span></span> <span data-ttu-id="5e318-334">Esto significa que UpdatePanel puede trabajar con los controles enlazados a datos predeterminados (como GridView), con controles de usuario, y que se pueden programar en un script.</span><span class="sxs-lookup"><span data-stu-id="5e318-334">This means that the UpdatePanel can work with the default data-bound controls (such as the GridView), with user controls, and they can be programmed in script.</span></span>

<span data-ttu-id="5e318-335">De forma predeterminada, cuando se desencadena una representación de página parcial, se actualizan todos los controles UpdatePanel de la página, tanto si los controles UpdatePanel definen los desencadenadores para dicha acción como si no.</span><span class="sxs-lookup"><span data-stu-id="5e318-335">By default, when a partial page render is triggered, all UpdatePanel controls on the page will be refreshed, whether or not the UpdatePanel controls defined triggers for such action.</span></span> <span data-ttu-id="5e318-336">Por ejemplo, si un UpdatePanel define un control de botón y se hace clic en ese control de botón, todos los controles UpdatePanel de esa página se actualizarán de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="5e318-336">For example, if one UpdatePanel defines a Button control, and that Button control is clicked, all UpdatePanel controls on that page will be refreshed by default.</span></span> <span data-ttu-id="5e318-337">Esto se debe a que, de forma predeterminada, la propiedad `UpdateMode` de UpdatePanel está establecida en `Always`.</span><span class="sxs-lookup"><span data-stu-id="5e318-337">This is because, by default, the `UpdateMode` property of the UpdatePanel is set to `Always`.</span></span> <span data-ttu-id="5e318-338">Como alternativa, puede establecer la propiedad UpdateMode en `Conditional`, lo que significa que el UpdatePanel solo se actualizará si se alcanza un desencadenador específico.</span><span class="sxs-lookup"><span data-stu-id="5e318-338">Alternatively, you may set the UpdateMode property to `Conditional`, which means that the UpdatePanel will only be refreshed if a specific trigger is hit.</span></span>

## <a name="custom-control-notes"></a><span data-ttu-id="5e318-339">Notas de control personalizadas</span><span class="sxs-lookup"><span data-stu-id="5e318-339">Custom Control Notes</span></span>

<span data-ttu-id="5e318-340">Se puede Agregar un UpdatePanel a cualquier control de usuario o control personalizado; sin embargo, la página en la que se incluyen estos controles también debe incluir un control ScriptManager con la propiedad EnablePartialRendering establecida en **true**.</span><span class="sxs-lookup"><span data-stu-id="5e318-340">An UpdatePanel can be added to any user control or custom control; however, the page on which these controls are included must also include a ScriptManager control with the property EnablePartialRendering set to **true**.</span></span>

<span data-ttu-id="5e318-341">Una manera en la que se puede tener en cuenta cuando se usan controles Web personalizados es invalidar el método de `CreateChildControls()` protegido de la clase `CompositeControl`.</span><span class="sxs-lookup"><span data-stu-id="5e318-341">One way in which you might account for this when using Web Custom Controls is to override the protected `CreateChildControls()` method of the `CompositeControl` class.</span></span> <span data-ttu-id="5e318-342">Al hacerlo, puede insertar un UpdatePanel entre los elementos secundarios del control y el mundo exterior si determina que la página admite la representación parcial. de lo contrario, puede simplemente disponer los controles secundarios en un contenedor `Control` instancia.</span><span class="sxs-lookup"><span data-stu-id="5e318-342">By doing so, you can inject an UpdatePanel between the control's children and the outside world if you determine the page supports partial rendering; otherwise, you can simply layer the child controls into a container `Control` instance.</span></span>

## <a name="updatepanel-considerations"></a><span data-ttu-id="5e318-343">Consideraciones sobre UpdatePanel</span><span class="sxs-lookup"><span data-stu-id="5e318-343">UpdatePanel Considerations</span></span>

<span data-ttu-id="5e318-344">El UpdatePanel funciona como algo de un cuadro negro, ajustando los postASP.NET en el contexto de un XMLHttpRequest de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="5e318-344">The UpdatePanel operates as something of a black-box, wrapping ASP.NET postbacks within the context of a JavaScript XMLHttpRequest.</span></span> <span data-ttu-id="5e318-345">Sin embargo, hay importantes consideraciones de rendimiento que deben tenerse en cuenta, tanto en términos de comportamiento como de velocidad.</span><span class="sxs-lookup"><span data-stu-id="5e318-345">However, there are significant performance considerations to bear in mind, both in terms of behavior and speed.</span></span> <span data-ttu-id="5e318-346">Para entender cómo funciona el UpdatePanel, de modo que pueda decidir mejor Cuándo es adecuado su uso, debe examinar el intercambio de AJAX.</span><span class="sxs-lookup"><span data-stu-id="5e318-346">To understand how the UpdatePanel works, so that you can best decide when its use is appropriate, you should examine the AJAX exchange.</span></span> <span data-ttu-id="5e318-347">En el ejemplo siguiente se usa un sitio existente y, Mozilla Firefox con la extensión Firebug (Firebug captura datos de XMLHttpRequest).</span><span class="sxs-lookup"><span data-stu-id="5e318-347">The following example uses an existing site and, Mozilla Firefox with the Firebug extension (Firebug captures XMLHttpRequest data).</span></span>

<span data-ttu-id="5e318-348">Considere un formulario que, entre otras cosas, tiene un cuadro de texto código postal que se supone rellenar un campo de ciudad y estado en un formulario o control.</span><span class="sxs-lookup"><span data-stu-id="5e318-348">Consider a form that, among other things, has a postal code textbox which is supposed to populate a city and state field on a form or control.</span></span> <span data-ttu-id="5e318-349">En última instancia, este formulario recopila información de pertenencia, incluido el nombre, la dirección y la información de contacto de un usuario.</span><span class="sxs-lookup"><span data-stu-id="5e318-349">This form ultimately collects membership information, including a user's name, address, and contact information.</span></span> <span data-ttu-id="5e318-350">Hay muchas consideraciones de diseño que se deben tener en cuenta, en función de los requisitos de un proyecto específico.</span><span class="sxs-lookup"><span data-stu-id="5e318-350">There are many design considerations to take into account, based on the requirements of a specific project.</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image11.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image10.png)

<span data-ttu-id="5e318-351">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-351">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image12.png))</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image14.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image13.png)

<span data-ttu-id="5e318-352">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-352">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image15.png))</span></span>

<span data-ttu-id="5e318-353">En la iteración original de esta aplicación, se compiló un control que incorporaba la totalidad de los datos de registro del usuario, incluido el código postal, la ciudad y el estado.</span><span class="sxs-lookup"><span data-stu-id="5e318-353">In the original iteration of this application, a control was built that incorporated the entirety of the user registration data, including the postal code, city, and state.</span></span> <span data-ttu-id="5e318-354">Se ajustó todo el control dentro de un UpdatePanel y se colocó en un formulario Web.</span><span class="sxs-lookup"><span data-stu-id="5e318-354">The entire control was wrapped within an UpdatePanel and dropped onto a Web Form.</span></span> <span data-ttu-id="5e318-355">Cuando el usuario escribe el código postal, el UpdatePanel detecta el evento (el evento de TextChanged correspondiente en el back-end, bien especificando desencadenadores o usando la propiedad ChildrenAsTriggers establecida en true).</span><span class="sxs-lookup"><span data-stu-id="5e318-355">When the postal code is entered by the user, the UpdatePanel detects the event (the corresponding TextChanged event in the back-end, either by specifying triggers or by using the ChildrenAsTriggers property set to true).</span></span> <span data-ttu-id="5e318-356">AJAX envía todos los campos en el UpdatePanel, tal y como se captura en FireBug (vea el diagrama a la derecha).</span><span class="sxs-lookup"><span data-stu-id="5e318-356">AJAX posts all of the fields within the UpdatePanel, as captured by FireBug (see the diagram on the right).</span></span>

<span data-ttu-id="5e318-357">Como indica la captura de pantalla, se entregan los valores de cada control dentro de UpdatePanel (en este caso, todos están vacíos), así como el campo ViewState.</span><span class="sxs-lookup"><span data-stu-id="5e318-357">As the screen capture indicates, values from every control within the UpdatePanel are delivered (in this case, they are all empty), as well as the ViewState field.</span></span> <span data-ttu-id="5e318-358">Se envían todos los datos que se han indicado, a través de 9Kb, cuando en realidad solo se necesitan cinco bytes de datos para realizar esta solicitud concreta.</span><span class="sxs-lookup"><span data-stu-id="5e318-358">All told, over 9kb of data is sent, when in fact only five bytes of data were needed to make this particular request.</span></span> <span data-ttu-id="5e318-359">La respuesta es aún más redimensionada: en total, 57kb se envía al cliente, simplemente para actualizar un campo de texto y un campo desplegable.</span><span class="sxs-lookup"><span data-stu-id="5e318-359">The response is even more bloated: in total, 57kb is sent to the client, simply to update a text field and a drop-down field.</span></span>

<span data-ttu-id="5e318-360">También puede interesarle ver cómo ASP.NET AJAX actualiza la presentación.</span><span class="sxs-lookup"><span data-stu-id="5e318-360">It may also be of interest to see how ASP.NET AJAX updates the presentation.</span></span> <span data-ttu-id="5e318-361">La parte de respuesta de la solicitud de actualización de UpdatePanel se muestra en la pantalla de la consola de Firebug a la izquierda. es una cadena delimitada por canalización especialmente formulada que se divide por el script de cliente y, a continuación, se reensambla en la página.</span><span class="sxs-lookup"><span data-stu-id="5e318-361">The response portion of the UpdatePanel's update request is shown in the Firebug console display on the left; it is a specially-formulated pipe-delimited string that is broken up by the client script and then reassembled on the page.</span></span> <span data-ttu-id="5e318-362">En concreto, ASP.NET AJAX establece la propiedad *innerHTML* del elemento HTML en el cliente que representa el UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-362">Specifically, ASP.NET AJAX sets the *innerHTML* property of the HTML element on the client that represents your UpdatePanel.</span></span> <span data-ttu-id="5e318-363">Cuando el explorador vuelve a generar el DOM, se produce un pequeño retraso, en función de la cantidad de información que es necesario procesar.</span><span class="sxs-lookup"><span data-stu-id="5e318-363">As the browser re-generates the DOM, there is a slight delay, depending on the amount of information that needs to be processed.</span></span>

<span data-ttu-id="5e318-364">La regeneración del DOM desencadena varios problemas adicionales:</span><span class="sxs-lookup"><span data-stu-id="5e318-364">The regeneration of the DOM triggers a number of additional issues:</span></span>

[![](understanding-partial-page-updates-with-asp-net-ajax/_static/image17.png)](understanding-partial-page-updates-with-asp-net-ajax/_static/image16.png)

<span data-ttu-id="5e318-365">([Haga clic para ver la imagen de tamaño completo](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="5e318-365">([Click to view full-size image](understanding-partial-page-updates-with-asp-net-ajax/_static/image18.png))</span></span>

- <span data-ttu-id="5e318-366">Si el elemento HTML enfocado está dentro de UpdatePanel, perderá el foco.</span><span class="sxs-lookup"><span data-stu-id="5e318-366">If the focused HTML element is within the UpdatePanel, it will lose focus.</span></span> <span data-ttu-id="5e318-367">Por lo tanto, para los usuarios que presionaron la tecla TAB para salir del cuadro de texto código postal, su siguiente destino habría sido el cuadro de texto City.</span><span class="sxs-lookup"><span data-stu-id="5e318-367">So, for users who pressed the Tab key to exit the postal code text box, their next destination would have been the City text box.</span></span> <span data-ttu-id="5e318-368">Sin embargo, una vez que el UpdatePanel ha actualizado la pantalla, el formulario ya no habría tenido el foco y presionar la tecla TAB habría empezado a resaltar los elementos de foco (como los vínculos).</span><span class="sxs-lookup"><span data-stu-id="5e318-368">However, once the UpdatePanel refreshed the display, the form would no longer have had focus, and pressing Tab would have started highlighting the focus elements (such as links).</span></span>
- <span data-ttu-id="5e318-369">Si se usa cualquier tipo de script de cliente personalizado que tiene acceso a los elementos DOM, las referencias que las funciones conservan pueden quedar inactivas después de un postback parcial.</span><span class="sxs-lookup"><span data-stu-id="5e318-369">If any type of custom client-side script is in use that accesses DOM elements, references persisted by functions may become defunct after a partial postback.</span></span>

<span data-ttu-id="5e318-370">Los UpdatePanel no están diseñados para ser soluciones de detección.</span><span class="sxs-lookup"><span data-stu-id="5e318-370">UpdatePanels are not intended to be catch-all solutions.</span></span> <span data-ttu-id="5e318-371">En su lugar, proporcionan una solución rápida para ciertas situaciones, como la creación de prototipos, las actualizaciones de control pequeño, y proporcionan una interfaz conocida para los desarrolladores de ASP.NET que pueden estar familiarizados con el modelo de objetos de .NET pero menos, con el DOM.</span><span class="sxs-lookup"><span data-stu-id="5e318-371">Rather, they provide a quick solution for certain situations, including prototyping, small control updates, and provide a familiar interface to ASP.NET developers who might be familiar with the .NET object model but less-so with the DOM.</span></span> <span data-ttu-id="5e318-372">Hay una serie de alternativas que pueden dar lugar a un mejor rendimiento, dependiendo del escenario de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="5e318-372">There are a number of alternatives that may result in better performance, depending on the application scenario:</span></span>

- <span data-ttu-id="5e318-373">Considere la posibilidad de usar PageMethods y JSON (notación de objetos JavaScript) permite al desarrollador invocar métodos estáticos en una página como si se invocara una llamada de servicio Web.</span><span class="sxs-lookup"><span data-stu-id="5e318-373">Consider using PageMethods and JSON (JavaScript Object Notation) allows the developer to invoke static methods on a page as if a web service call was being invoked.</span></span> <span data-ttu-id="5e318-374">Dado que los métodos son estáticos, no es necesario ningún Estado. el autor de la llamada de script proporciona los parámetros y el resultado se devuelve de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-374">Because the methods are static, no state is necessary; the script caller supplies the parameters, and the result is returned asynchronously.</span></span>
- <span data-ttu-id="5e318-375">Considere la posibilidad de usar un servicio Web y JSON si se debe usar un único control en varios lugares de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="5e318-375">Consider using a Web Service and JSON if a single control needs to be used in several places across an application.</span></span> <span data-ttu-id="5e318-376">De nuevo, esto requiere muy poco trabajo especial y funciona de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-376">This again requires very little special work, and works asynchronously.</span></span>

<span data-ttu-id="5e318-377">La incorporación de funcionalidad a través de los servicios web o los métodos de página también tiene desventajas.</span><span class="sxs-lookup"><span data-stu-id="5e318-377">Incorporating functionality through Web Services or Page Methods has drawbacks as well.</span></span> <span data-ttu-id="5e318-378">En primer lugar, los desarrolladores de ASP.NET suelen crear componentes pequeños de funcionalidad en los controles de usuario (archivos. ascx).</span><span class="sxs-lookup"><span data-stu-id="5e318-378">First and foremost, ASP.NET developers typically tend to build small components of functionality into user controls (.ascx files).</span></span> <span data-ttu-id="5e318-379">Los métodos de página no se pueden hospedar en estos archivos; deben estar hospedados en la clase de página real. aspx.</span><span class="sxs-lookup"><span data-stu-id="5e318-379">Page methods cannot be hosted in these files; they must be hosted within the actual .aspx page class.</span></span> <span data-ttu-id="5e318-380">Los servicios Web, de forma similar, deben estar hospedados en la clase. asmx.</span><span class="sxs-lookup"><span data-stu-id="5e318-380">Web services, similarly, must be hosted within the .asmx class.</span></span> <span data-ttu-id="5e318-381">En función de la aplicación, esta arquitectura puede infringir el principio de responsabilidad única, ya que la funcionalidad de un componente único ahora está distribuida en dos o más componentes físicos que pueden tener pocos o ningún equivalente cohesivo.</span><span class="sxs-lookup"><span data-stu-id="5e318-381">Depending on the application, this architecture may violate the Single Responsibility Principle, in that the functionality for a single component is now spread across two or more physical components which may have little or no cohesive ties.</span></span>

<span data-ttu-id="5e318-382">Por último, si una aplicación requiere que se usen UpdatePanel, las siguientes directrices deberían ayudarle con la solución de problemas y el mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="5e318-382">Finally, if an application requires that UpdatePanels are used, the following guidelines should assist with troubleshooting and maintenance.</span></span>

- <span data-ttu-id="5e318-383">**Anide UpdatePanel lo máximo posible, no solo dentro de las unidades, sino también entre unidades de código.**</span><span class="sxs-lookup"><span data-stu-id="5e318-383">**Nest UpdatePanels as little as possible, not only within-units, but also across units of code.**</span></span> <span data-ttu-id="5e318-384">Por ejemplo, tener un UpdatePanel en una página que contiene un control, mientras que ese control también contiene un UpdatePanel, que contiene otro control que contiene un UpdatePanel, es el anidamiento de unidades cruzadas.</span><span class="sxs-lookup"><span data-stu-id="5e318-384">For example, having an UpdatePanel on a Page that wraps a Control, while that Control also contains an UpdatePanel, which contains another Control that contains an UpdatePanel, is cross-unit nesting.</span></span> <span data-ttu-id="5e318-385">Esto ayuda a mantener claros los elementos que deben actualizarse y evita las actualizaciones inesperadas en los UpdatePanel secundarios.</span><span class="sxs-lookup"><span data-stu-id="5e318-385">This helps to keep clear which elements should be refreshing, and prevents unexpected refreshes to child UpdatePanels.</span></span>
- <span data-ttu-id="5e318-386">**Mantenga la propiedad *ChildrenAsTriggers* establecida en false y establezca explícitamente los eventos desencadenadores.**</span><span class="sxs-lookup"><span data-stu-id="5e318-386">**Keep the *ChildrenAsTriggers* property set to false, and explicitly set triggering events.**</span></span> <span data-ttu-id="5e318-387">El uso de la colección de `<Triggers>` es una manera mucho más clara de controlar los eventos y puede impedir un comportamiento inesperado, ayudando con las tareas de mantenimiento y forzando a un desarrollador a participar en un evento.</span><span class="sxs-lookup"><span data-stu-id="5e318-387">Utilizing the `<Triggers>` collection is a much clearer way to handle events, and may prevent unexpected behavior, helping with maintenance tasks and forcing a developer to opt-in for an event.</span></span>
- <span data-ttu-id="5e318-388">**Use la unidad más pequeña posible para lograr la funcionalidad.**</span><span class="sxs-lookup"><span data-stu-id="5e318-388">**Use the smallest possible unit to achieve functionality.**</span></span> <span data-ttu-id="5e318-389">Como se indicó en la explicación del servicio de código postal, el ajuste exclusivo del mínimo de tiempo para el servidor, el procesamiento total y la superficie del intercambio cliente-servidor, lo que mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="5e318-389">As noted in the discussion of the postal code service, wrapping only the bare minimum reduces time to the server, total processing, and the footprint of the client-server exchange, enhancing performance.</span></span>

## <a name="the-updateprogress-control"></a><span data-ttu-id="5e318-390">El control UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="5e318-390">The UpdateProgress Control</span></span>

## <a name="updateprogress-control-reference"></a><span data-ttu-id="5e318-391">Referencia del control UpdateProgress</span><span class="sxs-lookup"><span data-stu-id="5e318-391">UpdateProgress Control Reference</span></span>

<span data-ttu-id="5e318-392">Propiedades habilitadas para marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-392">Markup-Enabled Properties:</span></span>

| <span data-ttu-id="5e318-393">**Nombre de la propiedad**</span><span class="sxs-lookup"><span data-stu-id="5e318-393">**Property Name**</span></span> | <span data-ttu-id="5e318-394">**ype**</span><span class="sxs-lookup"><span data-stu-id="5e318-394">**Type**</span></span> | <span data-ttu-id="5e318-395">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-395">**Description**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="5e318-396">AssociatedUpdate-PanelID</span><span class="sxs-lookup"><span data-stu-id="5e318-396">AssociatedUpdate-PanelID</span></span> | <span data-ttu-id="5e318-397">Cadena</span><span class="sxs-lookup"><span data-stu-id="5e318-397">String</span></span> | <span data-ttu-id="5e318-398">Especifica el identificador del UpdatePanel en el que debería informar este UpdateProgress.</span><span class="sxs-lookup"><span data-stu-id="5e318-398">Specifies the ID of the UpdatePanel that this UpdateProgress should report on.</span></span> |
| <span data-ttu-id="5e318-399">DisplayAfter</span><span class="sxs-lookup"><span data-stu-id="5e318-399">DisplayAfter</span></span> | <span data-ttu-id="5e318-400">Valor int.</span><span class="sxs-lookup"><span data-stu-id="5e318-400">Int</span></span> | <span data-ttu-id="5e318-401">Especifica el tiempo de espera en milisegundos antes de que se muestre este control después de que comience la solicitud asincrónica.</span><span class="sxs-lookup"><span data-stu-id="5e318-401">Specifies the timeout in milliseconds before this control is displayed after the asynchronous request begins.</span></span> |
| <span data-ttu-id="5e318-402">DynamicLayout</span><span class="sxs-lookup"><span data-stu-id="5e318-402">DynamicLayout</span></span> | <span data-ttu-id="5e318-403">bool</span><span class="sxs-lookup"><span data-stu-id="5e318-403">bool</span></span> | <span data-ttu-id="5e318-404">Especifica si el progreso se representa dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="5e318-404">Specifies whether the progress is rendered dynamically.</span></span> |

<span data-ttu-id="5e318-405">Descendientes de marcado:</span><span class="sxs-lookup"><span data-stu-id="5e318-405">Markup Descendants:</span></span>

| <span data-ttu-id="5e318-406">**Tag**</span><span class="sxs-lookup"><span data-stu-id="5e318-406">**Tag**</span></span> | <span data-ttu-id="5e318-407">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="5e318-407">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="5e318-408">&lt;ProgressTemplate&gt;</span><span class="sxs-lookup"><span data-stu-id="5e318-408">&lt;ProgressTemplate&gt;</span></span> | <span data-ttu-id="5e318-409">Contiene el conjunto de plantillas de control para el contenido que se mostrará con este control.</span><span class="sxs-lookup"><span data-stu-id="5e318-409">Contains the control template set for the content that will be displayed with this control.</span></span> |

<span data-ttu-id="5e318-410">El control UpdateProgress proporciona una medida de los comentarios para mantener el interés de los usuarios mientras realiza el trabajo necesario para transportarlo al servidor.</span><span class="sxs-lookup"><span data-stu-id="5e318-410">The UpdateProgress control gives you a measure of feedback to keep your users' interest while doing the necessary work to transport to the server.</span></span> <span data-ttu-id="5e318-411">Esto puede ayudar a los usuarios a saber que está haciendo algo aunque es posible que no sea aparente, en especial porque la mayoría de los usuarios se utilizan para actualizar la página y ver el resaltado de la barra de estado.</span><span class="sxs-lookup"><span data-stu-id="5e318-411">This can help your users know that you're doing something even though it may not be apparent, especially since most users are used to the page refreshing and seeing the status bar highlight.</span></span>

<span data-ttu-id="5e318-412">Como nota, los controles UpdateProgress pueden aparecer en cualquier parte de una jerarquía de páginas.</span><span class="sxs-lookup"><span data-stu-id="5e318-412">As a note, UpdateProgress controls can appear anywhere on a page hierarchy.</span></span> <span data-ttu-id="5e318-413">Sin embargo, en los casos en que se inicia un postback parcial desde un UpdatePanel secundario (donde UpdatePanel está anidado dentro de otro UpdatePanel), los postbacks que desencadenan el UpdatePanel secundario provocarán que se muestren las plantillas UpdateProgress para el elemento secundario. UpdatePanel y el UpdatePanel primario.</span><span class="sxs-lookup"><span data-stu-id="5e318-413">However, in cases in which a partial postback is initiated from a child UpdatePanel (where an UpdatePanel is nested within another UpdatePanel), postbacks that trigger the child UpdatePanel will cause UpdateProgress templates to be displayed for the child UpdatePanel as well as the parent UpdatePanel.</span></span> <span data-ttu-id="5e318-414">Sin embargo, si el desencadenador es un elemento secundario directo del UpdatePanel primario, solo se mostrarán las plantillas UpdateProgress asociadas con el elemento primario.</span><span class="sxs-lookup"><span data-stu-id="5e318-414">But, if the trigger is a direct child of the parent UpdatePanel, then only the UpdateProgress templates associated with the parent will be displayed.</span></span>

## <a name="summary"></a><span data-ttu-id="5e318-415">Resumen</span><span class="sxs-lookup"><span data-stu-id="5e318-415">Summary</span></span>

<span data-ttu-id="5e318-416">Las extensiones de AJAX Microsoft ASP.NET son productos sofisticados diseñados para ayudar a que el contenido web sea más accesible y ofrecer una experiencia de usuario más enriquecida a las aplicaciones Web.</span><span class="sxs-lookup"><span data-stu-id="5e318-416">The Microsoft ASP.NET AJAX extensions are sophisticated products designed to assist in making web content more accessible and to provide a richer user experience to your web applications.</span></span> <span data-ttu-id="5e318-417">Como parte de las extensiones de AJAX de ASP.NET, los controles de representación de página parcial, incluidos los controles ScriptManager, UpdatePanel y UpdateProgress, son algunos de los componentes más visibles del kit de herramientas.</span><span class="sxs-lookup"><span data-stu-id="5e318-417">As part of the ASP.NET AJAX Extensions, the partial page rendering controls, including the ScriptManager, the UpdatePanel, and UpdateProgress controls are some of the most visible components of the toolkit.</span></span>

<span data-ttu-id="5e318-418">El componente ScriptManager integra el aprovisionamiento de JavaScript de cliente para las extensiones, y permite que los distintos componentes del lado servidor y cliente funcionen conjuntamente con una inversión de desarrollo mínima.</span><span class="sxs-lookup"><span data-stu-id="5e318-418">The ScriptManager component integrates the provision of client JavaScript for the Extensions, as well as enables the various server- and client-side components to work together with minimal development investment.</span></span>

<span data-ttu-id="5e318-419">El control UpdatePanel es el marcado de cuadro mágico aparente en el UpdatePanel puede tener el código subyacente del lado servidor y no desencadenar una actualización de página.</span><span class="sxs-lookup"><span data-stu-id="5e318-419">The UpdatePanel control is the apparent magic box - markup within the UpdatePanel can have server-side Codebehind and not trigger a page refresh.</span></span> <span data-ttu-id="5e318-420">Los controles UpdatePanel se pueden anidar y pueden depender de controles de otros UpdatePanel.</span><span class="sxs-lookup"><span data-stu-id="5e318-420">UpdatePanel controls can be nested, and can be dependent on controls in other UpdatePanels.</span></span> <span data-ttu-id="5e318-421">De forma predeterminada, UpdatePanel controla cualquier postback invocado por sus controles descendientes, aunque esta funcionalidad se puede optimizar con precisión, ya sea mediante declaración o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="5e318-421">By default, UpdatePanels handle any postbacks invoked by their descendant controls, although this functionality can be finely tuned, either declaratively or programmatically.</span></span>

<span data-ttu-id="5e318-422">Cuando se usa el control UpdatePanel, los desarrolladores deben tener en cuenta el impacto en el rendimiento que podría surgir.</span><span class="sxs-lookup"><span data-stu-id="5e318-422">When using the UpdatePanel control, developers should be aware of the performance impact that could potentially arise.</span></span> <span data-ttu-id="5e318-423">Entre las alternativas posibles se incluyen los servicios web y los métodos de página, aunque se debe tener en cuenta el diseño de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="5e318-423">Potential alternatives include web services and page methods, though the design of the application should be considered.</span></span>

<span data-ttu-id="5e318-424">El control UpdateProgress permite al usuario saber que no se pasa por alto y que la solicitud en segundo plano está en curso mientras que la página no está haciendo nada para responder a la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="5e318-424">The UpdateProgress control allows the user to know that she or he is not being ignored, and that the behind-the-scenes request is going on while the page is otherwise not doing anything to respond to the user input.</span></span> <span data-ttu-id="5e318-425">También incluye la capacidad de anular los resultados de la representación parcial.</span><span class="sxs-lookup"><span data-stu-id="5e318-425">It also includes the ability to abort partial rendering results.</span></span>

<span data-ttu-id="5e318-426">Juntas, estas herramientas ayudan a crear una experiencia de usuario enriquecida y sin problemas al hacer que el servidor funcione menos aparente para el usuario y interrumpa el flujo de trabajo menos.</span><span class="sxs-lookup"><span data-stu-id="5e318-426">Together, these tools assist creating a rich and seamless user experience by making server work less apparent to the user and interrupting workflow less.</span></span>

## <a name="bio"></a><span data-ttu-id="5e318-427">Disponibilidad</span><span class="sxs-lookup"><span data-stu-id="5e318-427">Bio</span></span>

<span data-ttu-id="5e318-428">Scott Cate ha estado trabajando con las tecnologías Web de Microsoft desde 1997 y es el Presidente de myKB.com ([www.myKB.com](http://www.myKB.com)), donde se especializa en escribir aplicaciones basadas en ASP.net centradas en las soluciones de software de la base de conocimiento.</span><span class="sxs-lookup"><span data-stu-id="5e318-428">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="5e318-429">Puede ponerse en contacto con Scott por correo electrónico en [scott.cate@myKB.com](mailto:scott.cate@myKB.com) o su blog en [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="5e318-429">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="5e318-430">Siguiente</span><span class="sxs-lookup"><span data-stu-id="5e318-430">Next</span></span>](understanding-asp-net-ajax-updatepanel-triggers.md)

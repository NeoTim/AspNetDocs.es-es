---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
title: Agregar una columna GridView de casillas de verificación (C#) | Microsoft Docs
author: rick-anderson
description: Este tutorial explica cómo agregar una columna de casillas de verificación a un control GridView para proporcionar al usuario una manera intuitiva de la selección de varias filas de la G...
ms.author: riande
ms.date: 03/06/2007
ms.assetid: f63a9443-2db0-4f80-8246-840d3e86c2a3
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs
msc.type: authoredcontent
ms.openlocfilehash: 7f19965894b899aa429be0ef89ccde121191aeb8
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59394034"
---
# <a name="adding-a-gridview-column-of-checkboxes-c"></a><span data-ttu-id="ab361-103">Agregar una columna GridView de casillas de verificación (C#)</span><span class="sxs-lookup"><span data-stu-id="ab361-103">Adding a GridView Column of Checkboxes (C#)</span></span>

<span data-ttu-id="ab361-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ab361-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ab361-105">[Descargue la aplicación de ejemplo](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) o [descargar PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="ab361-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_52_CS.exe) or [Download PDF](adding-a-gridview-column-of-checkboxes-cs/_static/datatutorial52cs1.pdf)</span></span>

> <span data-ttu-id="ab361-106">Este tutorial examina cómo agregar una columna de casillas de verificación a un control GridView para proporcionar al usuario una manera intuitiva de la selección de varias filas del control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-106">This tutorial looks at how to add a column of check boxes to a GridView control to provide the user with an intuitive way of selecting multiple rows of the GridView.</span></span>


## <a name="introduction"></a><span data-ttu-id="ab361-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="ab361-107">Introduction</span></span>

<span data-ttu-id="ab361-108">En el tutorial anterior, hemos visto cómo agregar una columna de botones de radio en el control GridView con el fin de seleccionar un registro concreto.</span><span class="sxs-lookup"><span data-stu-id="ab361-108">In the preceding tutorial we examined how to add a column of radio buttons to the GridView for the purpose of selecting a particular record.</span></span> <span data-ttu-id="ab361-109">Una columna de botones de opción es una interfaz de usuario adecuado cuando el usuario está limitado a elegir a lo sumo un elemento de la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="ab361-109">A column of radio buttons is a suitable user interface when the user is limited to choosing at most one item from the grid.</span></span> <span data-ttu-id="ab361-110">En ocasiones, sin embargo, nos conviene permite al usuario seleccionar un número arbitrario de elementos de la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="ab361-110">At times, however, we may want to allow the user to pick an arbitrary number of items from the grid.</span></span> <span data-ttu-id="ab361-111">Por ejemplo, los clientes de correo electrónico basado en Web, mostrar la lista de mensajes con una columna de casillas de verificación.</span><span class="sxs-lookup"><span data-stu-id="ab361-111">Web-based email clients, for example, typically display the list of messages with a column of checkboxes.</span></span> <span data-ttu-id="ab361-112">El usuario puede seleccionar un número arbitrario de mensajes y, a continuación, realizar alguna acción, como mover los mensajes de correo electrónico a otra carpeta o eliminarlos.</span><span class="sxs-lookup"><span data-stu-id="ab361-112">The user can select an arbitrary number of messages and then perform some action, such as moving the emails to another folder or deleting them.</span></span>

<span data-ttu-id="ab361-113">En este tutorial, veremos cómo agregar una columna de casillas de verificación y cómo determinar qué casillas de verificación se protegieron en el postback.</span><span class="sxs-lookup"><span data-stu-id="ab361-113">In this tutorial we will see how to add a column of checkboxes and how to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="ab361-114">En concreto, vamos a crear un ejemplo que imita la interfaz de usuario del cliente de correo electrónico basado en web.</span><span class="sxs-lookup"><span data-stu-id="ab361-114">In particular, we'll build an example that closely mimics the web-based email client user interface.</span></span> <span data-ttu-id="ab361-115">En nuestro ejemplo incluirá un GridView paginado lista de los productos en el `Products` (consulte la figura 1) de tabla de base de datos con una casilla en cada fila.</span><span class="sxs-lookup"><span data-stu-id="ab361-115">Our example will include a paged GridView listing the products in the `Products` database table with a checkbox in each row (see Figure 1).</span></span> <span data-ttu-id="ab361-116">Un botón Eliminar productos seleccionados, al hacer clic, eliminará los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="ab361-116">A Delete Selected Products button, when clicked, will delete those products selected.</span></span>


[![E<span data-ttu-id="ab361-117">Fila del producto ACH incluye una casilla de verificación]</span><span class="sxs-lookup"><span data-stu-id="ab361-117">ach Product Row Includes a Checkbox]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image1.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image1.png)

<span data-ttu-id="ab361-118">**Figura 1**: Cada fila del producto incluye una casilla de verificación ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-118">**Figure 1**: Each Product Row Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image2.png))</span></span>


## <a name="step-1-adding-a-paged-gridview-that-lists-product-information"></a><span data-ttu-id="ab361-119">Paso 1: Agregar un control GridView paginado que muestra información de producto</span><span class="sxs-lookup"><span data-stu-id="ab361-119">Step 1: Adding a Paged GridView that Lists Product Information</span></span>

<span data-ttu-id="ab361-120">Antes de que preocuparse acerca de cómo agregar una columna de casillas de verificación, permiten centrarnos primero de s en la lista de los productos en un control GridView que admita la paginación.</span><span class="sxs-lookup"><span data-stu-id="ab361-120">Before we worry about adding a column of checkboxes, let s first focus on listing the products in a GridView that supports paging.</span></span> <span data-ttu-id="ab361-121">Comience abriendo la `CheckBoxField.aspx` página en el `EnhancedGridView` carpeta y arrastre un control GridView del cuadro de herramientas hasta el diseñador, establecer su `ID` a `Products`.</span><span class="sxs-lookup"><span data-stu-id="ab361-121">Start by opening the `CheckBoxField.aspx` page in the `EnhancedGridView` folder and drag a GridView from the Toolbox onto the Designer, setting its `ID` to `Products`.</span></span> <span data-ttu-id="ab361-122">A continuación, elija enlazar el control GridView a un nuevo origen ObjectDataSource denominado `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ab361-122">Next, choose to bind the GridView to a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="ab361-123">Configurar el origen ObjectDataSource para usar el `ProductsBLL` clase, una llamada a la `GetProducts()` método para devolver los datos.</span><span class="sxs-lookup"><span data-stu-id="ab361-123">Configure the ObjectDataSource to use the `ProductsBLL` class, calling the `GetProducts()` method to return the data.</span></span> <span data-ttu-id="ab361-124">Puesto que este GridView será de solo lectura, establezca las listas desplegables en la actualización, INSERCIÓN y eliminar pestañas en (None).</span><span class="sxs-lookup"><span data-stu-id="ab361-124">Since this GridView will be read-only, set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) .</span></span>


[![C<span data-ttu-id="ab361-125">crear un nuevo ProductsDataSource denominado de ObjectDataSource]</span><span class="sxs-lookup"><span data-stu-id="ab361-125">reate a New ObjectDataSource Named ProductsDataSource]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image2.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image3.png)

<span data-ttu-id="ab361-126">**Figura 2**: Crear un nuevo origen ObjectDataSource denominado `ProductsDataSource` ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-126">**Figure 2**: Create a New ObjectDataSource Named `ProductsDataSource` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image4.png))</span></span>


[![C<span data-ttu-id="ab361-127">configurar el origen ObjectDataSource para recuperar datos mediante el método GetProducts()]</span><span class="sxs-lookup"><span data-stu-id="ab361-127">onfigure the ObjectDataSource to Retrieve Data Using the GetProducts() Method]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image3.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image5.png)

<span data-ttu-id="ab361-128">**Figura 3**: Configurar el origen ObjectDataSource para recuperar datos mediante el `GetProducts()` método ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-128">**Figure 3**: Configure the ObjectDataSource to Retrieve Data Using the `GetProducts()` Method ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image6.png))</span></span>


[![S<span data-ttu-id="ab361-129">et las listas desplegables en la actualización, INSERCIÓN y eliminación pestañas en (None)]</span><span class="sxs-lookup"><span data-stu-id="ab361-129">et the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None)]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image4.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image7.png)

<span data-ttu-id="ab361-130">**Figura 4**: Establecer la lista desplegable se enumeran en la actualización, INSERCIÓN y eliminar pestañas en (None) ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-130">**Figure 4**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE Tabs to (None) ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image8.png))</span></span>


<span data-ttu-id="ab361-131">Después de completar al Asistente para configurar orígenes de datos, Visual Studio creará automáticamente BoundColumns y un CheckBoxColumn para los campos de datos relacionados con el producto.</span><span class="sxs-lookup"><span data-stu-id="ab361-131">After completing the Configure Data Source wizard, Visual Studio will automatically create BoundColumns and a CheckBoxColumn for the product-related data fields.</span></span> <span data-ttu-id="ab361-132">Igual que hizo en el tutorial anterior, quite todos menos a los `ProductName`, `CategoryName`, y `UnitPrice` BoundFields y cambie el `HeaderText` propiedades para el producto, Category y Price.</span><span class="sxs-lookup"><span data-stu-id="ab361-132">Like we did in the previous tutorial, remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="ab361-133">Configurar la `UnitPrice` BoundField para que su valor tiene el formato como una moneda.</span><span class="sxs-lookup"><span data-stu-id="ab361-133">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="ab361-134">Configure también la GridView para admitir la paginación activando la casilla Habilitar la paginación de la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="ab361-134">Also configure the GridView to support paging by checking the Enable Paging checkbox from the smart tag.</span></span>

<span data-ttu-id="ab361-135">Permitir s también agregar la interfaz de usuario para eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="ab361-135">Let s also add the user interface for deleting the selected products.</span></span> <span data-ttu-id="ab361-136">Agregar un control de botón Web bajo el control GridView, establecer su `ID` a `DeleteSelectedProducts` y su `Text` propiedad para eliminar los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="ab361-136">Add a Button Web control beneath the GridView, setting its `ID` to `DeleteSelectedProducts` and its `Text` property to Delete Selected Products.</span></span> <span data-ttu-id="ab361-137">En lugar de eliminar realmente los productos de la base de datos, en este ejemplo se sólo mostrará un mensaje que indica los productos que se habrían eliminados.</span><span class="sxs-lookup"><span data-stu-id="ab361-137">Rather than actually deleting products from the database, for this example we'll just display a message stating the products that would have been deleted.</span></span> <span data-ttu-id="ab361-138">Para dar cabida a esto, agregue un control Web de la etiqueta debajo del botón.</span><span class="sxs-lookup"><span data-stu-id="ab361-138">To accommodate this, add a Label Web control beneath the Button.</span></span> <span data-ttu-id="ab361-139">Establezca su identificador en `DeleteResults`, desactive horizontalmente su `Text` propiedad y establezca su `Visible` y `EnableViewState` propiedades para `false`.</span><span class="sxs-lookup"><span data-stu-id="ab361-139">Set its ID to `DeleteResults`, clear out its `Text` property, and set its `Visible` and `EnableViewState` properties to `false`.</span></span>

<span data-ttu-id="ab361-140">Después de realizar estos cambios, el marcado declarativo de s GridView, ObjectDataSource, botón y etiqueta debería similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="ab361-140">After making these changes, the GridView, ObjectDataSource, Button, and Label s declarative markup should similar to the following:</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample1.aspx)]

<span data-ttu-id="ab361-141">Dedique un momento para ver la página en un explorador (consulte la figura 5).</span><span class="sxs-lookup"><span data-stu-id="ab361-141">Take a moment to view the page in a browser (see Figure 5).</span></span> <span data-ttu-id="ab361-142">En este momento debería ver el nombre, la categoría y el precio de los diez primeros productos.</span><span class="sxs-lookup"><span data-stu-id="ab361-142">At this point you should see the name, category, and price of the first ten products.</span></span>


[![T<span data-ttu-id="ab361-143">se muestran, nombre, categoría y el precio de los primeros diez productos]</span><span class="sxs-lookup"><span data-stu-id="ab361-143">he Name, Category, and Price of the First Ten Products are Listed]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image5.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image9.png)

<span data-ttu-id="ab361-144">**Figura 5**: Se muestran el nombre, la categoría y el precio de los primeros diez productos ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-144">**Figure 5**: The Name, Category, and Price of the First Ten Products are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image10.png))</span></span>


## <a name="step-2-adding-a-column-of-checkboxes"></a><span data-ttu-id="ab361-145">Paso 2: Agregar una columna de casillas de verificación</span><span class="sxs-lookup"><span data-stu-id="ab361-145">Step 2: Adding a Column of Checkboxes</span></span>

<span data-ttu-id="ab361-146">Dado que ASP.NET 2.0 incluye una CampoCasillaVerificación, uno puede pensar que podría usarse para agregar una columna de casillas de verificación en un control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-146">Since ASP.NET 2.0 includes a CheckBoxField, one might think that it could be used to add a column of checkboxes to a GridView.</span></span> <span data-ttu-id="ab361-147">Por desgracia, que no es el caso, como el CampoCasillaVerificación está diseñado para trabajar con un campo de datos booleano.</span><span class="sxs-lookup"><span data-stu-id="ab361-147">Unfortunately, that is not the case, as the CheckBoxField is designed to work with a Boolean data field.</span></span> <span data-ttu-id="ab361-148">Es decir, para poder usar CheckBoxField debemos especificar el campo de datos subyacente cuyo valor se consulta para determinar si se activa la casilla representada.</span><span class="sxs-lookup"><span data-stu-id="ab361-148">That is, in order to use the CheckBoxField we must specify the underlying data field whose value is consulted to determine whether the rendered checkbox is checked.</span></span> <span data-ttu-id="ab361-149">No podemos utilizar CheckBoxField para incluir solo una columna de casillas de verificación desactivada.</span><span class="sxs-lookup"><span data-stu-id="ab361-149">We cannot use the CheckBoxField to just include a column of unchecked checkboxes.</span></span>

<span data-ttu-id="ab361-150">En su lugar, debemos agregar TemplateField y agregar un control de casilla de verificación Web a su `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="ab361-150">Instead, we must add a TemplateField and add a CheckBox Web control to its `ItemTemplate`.</span></span> <span data-ttu-id="ab361-151">Agregue un TemplateField para el `Products` GridView y conviértalo en el primer campo (izquierdo).</span><span class="sxs-lookup"><span data-stu-id="ab361-151">Go ahead and add a TemplateField to the `Products` GridView and make it the first (far-left) field.</span></span> <span data-ttu-id="ab361-152">En la etiqueta inteligente de GridView s, haga clic en el vínculo Editar plantillas y, a continuación, arrastre un control CheckBox Web desde el cuadro de herramientas en el `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="ab361-152">From the GridView s smart tag, click on the Edit Templates link and then drag a CheckBox Web control from the Toolbox into the `ItemTemplate`.</span></span> <span data-ttu-id="ab361-153">Establecer esta casilla de verificación s `ID` propiedad `ProductSelector`.</span><span class="sxs-lookup"><span data-stu-id="ab361-153">Set this CheckBox s `ID` property to `ProductSelector`.</span></span>


[![A<span data-ttu-id="ab361-154">dd un ProductSelector de denominado de Control Web de casilla de verificación para el s TemplateField ItemTemplate]</span><span class="sxs-lookup"><span data-stu-id="ab361-154">dd a CheckBox Web Control Named ProductSelector to the TemplateField s ItemTemplate]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image6.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image11.png)

<span data-ttu-id="ab361-155">**Figura 6**: Agregue un Control de casilla de verificación Web denominado `ProductSelector` al s TemplateField `ItemTemplate` ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-155">**Figure 6**: Add a CheckBox Web Control Named `ProductSelector` to the TemplateField s `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image12.png))</span></span>


<span data-ttu-id="ab361-156">Con el control Web de la casilla de verificación y TemplateField agregado, cada fila ahora incluye una casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="ab361-156">With the TemplateField and CheckBox Web control added, each row now includes a checkbox.</span></span> <span data-ttu-id="ab361-157">Figura 7 muestra esta página, cuando se ve mediante un explorador, después de han agregado el TemplateField y la casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="ab361-157">Figure 7 shows this page, when viewed through a browser, after the TemplateField and CheckBox have been added.</span></span>


[![E<span data-ttu-id="ab361-158">Fila del producto ACH ahora incluye una casilla de verificación]</span><span class="sxs-lookup"><span data-stu-id="ab361-158">ach Product Row Now Includes a Checkbox]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image7.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image13.png)

<span data-ttu-id="ab361-159">**Figura 7**: Cada fila del producto ahora incluye una casilla de verificación ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-159">**Figure 7**: Each Product Row Now Includes a Checkbox ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image14.png))</span></span>


## <a name="step-3-determining-what-checkboxes-were-checked-on-postback"></a><span data-ttu-id="ab361-160">Paso 3: Determinar qué casillas de verificación se comprueban en el Postback</span><span class="sxs-lookup"><span data-stu-id="ab361-160">Step 3: Determining What Checkboxes Were Checked On Postback</span></span>

<span data-ttu-id="ab361-161">En este momento tenemos una columna de casillas, pero no se puede determinar qué casillas de verificación se protegieron en el postback.</span><span class="sxs-lookup"><span data-stu-id="ab361-161">At this point we have a column of checkboxes but no way to determine what checkboxes were checked on postback.</span></span> <span data-ttu-id="ab361-162">Sin embargo, cuando se hace clic en el botón Eliminar productos seleccionados, necesitamos saber qué casillas de verificación se comprobaron con el fin de eliminar esos productos.</span><span class="sxs-lookup"><span data-stu-id="ab361-162">When the Delete Selected Products button is clicked, though, we need to know what checkboxes were checked in order to delete those products.</span></span>

<span data-ttu-id="ab361-163">Las operaciones de asignación GridView [ `Rows` propiedad](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) proporciona acceso a las filas de datos en GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-163">The GridView s [`Rows` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.rows.aspx) provides access to the data rows in the GridView.</span></span> <span data-ttu-id="ab361-164">Nos podemos iterar a través de estas filas, obtener acceso mediante programación el control de casilla de verificación y, a continuación, consulte su `Checked` propiedad para determinar si se ha seleccionado la casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="ab361-164">We can iterate through these rows, programmatically access the CheckBox control, and then consult its `Checked` property to determine whether the CheckBox has been selected.</span></span>

<span data-ttu-id="ab361-165">Crear un controlador de eventos para el `DeleteSelectedProducts` control de botón Web s `Click` eventos y agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="ab361-165">Create an event handler for the `DeleteSelectedProducts` Button Web control s `Click` event and add the following code:</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample2.cs)]

<span data-ttu-id="ab361-166">El `Rows` propiedad devuelve una colección de `GridViewRow` instancias que utilizan las filas de datos s GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-166">The `Rows` property returns a collection of `GridViewRow` instances that makeup the GridView s data rows.</span></span> <span data-ttu-id="ab361-167">El `foreach` bucle aquí enumera esta colección.</span><span class="sxs-lookup"><span data-stu-id="ab361-167">The `foreach` loop here enumerates this collection.</span></span> <span data-ttu-id="ab361-168">Para cada `GridViewRow` objeto, la fila s CheckBox se accede mediante programación utilizando `row.FindControl("controlID")`.</span><span class="sxs-lookup"><span data-stu-id="ab361-168">For each `GridViewRow` object, the row s CheckBox is programmatically accessed using `row.FindControl("controlID")`.</span></span> <span data-ttu-id="ab361-169">Si está activada la casilla de verificación, la correspondiente fila s `ProductID` se recupera el valor de la `DataKeys` colección.</span><span class="sxs-lookup"><span data-stu-id="ab361-169">If the CheckBox is checked, the row s corresponding `ProductID` value is retrieved from the `DataKeys` collection.</span></span> <span data-ttu-id="ab361-170">En este ejercicio, simplemente mostrar un mensaje informativo en el `DeleteResults` etiquetar, aunque en una aplicación de trabajo d en su lugar, realizamos una llamada a la `ProductsBLL` clase s `DeleteProduct(productID)` método.</span><span class="sxs-lookup"><span data-stu-id="ab361-170">In this exercise, we simply display an informative message in the `DeleteResults` Label, although in a working application we d instead make a call to the `ProductsBLL` class s `DeleteProduct(productID)` method.</span></span>

<span data-ttu-id="ab361-171">Con la adición de este controlador de eventos, haga clic en el botón Eliminar productos seleccionados ahora muestra el `ProductID` s de los productos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="ab361-171">With the addition of this event handler, clicking the Delete Selected Products button now displays the `ProductID` s of the selected products.</span></span>


[![W<span data-ttu-id="ab361-172">hen el botón Eliminar productos de seleccionado se hace clic en el ProductID de productos seleccionada se muestran]</span><span class="sxs-lookup"><span data-stu-id="ab361-172">hen the Delete Selected Products Button is Clicked the Selected Products ProductIDs are Listed]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image8.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image15.png)

<span data-ttu-id="ab361-173">**Figura 8**: Cuando se hace clic el botón Eliminar productos de seleccionada en los productos seleccionados `ProductID` se enumeran ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-173">**Figure 8**: When the Delete Selected Products Button is Clicked the Selected Products `ProductID` s are Listed ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image16.png))</span></span>


## <a name="step-4-adding-check-all-and-uncheck-all-buttons"></a><span data-ttu-id="ab361-174">Paso 4: Agregar Active todos y desactive todos los botones</span><span class="sxs-lookup"><span data-stu-id="ab361-174">Step 4: Adding Check All and Uncheck All Buttons</span></span>

<span data-ttu-id="ab361-175">Si un usuario desea eliminar todos los productos en la página actual, debe comprobar cada una de las casillas de diez verificación.</span><span class="sxs-lookup"><span data-stu-id="ab361-175">If a user wants to delete all products on the current page, they must check each of the ten checkboxes.</span></span> <span data-ttu-id="ab361-176">Podemos ayudarle a acelerar este proceso mediante la adición de comprobar todas botón que, al hacer clic, selecciona todas las casillas de verificación en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="ab361-176">We can help expedite this process by adding a Check All button that, when clicked, selects all of the checkboxes in the grid.</span></span> <span data-ttu-id="ab361-177">Un botón Desactivar todo sería igualmente útil.</span><span class="sxs-lookup"><span data-stu-id="ab361-177">An Uncheck All button would be equally helpful.</span></span>

<span data-ttu-id="ab361-178">Agregue dos controles de botón Web a la página, y los coloca por encima del control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-178">Add two Button Web controls to the page, placing them above the GridView.</span></span> <span data-ttu-id="ab361-179">Establecer la s primero un `ID` a `CheckAll` y su `Text` la propiedad comprobar todo; la un segundo s conjunto `ID` a `UncheckAll` y su `Text` propiedad para desactivar todo.</span><span class="sxs-lookup"><span data-stu-id="ab361-179">Set the first one s `ID` to `CheckAll` and its `Text` property to Check All ; set the second one s `ID` to `UncheckAll` and its `Text` property to Uncheck All .</span></span>


[!code-aspx[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample3.aspx)]

<span data-ttu-id="ab361-180">A continuación, cree un método en la clase de código subyacente denominada `ToggleCheckState(checkState)` que, cuando se invoca, enumera el `Products` GridView s `Rows` colección y establece cada casilla de verificación s `Checked` propiedad en el valor pasado en *checkState*  parámetro.</span><span class="sxs-lookup"><span data-stu-id="ab361-180">Next, create a method in the code-behind class named `ToggleCheckState(checkState)` that, when invoked, enumerates the `Products` GridView s `Rows` collection and sets each CheckBox s `Checked` property to the value of the passed in *checkState* parameter.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample4.cs)]

<span data-ttu-id="ab361-181">A continuación, cree `Click` controladores de eventos para el `CheckAll` y `UncheckAll` botones.</span><span class="sxs-lookup"><span data-stu-id="ab361-181">Next, create `Click` event handlers for the `CheckAll` and `UncheckAll` buttons.</span></span> <span data-ttu-id="ab361-182">En `CheckAll` controlador de eventos de s, simplemente llamada `ToggleCheckState(true)`; en `UncheckAll`, llame a `ToggleCheckState(false)`.</span><span class="sxs-lookup"><span data-stu-id="ab361-182">In `CheckAll` s event handler, simply call `ToggleCheckState(true)`; in `UncheckAll`, call `ToggleCheckState(false)`.</span></span>


[!code-csharp[Main](adding-a-gridview-column-of-checkboxes-cs/samples/sample5.cs)]

<span data-ttu-id="ab361-183">Con este código, al hacer clic en el botón Comprobar todo produce un postback y comprueba todas las casillas de verificación en el control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-183">With this code, clicking the Check All button causes a postback and checks all of the checkboxes in the GridView.</span></span> <span data-ttu-id="ab361-184">Del mismo modo, al hacer clic en desactivar todo anula la selección de todas las casillas.</span><span class="sxs-lookup"><span data-stu-id="ab361-184">Likewise, clicking Uncheck All unselects all checkboxes.</span></span> <span data-ttu-id="ab361-185">Figura 9 muestra la pantalla después el botón Comprobar todo se ha protegido.</span><span class="sxs-lookup"><span data-stu-id="ab361-185">Figure 9 shows the screen after the Check All button has been checked.</span></span>


[![C<span data-ttu-id="ab361-186">electrónicamente con la comprobación de todos los botón selecciona todas las casillas]</span><span class="sxs-lookup"><span data-stu-id="ab361-186">licking the Check All Button Selects All Checkboxes]</span></span>(adding-a-gridview-column-of-checkboxes-cs/_static/image9.gif)](adding-a-gridview-column-of-checkboxes-cs/_static/image17.png)

<span data-ttu-id="ab361-187">**Figura 9**: Al hacer clic en la comprobación de todos los botón selecciona todas las casillas ([haga clic aquí para ver imagen en tamaño completo](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="ab361-187">**Figure 9**: Clicking the Check All Button Selects All Checkboxes ([Click to view full-size image](adding-a-gridview-column-of-checkboxes-cs/_static/image18.png))</span></span>


> [!NOTE]
> <span data-ttu-id="ab361-188">Al mostrar una columna de casillas de verificación, un enfoque para seleccionar o anular la selección todas las casillas de verificación es a través de una casilla en la fila de encabezado.</span><span class="sxs-lookup"><span data-stu-id="ab361-188">When displaying a column of checkboxes, one approach for selecting or unselecting all of the checkboxes is through a checkbox in the header row.</span></span> <span data-ttu-id="ab361-189">Además, actual marque todas las / desactive toda implementación requiere un postback.</span><span class="sxs-lookup"><span data-stu-id="ab361-189">Moreover, the current Check All / Uncheck All implementation requires a postback.</span></span> <span data-ttu-id="ab361-190">Las casillas de verificación puede activar o desactivar, sin embargo, completamente a través de script de cliente, lo que proporciona una experiencia de usuario más ágil.</span><span class="sxs-lookup"><span data-stu-id="ab361-190">The checkboxes can be checked or unchecked, however, entirely through client-side script, thereby providing a snappier user experience.</span></span> <span data-ttu-id="ab361-191">Para explorar el uso de una casilla de la fila de encabezado para comprobar todo y desactive todo en detalle, junto con una discusión sobre el uso de técnicas de lado cliente, consulte [comprobación todas las casillas de verificación en un GridView Using Script del lado cliente y una todas las casilla](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="ab361-191">To explore using a header row checkbox for Check All and Uncheck All in detail, along with a discussion on using client-side techniques, check out [Checking All CheckBoxes in a GridView Using Client-Side Script and a Check All CheckBox](http://aspnet.4guysfromrolla.com/articles/053106-1.aspx).</span></span>


## <a name="summary"></a><span data-ttu-id="ab361-192">Resumen</span><span class="sxs-lookup"><span data-stu-id="ab361-192">Summary</span></span>

<span data-ttu-id="ab361-193">En casos en que necesite para permitir que los usuarios elijan un número arbitrario de filas de un control GridView antes de continuar, agregar una columna de casillas de verificación es una opción.</span><span class="sxs-lookup"><span data-stu-id="ab361-193">In cases where you need to let users choose an arbitrary number of rows from a GridView before proceeding, adding a column of checkboxes is one option.</span></span> <span data-ttu-id="ab361-194">Como hemos visto en este tutorial, incluida una columna de casillas de verificación en el control GridView implica agregar TemplateField con un control de casilla de verificación Web.</span><span class="sxs-lookup"><span data-stu-id="ab361-194">As we saw in this tutorial, including a column of checkboxes in the GridView entails adding a TemplateField with a CheckBox Web control.</span></span> <span data-ttu-id="ab361-195">Mediante el uso de un control Web (frente a la inyección de marcado directamente en la plantilla, como hicimos en el tutorial anterior) ASP.NET automáticamente recuerda lo que eran las casillas de verificación y a través de la devolución de datos no comprobados.</span><span class="sxs-lookup"><span data-stu-id="ab361-195">By using a Web control (versus injecting markup directly into the template, as we did in the previous tutorial) ASP.NET automatically remembers what CheckBoxes were and were not checked across postback.</span></span> <span data-ttu-id="ab361-196">Podemos acceder mediante programación a las casillas de verificación en el código para determinar si se activa una casilla determinada, o para cambiar el estado activado.</span><span class="sxs-lookup"><span data-stu-id="ab361-196">We can also programmatically access the CheckBoxes in code to determine whether a given CheckBox is checked, or to change the checked state.</span></span>

<span data-ttu-id="ab361-197">En este tutorial y la última de ellas examinado agregando una columna de selector de fila en el control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-197">This tutorial and the last one looked at adding a row selector column to the GridView.</span></span> <span data-ttu-id="ab361-198">En nuestro tutorial siguiente examinaremos cómo, con un poco de trabajo, podemos agregar funciones de inserción en el control GridView.</span><span class="sxs-lookup"><span data-stu-id="ab361-198">In our next tutorial we'll examine how, with a bit of work, we can add inserting capabilities to the GridView.</span></span>

<span data-ttu-id="ab361-199">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="ab361-199">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="ab361-200">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="ab361-200">About the Author</span></span>

<span data-ttu-id="ab361-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), trabaja con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="ab361-201">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ab361-202">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="ab361-202">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ab361-203">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="ab361-203">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="ab361-204">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ab361-204">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="ab361-205">o a través de su blog, que puede encontrarse en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="ab361-205">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ab361-206">[Anterior](adding-a-gridview-column-of-radio-buttons-cs.md)
> [Siguiente](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span><span class="sxs-lookup"><span data-stu-id="ab361-206">[Previous](adding-a-gridview-column-of-radio-buttons-cs.md)
[Next](inserting-a-new-record-from-the-gridview-s-footer-cs.md)</span></span>

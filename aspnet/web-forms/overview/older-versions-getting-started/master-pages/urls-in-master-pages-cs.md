---
uid: web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
title: Direcciones URL en páginas maestras (C#) | Microsoft Docs
author: rick-anderson
description: Soluciona cómo se pueden interrumpir las direcciones URL de la página maestra debido a que el archivo de la página maestra está en un directorio relativo diferente que la página de contenido. Examina el reajuste...
ms.author: riande
ms.date: 06/10/2008
ms.assetid: 48b58a18-5ea4-468c-b326-f35331b3e1e9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 2551a5361256234883bb37e46e794037284445a4
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78473455"
---
# <a name="urls-in-master-pages-c"></a><span data-ttu-id="a7bc9-104">Direcciones URL en páginas maestras (C#)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-104">URLs in Master Pages (C#)</span></span>

<span data-ttu-id="a7bc9-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="a7bc9-106">[Descargar código](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) o [Descargar PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-106">[Download Code](https://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) or [Download PDF](https://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span></span>

> <span data-ttu-id="a7bc9-107">Soluciona cómo se pueden interrumpir las direcciones URL de la página maestra debido a que el archivo de la página maestra está en un directorio relativo diferente que la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-107">Addresses how URLs in the master page can break due to the master page file being in a different relative directory than the content page.</span></span> <span data-ttu-id="a7bc9-108">Examina las direcciones URL de reajuste mediante ~ en la sintaxis declarativa y el uso de ResolveUrl y ResolveClientUrl mediante programación.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-108">Looks at rebasing URLs via ~ in the declarative syntax and using ResolveUrl and ResolveClientUrl programmatically.</span></span> <span data-ttu-id="a7bc9-109">(Consulte también</span><span class="sxs-lookup"><span data-stu-id="a7bc9-109">(Also look at</span></span>

## <a name="introduction"></a><span data-ttu-id="a7bc9-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="a7bc9-110">Introduction</span></span>

<span data-ttu-id="a7bc9-111">En todos los ejemplos que hemos visto hasta ahora, las páginas maestra y de contenido se encuentran en la misma carpeta (la carpeta raíz del sitio web).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-111">In all the examples we've seen thus far, the master and content pages have been located in the same folder (the website's root folder).</span></span> <span data-ttu-id="a7bc9-112">Sin embargo, no hay ningún motivo por el que las páginas maestra y de contenido deben estar en la misma carpeta.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-112">But there's no reason why the master and content pages must be in the same folder.</span></span> <span data-ttu-id="a7bc9-113">En realidad, puede crear páginas de contenido en subcarpetas.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-113">You can certainly create content pages in subfolders.</span></span> <span data-ttu-id="a7bc9-114">Del mismo modo, puede crear una carpeta `~/MasterPages/` en la que coloque las páginas maestras del sitio.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-114">Similarly, you might create a `~/MasterPages/` folder where you place your site's master pages.</span></span>

<span data-ttu-id="a7bc9-115">Un posible problema con la colocación de páginas maestras y de contenido en carpetas diferentes implica direcciones URL rotas.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-115">One potential issue with placing master and content pages in different folders involves broken URLs.</span></span> <span data-ttu-id="a7bc9-116">Si la página maestra contiene direcciones URL relativas en hipervínculos, imágenes u otros elementos, el vínculo no será válido para las páginas de contenido que residen en una carpeta diferente.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-116">If the master page contains relative URLs in hyperlinks, images, or other elements, the link will be invalid for content pages that reside in a different folder.</span></span> <span data-ttu-id="a7bc9-117">En este tutorial se examina el origen de este problema, así como soluciones alternativas.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-117">In this tutorial we examine the source of this problem as well as workarounds.</span></span>

## <a name="the-problem-with-relative-urls"></a><span data-ttu-id="a7bc9-118">El problema con las direcciones URL relativas</span><span class="sxs-lookup"><span data-stu-id="a7bc9-118">The Problem with Relative URLs</span></span>

<span data-ttu-id="a7bc9-119">Se dice que una dirección URL de una página web es una *dirección URL relativa* si la ubicación del recurso al que apunta es relativa a la ubicación de la página web en la estructura de carpetas del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-119">A URL on a web page is said to be a *relative URL* if the location of the resource it points to is relative to the web page's location in the website's folder structure.</span></span> <span data-ttu-id="a7bc9-120">Cualquier dirección URL que no empiece por una barra diagonal (`/`) inicial o un protocolo (como `http://`) es relativa porque la resuelve el explorador en función de la ubicación de la página web que contiene la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-120">Any URL that does not start with a leading forward slash (`/`) or a protocol (such as `http://`) is relative because it is resolved by the browser based on the location of the web page that contains the URL.</span></span>

<span data-ttu-id="a7bc9-121">Por ejemplo, el sitio web tiene una carpeta `~/Images/` con un solo archivo de imagen, `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-121">For example, our website has an `~/Images/` folder with a single image file, `PoweredByASPNET.gif`.</span></span> <span data-ttu-id="a7bc9-122">El archivo de la página maestra `Site.master` tiene un elemento `<img>` en la región `footerContent` con el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-122">The master page file `Site.master` has an `<img>` element in the `footerContent` region with the following markup:</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample1.html)]

<span data-ttu-id="a7bc9-123">El valor del atributo `src` del elemento `<img>` es una dirección URL relativa porque no comienza con `/` o `http://`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-123">The `src` attribute value in the `<img>` element is a relative URL because it does not start with `/` or `http://`.</span></span> <span data-ttu-id="a7bc9-124">En Resumen, el valor del atributo `src` indica al explorador que busque en la subcarpeta `Images` de un archivo denominado `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-124">In short, the `src` attribute value tells the browser to look in the `Images` subfolder for a file named `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="a7bc9-125">Al visitar una página de contenido, el marcado anterior se envía directamente al explorador.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-125">When visiting a content page, the above markup is sent directly to the browser.</span></span> <span data-ttu-id="a7bc9-126">Dedique un momento a visitar `About.aspx` y ver el origen HTML enviado al explorador.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-126">Take a moment to visit `About.aspx` and view the HTML source sent to the browser.</span></span> <span data-ttu-id="a7bc9-127">Observará que se envió al explorador exactamente el mismo marcado en la página maestra.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-127">You will find that the exact same markup in the master page was sent to the browser.</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample2.html)]

<span data-ttu-id="a7bc9-128">Si la página de contenido se encuentra en la carpeta raíz (como está `About.aspx`) todo funciona según lo esperado, ya que hay una subcarpeta `Images` relativa a la carpeta raíz.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-128">If the content page is in the root folder (as is `About.aspx`) everything works as expected because there is an `Images` subfolder relative to the root folder.</span></span> <span data-ttu-id="a7bc9-129">Sin embargo, las cosas se dividen si la página de contenido está en una carpeta diferente de la página maestra.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-129">However, things break down if the content page is in a different folder than the master page.</span></span> <span data-ttu-id="a7bc9-130">Para ilustrar esto, cree una subcarpeta denominada `Admin`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-130">To illustrate this, create a subfolder named `Admin`.</span></span> <span data-ttu-id="a7bc9-131">A continuación, agregue una página de contenido denominada `Default.aspx` a la carpeta `Admin`, asegurándose de enlazar la nueva página a la página maestra de `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-131">Next, add a content page named `Default.aspx` to the `Admin` folder, making sure to bind the new page to the `Site.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="a7bc9-132">En el tutorial sobre cómo [*especificar el título, etiquetas meta y otros encabezados HTML en la página maestra,* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) hemos creado una clase de página base personalizada denominada `BasePage` que establece automáticamente el título de la página de contenido (si no se ha asignado explícitamente).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-132">In the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that automatically set the content page's title (if it was not explicitly assigned).</span></span> <span data-ttu-id="a7bc9-133">No se olvide de que la clase de código subyacente de la página recién creada se derive de `BasePage` para que pueda utilizar esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-133">Don't forget to have the newly created page's code-behind class derive from `BasePage` so that it can utilize this functionality.</span></span>

<span data-ttu-id="a7bc9-134">Después de crear esta página de contenido, el Explorador de soluciones debe ser similar a la ilustración 1.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-134">After you have created this content page, your Solution Explorer should look similar to Figure 1.</span></span>

![Se han agregado una nueva carpeta y una página de ASP.NET al proyecto](urls-in-master-pages-cs/_static/image1.png)

<span data-ttu-id="a7bc9-136">**Figura 01**: se ha agregado una nueva carpeta y una página de ASP.net al proyecto</span><span class="sxs-lookup"><span data-stu-id="a7bc9-136">**Figure 01**: A New Folder and ASP.NET Page Have Been Added to the Project</span></span>

<span data-ttu-id="a7bc9-137">A continuación, actualice el archivo de `Web.sitemap` para incluir una nueva entrada de `<siteMapNode>` para esta lección.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-137">Next, update the `Web.sitemap` file to include a new `<siteMapNode>` entry for this lesson.</span></span> <span data-ttu-id="a7bc9-138">En el código XML siguiente se muestra el marcado completo `Web.sitemap`, que ahora incluye la adición de un tercer elemento `<siteMapNode>`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-138">The following XML shows the complete `Web.sitemap` markup, which now includes the addition of a third `<siteMapNode>` element.</span></span>

[!code-xml[Main](urls-in-master-pages-cs/samples/sample3.xml)]

<span data-ttu-id="a7bc9-139">La página de `Default.aspx` recién creada debe tener cuatro controles de contenido correspondientes a los cuatro ContentPlaceHolders en `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-139">The newly created `Default.aspx` page should have four Content controls corresponding to the four ContentPlaceHolders in `Site.master`.</span></span> <span data-ttu-id="a7bc9-140">Agregue texto al control de contenido que hace referencia a la `MainContent` ContentPlaceHolder y, a continuación, visite la página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-140">Add some text to the Content control referencing the `MainContent` ContentPlaceHolder and then visit the page through a browser.</span></span> <span data-ttu-id="a7bc9-141">Como se muestra en la figura 2, el explorador no puede encontrar el archivo de imagen de `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-141">As Figure 2 shows, the browser cannot find the `PoweredByASPNET.gif` image file.</span></span> <span data-ttu-id="a7bc9-142">¿Qué ocurre aquí?</span><span class="sxs-lookup"><span data-stu-id="a7bc9-142">What's going on here?</span></span>

<span data-ttu-id="a7bc9-143">La página de contenido de `~/Admin/Default.aspx` se envía al mismo código HTML para la región de `footerContent` que la página `About.aspx`:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-143">The `~/Admin/Default.aspx` content page is sent the same HTML for the `footerContent` region as was the `About.aspx` page:</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample4.html)]

<span data-ttu-id="a7bc9-144">Dado que el atributo `src` del elemento `<img>` es una dirección URL relativa, el explorador intenta buscar una carpeta `Images` relativa a la ubicación de la carpeta de la Página Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-144">Because the `<img>` element's `src` attribute is a relative URL, the browser attempts to look for an `Images` folder relative to the web page's folder location.</span></span> <span data-ttu-id="a7bc9-145">En otras palabras, el explorador busca el archivo de imagen `Admin/Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-145">In other words, the browser is looking for the image file `Admin/Images/PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="a7bc9-146">[No se encuentra ![el archivo de imagen PoweredByASPNET. gif](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-146">[![The PoweredByASPNET.gif Image File Cannot Be Found](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span></span>

<span data-ttu-id="a7bc9-147">**Figura 02**: no se encuentra el archivo de imagen de `PoweredByASPNET.gif` ([haga clic para ver la imagen de tamaño completo](urls-in-master-pages-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="a7bc9-147">**Figure 02**: The `PoweredByASPNET.gif` Image File Cannot Be Found  ([Click to view full-size image](urls-in-master-pages-cs/_static/image4.png))</span></span>

### <a name="replacing-relative-urls-with-absolute-urls"></a><span data-ttu-id="a7bc9-148">Reemplazar direcciones URL relativas con direcciones URL absolutas</span><span class="sxs-lookup"><span data-stu-id="a7bc9-148">Replacing Relative URLs with Absolute URLs</span></span>

<span data-ttu-id="a7bc9-149">Lo contrario de una dirección URL relativa es una *dirección URL absoluta*, que es aquella que empieza con una barra diagonal (`/`) o un protocolo como `http://`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-149">The opposite of a relative URL is an *absolute URL*, which is one that starts with a forward slash (`/`) or a protocol such as `http://`.</span></span> <span data-ttu-id="a7bc9-150">Dado que una dirección URL absoluta especifica la ubicación de un recurso desde un punto fijo conocido, la misma dirección URL absoluta es válida en cualquier página web, independientemente de la ubicación de la página web en la estructura de carpetas del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-150">Because an absolute URL specifies the location of a resource from a known fixed point, the same absolute URL is valid in any web page, regardless of the web page's location in the website's folder structure.</span></span>

<span data-ttu-id="a7bc9-151">Para remediar la imagen rota que se muestra en la figura 2, es necesario actualizar el atributo `src` del elemento de la `<img>` para que use una dirección URL absoluta en lugar de una relativa.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-151">To remedy the broken image shown in Figure 2, we need to update the `<img>` element's `src` attribute so that it uses an absolute URL instead of a relative one.</span></span> <span data-ttu-id="a7bc9-152">Para determinar la dirección URL absoluta correcta, visite una de las páginas web de su sitio web y examine la barra de direcciones.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-152">To determine the correct absolute URL, visit one of the web pages in your website and examine the Address bar.</span></span> <span data-ttu-id="a7bc9-153">Como se muestra en la barra de direcciones de la figura 2, la ruta de acceso completa a la aplicación web es `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-153">As the Address bar in Figure 2 shows, the fully qualified path to the web application is `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span></span> <span data-ttu-id="a7bc9-154">Por lo tanto, podríamos actualizar el atributo de `src` del elemento de la `<img>` a cualquiera de las dos direcciones URL absolutas siguientes:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-154">Therefore, we could update the `<img>` element's `src` attribute to either of the following two absolute URLs:</span></span>

- `/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`
- `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`

<span data-ttu-id="a7bc9-155">Dedique un momento a actualizar el atributo de `src` del elemento de la `<img>` a una dirección URL absoluta mediante uno de los formularios mostrados anteriormente y, a continuación, visite la página `~/Admin/Default.aspx` a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-155">Take a moment to update the `<img>` element's `src` attribute to an absolute URL using one of the forms shown above and then visit the `~/Admin/Default.aspx` page through a browser.</span></span> <span data-ttu-id="a7bc9-156">Esta vez el explorador buscará y mostrará correctamente el archivo de imagen de `PoweredByASPNET.gif` (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-156">This time the browser will correctly find and display the `PoweredByASPNET.gif` image file (see Figure 3).</span></span>

<span data-ttu-id="a7bc9-157">[![se muestra la imagen PoweredByASPNET. gif](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-157">[![The PoweredByASPNET.gif Image is Now Displayed](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="a7bc9-158">**Figura 03**: ahora se muestra la imagen de `PoweredByASPNET.gif` ([haga clic para ver la imagen de tamaño completo](urls-in-master-pages-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="a7bc9-158">**Figure 03**: The `PoweredByASPNET.gif` Image is Now Displayed  ([Click to view full-size image](urls-in-master-pages-cs/_static/image7.png))</span></span>

<span data-ttu-id="a7bc9-159">Aunque la codificación rígida en la dirección URL absoluta funciona, acopla el código HTML a la ubicación del servidor y de la carpeta del sitio web, lo que puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-159">While hard coding in the absolute URL works, it tightly couples your HTML to the website's server and folder location, which may change.</span></span> <span data-ttu-id="a7bc9-160">El uso de una dirección URL absoluta con el formato `http://localhost:3908/...` es frágil porque el número de puerto anterior `localhost` se selecciona automáticamente cada vez que se inicia el servidor Web de desarrollo ASP.NET integrado de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-160">Using an absolute URL of the form `http://localhost:3908/...` is brittle because the port number preceding `localhost` is selected automatically each time Visual Studio's built-in ASP.NET Development Web Server is started.</span></span> <span data-ttu-id="a7bc9-161">Del mismo modo, el elemento `http://localhost` solo es válido cuando se prueba localmente.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-161">Similarly, the `http://localhost` part is only valid when testing locally.</span></span> <span data-ttu-id="a7bc9-162">Una vez implementado el código en un servidor de producción, la base de la dirección URL cambiará a otra cosa, como `http://www.yourserver.com`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-162">Once the code is deployed to a production server, the URL base will change to something else, like `http://www.yourserver.com`.</span></span> <span data-ttu-id="a7bc9-163">La dirección URL absoluta con el formato `/ASPNET_MasterPages_Tutorial_04_CS/...` también se ve afectada por la misma fragilidad porque a menudo esta ruta de acceso de la aplicación difiere entre los servidores de desarrollo y de producción.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-163">The absolute URL in the form `/ASPNET_MasterPages_Tutorial_04_CS/...` also suffers from the same brittleness because oftentimes this application path differs between development and production servers.</span></span>

<span data-ttu-id="a7bc9-164">La buena noticia es que ASP.NET ofrece un método para generar una dirección URL relativa válida en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-164">The good news is that ASP.NET offers a method for generating a valid relative URL at runtime.</span></span>

## <a name="usingandresolveclienturl"></a><span data-ttu-id="a7bc9-165">Usar`~`y`ResolveClientUrl`</span><span class="sxs-lookup"><span data-stu-id="a7bc9-165">Using`~`and`ResolveClientUrl`</span></span>

<span data-ttu-id="a7bc9-166">En lugar de codificar una dirección URL absoluta, ASP.NET permite a los desarrolladores de páginas usar la tilde (`~`) para indicar la raíz de la aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-166">Rather than hard code an absolute URL, ASP.NET allows page developers to use the tilde (`~`) to indicate the root of the web application.</span></span> <span data-ttu-id="a7bc9-167">Por ejemplo, anteriormente en este tutorial, usé la notación `~/Admin/Default.aspx` del texto para hacer referencia a la página `Default.aspx` de la carpeta `Admin`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-167">For example, earlier in this tutorial I used the notation `~/Admin/Default.aspx` in the text to refer to the `Default.aspx` page in the `Admin` folder.</span></span> <span data-ttu-id="a7bc9-168">El `~` indica que la carpeta de `Admin` es una subcarpeta de la raíz de la aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-168">The `~` indicates that the `Admin` folder is a subfolder of the web application's root.</span></span>

<span data-ttu-id="a7bc9-169">El [método`ResolveClientUrl`](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) de la clase `Control` toma una dirección URL y la modifica en una dirección URL relativa adecuada para la página web en la que reside el control.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-169">The `Control` class's [`ResolveClientUrl` method](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) takes a URL and modifies it to a relative URL appropriate for the web page on which the control resides.</span></span> <span data-ttu-id="a7bc9-170">Por ejemplo, al llamar a `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` desde `About.aspx` se devuelve `Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-170">For example, calling `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` from `About.aspx` returns `Images/PoweredByASPNET.gif`.</span></span> <span data-ttu-id="a7bc9-171">Sin embargo, al llamarlo desde `~/Admin/Default.aspx`, se devuelve `../Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-171">Calling it from `~/Admin/Default.aspx`, however, returns `../Images/PoweredByASPNET.gif`.</span></span>

> [!NOTE]
> <span data-ttu-id="a7bc9-172">Dado que todos los controles de servidor ASP.NET derivan de la clase `Control`, todos los controles de servidor tienen acceso al método `ResolveClientUrl`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-172">Because all ASP.NET server controls derive from the `Control` class, all server controls have access to the `ResolveClientUrl` method.</span></span> <span data-ttu-id="a7bc9-173">Incluso la clase `Page` deriva de la clase `Control`, lo que significa que puede usar este método directamente desde las clases de código subyacente de las páginas de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-173">Even the `Page` class derives from the `Control` class, meaning that you can use this method directly from your ASP.NET pages' code-behind classes.</span></span>

### <a name="usingin-the-declarative-markup"></a><span data-ttu-id="a7bc9-174">Usar`~`en el marcado declarativo</span><span class="sxs-lookup"><span data-stu-id="a7bc9-174">Using`~`in the Declarative Markup</span></span>

<span data-ttu-id="a7bc9-175">Varios controles Web ASP.NET incluyen propiedades relacionadas con la dirección URL: el control de hipervínculo tiene una propiedad `NavigateUrl`; el control de imagen tiene una propiedad `ImageUrl`; etc.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-175">Several ASP.NET Web controls include URL-related properties: the HyperLink control has a `NavigateUrl` property; the Image control has an `ImageUrl` property; and so on.</span></span> <span data-ttu-id="a7bc9-176">Cuando se representan, estos controles pasan sus valores de propiedad relacionados con la dirección URL a `ResolveClientUrl`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-176">When rendered, these controls pass their URL-related property values to `ResolveClientUrl`.</span></span> <span data-ttu-id="a7bc9-177">Por consiguiente, si estas propiedades contienen un `~` para indicar la raíz de la aplicación Web, la dirección URL se modificará en una dirección URL relativa válida.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-177">Consequently, if these properties contain a `~` to indicate the root of the web application, the URL will be modified to a valid relative URL.</span></span>

<span data-ttu-id="a7bc9-178">Tenga en cuenta que solo los controles de servidor ASP.NET transforman el `~` en sus propiedades relacionadas con la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-178">Keep in mind that only ASP.NET server controls transform the `~` in their URL-related properties.</span></span> <span data-ttu-id="a7bc9-179">Si aparece un `~` en el marcado HTML estático, como `<img src="~/Images/PoweredByASPNET.gif" />`, el motor ASP.NET envía el `~` al explorador junto con el resto del contenido HTML.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-179">If a `~` appears in static HTML markup, such as `<img src="~/Images/PoweredByASPNET.gif" />`, the ASP.NET engine sends the `~` to the browser along with the rest of the HTML content.</span></span> <span data-ttu-id="a7bc9-180">El explorador supone que el `~` forma parte de la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-180">The browser assumes that the `~` is part of the URL.</span></span> <span data-ttu-id="a7bc9-181">Por ejemplo, si el explorador recibe el marcado `<img src="~/Images/PoweredByASPNET.gif" />` supone que hay una subcarpeta denominada `~` con una subcarpeta `Images` que contiene el archivo de imagen `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-181">For example, if the browser receives the markup `<img src="~/Images/PoweredByASPNET.gif" />` it assumes there is a subfolder named `~` with a subfolder `Images` that contains the image file `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="a7bc9-182">Para corregir el marcado de la imagen en `Site.master`, reemplace el elemento de `<img>` existente por un control Web de imagen ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-182">To fix the image markup in `Site.master`, replace the existing `<img>` element with an ASP.NET Image Web control.</span></span> <span data-ttu-id="a7bc9-183">Establezca el `ID` del control Web de la imagen en `PoweredByImage`, su propiedad `ImageUrl` en `~/Images/PoweredByASPNET.gif`y su propiedad `AlternateText` en "Powered by ASP.NET!"</span><span class="sxs-lookup"><span data-stu-id="a7bc9-183">Set the Image Web control's `ID` to `PoweredByImage`, its `ImageUrl` property to `~/Images/PoweredByASPNET.gif`, and its `AlternateText` property to "Powered by ASP.NET!"</span></span>

[!code-aspx[Main](urls-in-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="a7bc9-184">Después de realizar este cambio en la página maestra, vuelva a visitar la página `~/Admin/Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-184">After making this change to the master page, revisit the `~/Admin/Default.aspx` page again.</span></span> <span data-ttu-id="a7bc9-185">Esta vez el archivo de imagen de `PoweredByASPNET.gif` aparece en la página (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-185">This time the `PoweredByASPNET.gif` image file appears in the page (see Figure 3).</span></span> <span data-ttu-id="a7bc9-186">Cuando se representa el control Web Image, usa el método `ResolveClientUrl` para resolver el valor de la propiedad `ImageUrl`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-186">When the Image Web control is rendered it uses the `ResolveClientUrl` method to resolve its `ImageUrl` property value.</span></span> <span data-ttu-id="a7bc9-187">En `~/Admin/Default.aspx` el `ImageUrl` se convierte en una dirección URL relativa adecuada, como se muestra en el siguiente fragmento de código HTML:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-187">In `~/Admin/Default.aspx` the `ImageUrl` is converted into an appropriate relative URL, as the following snippet of HTML source shows:</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample6.html)]

> [!NOTE]
> <span data-ttu-id="a7bc9-188">Además de usarse en las propiedades de los controles Web basados en URL, el `~` también se puede usar al llamar a los métodos `Response.Redirect` y `Server.MapPath`, entre otros.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-188">In addition to being used in URL-based Web control properties, the `~` can also be used when calling the `Response.Redirect` and `Server.MapPath` methods, among others.</span></span> <span data-ttu-id="a7bc9-189">Además, el método de `ResolveClientUrl` se puede invocar directamente desde el marcado declarativo de ASP.NET o de una página maestra, si es necesario. Vea la entrada de blog de [Fritz Onion](https://www.pluralsight.com/blogs/fritz/) [mediante `ResolveClientUrl` en el marcado](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-189">Also, the `ResolveClientUrl` method may be invoked directly from an ASP.NET or master page's declarative markup, if needed; see [Fritz Onion](https://www.pluralsight.com/blogs/fritz/)'s blog entry [Using `ResolveClientUrl` in Markup](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span></span>

## <a name="fixing-the-master-pages-remaining-relative-urls"></a><span data-ttu-id="a7bc9-190">Corregir las direcciones URL relativas restantes de la página maestra</span><span class="sxs-lookup"><span data-stu-id="a7bc9-190">Fixing the Master Page's Remaining Relative URLs</span></span>

<span data-ttu-id="a7bc9-191">Además del elemento `<img>` en el `footerContent` que acabamos de corregir, la página maestra contiene una dirección URL más relativa que requiere la atención.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-191">In addition to the `<img>` element in the `footerContent` that we just fixed, the master page contains one more relative URL that requires our attention.</span></span> <span data-ttu-id="a7bc9-192">La región `topContent` incluye el vínculo "tutoriales de páginas principales", que apunta a `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-192">The `topContent` region includes the link "Master Pages Tutorials," which points to `Default.aspx`.</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample7.html)]

<span data-ttu-id="a7bc9-193">Dado que esta dirección URL es relativa, enviará al usuario a la página `Default.aspx` de la carpeta de la página de contenido que está visitando.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-193">Because this URL is relative, it will send the user to the `Default.aspx` page in the folder of the content page they are visiting.</span></span> <span data-ttu-id="a7bc9-194">Para que este vínculo Apunte siempre `Default.aspx` en la carpeta raíz, es necesario reemplazar el elemento `<a>` por un control Web de hipervínculo para que podamos usar la notación `~`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-194">To have this link always point to `Default.aspx` in the root folder we need to replace the `<a>` element with a HyperLink Web control so that we can use the `~` notation.</span></span>

<span data-ttu-id="a7bc9-195">Quite el marcado del elemento de `<a>` y agregue un control de hipervínculo en su lugar.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-195">Remove the `<a>` element markup and add a HyperLink control in its place.</span></span> <span data-ttu-id="a7bc9-196">Establezca el `ID` del hipervínculo en `lnkHome`, su propiedad `NavigateUrl` en `~/Default.aspx`y su propiedad `Text` en "tutoriales de páginas maestras".</span><span class="sxs-lookup"><span data-stu-id="a7bc9-196">Set the HyperLink's `ID` to `lnkHome`, its `NavigateUrl` property to `~/Default.aspx`, and its `Text` property to "Master Pages Tutorials."</span></span>

[!code-aspx[Main](urls-in-master-pages-cs/samples/sample8.aspx)]

<span data-ttu-id="a7bc9-197">Ya está.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-197">That's it!</span></span> <span data-ttu-id="a7bc9-198">En este momento, todas las direcciones URL de nuestra página maestra se basan correctamente cuando se representan en una página de contenido independientemente de en qué carpetas se encuentran la página maestra y la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-198">At this point all the URLs in our master page are properly based when rendered by a content page regardless of what folders the master page and content page are located in.</span></span>

### <a name="automatic-url-resolution-in-theheadsection"></a><span data-ttu-id="a7bc9-199">Resolución automática de direcciones URL en la sección`<head>`</span><span class="sxs-lookup"><span data-stu-id="a7bc9-199">Automatic URL Resolution in the`<head>`Section</span></span>

<span data-ttu-id="a7bc9-200">En el tutorial [*crear un diseño de todo el sitio mediante páginas maestras*](creating-a-site-wide-layout-using-master-pages-cs.md) , se ha agregado un `<link>` al archivo de `Styles.css` en la región `<head>`:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-200">In the [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial we added a `<link>` to the `Styles.css` file in the `<head>` region:</span></span>

[!code-aspx[Main](urls-in-master-pages-cs/samples/sample9.aspx)]

<span data-ttu-id="a7bc9-201">Mientras que el atributo `href` del elemento `<link>` es relativo, se convierte automáticamente en una ruta de acceso adecuada en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-201">While the `<link>` element's `href` attribute is relative, it's automatically converted to an appropriate path at runtime.</span></span> <span data-ttu-id="a7bc9-202">Como se explicó en el tutorial [*especificar el título, etiquetas meta y otros encabezados HTML en la página maestra*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) , la región `<head>` es realmente un control del lado servidor, lo que le permite modificar el contenido de sus controles internos cuando se representa.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-202">As we discussed in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial, the `<head>` region is actually a server-side control, which enables it to modify the contents of its inner controls when it is rendered.</span></span>

<span data-ttu-id="a7bc9-203">Para comprobarlo, vuelva a visitar la página `~/Admin/Default.aspx` y vea el origen HTML enviado al explorador.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-203">To verify this, revisit the `~/Admin/Default.aspx` page and view the HTML source sent to the browser.</span></span> <span data-ttu-id="a7bc9-204">Como se muestra en el siguiente fragmento de código, el atributo `href` del elemento `<link>` se ha modificado automáticamente en una dirección URL relativa adecuada, `../Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-204">As the snippet below illustrates, the `<link>` element's `href` attribute has been automatically modified to an appropriate relative URL, `../Styles.css`.</span></span>

[!code-html[Main](urls-in-master-pages-cs/samples/sample10.html)]

## <a name="summary"></a><span data-ttu-id="a7bc9-205">Resumen</span><span class="sxs-lookup"><span data-stu-id="a7bc9-205">Summary</span></span>

<span data-ttu-id="a7bc9-206">Las páginas maestras suelen incluir vínculos, imágenes y otros recursos externos que deben especificarse a través de una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-206">Master pages very often include links, images, and other external resources that must be specified via a URL.</span></span> <span data-ttu-id="a7bc9-207">Dado que la página maestra y las páginas de contenido podrían no existir en la misma carpeta, es importante abstain del uso de direcciones URL relativas.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-207">Because the master page and content pages might not exist in the same folder, it is important to abstain from using relative URLs.</span></span> <span data-ttu-id="a7bc9-208">Aunque es posible usar direcciones URL absolutas codificadas de forma rígida, al hacerlo se acopla estrechamente la dirección URL absoluta a la aplicación Web.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-208">While it is possible to use hard coded absolute URLs, doing so tightly couples the absolute URL to the web application.</span></span> <span data-ttu-id="a7bc9-209">Si cambia la dirección URL absoluta, como suele hacer al mover o implementar una aplicación Web, tendrá que recordar volver atrás y actualizar las direcciones URL absolutas.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-209">If the absolute URL changes - as it often does when moving or deploying a web application - you'll have to remember to go back and update the absolute URLs.</span></span>

<span data-ttu-id="a7bc9-210">El enfoque ideal es usar la tilde (`~`) para indicar la raíz de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-210">The ideal approach is to use the tilde (`~`) to indicate the application root.</span></span> <span data-ttu-id="a7bc9-211">Los controles Web ASP.NET que contienen propiedades relacionadas con la dirección URL asignan el `~` a la raíz de la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-211">ASP.NET Web controls that contain URL-related properties map the `~` to the application root at runtime.</span></span> <span data-ttu-id="a7bc9-212">Internamente, los controles web utilizan el método `ResolveClientUrl` de la clase `Control` para generar una dirección URL relativa válida.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-212">Internally, the Web controls use the `Control` class's `ResolveClientUrl` method to generate a valid relative URL.</span></span> <span data-ttu-id="a7bc9-213">Este método es público y está disponible en todos los controles de servidor (incluida la clase `Page`), por lo que se puede utilizar mediante programación desde las clases de código subyacente, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-213">This method is public and available from every server control (including the `Page` class), so you can use it programmatically from your code-behind classes, if needed.</span></span>

<span data-ttu-id="a7bc9-214">¡ Feliz programación!</span><span class="sxs-lookup"><span data-stu-id="a7bc9-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="a7bc9-215">Información adicional</span><span class="sxs-lookup"><span data-stu-id="a7bc9-215">Further Reading</span></span>

<span data-ttu-id="a7bc9-216">Para obtener más información sobre los temas descritos en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="a7bc9-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="a7bc9-217">Páginas maestras en ASP.NET</span><span class="sxs-lookup"><span data-stu-id="a7bc9-217">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="a7bc9-218">Rebasar direcciones URL en una página maestra</span><span class="sxs-lookup"><span data-stu-id="a7bc9-218">URL Rebasing in a Master Page</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx#urls)
- [<span data-ttu-id="a7bc9-219">Usar `ResolveClientUrl` en el marcado</span><span class="sxs-lookup"><span data-stu-id="a7bc9-219">Using `ResolveClientUrl` in Markup</span></span>](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx)

### <a name="about-the-author"></a><span data-ttu-id="a7bc9-220">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="a7bc9-220">About the Author</span></span>

<span data-ttu-id="a7bc9-221">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de varios libros de ASP/ASP. net y fundador de 4GuysFromRolla.com, ha estado trabajando con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-221">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="a7bc9-222">Scott funciona como consultor, profesor y redactor independiente.</span><span class="sxs-lookup"><span data-stu-id="a7bc9-222">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="a7bc9-223">Su último libro se [*enseña a ASP.NET 3,5 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-223">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="a7bc9-224">Se puede acceder a Scott en [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) o a través de su blog en [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-224">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="a7bc9-225">Agradecimiento especial a</span><span class="sxs-lookup"><span data-stu-id="a7bc9-225">Special Thanks To</span></span>

<span data-ttu-id="a7bc9-226">¿Está interesado en revisar los próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="a7bc9-226">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="a7bc9-227">En caso afirmativo, suéltelo en [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="a7bc9-227">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="a7bc9-228">[Anterior](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
> [Siguiente](control-id-naming-in-content-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="a7bc9-228">[Previous](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
[Next](control-id-naming-in-content-pages-cs.md)</span></span>

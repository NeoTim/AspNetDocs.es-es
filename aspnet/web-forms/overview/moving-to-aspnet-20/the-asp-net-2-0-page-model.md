---
uid: web-forms/overview/moving-to-aspnet-20/the-asp-net-2-0-page-model
title: Modelo de página ASP.NET 2.0 ? Microsoft Docs
author: rick-anderson
description: En ASP.NET 1.x, los desarrolladores tenían la opción de elegir entre un modelo de código en línea y un modelo de código subyacente. El código subyacente podría implementarse utilizando el Attr...
ms.author: riande
ms.date: 02/20/2005
ms.assetid: af4575a3-0ae3-4638-ba4d-218fad7a1642
msc.legacyurl: /web-forms/overview/moving-to-aspnet-20/the-asp-net-2-0-page-model
msc.type: authoredcontent
ms.openlocfilehash: 6c2435a06d04209db21fb8e075f68ff0b7a9ef7e
ms.sourcegitcommit: 022f79dbc1350e0c6ffaa1e7e7c6e850cdabf9af
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2020
ms.locfileid: "81542864"
---
# <a name="the-aspnet-20-page-model"></a><span data-ttu-id="3e7db-104">El modelo de página ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-104">The ASP.NET 2.0 Page Model</span></span>

<span data-ttu-id="3e7db-105">por [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="3e7db-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="3e7db-106">En ASP.NET 1.x, los desarrolladores tenían la opción de elegir entre un modelo de código en línea y un modelo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-106">In ASP.NET 1.x, developers had a choice between an inline code model and a code-behind code model.</span></span> <span data-ttu-id="3e7db-107">El código subyacente se podría implementar mediante el atributo Src @Page o el atributo CodeBehind de la directiva.</span><span class="sxs-lookup"><span data-stu-id="3e7db-107">Code-behind could be implemented using either the Src attribute or the CodeBehind attribute of the @Page directive.</span></span> <span data-ttu-id="3e7db-108">En ASP.NET 2.0, los desarrolladores todavía tienen la opción entre el código en línea y el código subyacente, pero ha habido mejoras significativas en el modelo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-108">In ASP.NET 2.0, developers still have a choice between inline code and code-behind, but there have been significant enhancements to the code-behind model.</span></span>

<span data-ttu-id="3e7db-109">En ASP.NET 1.x, los desarrolladores tenían la opción de elegir entre un modelo de código en línea y un modelo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-109">In ASP.NET 1.x, developers had a choice between an inline code model and a code-behind code model.</span></span> <span data-ttu-id="3e7db-110">El código subyacente se podría implementar mediante el atributo Src @Page o el atributo CodeBehind de la directiva.</span><span class="sxs-lookup"><span data-stu-id="3e7db-110">Code-behind could be implemented using either the Src attribute or the CodeBehind attribute of the @Page directive.</span></span> <span data-ttu-id="3e7db-111">En ASP.NET 2.0, los desarrolladores todavía tienen la opción entre el código en línea y el código subyacente, pero ha habido mejoras significativas en el modelo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-111">In ASP.NET 2.0, developers still have a choice between inline code and code-behind, but there have been significant enhancements to the code-behind model.</span></span>

## <a name="improvements-in-the-code-behind-model"></a><span data-ttu-id="3e7db-112">Mejoras en el modelo de código subyacente</span><span class="sxs-lookup"><span data-stu-id="3e7db-112">Improvements in the Code-Behind Model</span></span>

<span data-ttu-id="3e7db-113">Con el fin de comprender completamente los cambios en el modelo de código subyacente en ASP.NET 2.0, lo mejor es revisar rápidamente el modelo tal como existía en ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="3e7db-113">In order to fully understand the changes in the code-behind model in ASP.NET 2.0, its best to quickly review the model as it existed in ASP.NET 1.x.</span></span>

## <a name="the-code-behind-model-in-aspnet-1x"></a><span data-ttu-id="3e7db-114">El modelo de código subyacente en ASP.NET 1.x</span><span class="sxs-lookup"><span data-stu-id="3e7db-114">The Code-Behind Model in ASP.NET 1.x</span></span>

<span data-ttu-id="3e7db-115">En ASP.NET 1.x, el modelo de código subyacente consistía en un archivo ASPX (el formulario WebForm) y un archivo de código subyacente que contenía código de programación.</span><span class="sxs-lookup"><span data-stu-id="3e7db-115">In ASP.NET 1.x, the code-behind model consisted of an ASPX file (the Webform) and a code-behind file containing programming code.</span></span> <span data-ttu-id="3e7db-116">Los dos archivos se @Page conectaron mediante la directiva en el archivo ASPX.</span><span class="sxs-lookup"><span data-stu-id="3e7db-116">The two files were connected using the @Page directive in the ASPX file.</span></span> <span data-ttu-id="3e7db-117">Cada control de la página ASPX tenía una declaración correspondiente en el archivo de código subyacente como una variable de instancia.</span><span class="sxs-lookup"><span data-stu-id="3e7db-117">Each control on the ASPX page had a corresponding declaration in the code-behind file as an instance variable.</span></span> <span data-ttu-id="3e7db-118">El archivo de código subyacente también contenía código para el enlace de eventos y el código generado necesario para el diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3e7db-118">The code-behind file also contained code for event binding and generated code necessary for the Visual Studio designer.</span></span> <span data-ttu-id="3e7db-119">Este modelo funcionó bastante bien, pero debido a que cada ASP.NET elemento de la página ASPX requería el código correspondiente en el archivo de código subyacente, no había una verdadera separación de código y contenido.</span><span class="sxs-lookup"><span data-stu-id="3e7db-119">This model worked fairly well, but because every ASP.NET element in the ASPX page required corresponding code in the code-behind file, there was no true separation of code and content.</span></span> <span data-ttu-id="3e7db-120">Por ejemplo, si un diseñador agrega un nuevo control de servidor a un archivo ASPX fuera del IDE de Visual Studio, la aplicación se interrumpiría debido a la ausencia de una declaración para ese control en el archivo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-120">For example, if a designer added a new server control to an ASPX file outside of the Visual Studio IDE, the application would break due to the absence of a declaration for that control in the code-behind file.</span></span>

## <a name="the-code-behind-model-in-aspnet-20"></a><span data-ttu-id="3e7db-121">El modelo de código subyacente en ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-121">The Code-Behind Model in ASP.NET 2.0</span></span>

<span data-ttu-id="3e7db-122">ASP.NET 2.0 mejora considerablemente este modelo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-122">ASP.NET 2.0 greatly improves upon this model.</span></span> <span data-ttu-id="3e7db-123">En ASP.NET 2.0, el código subyacente se implementa mediante las *nuevas clases parciales proporcionadas* en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-123">In ASP.NET 2.0, code-behind is implemented using the new *partial classes* provided in ASP.NET 2.0.</span></span> <span data-ttu-id="3e7db-124">La clase de código subyacente en ASP.NET 2.0 se define como una clase parcial, lo que significa que contiene solo una parte de la definición de clase.</span><span class="sxs-lookup"><span data-stu-id="3e7db-124">The code-behind class in ASP.NET 2.0 is defined as a partial class meaning that it contains only part of the class definition.</span></span> <span data-ttu-id="3e7db-125">La parte restante de la definición de clase se genera dinámicamente por ASP.NET 2.0 mediante la página ASPX en tiempo de ejecución o cuando se precompila el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="3e7db-125">The remaining part of the class definition is dynamically generated by ASP.NET 2.0 using the ASPX page at runtime or when the Web site is precompiled.</span></span> <span data-ttu-id="3e7db-126">El vínculo entre el archivo de código subyacente y la página ASPX todavía se establece mediante la directiva de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-126">The link between the code-behind file and the ASPX page is still established using the @ Page directive.</span></span> <span data-ttu-id="3e7db-127">Sin embargo, en lugar de un atributo CodeBehind o Src, ASP.NET 2.0 ahora usa el atributo CodeFile.</span><span class="sxs-lookup"><span data-stu-id="3e7db-127">However, instead of a CodeBehind or Src attribute, ASP.NET 2.0 now uses the CodeFile attribute.</span></span> <span data-ttu-id="3e7db-128">El atributo Inherits también se utiliza para especificar el nombre de clase de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-128">The Inherits attribute is also used to specify the class name for the page.</span></span>

<span data-ttu-id="3e7db-129">Una directiva típica de la página podría tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="3e7db-129">A typical @ Page directive might look like this:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample1.aspx)]

<span data-ttu-id="3e7db-130">Una definición de clase típica en un archivo de código subyacente ASP.NET 2.0 podría tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="3e7db-130">A typical class definition in an ASP.NET 2.0 code-behind file might look like this:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample2.cs)]

> [!NOTE]
> <span data-ttu-id="3e7db-131">Los únicos lenguajes administrados que admiten clases parciales son los únicos lenguajes administrados que admiten actualmente clases parciales.</span><span class="sxs-lookup"><span data-stu-id="3e7db-131">C# and Visual Basic are the only managed languages that currently support partial classes.</span></span> <span data-ttu-id="3e7db-132">Por lo tanto, los desarrolladores que usan J no podrán usar el modelo de código subyacente en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-132">Therefore, developers using J# will not be able to use the code-behind model in ASP.NET 2.0.</span></span>

<span data-ttu-id="3e7db-133">El nuevo modelo mejora el modelo de código subyacente porque los desarrolladores ahora tendrán archivos de código que contienen solo el código que han creado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-133">The new model enhances the code-behind model because developers will now have code files that contain only the code that they have created.</span></span> <span data-ttu-id="3e7db-134">También proporciona una verdadera separación de código y contenido porque no hay declaraciones de variables de instancia en el archivo de código subyacente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-134">It also provides for a true separation of code and content because there are no instance variable declarations in the code-behind file.</span></span>

> [!NOTE]
> <span data-ttu-id="3e7db-135">Dado que la clase parcial de la página ASPX es donde se lleva a cabo el enlace de eventos, los desarrolladores de Visual Basic pueden realizar un ligero aumento del rendimiento mediante el uso de la Handles palabra clave en el código subyacente para enlazar eventos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-135">Because the partial class for the ASPX page is where event binding takes place, Visual Basic developers can realize a slight performance increase by using the Handles keyword in code-behind to bind events.</span></span> <span data-ttu-id="3e7db-136">No tiene ninguna palabra clave equivalente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-136">C# has no equivalent keyword.</span></span>

## <a name="new--page-directive-attributes"></a><span data-ttu-id="3e7db-137">Nuevos atributos de directiva de página</span><span class="sxs-lookup"><span data-stu-id="3e7db-137">New @ Page Directive Attributes</span></span>

<span data-ttu-id="3e7db-138">ASP.NET 2.0 agrega muchos atributos nuevos a la directiva de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-138">ASP.NET 2.0 adds many new attributes to the @ Page directive.</span></span> <span data-ttu-id="3e7db-139">Los siguientes atributos son nuevos en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-139">The following attributes are new in ASP.NET 2.0.</span></span>

## <a name="async"></a><span data-ttu-id="3e7db-140">Async</span><span class="sxs-lookup"><span data-stu-id="3e7db-140">Async</span></span>

<span data-ttu-id="3e7db-141">El atributo Async permite configurar la página para que se ejecute de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-141">The Async attribute allows you to configure page to be executed asynchronously.</span></span> <span data-ttu-id="3e7db-142">Cubra bien las páginas asincrónicas más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-142">Well cover asynchronous pages later in this module.</span></span>

## <a name="asynctimeout"></a><span data-ttu-id="3e7db-143">AsyncTimeout</span><span class="sxs-lookup"><span data-stu-id="3e7db-143">AsyncTimeout</span></span>

<span data-ttu-id="3e7db-144">Se ha especificado el tiempo de espera de las páginas asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-144">Specified the timeout for asynchronous pages.</span></span> <span data-ttu-id="3e7db-145">El valor predeterminado es 45 segundos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-145">The default is 45 seconds.</span></span>

## <a name="codefile"></a><span data-ttu-id="3e7db-146">CodeFile</span><span class="sxs-lookup"><span data-stu-id="3e7db-146">CodeFile</span></span>

<span data-ttu-id="3e7db-147">El atributo CodeFile es el reemplazo del atributo CodeBehind en Visual Studio 2002/2003.</span><span class="sxs-lookup"><span data-stu-id="3e7db-147">The CodeFile attribute is the replacement for the CodeBehind attribute in Visual Studio 2002/2003.</span></span>

### <a name="codefilebaseclass"></a><span data-ttu-id="3e7db-148">CodeFileBaseClass</span><span class="sxs-lookup"><span data-stu-id="3e7db-148">CodeFileBaseClass</span></span>

<span data-ttu-id="3e7db-149">El atributo CodeFileBaseClass se utiliza en los casos en los que desea que varias páginas deriven de una sola clase base.</span><span class="sxs-lookup"><span data-stu-id="3e7db-149">The CodeFileBaseClass attribute is used in cases where you want multiple pages to derive from a single base class.</span></span> <span data-ttu-id="3e7db-150">Debido a la implementación de clases parciales en ASP.NET, sin este atributo, una clase base que usa campos comunes compartidos para hacer referencia a controles declarados en una página ASPX no funcionaría correctamente porque el motor de compilación ASP.NET creará automáticamente nuevos miembros basados en controles de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-150">Because of the implementation of partial classes in ASP.NET, without this attribute, a base class that uses shared common fields to reference controls declared in an ASPX page would not work properly because ASP.NETs compilation engine will automatically create new members based on controls in the page.</span></span> <span data-ttu-id="3e7db-151">Por lo tanto, si desea una clase base común para dos o más páginas en ASP.NET, deberá definir la clase base en el atributo CodeFileBaseClass y, a continuación, derivar cada clase de páginas de esa clase base.</span><span class="sxs-lookup"><span data-stu-id="3e7db-151">Therefore, if you want a common base class for two or more pages in ASP.NET, you will need to define specify your base class in the CodeFileBaseClass attribute and then derive each pages class from that base class.</span></span> <span data-ttu-id="3e7db-152">El atributo CodeFile también es necesario cuando se utiliza este atributo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-152">The CodeFile attribute is also required when this attribute is used.</span></span>

## <a name="compilationmode"></a><span data-ttu-id="3e7db-153">CompilationMode</span><span class="sxs-lookup"><span data-stu-id="3e7db-153">CompilationMode</span></span>

<span data-ttu-id="3e7db-154">Este atributo le permite establecer la propiedad CompilationMode de la página ASPX.</span><span class="sxs-lookup"><span data-stu-id="3e7db-154">This attribute allows you to set the CompilationMode property of the ASPX page.</span></span> <span data-ttu-id="3e7db-155">La propiedad CompilationMode es una enumeración que contiene los valores **Always**, **Auto**y **Never**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-155">The CompilationMode property is an enumeration containing the values **Always**, **Auto**, and **Never**.</span></span> <span data-ttu-id="3e7db-156">El valor predeterminado es **Siempre**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-156">The default is **Always**.</span></span> <span data-ttu-id="3e7db-157">El ajuste **Automático** impedirá que ASP.NET compilen dinámicamente la página si es posible.</span><span class="sxs-lookup"><span data-stu-id="3e7db-157">The **Auto** setting will prevent ASP.NET from dynamically compiling the page if possible.</span></span> <span data-ttu-id="3e7db-158">La exclusión de páginas de la compilación dinámica aumenta el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="3e7db-158">Excluding pages from dynamic compilation increases performance.</span></span> <span data-ttu-id="3e7db-159">Sin embargo, si una página que se excluye contiene ese código que se debe compilar, se producirá un error cuando se examine la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-159">However, if a page that is excluded contains that code that must be compiled, an error will be thrown when the page is browsed.</span></span>

## <a name="enableeventvalidation"></a><span data-ttu-id="3e7db-160">EnableEventValidation</span><span class="sxs-lookup"><span data-stu-id="3e7db-160">EnableEventValidation</span></span>

<span data-ttu-id="3e7db-161">Este atributo especifica si se validan o no los eventos de devolución de datos y devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-161">This attribute specifies whether or not postback and callback events are validated.</span></span> <span data-ttu-id="3e7db-162">Cuando esto está habilitado, se comprueban los argumentos para devolver eventos o devolver eventos para asegurarse de que se originaron desde el control de servidor que los representó originalmente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-162">When this is enabled, arguments to postback or callback events are checked to ensure that they originated from the server control that originally rendered them.</span></span>

## <a name="enabletheming"></a><span data-ttu-id="3e7db-163">EnableTheming</span><span class="sxs-lookup"><span data-stu-id="3e7db-163">EnableTheming</span></span>

<span data-ttu-id="3e7db-164">Este atributo especifica si se utilizan o no ASP.NET temas en una página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-164">This attribute specifies whether or not ASP.NET themes are used on a page.</span></span> <span data-ttu-id="3e7db-165">El valor predeterminado es **false**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-165">The default is **false**.</span></span> <span data-ttu-id="3e7db-166">ASP.NET temas se tratan en [el Módulo 10](profiles-themes-and-web-parts.md).</span><span class="sxs-lookup"><span data-stu-id="3e7db-166">ASP.NET themes are covered in [Module 10](profiles-themes-and-web-parts.md).</span></span>

## <a name="linepragmas"></a><span data-ttu-id="3e7db-167">LinePragmas</span><span class="sxs-lookup"><span data-stu-id="3e7db-167">LinePragmas</span></span>

<span data-ttu-id="3e7db-168">Este atributo especifica si se deben agregar pragmas de línea durante la compilación.</span><span class="sxs-lookup"><span data-stu-id="3e7db-168">This attribute specifies whether line pragmas should be added during compilation.</span></span> <span data-ttu-id="3e7db-169">Las pragmas de línea son opciones utilizadas por los depuradores para marcar secciones específicas de código.</span><span class="sxs-lookup"><span data-stu-id="3e7db-169">Line pragmas are options used by debuggers to mark specific sections of code.</span></span>

## <a name="maintainscrollpositiononpostback"></a><span data-ttu-id="3e7db-170">MaintainScrollPositionOnPostback</span><span class="sxs-lookup"><span data-stu-id="3e7db-170">MaintainScrollPositionOnPostback</span></span>

<span data-ttu-id="3e7db-171">Este atributo especifica si JavaScript se inserta o no en la página para mantener la posición de desplazamiento entre las devueltas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-171">This attribute specifies whether or not JavaScript is injected into the page in order to maintain scroll position between postbacks.</span></span> <span data-ttu-id="3e7db-172">Este atributo es **false** de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-172">This attribute is **false** by default.</span></span>

<span data-ttu-id="3e7db-173">Cuando este atributo es **true** &lt;,&gt; ASP.NET agregará un bloque de script en la devolución de datos que tenga este aspecto:</span><span class="sxs-lookup"><span data-stu-id="3e7db-173">When this attribute is **true**, ASP.NET will add a &lt;script&gt; block on postback that looks like this:</span></span>

[!code-html[Main](the-asp-net-2-0-page-model/samples/sample3.html)]

<span data-ttu-id="3e7db-174">Tenga en cuenta que el src para este bloque de script es WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="3e7db-174">Note that the src for this script block is WebResource.axd.</span></span> <span data-ttu-id="3e7db-175">Este recurso no es una ruta de acceso física.</span><span class="sxs-lookup"><span data-stu-id="3e7db-175">This resource is not a physical path.</span></span> <span data-ttu-id="3e7db-176">Cuando se solicita este script, ASP.NET crea dinámicamente el script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-176">When this script is requested, ASP.NET dynamically builds the script.</span></span>

### <a name="masterpagefile"></a><span data-ttu-id="3e7db-177">MasterPageFile</span><span class="sxs-lookup"><span data-stu-id="3e7db-177">MasterPageFile</span></span>

<span data-ttu-id="3e7db-178">Este atributo especifica el archivo de página maestra para la página actual.</span><span class="sxs-lookup"><span data-stu-id="3e7db-178">This attribute specifies the master page file for the current page.</span></span> <span data-ttu-id="3e7db-179">La ruta de acceso puede ser relativa o absoluta.</span><span class="sxs-lookup"><span data-stu-id="3e7db-179">The path can be relative or absolute.</span></span> <span data-ttu-id="3e7db-180">Las páginas maestras se tratan en [el Módulo 4](master-pages.md).</span><span class="sxs-lookup"><span data-stu-id="3e7db-180">Master pages are covered in [Module 4](master-pages.md).</span></span>

## <a name="stylesheettheme"></a><span data-ttu-id="3e7db-181">StyleSheetTheme</span><span class="sxs-lookup"><span data-stu-id="3e7db-181">StyleSheetTheme</span></span>

<span data-ttu-id="3e7db-182">Este atributo le permite invalidar las propiedades de apariencia de la interfaz de usuario definidas por un tema ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-182">This attribute allows you to override user-interface appearance properties defined by an ASP.NET 2.0 theme.</span></span> <span data-ttu-id="3e7db-183">Los temas se tratan en [el Módulo 10](profiles-themes-and-web-parts.md).</span><span class="sxs-lookup"><span data-stu-id="3e7db-183">Themes are covered in [Module 10](profiles-themes-and-web-parts.md).</span></span>

## <a name="theme"></a><span data-ttu-id="3e7db-184">Tema</span><span class="sxs-lookup"><span data-stu-id="3e7db-184">Theme</span></span>

<span data-ttu-id="3e7db-185">Especifica el tema de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-185">Specifies the theme for the page.</span></span> <span data-ttu-id="3e7db-186">Si no se especifica un valor para el atributo StyleSheetTheme, el atributo Theme reemplaza todos los estilos aplicados a los controles de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-186">If a value is not specified for the StyleSheetTheme attribute, the Theme attribute overrides all styles applied to controls on the page.</span></span>

## <a name="title"></a><span data-ttu-id="3e7db-187">Título</span><span class="sxs-lookup"><span data-stu-id="3e7db-187">Title</span></span>

<span data-ttu-id="3e7db-188">Establece el título de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-188">Sets the title for the page.</span></span> <span data-ttu-id="3e7db-189">El valor especificado aquí aparecerá &lt;&gt; en el elemento title de la página representada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-189">The value specified here will appear in the &lt;title&gt; element of the rendered page.</span></span>

### <a name="viewstateencryptionmode"></a><span data-ttu-id="3e7db-190">ViewStateEncryptionMode</span><span class="sxs-lookup"><span data-stu-id="3e7db-190">ViewStateEncryptionMode</span></span>

<span data-ttu-id="3e7db-191">Establece el valor de la enumeración ViewStateEncryptionMode.</span><span class="sxs-lookup"><span data-stu-id="3e7db-191">Sets the value for the ViewStateEncryptionMode enumeration.</span></span> <span data-ttu-id="3e7db-192">Los valores disponibles son **Always**, **Auto**y **Never**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-192">The available values are **Always**, **Auto**, and **Never**.</span></span> <span data-ttu-id="3e7db-193">El valor predeterminado es **Automático**. Cuando este atributo se establece en un valor de **Auto**, viewstate se cifra es un control que lo solicita mediante una llamada a la **RegisterRequiresViewStateEncryption** método.</span><span class="sxs-lookup"><span data-stu-id="3e7db-193">The default value is **Auto**. When this attribute is set to a value of **Auto**, viewstate is encrypted is a control requests it by calling the **RegisterRequiresViewStateEncryption** method.</span></span>

## <a name="setting-public-property-values-via-the--page-directive"></a><span data-ttu-id="3e7db-194">Establecer los valores de propiedad pública a través de la Directiva de página</span><span class="sxs-lookup"><span data-stu-id="3e7db-194">Setting Public Property Values via the @ Page Directive</span></span>

<span data-ttu-id="3e7db-195">Otra nueva capacidad de la directiva de página en ASP.NET 2.0 es la capacidad de establecer el valor inicial de las propiedades públicas de una clase base.</span><span class="sxs-lookup"><span data-stu-id="3e7db-195">Another new capability of the @ Page directive in ASP.NET 2.0 is the ability to set the initial value of public properties of a base class.</span></span> <span data-ttu-id="3e7db-196">Supongamos, por ejemplo, que tiene una propiedad pública denominada **SomeText** en la clase base y desea que se inicialice en **Hello** cuando se cargue una página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-196">Suppose, for example, that you have a public property called **SomeText** in your base class and you d like it to be initialized to **Hello** when a page is loaded.</span></span> <span data-ttu-id="3e7db-197">Esto se puede lograr simplemente estableciendo el valor en la directiva de la página de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e7db-197">You can accomplish this by simply setting the value in the @ Page directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample4.aspx)]

<span data-ttu-id="3e7db-198">El atributo **SomeText** de la directiva de página establece el valor inicial de la propiedad SomeText de la clase base en *Hello!*.</span><span class="sxs-lookup"><span data-stu-id="3e7db-198">The **SomeText** attribute of the @ Page directive sets the initial value of the SomeText property in the base class to *Hello!*.</span></span> <span data-ttu-id="3e7db-199">El siguiente vídeo es un tutorial de establecer el valor inicial de una propiedad pública en una clase base mediante la directiva de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-199">The video below is a walkthrough of setting the initial value of a public property in a base class using the @ Page directive.</span></span>

![](the-asp-net-2-0-page-model/_static/image1.png)

[<span data-ttu-id="3e7db-200">Abrir vídeo a pantalla completa</span><span class="sxs-lookup"><span data-stu-id="3e7db-200">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/setprop1.wmv)

## <a name="new-public-properties-of-the-page-class"></a><span data-ttu-id="3e7db-201">Nuevas propiedades públicas de la clase Page</span><span class="sxs-lookup"><span data-stu-id="3e7db-201">New Public Properties of the Page Class</span></span>

<span data-ttu-id="3e7db-202">Las siguientes propiedades públicas son nuevas en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-202">The following public properties are new in ASP.NET 2.0.</span></span>

## <a name="apprelativetemplatesourcedirectory"></a><span data-ttu-id="3e7db-203">AppRelativeTemplateSourceDirectory</span><span class="sxs-lookup"><span data-stu-id="3e7db-203">AppRelativeTemplateSourceDirectory</span></span>

<span data-ttu-id="3e7db-204">Devuelve la ruta de acceso relativa a la aplicación a la página o control.</span><span class="sxs-lookup"><span data-stu-id="3e7db-204">Returns the application-relative path to the page or control.</span></span> <span data-ttu-id="3e7db-205">Por ejemplo, para una http://app/folder/page.aspxpágina ubicada en , la propiedad devuelve /folder/.</span><span class="sxs-lookup"><span data-stu-id="3e7db-205">For example, for a page located at http://app/folder/page.aspx, the property returns ~/folder/.</span></span>

## <a name="apprelativevirtualpath"></a><span data-ttu-id="3e7db-206">AppRelativeVirtualPath</span><span class="sxs-lookup"><span data-stu-id="3e7db-206">AppRelativeVirtualPath</span></span>

<span data-ttu-id="3e7db-207">Devuelve la ruta de acceso del directorio virtual relativo a la página o control.</span><span class="sxs-lookup"><span data-stu-id="3e7db-207">Returns the relative virtual directory path to the page or control.</span></span> <span data-ttu-id="3e7db-208">Por ejemplo, para http://app/folder/page.aspxuna página ubicada en , la propiedad devuelve ./folder/page.aspx.</span><span class="sxs-lookup"><span data-stu-id="3e7db-208">For example for a page located at http://app/folder/page.aspx, the property returns ~/folder/page.aspx.</span></span>

## <a name="asynctimeout"></a><span data-ttu-id="3e7db-209">AsyncTimeout</span><span class="sxs-lookup"><span data-stu-id="3e7db-209">AsyncTimeout</span></span>

<span data-ttu-id="3e7db-210">Obtiene o establece el tiempo de espera utilizado para el control de páginas asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-210">Gets or sets the timeout used for asynchronous page handling.</span></span> <span data-ttu-id="3e7db-211">(Las páginas asincrónicas se tratarán más adelante en este módulo.)</span><span class="sxs-lookup"><span data-stu-id="3e7db-211">(Asynchronous pages will be covered later in this module.)</span></span>

## <a name="clientquerystring"></a><span data-ttu-id="3e7db-212">ClientQueryString</span><span class="sxs-lookup"><span data-stu-id="3e7db-212">ClientQueryString</span></span>

<span data-ttu-id="3e7db-213">Propiedad de solo lectura que devuelve la parte de la cadena de consulta de la dirección URL solicitada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-213">A read-only property that returns the query string portion of the requested URL.</span></span> <span data-ttu-id="3e7db-214">Este valor está codificado en URL.</span><span class="sxs-lookup"><span data-stu-id="3e7db-214">This value is URL encoded.</span></span> <span data-ttu-id="3e7db-215">Puede usar el método UrlDecode de la clase HttpServerUtility para descodificarlo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-215">You can use the UrlDecode method of the HttpServerUtility class to decode it.</span></span>

## <a name="clientscript"></a><span data-ttu-id="3e7db-216">ClientScript</span><span class="sxs-lookup"><span data-stu-id="3e7db-216">ClientScript</span></span>

<span data-ttu-id="3e7db-217">Esta propiedad devuelve un clientScriptManager objeto que se puede utilizar para administrar ASP.NET emisión de script del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-217">This property returns a ClientScriptManager object that can be used to manage ASP.NETs emission of client-side script.</span></span> <span data-ttu-id="3e7db-218">(La clase ClientScriptManager se trata más adelante en este módulo.)</span><span class="sxs-lookup"><span data-stu-id="3e7db-218">(The ClientScriptManager class is covered later in this module.)</span></span>

## <a name="enableeventvalidation"></a><span data-ttu-id="3e7db-219">EnableEventValidation</span><span class="sxs-lookup"><span data-stu-id="3e7db-219">EnableEventValidation</span></span>

<span data-ttu-id="3e7db-220">Esta propiedad controla si la validación de eventos está habilitada para eventos de devolución de datos y devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-220">This property controls whether or not event validation is enabled for postback and callback events.</span></span> <span data-ttu-id="3e7db-221">Cuando está habilitado, los argumentos para los eventos de devolución de datos o devolución de llamada se comprueban para asegurarse de que se originaron desde el control de servidor que los representó originalmente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-221">When enabled, arguments to postback or callback events are verified to ensure that they originated from the server control that originally rendered them.</span></span>

## <a name="enabletheming"></a><span data-ttu-id="3e7db-222">EnableTheming</span><span class="sxs-lookup"><span data-stu-id="3e7db-222">EnableTheming</span></span>

<span data-ttu-id="3e7db-223">Esta propiedad obtiene o establece un valor booleano que especifica si un tema de ASP.NET 2.0 se aplica a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-223">This property gets or sets a Boolean that specifies whether or not an ASP.NET 2.0 theme applies to the page.</span></span>

## <a name="form"></a><span data-ttu-id="3e7db-224">Form</span><span class="sxs-lookup"><span data-stu-id="3e7db-224">Form</span></span>

<span data-ttu-id="3e7db-225">Esta propiedad devuelve el formulario HTML de la página ASPX como un objeto HtmlForm.</span><span class="sxs-lookup"><span data-stu-id="3e7db-225">This property returns the HTML form on the ASPX page as an HtmlForm object.</span></span>

## <a name="header"></a><span data-ttu-id="3e7db-226">Encabezado</span><span class="sxs-lookup"><span data-stu-id="3e7db-226">Header</span></span>

<span data-ttu-id="3e7db-227">Esta propiedad devuelve una referencia a un HtmlHead objeto que contiene el encabezado de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-227">This property returns a reference to an HtmlHead object that contains the page header.</span></span> <span data-ttu-id="3e7db-228">Puede utilizar el objeto HtmlHead devuelto para obtener/establecer hojas de estilo, etiquetas Meta, etc.</span><span class="sxs-lookup"><span data-stu-id="3e7db-228">You can use the returned HtmlHead object to get/set style sheets, Meta tags, etc.</span></span>

## <a name="idseparator"></a><span data-ttu-id="3e7db-229">IdSeparator</span><span class="sxs-lookup"><span data-stu-id="3e7db-229">IdSeparator</span></span>

<span data-ttu-id="3e7db-230">Esta propiedad de solo lectura obtiene el carácter que se usa para separar los identificadores de control cuando ASP.NET está creando un identificador único para los controles de una página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-230">This read-only property gets the character that is used to separate control identifiers when ASP.NET is building a unique ID for controls on a page.</span></span> <span data-ttu-id="3e7db-231">No debe usarse directamente desde el código.</span><span class="sxs-lookup"><span data-stu-id="3e7db-231">It is not intended to be used directly from your code.</span></span>

## <a name="isasync"></a><span data-ttu-id="3e7db-232">IsAsync</span><span class="sxs-lookup"><span data-stu-id="3e7db-232">IsAsync</span></span>

<span data-ttu-id="3e7db-233">Esta propiedad permite páginas asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-233">This property allows for asynchronous pages.</span></span> <span data-ttu-id="3e7db-234">Las páginas asincrónicas se describen más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-234">Asynchronous pages are discussed later in this module.</span></span>

## <a name="iscallback"></a><span data-ttu-id="3e7db-235">IsCallback</span><span class="sxs-lookup"><span data-stu-id="3e7db-235">IsCallback</span></span>

<span data-ttu-id="3e7db-236">Esta propiedad de solo lectura devuelve **true** si la página es el resultado de una devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-236">This read-only property returns **true** if the page is the result of a call back.</span></span> <span data-ttu-id="3e7db-237">Las devueltas de llamada se discuten más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-237">Call backs are discussed later in this module.</span></span>

## <a name="iscrosspagepostback"></a><span data-ttu-id="3e7db-238">IsCrossPagePostBack</span><span class="sxs-lookup"><span data-stu-id="3e7db-238">IsCrossPagePostBack</span></span>

<span data-ttu-id="3e7db-239">Esta propiedad de solo lectura devuelve **true** si la página forma parte de una devolución de datos entre páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-239">This read-only property returns **true** if the page is part of a cross-page postback.</span></span> <span data-ttu-id="3e7db-240">Las devueltas entre páginas se tratan más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-240">Cross-page postbacks are covered later in this module.</span></span>

## <a name="items"></a><span data-ttu-id="3e7db-241">Elementos</span><span class="sxs-lookup"><span data-stu-id="3e7db-241">Items</span></span>

<span data-ttu-id="3e7db-242">Devuelve una referencia a una instancia de IDictionary que contiene todos los objetos almacenados en el contexto de páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-242">Returns a reference to an IDictionary instance that contains all objects stored in the pages context.</span></span> <span data-ttu-id="3e7db-243">Puede agregar elementos a este objeto IDictionary y estarán disponibles durante toda la duración del contexto.</span><span class="sxs-lookup"><span data-stu-id="3e7db-243">You can add items to this IDictionary object and they will be available to you throughout the lifetime of the context.</span></span>

## <a name="maintainscrollpositiononpostback"></a><span data-ttu-id="3e7db-244">MaintainScrollPositionOnPostBack</span><span class="sxs-lookup"><span data-stu-id="3e7db-244">MaintainScrollPositionOnPostBack</span></span>

<span data-ttu-id="3e7db-245">Esta propiedad controla si ASP.NET emite JavaScript que mantiene la posición de desplazamiento de las páginas en el explorador después de que se produce una devolución de datos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-245">This property controls whether or not ASP.NET emits JavaScript that maintains the pages scroll position in the browser after a postback occurs.</span></span> <span data-ttu-id="3e7db-246">(Los detalles de esta propiedad se discutieron anteriormente en este módulo.)</span><span class="sxs-lookup"><span data-stu-id="3e7db-246">(Details of this property were discussed earlier in this module.)</span></span>

## <a name="master"></a><span data-ttu-id="3e7db-247">Master</span><span class="sxs-lookup"><span data-stu-id="3e7db-247">Master</span></span>

<span data-ttu-id="3e7db-248">Esta propiedad de solo lectura devuelve una referencia a la instancia de MasterPage para una página a la que se ha aplicado una página maestra.</span><span class="sxs-lookup"><span data-stu-id="3e7db-248">This read-only property returns a reference to the MasterPage instance for a page to which a master page has been applied.</span></span>

## <a name="masterpagefile"></a><span data-ttu-id="3e7db-249">MasterPageFile</span><span class="sxs-lookup"><span data-stu-id="3e7db-249">MasterPageFile</span></span>

<span data-ttu-id="3e7db-250">Obtiene o establece el nombre de archivo de la página maestra para la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-250">Gets or sets the master page filename for the page.</span></span> <span data-ttu-id="3e7db-251">Esta propiedad solo se puede establecer en el método PreInit.</span><span class="sxs-lookup"><span data-stu-id="3e7db-251">This property can only be set in the PreInit method.</span></span>

## <a name="maxpagestatefieldlength"></a><span data-ttu-id="3e7db-252">MaxPageStateFieldLength</span><span class="sxs-lookup"><span data-stu-id="3e7db-252">MaxPageStateFieldLength</span></span>

<span data-ttu-id="3e7db-253">Esta propiedad obtiene o establece la longitud máxima para el estado de las páginas en bytes.</span><span class="sxs-lookup"><span data-stu-id="3e7db-253">This property gets or sets the maximum length for the pages state in bytes.</span></span> <span data-ttu-id="3e7db-254">Si la propiedad se establece en un número positivo, el estado de vista de páginas se dividirá en varios campos ocultos para que no supere el número de bytes especificado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-254">If the property is set to a positive number, the pages view state will be broken up into multiple hidden fields so that it doesnt exceed the number of bytes specified.</span></span> <span data-ttu-id="3e7db-255">Si la propiedad es un número negativo, el estado de vista no se dividirá en fragmentos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-255">If the property is a negative number, the view state will not be broken into chunks.</span></span>

## <a name="pageadapter"></a><span data-ttu-id="3e7db-256">PageAdapter</span><span class="sxs-lookup"><span data-stu-id="3e7db-256">PageAdapter</span></span>

<span data-ttu-id="3e7db-257">Devuelve una referencia al objeto PageAdapter que modifica la página para el explorador solicitante.</span><span class="sxs-lookup"><span data-stu-id="3e7db-257">Returns a reference to the PageAdapter object that modifies the page for the requesting browser.</span></span>

## <a name="previouspage"></a><span data-ttu-id="3e7db-258">PreviousPage</span><span class="sxs-lookup"><span data-stu-id="3e7db-258">PreviousPage</span></span>

<span data-ttu-id="3e7db-259">Devuelve una referencia a la página anterior en casos de un Server.Transfer o una devolución de datos entre páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-259">Returns a reference to the previous page in cases of a Server.Transfer or a cross-page postback.</span></span>

## <a name="skinid"></a><span data-ttu-id="3e7db-260">SkinID</span><span class="sxs-lookup"><span data-stu-id="3e7db-260">SkinID</span></span>

<span data-ttu-id="3e7db-261">Especifica el aspecto ASP.NET 2.0 que se aplicará a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-261">Specifies the ASP.NET 2.0 skin to apply to the page.</span></span>

## <a name="stylesheettheme"></a><span data-ttu-id="3e7db-262">StyleSheetTheme</span><span class="sxs-lookup"><span data-stu-id="3e7db-262">StyleSheetTheme</span></span>

<span data-ttu-id="3e7db-263">Esta propiedad obtiene o establece la hoja de estilos que se aplica a una página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-263">This property gets or sets the style sheet that is applied to a page.</span></span>

## <a name="templatecontrol"></a><span data-ttu-id="3e7db-264">TemplateControl</span><span class="sxs-lookup"><span data-stu-id="3e7db-264">TemplateControl</span></span>

<span data-ttu-id="3e7db-265">Devuelve una referencia al control contenedor de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-265">Returns a reference to the containing control for the page.</span></span>

## <a name="theme"></a><span data-ttu-id="3e7db-266">Tema</span><span class="sxs-lookup"><span data-stu-id="3e7db-266">Theme</span></span>

<span data-ttu-id="3e7db-267">Obtiene o establece el nombre del tema ASP.NET 2.0 aplicado a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-267">Gets or sets the name of the ASP.NET 2.0 theme applied to the page.</span></span> <span data-ttu-id="3e7db-268">Este valor debe establecerse antes de la PreInit método.</span><span class="sxs-lookup"><span data-stu-id="3e7db-268">This value must be set prior to the PreInit method.</span></span>

## <a name="title"></a><span data-ttu-id="3e7db-269">Título</span><span class="sxs-lookup"><span data-stu-id="3e7db-269">Title</span></span>

<span data-ttu-id="3e7db-270">Esta propiedad obtiene o establece el título de la página tal como se obtiene del encabezado de páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-270">This property gets or sets the title for the page as obtained from the pages header.</span></span>

## <a name="viewstateencryptionmode"></a><span data-ttu-id="3e7db-271">ViewStateEncryptionMode</span><span class="sxs-lookup"><span data-stu-id="3e7db-271">ViewStateEncryptionMode</span></span>

<span data-ttu-id="3e7db-272">Obtiene o establece el ViewStateEncryptionMode de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-272">Gets or sets the ViewStateEncryptionMode of the page.</span></span> <span data-ttu-id="3e7db-273">Vea una explicación detallada de esta propiedad anteriormente en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-273">See a detailed discussion of this property earlier in this module.</span></span>

## <a name="new-protected-properties-of-the-page-class"></a><span data-ttu-id="3e7db-274">Nuevas propiedades protegidas de la clase Page</span><span class="sxs-lookup"><span data-stu-id="3e7db-274">New Protected Properties of the Page Class</span></span>

<span data-ttu-id="3e7db-275">A continuación se muestran las nuevas propiedades protegidas de la clase Page en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-275">The following are the new protected properties of the Page class in ASP.NET 2.0.</span></span>

## <a name="adapter"></a><span data-ttu-id="3e7db-276">Adapter (Adaptador)</span><span class="sxs-lookup"><span data-stu-id="3e7db-276">Adapter</span></span>

<span data-ttu-id="3e7db-277">Devuelve una referencia a la ControlAdapter que representa la página en el dispositivo que lo solicitó.</span><span class="sxs-lookup"><span data-stu-id="3e7db-277">Returns a reference to the ControlAdapter that renders the page on the device that requested it.</span></span>

## <a name="asyncmode"></a><span data-ttu-id="3e7db-278">AsyncMode</span><span class="sxs-lookup"><span data-stu-id="3e7db-278">AsyncMode</span></span>

<span data-ttu-id="3e7db-279">Esta propiedad indica si la página se procesa de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-279">This property indicates whether or not the page is processed asynchronously.</span></span> <span data-ttu-id="3e7db-280">Está diseñado para su uso por el tiempo de ejecución y no directamente en el código.</span><span class="sxs-lookup"><span data-stu-id="3e7db-280">It is intended for use by the runtime and not directly in code.</span></span>

## <a name="clientidseparator"></a><span data-ttu-id="3e7db-281">ClientIDSeparator</span><span class="sxs-lookup"><span data-stu-id="3e7db-281">ClientIDSeparator</span></span>

<span data-ttu-id="3e7db-282">Esta propiedad devuelve el carácter utilizado como separador al crear identificadores de cliente únicos para los controles.</span><span class="sxs-lookup"><span data-stu-id="3e7db-282">This property returns the character used as a separator when creating unique client IDs for controls.</span></span> <span data-ttu-id="3e7db-283">Está diseñado para su uso por el tiempo de ejecución y no directamente en el código.</span><span class="sxs-lookup"><span data-stu-id="3e7db-283">It is intended for use by the runtime and not directly in code.</span></span>

## <a name="pagestatepersister"></a><span data-ttu-id="3e7db-284">PageStatePersister</span><span class="sxs-lookup"><span data-stu-id="3e7db-284">PageStatePersister</span></span>

<span data-ttu-id="3e7db-285">Esta propiedad devuelve el pageStatePersister objeto para la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-285">This property returns the PageStatePersister object for the page.</span></span> <span data-ttu-id="3e7db-286">Esta propiedad se utiliza principalmente por ASP.NET desarrolladores de controles.</span><span class="sxs-lookup"><span data-stu-id="3e7db-286">This property is primarily used by ASP.NET control developers.</span></span>

## <a name="uniquefilepathsuffix"></a><span data-ttu-id="3e7db-287">UniqueFilePathSuffix</span><span class="sxs-lookup"><span data-stu-id="3e7db-287">UniqueFilePathSuffix</span></span>

<span data-ttu-id="3e7db-288">Esta propiedad devuelve un sufijo único que se anexa a la ruta de acceso del archivo para almacenar en caché los exploradores.</span><span class="sxs-lookup"><span data-stu-id="3e7db-288">This property returns a unique suffix that is appended to the file path for caching browsers.</span></span> <span data-ttu-id="3e7db-289">El valor \_ \_predeterminado es ufps y un número de 6 dígitos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-289">The default value is \_\_ufps= and a 6-digit number.</span></span>

## <a name="new-public-methods-for-the-page-class"></a><span data-ttu-id="3e7db-290">Nuevos métodos públicos para la clase Page</span><span class="sxs-lookup"><span data-stu-id="3e7db-290">New Public Methods for the Page Class</span></span>

<span data-ttu-id="3e7db-291">Los siguientes métodos públicos son nuevos en la clase Page en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-291">The following public methods are new to the Page class in ASP.NET 2.0.</span></span>

## <a name="addonprerendercompleteasync"></a><span data-ttu-id="3e7db-292">AddOnPreRenderCompleteAsync</span><span class="sxs-lookup"><span data-stu-id="3e7db-292">AddOnPreRenderCompleteAsync</span></span>

<span data-ttu-id="3e7db-293">Este método registra delegados de controlador de eventos para la ejecución asincrónica de páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-293">This method registers event handler delegates for asynchronous page execution.</span></span> <span data-ttu-id="3e7db-294">Las páginas asincrónicas se describen más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-294">Asynchronous pages are discussed later in this module.</span></span>

## <a name="applystylesheetskin"></a><span data-ttu-id="3e7db-295">ApplyStyleSheetSkin</span><span class="sxs-lookup"><span data-stu-id="3e7db-295">ApplyStyleSheetSkin</span></span>

<span data-ttu-id="3e7db-296">Aplica las propiedades de una hoja de estilos de páginas a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-296">Applies the properties in a pages style sheet to the page.</span></span>

## <a name="executeregisteredasynctasks"></a><span data-ttu-id="3e7db-297">ExecuteRegisteredAsyncTasks</span><span class="sxs-lookup"><span data-stu-id="3e7db-297">ExecuteRegisteredAsyncTasks</span></span>

<span data-ttu-id="3e7db-298">Este método es una tarea asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-298">This method beings an asynchronous task.</span></span>

### <a name="getvalidators"></a><span data-ttu-id="3e7db-299">GetValidators</span><span class="sxs-lookup"><span data-stu-id="3e7db-299">GetValidators</span></span>

<span data-ttu-id="3e7db-300">Devuelve una colección de validadores para el grupo de validación especificado o el grupo de validación predeterminado si no se especifica ninguno.</span><span class="sxs-lookup"><span data-stu-id="3e7db-300">Returns a collection of validators for the specified validation group or the default validation group if none is specified.</span></span>

## <a name="registerasynctask"></a><span data-ttu-id="3e7db-301">RegisterAsyncTask</span><span class="sxs-lookup"><span data-stu-id="3e7db-301">RegisterAsyncTask</span></span>

<span data-ttu-id="3e7db-302">Este método registra una nueva tarea asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-302">This method registers a new async task.</span></span> <span data-ttu-id="3e7db-303">Las páginas asincrónicas se tratan más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-303">Asynchronous pages are covered later in this module.</span></span>

## <a name="registerrequirescontrolstate"></a><span data-ttu-id="3e7db-304">RegisterRequiresControlState</span><span class="sxs-lookup"><span data-stu-id="3e7db-304">RegisterRequiresControlState</span></span>

<span data-ttu-id="3e7db-305">Este método indica a ASP.NET que el estado del control de páginas debe conservarse.</span><span class="sxs-lookup"><span data-stu-id="3e7db-305">This method tells ASP.NET that the pages control state must be persisted.</span></span>

## <a name="registerrequiresviewstateencryption"></a><span data-ttu-id="3e7db-306">RegisterRequiresViewStateEncryption</span><span class="sxs-lookup"><span data-stu-id="3e7db-306">RegisterRequiresViewStateEncryption</span></span>

<span data-ttu-id="3e7db-307">Este método indica a ASP.NET que el estado de vista de páginas requiere cifrado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-307">This method tells ASP.NET that the pages viewstate requires encryption.</span></span>

## <a name="resolveclienturl"></a><span data-ttu-id="3e7db-308">ResolveClientUrl</span><span class="sxs-lookup"><span data-stu-id="3e7db-308">ResolveClientUrl</span></span>

<span data-ttu-id="3e7db-309">Devuelve una dirección URL relativa que se puede utilizar para las solicitudes de cliente de imágenes, etc.</span><span class="sxs-lookup"><span data-stu-id="3e7db-309">Returns a relative URL that can be used for client requests for images, etc.</span></span>

## <a name="setfocus"></a><span data-ttu-id="3e7db-310">SetFocus</span><span class="sxs-lookup"><span data-stu-id="3e7db-310">SetFocus</span></span>

<span data-ttu-id="3e7db-311">Este método establecerá el foco en el control que se especifica cuando se carga inicialmente la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-311">This method will set the focus to the control that is specified when the page is initially loaded.</span></span>

## <a name="unregisterrequirescontrolstate"></a><span data-ttu-id="3e7db-312">UnregisterRequiresControlState</span><span class="sxs-lookup"><span data-stu-id="3e7db-312">UnregisterRequiresControlState</span></span>

<span data-ttu-id="3e7db-313">Este método anulará el registro del control que se le pasa ya que ya no requiere persistencia de estado de control.</span><span class="sxs-lookup"><span data-stu-id="3e7db-313">This method will unregister the control that is passed to it as no longer requiring control state persistence.</span></span>

## <a name="changes-to-the-page-lifecycle"></a><span data-ttu-id="3e7db-314">Cambios en el ciclo de vida de la página</span><span class="sxs-lookup"><span data-stu-id="3e7db-314">Changes to the Page Lifecycle</span></span>

<span data-ttu-id="3e7db-315">El ciclo de vida de la página en ASP.NET 2.0 no ha cambiado drásticamente, pero hay algunos métodos nuevos que debe tener en cuenta.</span><span class="sxs-lookup"><span data-stu-id="3e7db-315">The page lifecycle in ASP.NET 2.0 hasn't changed dramatically, but there are some new methods that you should be aware of.</span></span> <span data-ttu-id="3e7db-316">El ciclo de vida de la página ASP.NET 2.0 se describe a continuación.</span><span class="sxs-lookup"><span data-stu-id="3e7db-316">The ASP.NET 2.0 page lifecycle is outlined below.</span></span>

## <a name="preinit-new-in-aspnet-20"></a><span data-ttu-id="3e7db-317">PreInit (Nuevo en ASP.NET 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-317">PreInit (New in ASP.NET 2.0)</span></span>

<span data-ttu-id="3e7db-318">El evento PreInit es la etapa más temprana del ciclo de vida a la que un desarrollador puede acceder.</span><span class="sxs-lookup"><span data-stu-id="3e7db-318">The PreInit event is the earliest stage in the lifecycle that a developer can access.</span></span> <span data-ttu-id="3e7db-319">La adición de este evento permite cambiar mediante programación ASP.NET temas 2.0, páginas maestras, propiedades de acceso para un perfil de ASP.NET 2.0, etc. Si se encuentra en un estado de devolución de datos, es importante tener en cuenta que Viewstate aún no se ha aplicado a los controles en este punto del ciclo de vida.</span><span class="sxs-lookup"><span data-stu-id="3e7db-319">The addition of this event makes it possible to programmatically change ASP.NET 2.0 themes, master pages, access properties for an ASP.NET 2.0 profile, etc. If you are in a postback state, its important to realize that Viewstate has not yet been applied to controls at this point in the lifecycle.</span></span> <span data-ttu-id="3e7db-320">Por lo tanto, si un desarrollador cambia una propiedad de un control en esta etapa, es probable que se sobrescriba más adelante en el ciclo de vida de las páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-320">Therefore, if a developer changes a property of a control at this stage, it will likely be overwritten later in the pages lifecycle.</span></span>

## <a name="init"></a><span data-ttu-id="3e7db-321">Init</span><span class="sxs-lookup"><span data-stu-id="3e7db-321">Init</span></span>

<span data-ttu-id="3e7db-322">El evento Init no ha cambiado de ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="3e7db-322">The Init event has not changed from ASP.NET 1.x.</span></span> <span data-ttu-id="3e7db-323">Aquí es donde desea leer o inicializar las propiedades de los controles en la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-323">This is where you would want to read or initialize properties of controls on your page.</span></span> <span data-ttu-id="3e7db-324">En esta etapa, las páginas maestras, temas, etc. ya se aplican a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-324">At this stage, master pages, themes, etc. are already applied to the page.</span></span>

## <a name="initcomplete-new-in-20"></a><span data-ttu-id="3e7db-325">InitComplete (Nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-325">InitComplete (New in 2.0)</span></span>

<span data-ttu-id="3e7db-326">Se llama al evento InitComplete al final de la fase de inicialización de las páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-326">The InitComplete event is called at the end of the pages initialization stage.</span></span> <span data-ttu-id="3e7db-327">En este punto del ciclo de vida, puede tener acceso a los controles de la página, pero su estado aún no se ha rellenado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-327">At this point in the lifecycle, you can access controls on the page, but their state has not yet been populated.</span></span>

## <a name="preload-new-in-20"></a><span data-ttu-id="3e7db-328">Precarga (nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-328">PreLoad (New in 2.0)</span></span>

<span data-ttu-id="3e7db-329">Este evento se llama después de que se\_hayan aplicado todos los datos de devolución de datos y justo antes de la carga de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-329">This event is called after all postback data has been applied and just prior to Page\_Load.</span></span>

## <a name="load"></a><span data-ttu-id="3e7db-330">Cargar</span><span class="sxs-lookup"><span data-stu-id="3e7db-330">Load</span></span>

<span data-ttu-id="3e7db-331">El evento Load no ha cambiado de ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="3e7db-331">The Load event has not changed from ASP.NET 1.x.</span></span>

## <a name="loadcomplete-new-in-20"></a><span data-ttu-id="3e7db-332">LoadComplete (nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-332">LoadComplete (New in 2.0)</span></span>

<span data-ttu-id="3e7db-333">El evento LoadComplete es el último evento de la fase de carga de páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-333">The LoadComplete event is the last event in the pages load stage.</span></span> <span data-ttu-id="3e7db-334">En esta etapa, todos los datos de devolución de datos y estado de vista se han aplicado a la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-334">At this stage, all postback and viewstate data has been applied to the page.</span></span>

## <a name="prerender"></a><span data-ttu-id="3e7db-335">PreRender</span><span class="sxs-lookup"><span data-stu-id="3e7db-335">PreRender</span></span>

<span data-ttu-id="3e7db-336">Si desea que viewstate se mantenga correctamente para los controles que se agregan a la página dinámicamente, el evento PreRender es la última oportunidad para agregarlos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-336">If you would like for viewstate to be properly maintained for controls that are added to the page dynamically, the PreRender event is the last opportunity to add them.</span></span>

## <a name="prerendercomplete-new-in-20"></a><span data-ttu-id="3e7db-337">PreRenderComplete (nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-337">PreRenderComplete (New in 2.0)</span></span>

<span data-ttu-id="3e7db-338">En la fase PreRenderComplete, todos los controles se han agregado a la página y la página está lista para representarse.</span><span class="sxs-lookup"><span data-stu-id="3e7db-338">At the PreRenderComplete stage, all controls have been added to the page and the page is ready to be rendered.</span></span> <span data-ttu-id="3e7db-339">El evento PreRenderComplete es el último evento generado antes de guardar el estado de vista de páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-339">The PreRenderComplete event is the last event raised before the pages viewstate is saved.</span></span>

## <a name="savestatecomplete-new-in-20"></a><span data-ttu-id="3e7db-340">SaveStateComplete (Nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-340">SaveStateComplete (New in 2.0)</span></span>

<span data-ttu-id="3e7db-341">Se llama al evento SaveStateComplete inmediatamente después de guardar todo el estado de vista de página y el estado de control.</span><span class="sxs-lookup"><span data-stu-id="3e7db-341">The SaveStateComplete event is called immediately after all page viewstate and control state has been saved.</span></span> <span data-ttu-id="3e7db-342">Este es el último evento antes de que la página se represente realmente en el explorador.</span><span class="sxs-lookup"><span data-stu-id="3e7db-342">This is the last event before the page is actually rendered to the browser.</span></span>

## <a name="render"></a><span data-ttu-id="3e7db-343">Representación</span><span class="sxs-lookup"><span data-stu-id="3e7db-343">Render</span></span>

<span data-ttu-id="3e7db-344">El render método no ha cambiado desde ASP.NET 1.x.</span><span class="sxs-lookup"><span data-stu-id="3e7db-344">The Render method has not changed since ASP.NET 1.x.</span></span> <span data-ttu-id="3e7db-345">Aquí es donde el HtmlTextWriter se inicializa y la página se representa en el explorador.</span><span class="sxs-lookup"><span data-stu-id="3e7db-345">This is where the HtmlTextWriter is initialized and the page is rendered to the browser.</span></span>

## <a name="cross-page-postback-in-aspnet-20"></a><span data-ttu-id="3e7db-346">Devolución de correos entre páginas en ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-346">Cross-Page Postback in ASP.NET 2.0</span></span>

<span data-ttu-id="3e7db-347">En ASP.NET 1.x, las devueltas debían publicarse en la misma página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-347">In ASP.NET 1.x, postbacks were required to post to the same page.</span></span> <span data-ttu-id="3e7db-348">No se permitían devueltas entre páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-348">Cross-page postbacks were not allowed.</span></span> <span data-ttu-id="3e7db-349">ASP.NET 2.0 agrega la capacidad de publicar de nuevo a una página diferente a través de la Interfaz IButtonControl.</span><span class="sxs-lookup"><span data-stu-id="3e7db-349">ASP.NET 2.0 adds the ability to post back to a different page via the IButtonControl interface.</span></span> <span data-ttu-id="3e7db-350">Cualquier control que implemente la nueva interfaz IButtonControl (Button, LinkButton e ImageButton además de controles personalizados de terceros) puede aprovechar esta nueva funcionalidad mediante el uso del atributo PostBackUrl.</span><span class="sxs-lookup"><span data-stu-id="3e7db-350">Any control that implements the new IButtonControl interface (Button, LinkButton, and ImageButton in addition to third-party custom controls) can take advantage of this new functionality via the use of the PostBackUrl attribute.</span></span> <span data-ttu-id="3e7db-351">El código siguiente muestra un Button control que devuelve a una segunda página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-351">The following code shows a Button control that posts back to a second page.</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample5.aspx)]

<span data-ttu-id="3e7db-352">Cuando se devuelve la página, la página que inicia la devolución de datos es accesible a través de la PreviousPage propiedad en la segunda página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-352">When the page is posted back, the Page that initiates the postback is accessible via the PreviousPage property on the second page.</span></span> <span data-ttu-id="3e7db-353">Esta funcionalidad se implementa a través de la nueva función del lado cliente de WebForm\_DoPostBackWithOptions que ASP.NET 2.0 se representa en la página cuando un control vuelve a una página diferente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-353">This functionality is implemented via the new WebForm\_DoPostBackWithOptions client-side function that ASP.NET 2.0 renders to the page when a control posts back to a different page.</span></span> <span data-ttu-id="3e7db-354">Esta función de JavaScript es proporcionada por el nuevo webResource.axd controlador que emite script al cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-354">This JavaScript function is provided by the new WebResource.axd handler which emits script to the client.</span></span>

<span data-ttu-id="3e7db-355">El siguiente vídeo es un tutorial de una devolución de datos entre páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-355">The video below is a walkthrough of a cross-page postback.</span></span>

![](the-asp-net-2-0-page-model/_static/image2.png)

[<span data-ttu-id="3e7db-356">Abrir vídeo a pantalla completa</span><span class="sxs-lookup"><span data-stu-id="3e7db-356">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/xpage1.wmv)

## <a name="more-details-on-cross-page-postbacks"></a><span data-ttu-id="3e7db-357">Más detalles sobre las devueltas entre páginas</span><span class="sxs-lookup"><span data-stu-id="3e7db-357">More Details on Cross-Page Postbacks</span></span>

### <a name="viewstate"></a><span data-ttu-id="3e7db-358">Viewstate</span><span class="sxs-lookup"><span data-stu-id="3e7db-358">Viewstate</span></span>

<span data-ttu-id="3e7db-359">Es posible que ya se haya preguntado sobre lo que sucede con el estado de vista desde la primera página en un escenario de devolución de datos entre páginas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-359">You may have asked yourself already about what happens to the viewstate from the first page in a cross-page postback scenario.</span></span> <span data-ttu-id="3e7db-360">Después de todo, cualquier control que no implemente IPostBackDataHandler conservará su estado a través de viewstate, por lo que para tener acceso a las propiedades de ese control en la segunda página de una devolución de datos entre páginas, debe tener acceso al estado de vista de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-360">After all, any control that does not implement IPostBackDataHandler will persist its state via viewstate, so to have access to the properties of that control on the second page of a cross-page postback, you must have access to the viewstate for the page.</span></span> <span data-ttu-id="3e7db-361">ASP.NET 2.0 se encarga de este escenario mediante \_ \_un nuevo campo oculto en la segunda página denominado PREVIOUSPAGE.</span><span class="sxs-lookup"><span data-stu-id="3e7db-361">ASP.NET 2.0 takes care of this scenario using a new hidden field in the second page called \_\_PREVIOUSPAGE.</span></span> <span data-ttu-id="3e7db-362">El \_ \_campo de formulario PREVIOUSPAGE contiene el estado de vista de la primera página para que pueda tener acceso a las propiedades de todos los controles de la segunda página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-362">The \_\_PREVIOUSPAGE form field contains the viewstate for the first page so that you can have access to the properties of all controls in the second page.</span></span>

### <a name="circumventing-findcontrol"></a><span data-ttu-id="3e7db-363">Eludir FindControl</span><span class="sxs-lookup"><span data-stu-id="3e7db-363">Circumventing FindControl</span></span>

<span data-ttu-id="3e7db-364">En el tutorial de vídeo de una devolución de datos entre páginas, usé el FindControl método para obtener una referencia a la TextBox control en la primera página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-364">In the video walkthrough of a cross-page postback, I used the FindControl method to get a reference to the TextBox control on the first page.</span></span> <span data-ttu-id="3e7db-365">Ese método funciona bien para ese propósito, pero FindControl es caro y requiere escribir código adicional.</span><span class="sxs-lookup"><span data-stu-id="3e7db-365">That method works well for that purpose, but FindControl is expensive and it requires writing additional code.</span></span> <span data-ttu-id="3e7db-366">Afortunadamente, ASP.NET 2.0 proporciona una alternativa a FindControl para este propósito que funcionará en muchos escenarios.</span><span class="sxs-lookup"><span data-stu-id="3e7db-366">Fortunately, ASP.NET 2.0 provides an alternative to FindControl for this purpose that will work in many scenarios.</span></span> <span data-ttu-id="3e7db-367">La directiva PreviousPageType permite tener una referencia fuertemente tipada a la página anterior mediante el atributo TypeName o VirtualPath.</span><span class="sxs-lookup"><span data-stu-id="3e7db-367">The PreviousPageType directive allows you to have a strongly-typed reference to the previous page by using either the TypeName or the VirtualPath attribute.</span></span> <span data-ttu-id="3e7db-368">El atributo TypeName permite especificar el tipo de la página anterior, mientras que el atributo VirtualPath permite hacer referencia a la página anterior mediante una ruta de acceso virtual.</span><span class="sxs-lookup"><span data-stu-id="3e7db-368">The TypeName attribute allows you to specify the type of the previous page while the VirtualPath attribute allows you to refer to the previous page using a virtual path.</span></span> <span data-ttu-id="3e7db-369">Después de establecer la directiva PreviousPageType, debe exponer los controles, etc. a los que desea permitir el acceso mediante propiedades públicas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-369">After you've set the PreviousPageType directive, you must then expose the controls, etc. to which you want to allow access using public properties.</span></span>

## <a name="lab-1-cross-page-postback"></a><span data-ttu-id="3e7db-370">Lab 1 Devolución de Correos entre páginas</span><span class="sxs-lookup"><span data-stu-id="3e7db-370">Lab 1 Cross-Page Postback</span></span>

<span data-ttu-id="3e7db-371">En este laboratorio, creará una aplicación que usa la nueva funcionalidad de devolución de datos entre páginas de ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-371">In this lab, you will create an application that uses the new cross-page postback functionality of ASP.NET 2.0.</span></span>

1. <span data-ttu-id="3e7db-372">Abra Visual Studio 2005 y cree un nuevo sitio Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="3e7db-372">Open Visual Studio 2005 and create a new ASP.NET Web site.</span></span>
2. <span data-ttu-id="3e7db-373">Agregue un nuevo formulario Webform denominado page2.aspx.</span><span class="sxs-lookup"><span data-stu-id="3e7db-373">Add a new Webform called page2.aspx.</span></span>
3. <span data-ttu-id="3e7db-374">Abra el Default.aspx en la vista Diseño y agregue un Button control y un TextBox control.</span><span class="sxs-lookup"><span data-stu-id="3e7db-374">Open the Default.aspx in Design view and add a Button control and a TextBox control.</span></span> 

    1. <span data-ttu-id="3e7db-375">Asigne al control Button un identificador de **SubmitButton** y el control TextBox un identificador de **UserName**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-375">Give the Button control an ID of **SubmitButton** and the TextBox control an ID of **UserName**.</span></span>
    2. <span data-ttu-id="3e7db-376">Establezca la propiedad PostBackUrl de Button en page2.aspx.</span><span class="sxs-lookup"><span data-stu-id="3e7db-376">Set the PostBackUrl property of the Button to page2.aspx.</span></span>
4. <span data-ttu-id="3e7db-377">Abra page2.aspx en la vista Origen.</span><span class="sxs-lookup"><span data-stu-id="3e7db-377">Open page2.aspx in Source view.</span></span>
5. <span data-ttu-id="3e7db-378">Agregue una directiva de Tipo de Página Anterior como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="3e7db-378">Add a @ PreviousPageType directive as shown below:</span></span>
6. <span data-ttu-id="3e7db-379">Agregue el código siguiente\_a la carga de página de page2.aspx código subyacente:</span><span class="sxs-lookup"><span data-stu-id="3e7db-379">Add the following code to the Page\_Load of page2.aspx's code-behind:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample6.cs)]
7. <span data-ttu-id="3e7db-380">Compile el proyecto haciendo clic en Compilar en el menú Generar.</span><span class="sxs-lookup"><span data-stu-id="3e7db-380">Build the project by clicking on Build on the Build menu.</span></span>
8. <span data-ttu-id="3e7db-381">Agregue el código siguiente al código subyacente de Default.aspx:</span><span class="sxs-lookup"><span data-stu-id="3e7db-381">Add the following code to the code-behind for Default.aspx:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample7.cs)]
9. <span data-ttu-id="3e7db-382">Cambie la\_carga de página en page2.aspx a lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3e7db-382">Change the Page\_Load in page2.aspx to the following:</span></span> 

    [!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample8.cs)]
10. <span data-ttu-id="3e7db-383">Compile el proyecto.</span><span class="sxs-lookup"><span data-stu-id="3e7db-383">Build the project.</span></span>
11. <span data-ttu-id="3e7db-384">Ejecute el proyecto.</span><span class="sxs-lookup"><span data-stu-id="3e7db-384">Run the project.</span></span>
12. <span data-ttu-id="3e7db-385">Introduzca su nombre en el cuadro de texto y haga clic en el botón.</span><span class="sxs-lookup"><span data-stu-id="3e7db-385">Enter your name in the TextBox and click the button.</span></span>
13. <span data-ttu-id="3e7db-386">¿Cuál es el resultado?</span><span class="sxs-lookup"><span data-stu-id="3e7db-386">What is the result?</span></span>

## <a name="asynchronous-pages-in-aspnet-20"></a><span data-ttu-id="3e7db-387">Páginas asincrónicas en ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-387">Asynchronous Pages in ASP.NET 2.0</span></span>

<span data-ttu-id="3e7db-388">Muchos problemas de contención en ASP.NET se deben a la latencia de llamadas externas (como llamadas a servicios web o bases de datos), latencia de E/S de archivos, etc. Cuando se realiza una solicitud en una aplicación ASP.NET, ASP.NET usa uno de sus subprocesos de trabajo para atender esa solicitud.</span><span class="sxs-lookup"><span data-stu-id="3e7db-388">Many contention problems in ASP.NET are caused by latency of external calls (such as Web service or database calls), file IO latency, etc. When a request is made against an ASP.NET application, ASP.NET uses one of its worker threads to service that request.</span></span> <span data-ttu-id="3e7db-389">Esa solicitud es propietaria de ese subproceso hasta que se completa la solicitud y se ha enviado la respuesta.</span><span class="sxs-lookup"><span data-stu-id="3e7db-389">That request owns that thread until the request is complete and the response has been sent.</span></span> <span data-ttu-id="3e7db-390">ASP.NET 2.0 busca resolver problemas de latencia con estos tipos de problemas agregando la capacidad de ejecutar páginas de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-390">ASP.NET 2.0 seeks to resolve latency issues with these types of issues by adding the capability to execute pages asynchronously.</span></span> <span data-ttu-id="3e7db-391">Esto significa que un subproceso de trabajo puede iniciar la solicitud y, a continuación, entregar la ejecución adicional a otro subproceso, volviendo así al grupo de subprocesos disponible rápidamente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-391">That means that a worker thread can start the request and then hand off additional execution to another thread, thereby returning to the available thread pool quickly.</span></span> <span data-ttu-id="3e7db-392">Cuando se ha completado la E/S del archivo, la llamada a la base de datos, etc., se obtiene un nuevo subproceso del grupo de subprocesos para finalizar la solicitud.</span><span class="sxs-lookup"><span data-stu-id="3e7db-392">When the file IO, database call, etc. has completed, a new thread is obtained from the thread pool to finish the request.</span></span>

<span data-ttu-id="3e7db-393">El primer paso para hacer que una página se ejecute de forma asincrónica es establecer el atributo **Async** de la directiva de página de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e7db-393">The first step in making a page execute asynchronously is to set the **Async** attribute of the page directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample9.aspx)]

<span data-ttu-id="3e7db-394">Este atributo indica a ASP.NET implementar el IHttpAsyncHandler para la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-394">This attribute tells ASP.NET to implement the IHttpAsyncHandler for the page.</span></span>

<span data-ttu-id="3e7db-395">El siguiente paso es llamar al método AddOnPreRenderCompleteAsync en un punto del ciclo de vida de la página anterior a PreRender.</span><span class="sxs-lookup"><span data-stu-id="3e7db-395">The next step is to call the AddOnPreRenderCompleteAsync method at a point in the lifecycle of the page prior to PreRender.</span></span> <span data-ttu-id="3e7db-396">(Este método se llama\_normalmente en carga de página.) El método AddOnPreRenderCompleteAsync toma dos parámetros; un BeginEventHandler y un EndEventHandler.</span><span class="sxs-lookup"><span data-stu-id="3e7db-396">(This method is typically called in Page\_Load.) The AddOnPreRenderCompleteAsync method takes two parameters; a BeginEventHandler and an EndEventHandler.</span></span> <span data-ttu-id="3e7db-397">El BeginEventHandler devuelve un IAsyncResult que, a continuación, se pasa como un parámetro a la EndEventHandler.</span><span class="sxs-lookup"><span data-stu-id="3e7db-397">The BeginEventHandler returns an IAsyncResult which is then passed as a parameter to the EndEventHandler.</span></span>

<span data-ttu-id="3e7db-398">El siguiente vídeo es un tutorial de una solicitud de página asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-398">The video below is a walkthrough of an asynchronous page request.</span></span>

![](the-asp-net-2-0-page-model/_static/image3.png)

[<span data-ttu-id="3e7db-399">Abrir vídeo a pantalla completa</span><span class="sxs-lookup"><span data-stu-id="3e7db-399">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/async1.wmv)

> [!NOTE]
> <span data-ttu-id="3e7db-400">Una página asincrónica no se representa en el explorador hasta que EndEventHandler se ha completado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-400">An async page does not render to the browser until the EndEventHandler has completed.</span></span> <span data-ttu-id="3e7db-401">Sin duda, pero algunos desarrolladores pensarán que las solicitudes asincrónicas son similares a las devoluciones de llamada asincrónicas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-401">No doubt but that some developers will think of async requests as being similar to async callbacks.</span></span> <span data-ttu-id="3e7db-402">Es importante darse cuenta de que no lo son.</span><span class="sxs-lookup"><span data-stu-id="3e7db-402">It's important to realize that they are not.</span></span> <span data-ttu-id="3e7db-403">La ventaja de las solicitudes asincrónicas es que el primer subproceso de trabajo se puede devolver al grupo de subprocesos para atender nuevas solicitudes, lo que reduce la contención debido a que está enlazado a E/S, etc.</span><span class="sxs-lookup"><span data-stu-id="3e7db-403">The benefit to asynchronous requests is that the first worker thread can be returned to the thread pool to service new requests, thereby reducing contention due to being IO bound, etc.</span></span>

## <a name="script-callbacks-in-aspnet-20"></a><span data-ttu-id="3e7db-404">Devoluciones de llamada de script en ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-404">Script Callbacks in ASP.NET 2.0</span></span>

<span data-ttu-id="3e7db-405">Los desarrolladores web siempre han buscado maneras de evitar el parpadeo asociado a una devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-405">Web developers have always looked for ways to prevent the flickering associated with a callback.</span></span> <span data-ttu-id="3e7db-406">En ASP.NET 1.x, SmartNavigation era el método más común para evitar el parpadeo, pero SmartNavigation causó problemas para algunos desarrolladores debido a la complejidad de su implementación en el cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-406">In ASP.NET 1.x, SmartNavigation was the most common method for avoiding flickering, but SmartNavigation caused problems for some developers because of the complexity of its implementation on the client.</span></span> <span data-ttu-id="3e7db-407">ASP.NET 2.0 soluciona este problema con las devoluciones de llamada de script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-407">ASP.NET 2.0 addresses this issue with script callbacks.</span></span> <span data-ttu-id="3e7db-408">Las devoluciones de llamada de script utilizan XMLHttp para realizar solicitudes en el servidor Web a través de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3e7db-408">Script callbacks utilize XMLHttp to make requests against the Web server via JavaScript.</span></span> <span data-ttu-id="3e7db-409">La solicitud XMLHttp devuelve datos XML que, a continuación, se pueden manipular a través del DOM del explorador.</span><span class="sxs-lookup"><span data-stu-id="3e7db-409">The XMLHttp request returns XML data that can then be manipulated via the browser's DOM.</span></span> <span data-ttu-id="3e7db-410">El nuevo controlador WebResource.axd oculta al usuario el código XMLHttp.</span><span class="sxs-lookup"><span data-stu-id="3e7db-410">XMLHttp code is hidden from the user by the new WebResource.axd handler.</span></span>

<span data-ttu-id="3e7db-411">Hay varios pasos que son necesarios para configurar una devolución de llamada del script en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-411">There are several steps that are necessary in order to configure a script callback in ASP.NET 2.0.</span></span>

## <a name="step-1--implement-the-icallbackeventhandler-interface"></a><span data-ttu-id="3e7db-412">Paso 1: Implementar la interfaz ICallbackEventHandler</span><span class="sxs-lookup"><span data-stu-id="3e7db-412">Step 1 : Implement the ICallbackEventHandler Interface</span></span>

<span data-ttu-id="3e7db-413">Para que ASP.NET reconozca la página como participante en una devolución de llamada de script, debe implementar la interfaz ICallbackEventHandler.</span><span class="sxs-lookup"><span data-stu-id="3e7db-413">In order for ASP.NET to recognize your page as participating in a script callback, you must implement the ICallbackEventHandler interface.</span></span> <span data-ttu-id="3e7db-414">Puede hacer esto en el archivo de código subyacente de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e7db-414">You can do this in your code-behind file like so:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample10.cs)]

<span data-ttu-id="3e7db-415">También puede hacer esto mediante la directiva implementos de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e7db-415">You can also do this using the @ Implements directive like so:</span></span>

[!code-aspx[Main](the-asp-net-2-0-page-model/samples/sample11.aspx)]

<span data-ttu-id="3e7db-416">Normalmente, se usaría la directiva implementos cuando se usa código de ASP.NET en línea.</span><span class="sxs-lookup"><span data-stu-id="3e7db-416">You would typically use the @ Implements directive when using inline ASP.NET code.</span></span>

## <a name="step-2--call-getcallbackeventreference"></a><span data-ttu-id="3e7db-417">Paso 2 : Llame a GetCallbackEventReference</span><span class="sxs-lookup"><span data-stu-id="3e7db-417">Step 2 : Call GetCallbackEventReference</span></span>

<span data-ttu-id="3e7db-418">Como se mencionó anteriormente, la llamada XMLHttp se encapsula en el WebResource.axd controlador.</span><span class="sxs-lookup"><span data-stu-id="3e7db-418">As mentioned previously, the XMLHttp call is encapsulated in the WebResource.axd handler.</span></span> <span data-ttu-id="3e7db-419">Cuando se representa la página, ASP.NET agregará\_una llamada a WebForm DoCallback, un script de cliente proporcionado por WebResource.axd.</span><span class="sxs-lookup"><span data-stu-id="3e7db-419">When your page is rendered, ASP.NET will add a call to WebForm\_DoCallback, a client script that is provided by WebResource.axd.</span></span> <span data-ttu-id="3e7db-420">La función WebForm\_DoCallback reemplaza la \_ \_función doPostBack para una devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-420">The WebForm\_DoCallback function replaces the \_\_doPostBack function for a callback.</span></span> <span data-ttu-id="3e7db-421">Recuerde \_ \_que doPostBack envía el formulario mediante programación en la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-421">Remember that \_\_doPostBack programmatically submits the form on the page.</span></span> <span data-ttu-id="3e7db-422">En un escenario de devolución de llamada, \_ \_desea evitar una devolución de datos, por lo que doPostBack no será suficiente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-422">In a callback scenario, you want to prevent a postback, so \_\_doPostBack will not suffice.</span></span>

> [!NOTE]
> <span data-ttu-id="3e7db-423">\_\_doPostBack todavía se representa en la página en un escenario de devolución de llamada de script de cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-423">\_\_doPostBack is still rendered to the page in a client script callback scenario.</span></span> <span data-ttu-id="3e7db-424">Sin embargo, no se utiliza para la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-424">However, it's not used for the callback.</span></span>

<span data-ttu-id="3e7db-425">Los argumentos para\_la función del lado cliente DeCallback de WebForm se proporcionan a\_través de la función del lado servidor GetCallbackEventReference que normalmente se llamaría en carga de página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-425">The arguments for the WebForm\_DoCallback client-side function are provided via the server-side function GetCallbackEventReference which would normally be called in Page\_Load.</span></span> <span data-ttu-id="3e7db-426">Una llamada típica a GetCallbackEventReference podría tener este aspecto:</span><span class="sxs-lookup"><span data-stu-id="3e7db-426">A typical call to GetCallbackEventReference might look like this:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample12.cs)]

> [!NOTE]
> <span data-ttu-id="3e7db-427">En este caso, cm es una instancia de ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="3e7db-427">In this case, cm is an instance of ClientScriptManager.</span></span> <span data-ttu-id="3e7db-428">La clase ClientScriptManager se tratará más adelante en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-428">The ClientScriptManager class will be covered later in this module.</span></span>

<span data-ttu-id="3e7db-429">Hay varias versiones sobrecargadas de GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="3e7db-429">There are several overloaded versions of GetCallbackEventReference.</span></span> <span data-ttu-id="3e7db-430">En este caso, los argumentos son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="3e7db-430">In this case, the arguments are as follows:</span></span>

`this`

<span data-ttu-id="3e7db-431">Una referencia al control donde se llama a GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="3e7db-431">A reference to the control where GetCallbackEventReference is being called.</span></span> <span data-ttu-id="3e7db-432">En este caso, es la propia página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-432">In this case, it's the page itself.</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample13.js)]

<span data-ttu-id="3e7db-433">Un argumento de cadena que se pasará del código del lado cliente al evento del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="3e7db-433">A string argument that will be passed from the client-side code to the server-side event.</span></span> <span data-ttu-id="3e7db-434">En este caso, Im pasar el valor de una lista desplegable denominada ddlCompany.</span><span class="sxs-lookup"><span data-stu-id="3e7db-434">In this case, Im passing the value of a dropdown called ddlCompany.</span></span>

`ShowCompanyName`

<span data-ttu-id="3e7db-435">El nombre de la función del lado cliente que aceptará el valor devuelto (como cadena) del evento de devolución de llamada del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="3e7db-435">The name of the client-side function that will accept the return value (as string) from the server-side callback event.</span></span> <span data-ttu-id="3e7db-436">Esta función solo se llamará cuando la devolución de llamada del lado del servidor se realice correctamente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-436">This function will only be called when the server-side callback is successful.</span></span> <span data-ttu-id="3e7db-437">Por lo tanto, en aras de la robustez, generalmente se recomienda utilizar la versión sobrecargada de GetCallbackEventReference que toma un argumento de cadena adicional que especifica el nombre de una función del lado cliente para ejecutaren en caso de error.</span><span class="sxs-lookup"><span data-stu-id="3e7db-437">Therefore, for the sake of robustness, it is generally recommended to use the overloaded version of GetCallbackEventReference that takes an additional string argument specifying the name of a client-side function to execute in the event of an error.</span></span>

`null`

<span data-ttu-id="3e7db-438">Cadena que representa una función del lado cliente que inició antes de la devolución de llamada al servidor.</span><span class="sxs-lookup"><span data-stu-id="3e7db-438">A string representing a client-side function that it initiated before the callback to the server.</span></span> <span data-ttu-id="3e7db-439">En este caso, no existe tal script, por lo que el argumento es null.</span><span class="sxs-lookup"><span data-stu-id="3e7db-439">In this case, there is no such script, so the argument is null.</span></span>

`true`

<span data-ttu-id="3e7db-440">Un valor booleano que especifica si se debe llevar a cabo la devolución de llamada de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="3e7db-440">A Boolean specifying whether or not to conduct the callback asynchronously.</span></span>

<span data-ttu-id="3e7db-441">La llamada a\_WebForm DoCallback en el cliente pasará estos argumentos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-441">The call to WebForm\_DoCallback on the client will pass these arguments.</span></span> <span data-ttu-id="3e7db-442">Por lo tanto, cuando esta página se representa en el cliente, ese código tendrá ese aspecto:</span><span class="sxs-lookup"><span data-stu-id="3e7db-442">Therefore, when this page is rendered on the client, that code will look like so:</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample14.js)]

<span data-ttu-id="3e7db-443">Observe que la firma de la función en el cliente es un poco diferente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-443">Notice that the signature of the function on the client is a bit different.</span></span> <span data-ttu-id="3e7db-444">La función del lado cliente pasa 5 cadenas y un valor booleano.</span><span class="sxs-lookup"><span data-stu-id="3e7db-444">The client-side function passes 5 strings and a Boolean.</span></span> <span data-ttu-id="3e7db-445">La cadena adicional (que es null en el ejemplo anterior) contiene la función del lado cliente que controlará los errores de la devolución de llamada del lado servidor.</span><span class="sxs-lookup"><span data-stu-id="3e7db-445">The additional string (which is null in the above example) contains the client-side function that will handle any errors from the server-side callback.</span></span>

## <a name="step-3--hook-the-client-side-control-event"></a><span data-ttu-id="3e7db-446">Paso 3 : Enganche el evento de control del lado del cliente</span><span class="sxs-lookup"><span data-stu-id="3e7db-446">Step 3 : Hook the Client-Side Control Event</span></span>

<span data-ttu-id="3e7db-447">Observe que el valor devuelto de GetCallbackEventReference anterior se asignó a una variable de cadena.</span><span class="sxs-lookup"><span data-stu-id="3e7db-447">Notice that the return value of GetCallbackEventReference above was assigned to a string variable.</span></span> <span data-ttu-id="3e7db-448">Esa cadena se utiliza para enlazar un evento del lado cliente para el control que inicia la devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-448">That string is used to hook a client-side event for the control that initiates the callback.</span></span> <span data-ttu-id="3e7db-449">En este ejemplo, la devolución de llamada se inicia mediante una lista desplegable en la página, por lo que quiero enlazar el evento *OnChange.*</span><span class="sxs-lookup"><span data-stu-id="3e7db-449">In this example, the callback is initiated by a dropdown on the page, so I want to hook the *OnChange* event.</span></span>

<span data-ttu-id="3e7db-450">Para enlazar el evento del lado cliente, simplemente agregue un controlador al marcado del lado cliente de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="3e7db-450">To hook the client-side event, simply add a handler to the client-side markup as follows:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample15.cs)]

<span data-ttu-id="3e7db-451">Recuerde que *cbRef* es el valor devuelto de la llamada a GetCallbackEventReference.</span><span class="sxs-lookup"><span data-stu-id="3e7db-451">Recall that *cbRef* is the return value from the call to GetCallbackEventReference.</span></span> <span data-ttu-id="3e7db-452">Contiene la llamada a\_WebForm DoCallback que se mostró anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-452">It contains the call to WebForm\_DoCallback that was shown above.</span></span>

## <a name="step-4--register-the-client-side-script"></a><span data-ttu-id="3e7db-453">Paso 4: Registre el script del lado cliente</span><span class="sxs-lookup"><span data-stu-id="3e7db-453">Step 4 : Register the Client-Side Script</span></span>

<span data-ttu-id="3e7db-454">Recuerde que la llamada a GetCallbackEventReference especificó que se ejecutaría un script del lado cliente denominado **ShowCompanyName** cuando la devolución de llamada del lado servidor se realizara correctamente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-454">Recall that the call to GetCallbackEventReference specified that a client-side script called **ShowCompanyName** would be executed when the server-side callback succeeds.</span></span> <span data-ttu-id="3e7db-455">Ese script debe agregarse a la página mediante una instancia de ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="3e7db-455">That script needs to be added to the page using a ClientScriptManager instance.</span></span> <span data-ttu-id="3e7db-456">(La clase ClientScriptManager se tratará más adelante en este módulo.) Lo haces así:</span><span class="sxs-lookup"><span data-stu-id="3e7db-456">(The ClientScriptManager class will be discussed later in this module.) You do that like so:</span></span>

[!code-javascript[Main](the-asp-net-2-0-page-model/samples/sample16.js)]

## <a name="step-5--call-the-methods-of-the-icallbackeventhandler-interface"></a><span data-ttu-id="3e7db-457">Paso 5 : Llame a los métodos de la interfaz ICallbackEventHandler</span><span class="sxs-lookup"><span data-stu-id="3e7db-457">Step 5 : Call the Methods of the ICallbackEventHandler Interface</span></span>

<span data-ttu-id="3e7db-458">El ICallbackEventHandler contiene dos métodos que debe implementar en el código.</span><span class="sxs-lookup"><span data-stu-id="3e7db-458">The ICallbackEventHandler contains two methods that you need to implement in your code.</span></span> <span data-ttu-id="3e7db-459">Son **RaiseCallbackEvent** y **GetCallbackEvent**.</span><span class="sxs-lookup"><span data-stu-id="3e7db-459">They are **RaiseCallbackEvent** and **GetCallbackEvent**.</span></span>

<span data-ttu-id="3e7db-460">**RaiseCallbackEvent** toma una cadena como argumento y no devuelve nada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-460">**RaiseCallbackEvent** takes a string as an argument and returns nothing.</span></span> <span data-ttu-id="3e7db-461">El argumento de cadena se pasa de\_la llamada del lado cliente a WebForm DoCallback.</span><span class="sxs-lookup"><span data-stu-id="3e7db-461">The string argument is passed from the client-side call to WebForm\_DoCallback.</span></span> <span data-ttu-id="3e7db-462">En este caso, ese valor es el atributo *value* de la lista desplegable denominado ddlCompany.</span><span class="sxs-lookup"><span data-stu-id="3e7db-462">In this case, that value is the *value* attribute of the dropdown called ddlCompany.</span></span> <span data-ttu-id="3e7db-463">El código del lado servidor debe colocarse en el método RaiseCallbackEvent.</span><span class="sxs-lookup"><span data-stu-id="3e7db-463">Your server-side code should be placed in the RaiseCallbackEvent method.</span></span> <span data-ttu-id="3e7db-464">Por ejemplo, si la devolución de llamada realiza una WebRequest en un recurso externo, ese código debe colocarse en RaiseCallbackEvent.</span><span class="sxs-lookup"><span data-stu-id="3e7db-464">For example, if your callback is making a WebRequest against an external resource, that code should be placed in RaiseCallbackEvent.</span></span>

<span data-ttu-id="3e7db-465">**GetCallbackEvent** es responsable de procesar la devolución de la devolución de llamada al cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-465">**GetCallbackEvent** is responsible for processing the return of the callback to the client.</span></span> <span data-ttu-id="3e7db-466">No toma ningún argumento y devuelve una cadena.</span><span class="sxs-lookup"><span data-stu-id="3e7db-466">It takes no arguments and returns a string.</span></span> <span data-ttu-id="3e7db-467">La cadena que devuelve se pasará como argumento a la función del lado cliente, en este caso *ShowCompanyName*.</span><span class="sxs-lookup"><span data-stu-id="3e7db-467">The string that it returns will be passed as an argument to the client-side function, in this case *ShowCompanyName*.</span></span>

<span data-ttu-id="3e7db-468">Una vez que haya completado los pasos anteriores, está listo para realizar una devolución de llamada de script en ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="3e7db-468">Once you have completed the above steps, you are ready to perform a script callback in ASP.NET 2.0.</span></span>

![](the-asp-net-2-0-page-model/_static/image4.png)

[<span data-ttu-id="3e7db-469">Abrir vídeo a pantalla completa</span><span class="sxs-lookup"><span data-stu-id="3e7db-469">Open Full-Screen Video</span></span>](the-asp-net-2-0-page-model/_static/callback1.wmv)

<span data-ttu-id="3e7db-470">Las devoluciones de llamada de script en ASP.NET se admiten en cualquier explorador que admita la realización de llamadas XMLHttp.</span><span class="sxs-lookup"><span data-stu-id="3e7db-470">Script callbacks in ASP.NET are supported in any browser that supports making XMLHttp calls.</span></span> <span data-ttu-id="3e7db-471">Eso incluye todos los navegadores modernos en uso hoy en día.</span><span class="sxs-lookup"><span data-stu-id="3e7db-471">That includes all of the modern browsers in use today.</span></span> <span data-ttu-id="3e7db-472">Internet Explorer utiliza el objeto ActiveX XMLHttp, mientras que otros exploradores modernos (incluido el próximo IE 7) utilizan un objeto XMLHttp intrínseco.</span><span class="sxs-lookup"><span data-stu-id="3e7db-472">Internet Explorer uses the XMLHttp ActiveX object while other modern browsers (including the upcoming IE 7) use an intrinsic XMLHttp object.</span></span> <span data-ttu-id="3e7db-473">Para determinar mediante programación si un explorador admite devoluciones de llamada, puede usar el **Request.Browser.SupportCallback** propiedad.</span><span class="sxs-lookup"><span data-stu-id="3e7db-473">To programmatically determine if a browser supports callbacks, you can use the **Request.Browser.SupportCallback** property.</span></span> <span data-ttu-id="3e7db-474">Esta propiedad devolverá **true** si el cliente solicitante admite devoluciones de llamada de script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-474">This property will return **true** if the requesting client supports script callbacks.</span></span>

## <a name="working-with-client-script-in-aspnet-20"></a><span data-ttu-id="3e7db-475">Trabajar con el script de cliente en ASP.NET 2.0</span><span class="sxs-lookup"><span data-stu-id="3e7db-475">Working with Client Script in ASP.NET 2.0</span></span>

<span data-ttu-id="3e7db-476">Los scripts de cliente en ASP.NET 2.0 se administran mediante el uso de la clase ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="3e7db-476">Client scripts in ASP.NET 2.0 are managed via the use of the ClientScriptManager class.</span></span> <span data-ttu-id="3e7db-477">La clase ClientScriptManager realiza un seguimiento de los scripts de cliente mediante un tipo y un nombre.</span><span class="sxs-lookup"><span data-stu-id="3e7db-477">The ClientScriptManager class keeps track of client scripts using a type and a name.</span></span> <span data-ttu-id="3e7db-478">Esto evita que el mismo script se inserte mediante programación en una página más de una vez.</span><span class="sxs-lookup"><span data-stu-id="3e7db-478">This prevents the same script from being programmatically inserted on a page more than once.</span></span>

> [!NOTE]
> <span data-ttu-id="3e7db-479">Después de que un script se haya registrado correctamente en una página, cualquier intento posterior de registrar el mismo script simplemente dará como resultado que el script no se registre una segunda vez.</span><span class="sxs-lookup"><span data-stu-id="3e7db-479">After a script has been successfully registered on a page, any subsequent attempt to register the same script will simply result in the script not being registered a second time.</span></span> <span data-ttu-id="3e7db-480">No se agregan scripts duplicados y no se produce ninguna excepción.</span><span class="sxs-lookup"><span data-stu-id="3e7db-480">No duplicate scripts are added and no exception occurs.</span></span> <span data-ttu-id="3e7db-481">Para evitar cálculos innecesarios, hay métodos que puede usar para determinar si un script ya está registrado para que no intente registrarlo más de una vez.</span><span class="sxs-lookup"><span data-stu-id="3e7db-481">To avoid unnecessary computation, there are methods that you can use to determine if a script is already registered so that you do not attempt to register it more than once.</span></span>

<span data-ttu-id="3e7db-482">Los métodos de ClientScriptManager deben ser familiares para todos los desarrolladores de ASP.NET actuales:</span><span class="sxs-lookup"><span data-stu-id="3e7db-482">The methods of the ClientScriptManager should be familiar to all current ASP.NET developers:</span></span>

## <a name="registerclientscriptblock"></a><span data-ttu-id="3e7db-483">RegisterClientScriptBlock</span><span class="sxs-lookup"><span data-stu-id="3e7db-483">RegisterClientScriptBlock</span></span>

<span data-ttu-id="3e7db-484">Este método agrega un script a la parte superior de la página representada.</span><span class="sxs-lookup"><span data-stu-id="3e7db-484">This method adds a script to the top of the rendered page.</span></span> <span data-ttu-id="3e7db-485">Esto es útil para agregar funciones que se llamarán explícitamente en el cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-485">This is useful for adding functions that will be explicitly called on the client.</span></span>

<span data-ttu-id="3e7db-486">Hay dos versiones sobrecargadas de este método.</span><span class="sxs-lookup"><span data-stu-id="3e7db-486">There are two overloaded versions of this method.</span></span> <span data-ttu-id="3e7db-487">Tres de cuatro argumentos son comunes entre ellos.</span><span class="sxs-lookup"><span data-stu-id="3e7db-487">Three of four arguments are common among them.</span></span> <span data-ttu-id="3e7db-488">Son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="3e7db-488">They are:</span></span>

`type (string)`

<span data-ttu-id="3e7db-489">El argumento ***type*** identifica un tipo para el script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-489">The ***type*** argument identifies a type for the script.</span></span> <span data-ttu-id="3e7db-490">Por lo general, es una buena idea usar el tipo de página (esto. GetType()) para el tipo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-490">It is generally a good idea to use the page's type (this.GetType()) for the type.</span></span>

`key (string)`

<span data-ttu-id="3e7db-491">El argumento ***key*** es una clave definida por el usuario para el script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-491">The ***key*** argument is a user-defined key for the script.</span></span> <span data-ttu-id="3e7db-492">Esto debe ser único para cada script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-492">This should be unique for each script.</span></span> <span data-ttu-id="3e7db-493">Si intenta agregar un script con la misma clave y tipo de un script ya agregado, no se agregará.</span><span class="sxs-lookup"><span data-stu-id="3e7db-493">If you attempt to add a script with the same key and type of an already added script, it will not be added.</span></span>

`script (string)`

<span data-ttu-id="3e7db-494">El argumento ***script*** es una cadena que contiene el script real que se va a agregar.</span><span class="sxs-lookup"><span data-stu-id="3e7db-494">The ***script*** argument is a string containing the actual script to add.</span></span> <span data-ttu-id="3e7db-495">Se recomienda utilizar stringBuilder para crear el script y, a continuación, utilizar el método ToString() en StringBuilder para asignar el argumento ***de script.***</span><span class="sxs-lookup"><span data-stu-id="3e7db-495">It's recommended that you use a StringBuilder to create the script and then use the ToString() method on the StringBuilder to assign the ***script*** argument.</span></span>

<span data-ttu-id="3e7db-496">Si utiliza el RegisterClientScriptBlock sobrecargado que solo toma tres argumentos, &lt;debe&gt;incluir elementos de script (&lt;script&gt; y /script ) en el script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-496">If you use the overloaded RegisterClientScriptBlock that only takes three arguments, you must include script elements (&lt;script&gt; and &lt;/script&gt;) in your script.</span></span>

<span data-ttu-id="3e7db-497">Puede optar por usar la sobrecarga de RegisterClientScriptBlock que toma un cuarto argumento.</span><span class="sxs-lookup"><span data-stu-id="3e7db-497">You may choose to use the overload of RegisterClientScriptBlock that takes a fourth argument.</span></span> <span data-ttu-id="3e7db-498">El cuarto argumento es un valor booleano que especifica si ASP.NET debe agregar elementos de script automáticamente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-498">The fourth argument is a Boolean that specifies whether or not ASP.NET should add script elements for you.</span></span> <span data-ttu-id="3e7db-499">Si este argumento es **true**, el script no debe incluir explícitamente los elementos de script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-499">If this argument is **true**, your script should not include the script elements explicitly.</span></span>

<span data-ttu-id="3e7db-500">Utilice el método IsClientScriptBlockRegistered para determinar si ya se ha registrado un script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-500">Use the IsClientScriptBlockRegistered method to determine if a script has already been registered.</span></span> <span data-ttu-id="3e7db-501">Esto le permite evitar un intento de volver a registrar un script que ya se ha registrado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-501">This allows you to avoid an attempt to re-register a script that has already been registered.</span></span>

### <a name="registerclientscriptinclude-new-in-20"></a><span data-ttu-id="3e7db-502">RegisterClientScriptInclude (nuevo en 2.0)</span><span class="sxs-lookup"><span data-stu-id="3e7db-502">RegisterClientScriptInclude (New in 2.0)</span></span>

<span data-ttu-id="3e7db-503">La etiqueta RegisterClientScriptInclude crea un bloque de script que se vincula a un archivo de script externo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-503">The RegisterClientScriptInclude tag creates a script block that links to an external script file.</span></span> <span data-ttu-id="3e7db-504">Tiene dos sobrecargas.</span><span class="sxs-lookup"><span data-stu-id="3e7db-504">It has two overloads.</span></span> <span data-ttu-id="3e7db-505">Uno toma una clave y una URL.</span><span class="sxs-lookup"><span data-stu-id="3e7db-505">One takes a key and a URL.</span></span> <span data-ttu-id="3e7db-506">El segundo agrega un tercer argumento que especifica el tipo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-506">The second adds a third argument specifying the type.</span></span>

<span data-ttu-id="3e7db-507">Por ejemplo, el código siguiente genera un bloque de script que se vincula a jsfunctions.js en la raíz de la carpeta de scripts de la aplicación:</span><span class="sxs-lookup"><span data-stu-id="3e7db-507">For example, the following code generates a script block that links to jsfunctions.js in the root of the scripts folder of the application:</span></span>

[!code-csharp[Main](the-asp-net-2-0-page-model/samples/sample17.cs)]

<span data-ttu-id="3e7db-508">Este código genera el siguiente código en la página representada:</span><span class="sxs-lookup"><span data-stu-id="3e7db-508">This code produces the following code in the rendered page:</span></span>

[!code-html[Main](the-asp-net-2-0-page-model/samples/sample18.html)]

> [!NOTE]
> <span data-ttu-id="3e7db-509">El bloque de script se representa en la parte inferior de la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-509">The script block is rendered at the bottom of the page.</span></span>

<span data-ttu-id="3e7db-510">Utilice el método IsClientScriptIncludeRegistered para determinar si ya se ha registrado un script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-510">Use the IsClientScriptIncludeRegistered method to determine if a script has already been registered.</span></span> <span data-ttu-id="3e7db-511">Esto le permite evitar un intento de volver a registrar un script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-511">This allows you to avoid an attempt to re-register a script.</span></span>

## <a name="registerstartupscript"></a><span data-ttu-id="3e7db-512">RegisterStartupScript</span><span class="sxs-lookup"><span data-stu-id="3e7db-512">RegisterStartupScript</span></span>

<span data-ttu-id="3e7db-513">El RegisterStartupScript método toma los mismos argumentos que el RegisterClientScriptBlock método.</span><span class="sxs-lookup"><span data-stu-id="3e7db-513">The RegisterStartupScript method takes the same arguments as the RegisterClientScriptBlock method.</span></span> <span data-ttu-id="3e7db-514">Un script registrado con RegisterStartupScript se ejecuta después de que se cargue la página, pero antes del evento del lado cliente OnLoad.</span><span class="sxs-lookup"><span data-stu-id="3e7db-514">A script registered with RegisterStartupScript executes after the page loads but before the OnLoad client-side event.</span></span> <span data-ttu-id="3e7db-515">En 1.X, los scripts registrados con RegisterStartupScript&gt; se colocaron justo antes de la etiqueta &lt;&gt; /form de cierre, &lt;mientras que los scripts registrados con RegisterClientScriptBlock se colocaron inmediatamente después de la etiqueta de formulario de apertura.</span><span class="sxs-lookup"><span data-stu-id="3e7db-515">In 1.X, scripts registered with RegisterStartupScript were placed just before the closing &lt;/form&gt; tag while scripts registered with RegisterClientScriptBlock were placed immediately after the opening &lt;form&gt; tag.</span></span> <span data-ttu-id="3e7db-516">En ASP.NET 2.0, ambos se &lt;colocan&gt; inmediatamente antes de la etiqueta /form de cierre.</span><span class="sxs-lookup"><span data-stu-id="3e7db-516">In ASP.NET 2.0, both are placed immediately before the closing &lt;/form&gt; tag.</span></span>

> [!NOTE]
> <span data-ttu-id="3e7db-517">Si registra una función con RegisterStartupScript, esa función no se ejecutará hasta que la llame explícitamente en código del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-517">If you register a function with RegisterStartupScript, that function will not execute until you explicitly call it in client-side code.</span></span>

<span data-ttu-id="3e7db-518">Utilice el método IsStartupScriptRegistered para determinar si ya se ha registrado un script y evitar un intento de volver a registrar un script.</span><span class="sxs-lookup"><span data-stu-id="3e7db-518">Use the IsStartupScriptRegistered method to determine if a script has already been registered and avoid an attempt to re-register a script.</span></span>

## <a name="other-clientscriptmanager-methods"></a><span data-ttu-id="3e7db-519">Otros métodos ClientScriptManager</span><span class="sxs-lookup"><span data-stu-id="3e7db-519">Other ClientScriptManager Methods</span></span>

<span data-ttu-id="3e7db-520">Estos son algunos de los otros métodos útiles de la clase ClientScriptManager.</span><span class="sxs-lookup"><span data-stu-id="3e7db-520">Here are some of the other useful methods of the ClientScriptManager class.</span></span>

|  <span data-ttu-id="3e7db-521"><strong>GetCallbackEventReference</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-521"><strong>GetCallbackEventReference</strong></span></span>   |                                                 <span data-ttu-id="3e7db-522">Consulte las devoluciones de llamada de script anteriormente en este módulo.</span><span class="sxs-lookup"><span data-stu-id="3e7db-522">See script callbacks earlier in this module.</span></span>                                                 |
|-----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
|  <span data-ttu-id="3e7db-523"><strong>GetPostBackClientHyperlink</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-523"><strong>GetPostBackClientHyperlink</strong></span></span>  |                <span data-ttu-id="3e7db-524">Obtiene una referencia de JavaScript (javascript:&lt;call&gt;) que se puede utilizar para volver a publicar desde un evento del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-524">Gets a JavaScript reference (javascript:&lt;call&gt;) that can be used to post back from a client-side event.</span></span>                 |
|  <span data-ttu-id="3e7db-525"><strong>GetPostBackEventReference</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-525"><strong>GetPostBackEventReference</strong></span></span>   |                                   <span data-ttu-id="3e7db-526">Obtiene una cadena que se puede usar para iniciar una publicación desde el cliente.</span><span class="sxs-lookup"><span data-stu-id="3e7db-526">Gets a string that can be used to initiate a post back from the client.</span></span>                                    |
|      <span data-ttu-id="3e7db-527"><strong>GetWebResourceUrl</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-527"><strong>GetWebResourceUrl</strong></span></span>       | <span data-ttu-id="3e7db-528">Devuelve una dirección URL a un recurso incrustado en un ensamblado.</span><span class="sxs-lookup"><span data-stu-id="3e7db-528">Returns a URL to a resource that is embedded in an assembly.</span></span> <span data-ttu-id="3e7db-529">Debe utilizarse junto con <strong>RegisterClientScriptResource</strong>.</span><span class="sxs-lookup"><span data-stu-id="3e7db-529">Must be used in conjunction with <strong>RegisterClientScriptResource</strong>.</span></span> |
| <span data-ttu-id="3e7db-530"><strong>RegisterClientScriptResource</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-530"><strong>RegisterClientScriptResource</strong></span></span> |     <span data-ttu-id="3e7db-531">Registra un recurso web con la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-531">Registers a Web resource with the page.</span></span> <span data-ttu-id="3e7db-532">Estos son recursos incrustados en un ensamblado y controlados por el nuevo WebResource.axd controlador.</span><span class="sxs-lookup"><span data-stu-id="3e7db-532">These are resources embedded in an assembly and handled by the new WebResource.axd handler.</span></span>      |
|     <span data-ttu-id="3e7db-533"><strong>RegisterHiddenField</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-533"><strong>RegisterHiddenField</strong></span></span>      |                                                 <span data-ttu-id="3e7db-534">Registra un campo de formulario oculto con la página.</span><span class="sxs-lookup"><span data-stu-id="3e7db-534">Registers a hidden form field with the page.</span></span>                                                 |
|  <span data-ttu-id="3e7db-535"><strong>RegisterOnSubmitStatement</strong></span><span class="sxs-lookup"><span data-stu-id="3e7db-535"><strong>RegisterOnSubmitStatement</strong></span></span>   |                                  <span data-ttu-id="3e7db-536">Registra el código del lado cliente que se ejecuta cuando se envía el formulario HTML.</span><span class="sxs-lookup"><span data-stu-id="3e7db-536">Registers client-side code that executes when the HTML form is submitted.</span></span>                                   |

---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
title: Agregar controles de validación a la edición e inserción de Interfaces (C#) | Microsoft Docs
author: rick-anderson
description: En este tutorial veremos lo fácil que es agregar los controles de validación a las plantillas EditItemTemplate e InsertItemTemplate de un control Web de datos para proporcionar más...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: 2086cb1a-ab78-49ae-9c0b-03891c69776a
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs
msc.type: authoredcontent
ms.openlocfilehash: e2742348d8a9f0d9ecfefb3f7142e58911b5ba48
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/06/2019
ms.locfileid: "65124259"
---
# <a name="adding-validation-controls-to-the-editing-and-inserting-interfaces-c"></a><span data-ttu-id="d75ea-103">Agregar controles de validación a las interfaces de edición e inserción (C#)</span><span class="sxs-lookup"><span data-stu-id="d75ea-103">Adding Validation Controls to the Editing and Inserting Interfaces (C#)</span></span>

<span data-ttu-id="d75ea-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="d75ea-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="d75ea-105">[Descargue la aplicación de ejemplo](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) o [descargar PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="d75ea-105">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_19_CS.exe) or [Download PDF](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/datatutorial19cs1.pdf)</span></span>

> <span data-ttu-id="d75ea-106">En este tutorial veremos lo fácil que es agregar los controles de validación a las plantillas EditItemTemplate e InsertItemTemplate de un control Web de datos para proporcionar una interfaz de usuario infalible.</span><span class="sxs-lookup"><span data-stu-id="d75ea-106">In this tutorial we'll see how easy it is to add validation controls to the EditItemTemplate and InsertItemTemplate of a data Web control, to provide a more foolproof user interface.</span></span>

## <a name="introduction"></a><span data-ttu-id="d75ea-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="d75ea-107">Introduction</span></span>

<span data-ttu-id="d75ea-108">Los controles GridView y DetailsView en los ejemplos hemos explorado durante los últimos tres tutoriales han sido compuestos por BoundFields y CheckBoxFields (los tipos de campo se agrega automáticamente mediante Visual Studio al enlazar un control GridView o DetailsView a un origen de datos el control a través de la etiqueta inteligente).</span><span class="sxs-lookup"><span data-stu-id="d75ea-108">The GridView and DetailsView controls in the examples we've explored over the past three tutorials have all been composed of BoundFields and CheckBoxFields (the field types automatically added by Visual Studio when binding a GridView or DetailsView to a data source control through the smart tag).</span></span> <span data-ttu-id="d75ea-109">Cuando edita una fila en GridView o DetailsView, esas BoundFields que no son de solo lectura se convierten en cuadros de texto, desde el que el usuario final puede modificar los datos existentes.</span><span class="sxs-lookup"><span data-stu-id="d75ea-109">When editing a row in a GridView or DetailsView, those BoundFields that are not read-only are converted into textboxes, from which the end user can modify the existing data.</span></span> <span data-ttu-id="d75ea-110">De forma similar, cuando insertar un nuevo registro en un control DetailsView, esas BoundFields cuya `InsertVisible` propiedad está establecida en `true` (valor predeterminado) se representan como cuadros de texto vacío, en la que el usuario puede proporcionar valores de campo del nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="d75ea-110">Similarly, when inserting a new record into a DetailsView control, those BoundFields whose `InsertVisible` property is set to `true` (the default) are rendered as empty textboxes, into which the user can provide the new record's field values.</span></span> <span data-ttu-id="d75ea-111">Del mismo modo, CheckBoxFields, que están deshabilitadas en la interfaz estándar, de solo lectura, se convierten en casillas de verificación habilitado en la edición de interfaces e inserción.</span><span class="sxs-lookup"><span data-stu-id="d75ea-111">Likewise, CheckBoxFields, which are disabled in the standard, read-only interface, are converted into enabled checkboxes in the editing and inserting interfaces.</span></span>

<span data-ttu-id="d75ea-112">Aunque el valor predeterminado, edición e inserción de interfaces para el BoundField y CampoCasillaVerificación puede ser útil, la interfaz no tiene a algún tipo de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-112">While the default editing and inserting interfaces for the BoundField and CheckBoxField can be helpful, the interface lacks any sort of validation.</span></span> <span data-ttu-id="d75ea-113">Si un usuario comete un error de entrada de datos - por ejemplo, si se omite el `ProductName` campo o escriba un valor no válido para `UnitsInStock` (por ejemplo, -50), se generará una excepción desde dentro de las profundidades de la arquitectura de aplicación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-113">If a user makes a data entry mistake - such as omitting the `ProductName` field or entering an invalid value for `UnitsInStock` (such as -50) an exception will be raised from within the depths of the application architecture.</span></span> <span data-ttu-id="d75ea-114">Aunque puede controlar esta excepción correctamente como se muestra en el [tutorial anterior](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), lo ideal es que la edición o insertar la interfaz de usuario incluye controles de validación para impedir que un usuario entre dichos datos no válidos en el punto de partida.</span><span class="sxs-lookup"><span data-stu-id="d75ea-114">While this exception can be gracefully handled as demonstrated in the [previous tutorial](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md), ideally the editing or inserting user interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="d75ea-115">Para proporcionar una interfaz de inserción o edición personalizada, es necesario reemplazar el BoundField o CampoCasillaVerificación TemplateField.</span><span class="sxs-lookup"><span data-stu-id="d75ea-115">In order to provide a customized editing or inserting interface, we need to replace the BoundField or CheckBoxField with a TemplateField.</span></span> <span data-ttu-id="d75ea-116">TemplateFields, que estaban en el tema de discusión en la [uso de TemplateFields en el GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) y [uso de TemplateFields en el DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutoriales, puede constar de varios las plantillas de definición de separan las interfaces para los Estados de fila diferente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-116">TemplateFields, which were the topic of discussion in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) and [Using TemplateFields in the DetailsView Control](../custom-formatting/using-templatefields-in-the-detailsview-control-cs.md) tutorials, can consist of multiple templates defining separate interfaces for different row states.</span></span> <span data-ttu-id="d75ea-117">El TemplateField `ItemTemplate` se usa al representar los campos de solo lectura o las filas de los controles DetailsView o GridView, mientras que el `EditItemTemplate` y `InsertItemTemplate` indican las interfaces que se usará para la edición e inserción de los modos, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-117">The TemplateField's `ItemTemplate` is used to when rendering read-only fields or rows in the DetailsView or GridView controls, whereas the `EditItemTemplate` and `InsertItemTemplate` indicate the interfaces to use for the editing and inserting modes, respectively.</span></span>

<span data-ttu-id="d75ea-118">En este tutorial veremos lo fácil que es agregar los controles de validación a la TemplateField `EditItemTemplate` y `InsertItemTemplate` para proporcionar una interfaz de usuario infalible.</span><span class="sxs-lookup"><span data-stu-id="d75ea-118">In this tutorial we'll see how easy it is to add validation controls to the TemplateField's `EditItemTemplate` and `InsertItemTemplate` to provide a more foolproof user interface.</span></span> <span data-ttu-id="d75ea-119">En concreto, este tutorial realiza en el ejemplo se crea en el [examinando los eventos asociados con la inserción, actualización y eliminación](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) interfaces tutorial y amplía la edición e inserción para incluir validación adecuado.</span><span class="sxs-lookup"><span data-stu-id="d75ea-119">Specifically, this tutorial takes the example created in the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial and augments the editing and inserting interfaces to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromexamining-the-events-associated-with-inserting-updating-and-deletingexamining-the-events-associated-with-inserting-updating-and-deleting-csmd"></a><span data-ttu-id="d75ea-120">Paso 1: Replicación en el ejemplo de[examinar los eventos asociados con la inserción, actualización y eliminación](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d75ea-120">Step 1: Replicating the Example from[Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)</span></span>

<span data-ttu-id="d75ea-121">En el [examinando los eventos asociados con la inserción, actualización y eliminación](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial hemos creado una página que muestra los nombres y los precios de los productos en un control GridView editable.</span><span class="sxs-lookup"><span data-stu-id="d75ea-121">In the [Examining the Events Associated with Inserting, Updating, and Deleting](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial we created a page that listed the names and prices of the products in an editable GridView.</span></span> <span data-ttu-id="d75ea-122">Además, la página incluye un DetailsView cuyo `DefaultMode` propiedad se estableció en `Insert`, representación, por tanto, siempre en modo de inserción.</span><span class="sxs-lookup"><span data-stu-id="d75ea-122">Additionally, the page included a DetailsView whose `DefaultMode` property was set to `Insert`, thereby always rendering in insert mode.</span></span> <span data-ttu-id="d75ea-123">Desde este DetailsView, el usuario podría escriba el nombre y el precio de un producto nuevo, haga clic en Insertar y hacer que se agregue al sistema (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="d75ea-123">From this DetailsView, the user could enter the name and price for a new product, click Insert, and have it added to the system (see Figure 1).</span></span>

<span data-ttu-id="d75ea-124">[![El ejemplo anterior permite a los usuarios agregar productos nuevos y editar las existentes](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-124">[![The Previous Example Allows Users to Add New Products and Edit Existing Ones](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image2.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image1.png)</span></span>

<span data-ttu-id="d75ea-125">**Figura 1**: El anterior ejemplo permite a los usuarios agregar productos nuevos y editar los existentes ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-125">**Figure 1**: The Previous Example Allows Users to Add New Products and Edit Existing Ones ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image3.png))</span></span>

<span data-ttu-id="d75ea-126">El objetivo de este tutorial es aumentar la DetailsView y GridView para proporcionar controles de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-126">Our goal for this tutorial is to augment the DetailsView and GridView to provide validation controls.</span></span> <span data-ttu-id="d75ea-127">En concreto, nuestra lógica de validación hará lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d75ea-127">In particular, our validation logic will:</span></span>

- <span data-ttu-id="d75ea-128">Requerir que se proporcione el nombre al insertar o editar un producto</span><span class="sxs-lookup"><span data-stu-id="d75ea-128">Require that the name be provided when inserting or editing a product</span></span>
- <span data-ttu-id="d75ea-129">Requerir que el precio se proporcione al insertar un registro. al editar un registro, se necesitará un precio, pero usará la lógica de programación en el control de GridView `RowUpdating` ya está presente en el tutorial anterior de controlador de eventos</span><span class="sxs-lookup"><span data-stu-id="d75ea-129">Require that the price be provided when inserting a record; when editing a record, we will still require a price, but will use the programmatic logic in the GridView's `RowUpdating` event handler already present from the earlier tutorial</span></span>
- <span data-ttu-id="d75ea-130">Asegúrese de que el valor especificado para el precio es un formato de moneda válidos</span><span class="sxs-lookup"><span data-stu-id="d75ea-130">Ensure that the value entered for the price is a valid currency format</span></span>

<span data-ttu-id="d75ea-131">Antes de que podemos observar enriquecidas con el ejemplo anterior para incluir la validación, primero es necesario replicar el ejemplo desde el `DataModificationEvents.aspx` página a la página para este tutorial, `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-131">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `DataModificationEvents.aspx` page to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="d75ea-132">Para lograr esto es necesario para copiar a través de ambos el `DataModificationEvents.aspx` marcado declarativo de la página y su código fuente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-132">To accomplish this we need to copy over both the `DataModificationEvents.aspx` page's declarative markup and its source code.</span></span> <span data-ttu-id="d75ea-133">Copiar el marcado declarativo realizando los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="d75ea-133">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="d75ea-134">Abra el `DataModificationEvents.aspx` página en Visual Studio</span><span class="sxs-lookup"><span data-stu-id="d75ea-134">Open the `DataModificationEvents.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="d75ea-135">Vaya al marcado declarativo de la página (haga clic en el botón de origen en la parte inferior de la página)</span><span class="sxs-lookup"><span data-stu-id="d75ea-135">Go to the page's declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="d75ea-136">Copie el texto dentro de la `<asp:Content>` y `</asp:Content>` etiquetas (las líneas 3 a 44), como se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="d75ea-136">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 44), as shown in Figure 2.</span></span>

<span data-ttu-id="d75ea-137">[![Copie el texto dentro de la &lt;asp: Content&gt; Control](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-137">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image5.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image4.png)</span></span>

<span data-ttu-id="d75ea-138">**Figura 2**: Copie el texto dentro de la `<asp:Content>` Control ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-138">**Figure 2**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image6.png))</span></span>

1. <span data-ttu-id="d75ea-139">Abra el `UIValidation.aspx` página</span><span class="sxs-lookup"><span data-stu-id="d75ea-139">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="d75ea-140">Vaya al marcado declarativo de la página</span><span class="sxs-lookup"><span data-stu-id="d75ea-140">Go to the page's declarative markup</span></span>
3. <span data-ttu-id="d75ea-141">Pegue el texto dentro de la `<asp:Content>` control.</span><span class="sxs-lookup"><span data-stu-id="d75ea-141">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="d75ea-142">Para copiar el código de origen, abra el `DataModificationEvents.aspx.cs` página y copie el texto *en* el `EditInsertDelete_DataModificationEvents` clase.</span><span class="sxs-lookup"><span data-stu-id="d75ea-142">To copy over the source code, open the `DataModificationEvents.aspx.cs` page and copy just the text *within* the `EditInsertDelete_DataModificationEvents` class.</span></span> <span data-ttu-id="d75ea-143">Copie los controladores de eventos de tres (`Page_Load`, `GridView1_RowUpdating`, y `ObjectDataSource1_Inserting`), pero sí **no** copiar la declaración de clase o `using` instrucciones.</span><span class="sxs-lookup"><span data-stu-id="d75ea-143">Copy the three event handlers (`Page_Load`, `GridView1_RowUpdating`, and `ObjectDataSource1_Inserting`), but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="d75ea-144">Pegue el texto copiado *en* el `EditInsertDelete_UIValidation` clase `UIValidation.aspx.cs`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-144">Paste the copied text *within* the `EditInsertDelete_UIValidation` class in `UIValidation.aspx.cs`.</span></span>

<span data-ttu-id="d75ea-145">Después de migrar el contenido y el código de `DataModificationEvents.aspx` a `UIValidation.aspx`, dedique un momento para probar su progreso en un explorador.</span><span class="sxs-lookup"><span data-stu-id="d75ea-145">After moving over the content and code from `DataModificationEvents.aspx` to `UIValidation.aspx`, take a moment to test out your progress in a browser.</span></span> <span data-ttu-id="d75ea-146">Debería ver la misma salida y experimenta la misma funcionalidad en cada una de estas dos páginas (hacer referencia a la figura 1 para una captura de pantalla de `DataModificationEvents.aspx` en acción).</span><span class="sxs-lookup"><span data-stu-id="d75ea-146">You should see the same output and experience the same functionality in each of these two pages (refer back to Figure 1 for a screen shot of `DataModificationEvents.aspx` in action).</span></span>

## <a name="step-2-converting-the-boundfields-into-templatefields"></a><span data-ttu-id="d75ea-147">Paso 2: Convertir el BoundFields en TemplateFields</span><span class="sxs-lookup"><span data-stu-id="d75ea-147">Step 2: Converting the BoundFields Into TemplateFields</span></span>

<span data-ttu-id="d75ea-148">Para agregar controles de validación a las interfaces de edición e inserción, debe convertirse en TemplateFields el BoundFields utilizados por los controles GridView y DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d75ea-148">To add validation controls to the editing and inserting interfaces, the BoundFields used by the DetailsView and GridView controls need to be converted into TemplateFields.</span></span> <span data-ttu-id="d75ea-149">Para ello, haga clic en los vínculos Editar columnas y campos de edición de GridView y de DetailsView etiquetas inteligentes, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-149">To achieve this, click on the Edit Columns and Edit Fields links in the GridView and DetailsView's smart tags, respectively.</span></span> <span data-ttu-id="d75ea-150">Allí, seleccione cada uno de los BoundFields y haga clic en el vínculo "Convert this field into a TemplateField".</span><span class="sxs-lookup"><span data-stu-id="d75ea-150">There, select each of the BoundFields and click the "Convert this field into a TemplateField" link.</span></span>

<span data-ttu-id="d75ea-151">[![Cada una de la de DetailsView y de GridView BoundFields convertir TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-151">[![Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image8.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image7.png)</span></span>

<span data-ttu-id="d75ea-152">**Figura 3**: Convertir cada uno de los de DetailsView y de GridView BoundFields en TemplateFields ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-152">**Figure 3**: Convert Each of the DetailsView's and GridView's BoundFields Into TemplateFields ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image9.png))</span></span>

<span data-ttu-id="d75ea-153">Convertir un BoundField en TemplateField a través del cuadro de diálogo campos genera TemplateField que exhibe las mismas interfaces de solo lectura, edición e Insertar como el BoundField propio.</span><span class="sxs-lookup"><span data-stu-id="d75ea-153">Converting a BoundField into a TemplateField through the Fields dialog box generates a TemplateField that exhibits the same read-only, editing, and inserting interfaces as the BoundField itself.</span></span> <span data-ttu-id="d75ea-154">El marcado siguiente muestra la sintaxis declarativa para el `ProductName` campo DetailsView después de se ha convertido en TemplateField:</span><span class="sxs-lookup"><span data-stu-id="d75ea-154">The following markup shows the declarative syntax for the `ProductName` field in the DetailsView after it has been converted into a TemplateField:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample1.aspx)]

<span data-ttu-id="d75ea-155">Tenga en cuenta que este TemplateField tenía tres plantillas que se crean automáticamente `ItemTemplate`, `EditItemTemplate`, y `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-155">Note that this TemplateField had three templates automatically created `ItemTemplate`, `EditItemTemplate`, and `InsertItemTemplate`.</span></span> <span data-ttu-id="d75ea-156">El `ItemTemplate` muestra un valor de campo de datos única (`ProductName`) con un control Web Label, mientras el `EditItemTemplate` y `InsertItemTemplate` presentar el valor del campo de datos en un control de cuadro de texto Web que asocia el campo de datos en el cuadro de texto `Text` propiedad con enlace de datos bidireccional.</span><span class="sxs-lookup"><span data-stu-id="d75ea-156">The `ItemTemplate` displays a single data field value (`ProductName`) using a Label Web control, while the `EditItemTemplate` and `InsertItemTemplate` present the data field value in a TextBox Web control that associates the data field with the TextBox's `Text` property using two-way databinding.</span></span> <span data-ttu-id="d75ea-157">Puesto que estamos usando solo DetailsView en esta página para insertar, puede quitar el `ItemTemplate` y `EditItemTemplate` desde los dos TemplateFields, aunque no hay ningún riesgo en dejarlos.</span><span class="sxs-lookup"><span data-stu-id="d75ea-157">Since we are only using the DetailsView in this page for inserting, you may remove the `ItemTemplate` and `EditItemTemplate` from the two TemplateFields, although there's no harm in leaving them.</span></span>

<span data-ttu-id="d75ea-158">Puesto que la GridView no admite la integradas de inserción de las características de DetailsView, convertir la GridView `ProductName` en TemplateField produce solo una `ItemTemplate` y `EditItemTemplate`:</span><span class="sxs-lookup"><span data-stu-id="d75ea-158">Since the GridView does not support the built-in inserting features of the DetailsView, converting the GridView's `ProductName` field into a TemplateField results in only an `ItemTemplate` and `EditItemTemplate`:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample2.aspx)]

<span data-ttu-id="d75ea-159">Al hacer clic en la función "Convert this field into a TemplateField", Visual Studio ha creado un TemplateField cuyas plantillas imitan la interfaz de usuario de la BoundField convertido.</span><span class="sxs-lookup"><span data-stu-id="d75ea-159">By clicking the "Convert this field into a TemplateField," Visual Studio has created a TemplateField whose templates mimic the user interface of the converted BoundField.</span></span> <span data-ttu-id="d75ea-160">Para comprobarlo, puede visitar esta página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="d75ea-160">You can verify this by visiting this page through a browser.</span></span> <span data-ttu-id="d75ea-161">Encontrará que es idéntica a la experiencia de la apariencia y comportamiento de la TemplateFields BoundFields que se usaron en su lugar.</span><span class="sxs-lookup"><span data-stu-id="d75ea-161">You'll find that the appearance and behavior of the TemplateFields is identical to the experience when BoundFields were used instead.</span></span>

> [!NOTE]
> <span data-ttu-id="d75ea-162">No dude en Personalizar las interfaces de edición de las plantillas según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="d75ea-162">Feel free to customize the editing interfaces in the templates as needed.</span></span> <span data-ttu-id="d75ea-163">Por ejemplo, puede que convenga tener el cuadro de texto el `UnitPrice` TemplateFields se representa como un cuadro de texto más pequeño que el `ProductName` cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="d75ea-163">For example, we may want to have the TextBox in the `UnitPrice` TemplateFields rendered as a smaller textbox than the `ProductName` textbox.</span></span> <span data-ttu-id="d75ea-164">Para realizar esta acción puede establecer el cuadro de texto `Columns` propiedad en un valor adecuado o proporcionar un ancho absoluto a través de la `Width` propiedad.</span><span class="sxs-lookup"><span data-stu-id="d75ea-164">To accomplish this you can set the TextBox's `Columns` property to an appropriate value or provide an absolute width via the `Width` property.</span></span> <span data-ttu-id="d75ea-165">En el siguiente tutorial veremos cómo personalizar completamente la interfaz de edición si se reemplaza el cuadro de texto con una entrada de datos alternativos control Web.</span><span class="sxs-lookup"><span data-stu-id="d75ea-165">In the next tutorial we'll see how to completely customize the editing interface by replacing the TextBox with an alternate data entry Web control.</span></span>

## <a name="step-3-adding-the-validation-controls-to-the-gridviewsedititemtemplate-s"></a><span data-ttu-id="d75ea-166">Paso 3: Agregar los controles de validación a la GridView`EditItemTemplate` s</span><span class="sxs-lookup"><span data-stu-id="d75ea-166">Step 3: Adding the Validation Controls to the GridView's`EditItemTemplate` s</span></span>

<span data-ttu-id="d75ea-167">Al construir los formularios de entrada de datos, es importante que los usuarios escriban los campos obligatorios y que todas las entradas proporcionadas son valores legales, tiene el formato correcto.</span><span class="sxs-lookup"><span data-stu-id="d75ea-167">When constructing data entry forms, it is important that users enter any required fields and that all provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="d75ea-168">Para ayudar a garantizar que las entradas del usuario son válidas, ASP.NET proporciona cinco controles de validación integradas que están diseñados para usarse para validar el valor de un control de entrada:</span><span class="sxs-lookup"><span data-stu-id="d75ea-168">To help ensure that a user's inputs are valid, ASP.NET provides five built-in validation controls that are designed to be used to validate the value of a single input control:</span></span>

- <span data-ttu-id="d75ea-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) garantiza que se ha proporcionado un valor</span><span class="sxs-lookup"><span data-stu-id="d75ea-169">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="d75ea-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) valida un valor con otro valor de control de Web o un valor constante, o se asegura de que el formato del valor es válido para un tipo de datos especificado</span><span class="sxs-lookup"><span data-stu-id="d75ea-170">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value's format is legal for a specified data type</span></span>
- <span data-ttu-id="d75ea-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) garantiza que un valor está dentro del intervalo de valores</span><span class="sxs-lookup"><span data-stu-id="d75ea-171">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="d75ea-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) valida un valor con un [expresión regular](http://en.wikipedia.org/wiki/Regular_expression)</span><span class="sxs-lookup"><span data-stu-id="d75ea-172">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="d75ea-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) valida un valor con un método personalizado definido por el usuario</span><span class="sxs-lookup"><span data-stu-id="d75ea-173">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="d75ea-174">Para obtener más información sobre estos cinco controles, consulte el [sección de controles de validación](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) de la [tutoriales de ASP.NET](https://asp.net/QuickStart/aspnet/).</span><span class="sxs-lookup"><span data-stu-id="d75ea-174">For more information on these five controls, check out the [Validation Controls section](https://quickstarts.asp.net/quickstartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://asp.net/QuickStart/aspnet/).</span></span>

<span data-ttu-id="d75ea-175">En este tutorial se deberá usar un control RequiredFieldValidator en las de GridView y DetailsView `ProductName` TemplateFields y un control RequiredFieldValidator v ovládacím prvku DetailsView `UnitPrice` TemplateField.</span><span class="sxs-lookup"><span data-stu-id="d75ea-175">For our tutorial we'll need to use a RequiredFieldValidator in both the DetailsView and GridView's `ProductName` TemplateFields and a RequiredFieldValidator in the DetailsView's `UnitPrice` TemplateField.</span></span> <span data-ttu-id="d75ea-176">Además, se deberá agregar un control CompareValidator para ambos controles `UnitPrice` TemplateFields que garantiza que el precio indicado tiene un valor mayor o igual que 0 y se presenta en un formato de moneda válidos.</span><span class="sxs-lookup"><span data-stu-id="d75ea-176">Furthermore, we'll need to add a CompareValidator to both controls' `UnitPrice` TemplateFields that ensures that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="d75ea-177">Aunque ASP.NET 1.x tenía estos mismos controles de validación de cinco, ASP.NET 2.0 ha agregado una serie de mejoras, los principales dos de script de cliente compatibilidad con exploradores distintos de Internet Explorer y la capacidad de los controles de validación de partición en una página en grupos de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-177">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers other than Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="d75ea-178">Para obtener más información sobre las nuevas características de control de validación de 2.0, consulte [Disecar los controles de validación en ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="d75ea-178">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>

<span data-ttu-id="d75ea-179">Comencemos por agregar los controles de validación necesaria para la `EditItemTemplate` s en TemplateFields de GridView.</span><span class="sxs-lookup"><span data-stu-id="d75ea-179">Let's start by adding the necessary validation controls to the `EditItemTemplate` s in the GridView's TemplateFields.</span></span> <span data-ttu-id="d75ea-180">Para ello, haga clic en el vínculo Editar plantillas de etiqueta inteligente de GridView para que aparezca la interfaz de edición de plantilla.</span><span class="sxs-lookup"><span data-stu-id="d75ea-180">To accomplish this, click on the Edit Templates link from the GridView's smart tag to bring up the template editing interface.</span></span> <span data-ttu-id="d75ea-181">Desde aquí, puede seleccionar qué plantilla para editar en la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="d75ea-181">From here, you can select which template to edit from the drop-down list.</span></span> <span data-ttu-id="d75ea-182">Puesto que deseamos aumentar la interfaz de edición, tenemos que agregar los controles de validación para el `ProductName` y `UnitPrice`del `EditItemTemplate` s.</span><span class="sxs-lookup"><span data-stu-id="d75ea-182">Since we want to augment the editing interface, we need to add validation controls to the `ProductName` and `UnitPrice`'s `EditItemTemplate` s.</span></span>

<span data-ttu-id="d75ea-183">[![Es necesario ampliar el ProductName y EditItemTemplates de UnitPrice](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-183">[![We Need to Extend the ProductName and UnitPrice's EditItemTemplates](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image11.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image10.png)</span></span>

<span data-ttu-id="d75ea-184">**Figura 4**: Es necesario extender el `ProductName` y `UnitPrice`del `EditItemTemplate` s ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-184">**Figure 4**: We Need to Extend the `ProductName` and `UnitPrice`'s `EditItemTemplate` s ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image12.png))</span></span>

<span data-ttu-id="d75ea-185">En el `ProductName` `EditItemTemplate`, agregue un control RequiredFieldValidator arrastrándolo desde el cuadro de herramientas en la interfaz de edición de plantilla, colocar después el cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="d75ea-185">In the `ProductName` `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing after the TextBox.</span></span>

<span data-ttu-id="d75ea-186">[![Agregar un control RequiredFieldValidator a ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-186">[![Add a RequiredFieldValidator to the ProductName EditItemTemplate](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image14.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image13.png)</span></span>

<span data-ttu-id="d75ea-187">**Figura 5**: Agregue un control RequiredFieldValidator a la `ProductName` `EditItemTemplate` ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-187">**Figure 5**: Add a RequiredFieldValidator to the `ProductName` `EditItemTemplate` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image15.png))</span></span>

<span data-ttu-id="d75ea-188">Todos los controles de validación funcionan mediante la validación de la entrada de un solo control Web de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d75ea-188">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="d75ea-189">Por lo tanto, debemos indicar que debe validar el control RequiredFieldValidator que acabamos de agregar en el cuadro de texto en el `EditItemTemplate`; Esto se logra estableciendo el control de validación [propiedad ControlToValidate](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) a la `ID` del control Web adecuado.</span><span class="sxs-lookup"><span data-stu-id="d75ea-189">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the TextBox in the `EditItemTemplate`; this is accomplished by setting the validation control's [ControlToValidate property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control.</span></span> <span data-ttu-id="d75ea-190">El cuadro de texto tiene actualmente en su lugar no distintivo `ID` de `TextBox1`, pero vamos a cambiar a algo más adecuado.</span><span class="sxs-lookup"><span data-stu-id="d75ea-190">The TextBox currently has the rather nondescript `ID` of `TextBox1`, but let's change it to something more appropriate.</span></span> <span data-ttu-id="d75ea-191">Haga clic en el cuadro de texto en la plantilla y, a continuación, en la ventana Propiedades, cambie la `ID` desde `TextBox1` a `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-191">Click on the TextBox in the template and then, from the Properties window, change the `ID` from `TextBox1` to `EditProductName`.</span></span>

<span data-ttu-id="d75ea-192">[![Cambie el identificador del cuadro de texto a EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-192">[![Change the TextBox's ID to EditProductName](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image17.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image16.png)</span></span>

<span data-ttu-id="d75ea-193">**Figura 6**: Cambie el cuadro de texto `ID` a `EditProductName` ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-193">**Figure 6**: Change the TextBox's `ID` to `EditProductName` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image18.png))</span></span>

<span data-ttu-id="d75ea-194">A continuación, establezca el RequiredFieldValidator `ControlToValidate` propiedad `EditProductName`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-194">Next, set the RequiredFieldValidator's `ControlToValidate` property to `EditProductName`.</span></span> <span data-ttu-id="d75ea-195">Por último, establezca el [propiedad ErrorMessage](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) "Debe proporcionar el nombre del producto" y el [propiedad Text](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) a "\*".</span><span class="sxs-lookup"><span data-stu-id="d75ea-195">Finally, set the [ErrorMessage property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to "You must provide the product's name" and the [Text property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to "\*".</span></span> <span data-ttu-id="d75ea-196">El `Text` valor de propiedad, si se proporciona, es el texto que se muestra el control de validación si se produce un error en la validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-196">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="d75ea-197">El `ErrorMessage` el valor de propiedad, que es necesario, se utiliza el control ValidationSummary; si el `Text` se omite el valor de propiedad, el `ErrorMessage` valor de propiedad también es el texto mostrado por el control de validación de entrada no válida.</span><span class="sxs-lookup"><span data-stu-id="d75ea-197">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is also the text displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="d75ea-198">Después de establecer estas tres propiedades de RequiredFieldValidator, la pantalla debe ser similar a la figura 7.</span><span class="sxs-lookup"><span data-stu-id="d75ea-198">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 7.</span></span>

<span data-ttu-id="d75ea-199">[![Establecer el RequiredFieldValidator ControlToValidate ErrorMessage y propiedades de texto](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-199">[![Set the RequiredFieldValidator's ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image20.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image19.png)</span></span>

<span data-ttu-id="d75ea-200">**Figura 7**: Establecer el RequiredFieldValidator `ControlToValidate`, `ErrorMessage`, y `Text` propiedades ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-200">**Figure 7**: Set the RequiredFieldValidator's `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image21.png))</span></span>

<span data-ttu-id="d75ea-201">Con el control RequiredFieldValidator agregado a la `ProductName` `EditItemTemplate`, todos los que queda es agregar la validación necesaria para la `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-201">With the RequiredFieldValidator added to the `ProductName` `EditItemTemplate`, all that remains is to add the necessary validation to the `UnitPrice` `EditItemTemplate`.</span></span> <span data-ttu-id="d75ea-202">Puesto que hemos decidido que, para esta página, el `UnitPrice` opcional cuando edita un registro, no tenemos que agregar un control RequiredFieldValidator.</span><span class="sxs-lookup"><span data-stu-id="d75ea-202">Since we've decided that, for this page, the `UnitPrice` is optional when editing a record, we don't need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="d75ea-203">, Sin embargo, necesitamos agregar un control CompareValidator para asegurarse de que el `UnitPrice`, si se proporciona, se tiene el formato correcto como moneda y es mayor o igual que 0.</span><span class="sxs-lookup"><span data-stu-id="d75ea-203">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="d75ea-204">Antes de agregar el control CompareValidator para el `UnitPrice` `EditItemTemplate`, vamos a cambiar primero Id. del control de cuadro de texto Web desde `TextBox2` a `EditUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-204">Before we add the CompareValidator to the `UnitPrice` `EditItemTemplate`, let's first change the TextBox Web control's ID from `TextBox2` to `EditUnitPrice`.</span></span> <span data-ttu-id="d75ea-205">Después de realizar este cambio, agregar CompareValidator, establecer su `ControlToValidate` propiedad `EditUnitPrice`, sus `ErrorMessage` propiedad "el precio debe ser mayor o igual que cero y no puede incluir el símbolo de moneda" y su `Text` propiedad "\*".</span><span class="sxs-lookup"><span data-stu-id="d75ea-205">After making this change, add the CompareValidator, setting its `ControlToValidate` property to `EditUnitPrice`, its `ErrorMessage` property to "The price must be greater than or equal to zero and cannot include the currency symbol", and its `Text` property to "\*".</span></span>

<span data-ttu-id="d75ea-206">Para indicar que el `UnitPrice` valor debe ser mayor o igual que 0, establezca el CompareValidator [propiedad Operator](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) a `GreaterThanEqual`, sus [propiedad ValueToCompare](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) "0" y su [ La propiedad Type](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) a `Currency`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-206">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator's [Operator property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [ValueToCompare property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to "0", and its [Type property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span> <span data-ttu-id="d75ea-207">La siguiente sintaxis declarativa la `UnitPrice` del TemplateField `EditItemTemplate` una vez realizados estos cambios:</span><span class="sxs-lookup"><span data-stu-id="d75ea-207">The following declarative syntax shows the `UnitPrice` TemplateField's `EditItemTemplate` after these changes have been made:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample3.aspx)]

<span data-ttu-id="d75ea-208">Después de realizar estos cambios, abra la página en un explorador.</span><span class="sxs-lookup"><span data-stu-id="d75ea-208">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="d75ea-209">Si intenta omitir el nombre o escriba un valor del precio no válido al editar un producto, aparece un asterisco junto al cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="d75ea-209">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="d75ea-210">Como se muestra en la figura 8, un valor del precio que incluye el símbolo de moneda, como $19,95 se considera no válido.</span><span class="sxs-lookup"><span data-stu-id="d75ea-210">As Figure 8 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="d75ea-211">El control de CompareValidator `Currency` `Type` permite separadores de dígitos (por ejemplo, comas ni puntos, dependiendo de la configuración de la referencia cultural) y un líder plus o signo menos, pero *no* permiten un símbolo de moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-211">The CompareValidator's `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="d75ea-212">Este comportamiento puede perplex a los usuarios como la interfaz de edición actualmente representa la `UnitPrice` con el formato de moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-212">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="d75ea-213">Recuerde que en el *eventos asociados con la inserción, actualización y eliminación* tutorial establecemos el BoundField `DataFormatString` propiedad `{0:c}` con el fin de dar el formato de una moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-213">Recall that in the *Events Associated with Inserting, Updating, and Deleting* tutorial we set the BoundField's `DataFormatString` property to `{0:c}` in order to format it as a currency.</span></span> <span data-ttu-id="d75ea-214">Además, hemos establecido el `ApplyFormatInEditMode` propiedad en true, lo que hace que el control GridView de edición del interfaz para dar formato a la `UnitPrice` como una moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-214">Furthermore, we set the `ApplyFormatInEditMode` property to true, causing the GridView's editing interface to format the `UnitPrice` as a currency.</span></span> <span data-ttu-id="d75ea-215">Al convertir el BoundField en TemplateField, Visual Studio se ha indicado a esta configuración y con el formato del cuadro de texto `Text` propiedad como una moneda mediante la sintaxis de enlace de datos `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-215">When converting the BoundField into a TemplateField, Visual Studio noted these settings and formatted the TextBox's `Text` property as a currency using the databinding syntax `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span>

<span data-ttu-id="d75ea-216">[![Aparece un asterisco junto a los cuadros de texto con la entrada no válida](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-216">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image23.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image22.png)</span></span>

<span data-ttu-id="d75ea-217">**Figura 8**: Un asterisco aparece junto a los cuadros de texto con la entrada no válida ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-217">**Figure 8**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image24.png))</span></span>

<span data-ttu-id="d75ea-218">Mientras que las obras de validación como-es, el usuario debe quitar manualmente el símbolo de moneda al editar un registro, que no es aceptable.</span><span class="sxs-lookup"><span data-stu-id="d75ea-218">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="d75ea-219">Para solucionar esto, tenemos tres opciones:</span><span class="sxs-lookup"><span data-stu-id="d75ea-219">To remedy this, we have three options:</span></span>

1. <span data-ttu-id="d75ea-220">Configurar la `EditItemTemplate` para que el `UnitPrice` valor no tiene el formato como una moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-220">Configure the `EditItemTemplate` so that the `UnitPrice` value is not formatted as a currency.</span></span>
2. <span data-ttu-id="d75ea-221">Permitir al usuario que escriba un símbolo de moneda quitando CompareValidator y reemplazarlo por un control RegularExpressionValidator que comprueba correctamente un valor de moneda con formato correcto.</span><span class="sxs-lookup"><span data-stu-id="d75ea-221">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that properly checks for a properly formatted currency value.</span></span> <span data-ttu-id="d75ea-222">El problema aquí es que la expresión regular para validar un valor de moneda no es más bonito del mundo y requeriría la escritura de código si quisiéramos incorporar las configuraciones de referencia cultural.</span><span class="sxs-lookup"><span data-stu-id="d75ea-222">The problem here is that the regular expression to validate a currency value is not pretty and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="d75ea-223">Quitar totalmente el control de validación y se basan en la lógica de validación del lado servidor en el control de GridView `RowUpdating` controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="d75ea-223">Remove the validation control altogether and rely on server-side validation logic in the GridView's `RowUpdating` event handler.</span></span>

<span data-ttu-id="d75ea-224">Vamos a con la opción #1 para este ejercicio.</span><span class="sxs-lookup"><span data-stu-id="d75ea-224">Let's go with option #1 for this exercise.</span></span> <span data-ttu-id="d75ea-225">Actualmente la `UnitPrice` se da formato como una moneda debido a la expresión de enlace de datos para el cuadro de texto en el `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-225">Currently the `UnitPrice` is formatted as a currency due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Bind("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="d75ea-226">Cambie la instrucción de enlace a `Bind("UnitPrice", "{0:n2}")`, lo que da formato al resultado como un número con dos dígitos de precisión.</span><span class="sxs-lookup"><span data-stu-id="d75ea-226">Change the Bind statement to `Bind("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="d75ea-227">Esto se puede hacer directamente a través de la sintaxis declarativa o haciendo clic en el vínculo Editar DataBindings de la `EditUnitPrice` cuadro de texto en el `UnitPrice` del TemplateField `EditItemTemplate` (consulte las figuras 9 y 10).</span><span class="sxs-lookup"><span data-stu-id="d75ea-227">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `EditUnitPrice` TextBox in the `UnitPrice` TemplateField's `EditItemTemplate` (see Figures 9 and 10).</span></span>

<span data-ttu-id="d75ea-228">[![Haga clic en vínculo de Editar DataBindings del cuadro de texto](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-228">[![Click on the TextBox's Edit DataBindings link](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image26.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image25.png)</span></span>

<span data-ttu-id="d75ea-229">**Figura 9**: Haga clic en vínculo de Editar DataBindings del cuadro de texto ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-229">**Figure 9**: Click on the TextBox's Edit DataBindings link ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image27.png))</span></span>

<span data-ttu-id="d75ea-230">[![Especifique el especificador de formato en la instrucción de enlace](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-230">[![Specify the Format Specifier in the Bind Statement](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image29.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image28.png)</span></span>

<span data-ttu-id="d75ea-231">**Figura 10**: Especifique el especificador de formato en el `Bind` instrucción ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-231">**Figure 10**: Specify the Format Specifier in the `Bind` Statement ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image30.png))</span></span>

<span data-ttu-id="d75ea-232">Con este cambio, el precio con formato en la interfaz de edición incluye la coma como separador de grupo y un punto como separador decimal, pero se cierra el símbolo de moneda.</span><span class="sxs-lookup"><span data-stu-id="d75ea-232">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="d75ea-233">El `UnitPrice` `EditItemTemplate` no incluye un control RequiredFieldValidator, lo que permite negativas derivadas de la devolución de datos y la lógica de actualización para comenzar.</span><span class="sxs-lookup"><span data-stu-id="d75ea-233">The `UnitPrice` `EditItemTemplate` doesn't include a RequiredFieldValidator, allowing the postback to ensue and the updating logic to commence.</span></span> <span data-ttu-id="d75ea-234">Sin embargo, el `RowUpdating` controlador de eventos que se copian desde el *examinando los eventos asociados con la inserción, actualización y eliminación* tutorial incluye una comprobación de programación que garantiza que el `UnitPrice` se proporciona.</span><span class="sxs-lookup"><span data-stu-id="d75ea-234">However, the `RowUpdating` event handler copied over from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial includes a programmatic check that ensures that the `UnitPrice` is provided.</span></span> <span data-ttu-id="d75ea-235">No dude en quitar esta lógica, déjelo en como-es, o agregar un control RequiredFieldValidator a la `UnitPrice` `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-235">Feel free to remove this logic, leave it in as-is, or add a RequiredFieldValidator to the `UnitPrice` `EditItemTemplate`.</span></span>

## <a name="step-4-summarizing-data-entry-problems"></a><span data-ttu-id="d75ea-236">Paso 4: Resumen de problemas de entrada de datos</span><span class="sxs-lookup"><span data-stu-id="d75ea-236">Step 4: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="d75ea-237">Además de los controles de validación de cinco, ASP.NET incluye el [control ValidationSummary](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), que muestra la `ErrorMessage` s de los controles de validación que ha detectado datos no válidos.</span><span class="sxs-lookup"><span data-stu-id="d75ea-237">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="d75ea-238">Estos datos de resumen se pueden mostrar como texto en la página web o a través de un cuadro de mensaje modal, del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-238">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="d75ea-239">Vamos a mejorar este tutorial para que incluya un cuadro de mensajes del lado cliente que resume los problemas de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-239">Let's enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="d75ea-240">Para ello, arrastre un control ValidationSummary desde el cuadro de herramientas hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="d75ea-240">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="d75ea-241">La ubicación del control de validación no importa realmente, puesto que vamos a configurarlo para mostrar únicamente el resumen como un cuadro de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d75ea-241">The location of the Validation control doesn't really matter, since we're going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="d75ea-242">Después de agregar el control, establezca su [propiedad ShowSummary](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) a `false` y su [propiedad ShowMessageBox](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) a `true`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-242">After adding the control, set its [ShowSummary property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `false` and its [ShowMessageBox property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `true`.</span></span> <span data-ttu-id="d75ea-243">Con esta versión, se resumen los errores de validación en un cuadro de mensajes del lado cliente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-243">With this addition, any validation errors are summarized in a client-side messagebox.</span></span>

<span data-ttu-id="d75ea-244">[![Los errores de validación se resumen en un cuadro de mensajes del lado cliente](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-244">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image32.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image31.png)</span></span>

<span data-ttu-id="d75ea-245">**Figura 11**: Los errores de validación se resumen en un cuadro de mensajes del lado cliente ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-245">**Figure 11**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image33.png))</span></span>

## <a name="step-5-adding-the-validation-controls-to-the-detailsviewsinsertitemtemplate"></a><span data-ttu-id="d75ea-246">Paso 5: Agregar los controles de validación a prvku DetailsView.`InsertItemTemplate`</span><span class="sxs-lookup"><span data-stu-id="d75ea-246">Step 5: Adding the Validation Controls to the DetailsView's`InsertItemTemplate`</span></span>

<span data-ttu-id="d75ea-247">Todo lo que queda de este tutorial es agregar los controles de validación a la interfaz de inserción de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="d75ea-247">All that remains for this tutorial is to add the validation controls to the DetailsView's inserting interface.</span></span> <span data-ttu-id="d75ea-248">El proceso de agregar controles de validación a las plantillas de DetailsView es idéntico a la se examinan en el paso 3; por lo tanto, podrá avanzar la tarea en este paso.</span><span class="sxs-lookup"><span data-stu-id="d75ea-248">The process of adding validation controls to the DetailsView's templates is identical to that examined in Step 3; therefore, we'll breeze through the task in this step.</span></span> <span data-ttu-id="d75ea-249">Igual que hicimos con la GridView `EditItemTemplate` s, le animo a cambiar el nombre de la `ID` s de los cuadros de texto de la no distintivo `TextBox1` y `TextBox2` a `InsertProductName` y `InsertUnitPrice`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-249">As we did with the GridView's `EditItemTemplate` s, I encourage you to rename the `ID` s of the TextBoxes from the nondescript `TextBox1` and `TextBox2` to `InsertProductName` and `InsertUnitPrice`.</span></span>

<span data-ttu-id="d75ea-250">Agregue un control RequiredFieldValidator a la `ProductName` `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-250">Add a RequiredFieldValidator to the `ProductName` `InsertItemTemplate`.</span></span> <span data-ttu-id="d75ea-251">Establecer el `ControlToValidate` a la `ID` del cuadro de texto en la plantilla, su `Text` propiedad en "\*" y su `ErrorMessage` propiedad "Debe proporcionar el nombre del producto".</span><span class="sxs-lookup"><span data-stu-id="d75ea-251">Set the `ControlToValidate` to the `ID` of the TextBox in the template, its `Text` property to "\*" and its `ErrorMessage` property to "You must provide the product's name".</span></span>

<span data-ttu-id="d75ea-252">Puesto que la `UnitPrice` es necesario para esta página cuando se agrega un nuevo registro, agregue un control RequiredFieldValidator a la `UnitPrice` `InsertItemTemplate`, estableciendo su `ControlToValidate`, `Text`, y `ErrorMessage` propiedades adecuadamente.</span><span class="sxs-lookup"><span data-stu-id="d75ea-252">Since the `UnitPrice` is required for this page when adding a new record, add a RequiredFieldValidator to the `UnitPrice` `InsertItemTemplate`, setting its `ControlToValidate`, `Text`, and `ErrorMessage` properties appropriately.</span></span> <span data-ttu-id="d75ea-253">Por último, agregue un control CompareValidator para los `UnitPrice` `InsertItemTemplate` , y configurar su `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, y `ValueToCompare` propiedades tal como se hizo con la `UnitPrice`de CompareValidator en el control de GridView `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-253">Finally, add a CompareValidator to the `UnitPrice` `InsertItemTemplate` as well, configuring its `ControlToValidate`, `Text`, `ErrorMessage`, `Type`, `Operator`, and `ValueToCompare` properties just like we did with the `UnitPrice`'s CompareValidator in the GridView's `EditItemTemplate`.</span></span>

<span data-ttu-id="d75ea-254">Después de agregar estos controles de validación, un producto nuevo no se puede agregar al sistema si no se proporciona su nombre o si su precio es un número negativo o forma no autorizada con formato.</span><span class="sxs-lookup"><span data-stu-id="d75ea-254">After adding these validation controls, a new product cannot be added to the system if its name is not supplied or if its price is a negative number or illegally formatted.</span></span>

<span data-ttu-id="d75ea-255">[![Lógica de validación se ha agregado a la interfaz de inserción de DetailsView](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-255">[![Validation Logic has been Added to the DetailsView's Inserting Interface](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image35.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image34.png)</span></span>

<span data-ttu-id="d75ea-256">**Figura 12**: Lógica de validación se ha agregado a la interfaz de inserción de DetailsView ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-256">**Figure 12**: Validation Logic has been Added to the DetailsView's Inserting Interface ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image36.png))</span></span>

## <a name="step-6-partitioning-the-validation-controls-into-validation-groups"></a><span data-ttu-id="d75ea-257">Paso 6: Partición de los controles de validación en los grupos de validación</span><span class="sxs-lookup"><span data-stu-id="d75ea-257">Step 6: Partitioning the Validation Controls Into Validation Groups</span></span>

<span data-ttu-id="d75ea-258">Nuestra página consta de dos conjuntos dispares de forma lógica de los controles de validación: los que corresponden a la GridView de la interfaz de edición y los que corresponden a DetailsView de la inserción de interfaz.</span><span class="sxs-lookup"><span data-stu-id="d75ea-258">Our page consists of two logically disparate sets of validation controls: those that correspond to the GridView's editing interface and those that correspond to the DetailsView's inserting interface.</span></span> <span data-ttu-id="d75ea-259">De forma predeterminada, se produce un postback *todas* se comprueban los controles de validación de la página.</span><span class="sxs-lookup"><span data-stu-id="d75ea-259">By default, when a postback occurs *all* validation controls on the page are checked.</span></span> <span data-ttu-id="d75ea-260">Sin embargo, al editar un registro no queremos controles de validación insertar de la interfaz de DetailsView para validar.</span><span class="sxs-lookup"><span data-stu-id="d75ea-260">However, when editing a record we don't want the DetailsView's inserting interface's validation controls to validate.</span></span> <span data-ttu-id="d75ea-261">Figura 13 se muestra este dilema actual cuando un usuario edita un producto con los valores legales perfectamente, haciendo clic en Update produce un error de validación porque los valores de nombre y el precio de la interfaz de inserción están en blanco.</span><span class="sxs-lookup"><span data-stu-id="d75ea-261">Figure 13 illustrates our current dilemma when a user is editing a product with perfectly legal values, clicking Update causes a validation error because the name and price values in the inserting interface are blank.</span></span>

<span data-ttu-id="d75ea-262">[![Actualizar un producto hace que los controles de validación de la interfaz insertar Fire](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-262">[![Updating a Product Causes the Inserting Interface's Validation Controls to Fire](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image38.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image37.png)</span></span>

<span data-ttu-id="d75ea-263">**Figura 13**: Actualizar un producto hace que los controles de validación de la interfaz insertar Fire ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-263">**Figure 13**: Updating a Product Causes the Inserting Interface's Validation Controls to Fire ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image39.png))</span></span>

<span data-ttu-id="d75ea-264">Los controles de validación en ASP.NET 2.0 se pueden crear particiones en grupos de validación a través de sus `ValidationGroup` propiedad.</span><span class="sxs-lookup"><span data-stu-id="d75ea-264">The validation controls in ASP.NET 2.0 can be partitioned into validation groups through their `ValidationGroup` property.</span></span> <span data-ttu-id="d75ea-265">Para asociar un conjunto de controles de validación de un grupo, basta con establecer sus `ValidationGroup` propiedad en el mismo valor.</span><span class="sxs-lookup"><span data-stu-id="d75ea-265">To associate a set of validation controls in a group, simply set their `ValidationGroup` property to the same value.</span></span> <span data-ttu-id="d75ea-266">En este tutorial, establezca la `ValidationGroup` las propiedades de los controles de validación de TemplateFields de GridView para `EditValidationControls` y el `ValidationGroup` propiedades de TemplateFields ovládacího prvku DetailsView a `InsertValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-266">For our tutorial, set the `ValidationGroup` properties of the validation controls in the GridView's TemplateFields to `EditValidationControls` and the `ValidationGroup` properties of the DetailsView's TemplateFields to `InsertValidationControls`.</span></span> <span data-ttu-id="d75ea-267">Estos cambios pueden realizarse directamente en el marcado declarativo o a través de la ventana Propiedades cuando se usa el diseñador edición la interfaz de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="d75ea-267">These changes can be done directly in the declarative markup or through the Properties window when using the Designer's edit template interface.</span></span>

<span data-ttu-id="d75ea-268">Además de la validación de controles, el botón y los controles de botón en ASP.NET 2.0 también incluyen un `ValidationGroup` propiedad.</span><span class="sxs-lookup"><span data-stu-id="d75ea-268">In addition to the validation controls, the Button and Button-related controls in ASP.NET 2.0 also include a `ValidationGroup` property.</span></span> <span data-ttu-id="d75ea-269">Validadores de un grupo de validación se comprueban la validez solo cuando una devolución de datos sea inducido por un botón que tiene el mismo `ValidationGroup` configuración de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="d75ea-269">A validation group's validators are checked for validity only when a postback is induced by a Button that has the same `ValidationGroup` property setting.</span></span> <span data-ttu-id="d75ea-270">Por ejemplo, en orden en de DetailsView botón de inserción desencadenar la `InsertValidationControls` grupo de validación se debe establecer el CommandField `ValidationGroup` propiedad `InsertValidationControls` (vea la figura 14).</span><span class="sxs-lookup"><span data-stu-id="d75ea-270">For example, in order for the DetailsView's Insert button to trigger the `InsertValidationControls` validation group we need to set the CommandField's `ValidationGroup` property to `InsertValidationControls` (see Figure 14).</span></span> <span data-ttu-id="d75ea-271">Además, establezca la GridView del CommandField `ValidationGroup` propiedad `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-271">Additionally, set the GridView's CommandField's `ValidationGroup` property to `EditValidationControls`.</span></span>

<span data-ttu-id="d75ea-272">[![Propiedad de ValidationGroup del CommandField a InsertValidationControls de conjunto DetailsView](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="d75ea-272">[![Set the DetailsView's CommandField's ValidationGroup property to InsertValidationControls](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image41.png)](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image40.png)</span></span>

<span data-ttu-id="d75ea-273">**Figura 14**: Establecer el DetailsView de CommandField `ValidationGroup` propiedad a `InsertValidationControls` ([haga clic aquí para ver imagen en tamaño completo](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="d75ea-273">**Figure 14**: Set the DetailsView's CommandField's `ValidationGroup` property to `InsertValidationControls` ([Click to view full-size image](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/_static/image42.png))</span></span>

<span data-ttu-id="d75ea-274">Después de estos cambios, el DetailsView de GridView TemplateFields y CommandFields debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="d75ea-274">After these changes, the DetailsView and GridView's TemplateFields and CommandFields should look similar to the following:</span></span>

<span data-ttu-id="d75ea-275">El DetailsView TemplateFields y CommandField</span><span class="sxs-lookup"><span data-stu-id="d75ea-275">The DetailsView's TemplateFields and CommandField</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample4.aspx)]

<span data-ttu-id="d75ea-276">La GridView CommandField y TemplateFields</span><span class="sxs-lookup"><span data-stu-id="d75ea-276">The GridView's CommandField and TemplateFields</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample5.aspx)]

<span data-ttu-id="d75ea-277">En este momento los controles de validación específica de la edición activan sólo cuando se hace clic botón de actualización de GridView y el fuego de controles de validación específica de la inserción solo cuando se hace clic en botón de inserción de DetailsView, resolver el problema de resaltado en la figura 13.</span><span class="sxs-lookup"><span data-stu-id="d75ea-277">At this point the edit-specific validation controls fire only when the GridView's Update button is clicked and the insert-specific validation controls fire only when the DetailsView's Insert button is clicked, resolving the problem highlighted by Figure 13.</span></span> <span data-ttu-id="d75ea-278">Sin embargo, con este cambio nuestro control ValidationSummary ya no se muestra cuando se ingresan datos no válidos.</span><span class="sxs-lookup"><span data-stu-id="d75ea-278">However, with this change our ValidationSummary control no longer displays when entering invalid data.</span></span> <span data-ttu-id="d75ea-279">El control ValidationSummary también contiene un `ValidationGroup` propiedad y únicamente se muestra información de resumen para los controles de validación en su grupo de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-279">The ValidationSummary control also contains a `ValidationGroup` property and only shows summary information for those validation controls in its validation group.</span></span> <span data-ttu-id="d75ea-280">Por lo tanto, necesitamos tener dos controles de validación en esta página, uno para el `InsertValidationControls` grupo de validación y otro para `EditValidationControls`.</span><span class="sxs-lookup"><span data-stu-id="d75ea-280">Therefore, we need to have two validation controls in this page, one for the `InsertValidationControls` validation group and one for `EditValidationControls`.</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-editing-and-inserting-interfaces-cs/samples/sample6.aspx)]

<span data-ttu-id="d75ea-281">Con esta adición finalizada en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="d75ea-281">With this addition our tutorial is complete!</span></span>

## <a name="summary"></a><span data-ttu-id="d75ea-282">Resumen</span><span class="sxs-lookup"><span data-stu-id="d75ea-282">Summary</span></span>

<span data-ttu-id="d75ea-283">Si bien pueden proporcionar BoundFields tanto una interfaz de inserción y edición, la interfaz no es personalizable.</span><span class="sxs-lookup"><span data-stu-id="d75ea-283">While BoundFields can provide both an inserting and editing interface, the interface is not customizable.</span></span> <span data-ttu-id="d75ea-284">Normalmente, queremos agregar controles de validación para la edición y la inserción de interfaz para asegurarse de que el usuario escribe las entradas necesarias en un formato válido.</span><span class="sxs-lookup"><span data-stu-id="d75ea-284">Commonly, we want to add validation controls to the editing and inserting interface to ensure that the user enters required inputs in a legal format.</span></span> <span data-ttu-id="d75ea-285">Para ello, debemos convertir la BoundFields TemplateFields y agregar los controles de validación a las plantillas adecuadas.</span><span class="sxs-lookup"><span data-stu-id="d75ea-285">To accomplish this we must convert the BoundFields into TemplateFields and add the validation controls to the appropriate template(s).</span></span> <span data-ttu-id="d75ea-286">En este tutorial se ha ampliado el ejemplo desde el *examinando los eventos asociados con la inserción, actualización y eliminación* tutorial, agregar controles de validación a ambos DetailsView de la inserción de interfaz y la GridView interfaz de edición.</span><span class="sxs-lookup"><span data-stu-id="d75ea-286">In this tutorial we extended the example from the *Examining the Events Associated with Inserting, Updating, and Deleting* tutorial, adding validation controls to both the DetailsView's inserting interface and the GridView's editing interface.</span></span> <span data-ttu-id="d75ea-287">Además, hemos visto cómo mostrar información de resumen de validación mediante el control ValidationSummary y cómo dividir los controles de validación en la página en grupos distintos de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-287">Moreover, we saw how to display summary validation information using the ValidationSummary control and how to partition the validation controls on the page into distinct validation groups.</span></span>

<span data-ttu-id="d75ea-288">Como hemos visto en este tutorial, TemplateFields permiten a las interfaces de edición e inserción para ampliarse para incluir controles de validación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-288">As we saw in this tutorial, TemplateFields allow the editing and inserting interfaces to be augmented to include validation controls.</span></span> <span data-ttu-id="d75ea-289">TemplateFields también puede ampliar para incluir controles de entrada Web adicionales, habilitar el cuadro de texto se reemplacen por un control Web más adecuado.</span><span class="sxs-lookup"><span data-stu-id="d75ea-289">TemplateFields can also be extended to include additional input Web controls, enabling the TextBox to be replaced by a more suitable Web control.</span></span> <span data-ttu-id="d75ea-290">En nuestro siguiente tutorial veremos cómo reemplazar el control de cuadro de texto con un control DropDownList enlazados a datos, que es ideal cuando se edita una clave externa (como `CategoryID` o `SupplierID` en el `Products` tabla).</span><span class="sxs-lookup"><span data-stu-id="d75ea-290">In our next tutorial we'll see how to replace the TextBox control with a data-bound DropDownList control, which is ideal when editing a foreign key (such as `CategoryID` or `SupplierID` in the `Products` table).</span></span>

<span data-ttu-id="d75ea-291">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="d75ea-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="d75ea-292">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="d75ea-292">About the Author</span></span>

<span data-ttu-id="d75ea-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros sobre ASP/ASP.NET y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), trabaja con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="d75ea-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="d75ea-294">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="d75ea-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="d75ea-295">Su último libro es [*SAM enseñar a usted mismo ASP.NET 2.0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="d75ea-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="d75ea-296">Puede ponerse en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d75ea-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="d75ea-297">o a través de su blog, que puede encontrarse en [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="d75ea-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="d75ea-298">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="d75ea-298">Special Thanks To</span></span>

<span data-ttu-id="d75ea-299">Esta serie de tutoriales ha sido revisada por muchos revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="d75ea-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="d75ea-300">Los revisores para este tutorial fueron Liz Shulok y Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="d75ea-300">Lead reviewers for this tutorial were Liz Shulok and Zack Jones.</span></span> <span data-ttu-id="d75ea-301">¿Está interesado en leer mi próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="d75ea-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="d75ea-302">Si es así, envíeme una línea en [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="d75ea-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="d75ea-303">[Anterior](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
> [Siguiente](customizing-the-data-modification-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="d75ea-303">[Previous](handling-bll-and-dal-level-exceptions-in-an-asp-net-page-cs.md)
[Next](customizing-the-data-modification-interface-cs.md)</span></span>

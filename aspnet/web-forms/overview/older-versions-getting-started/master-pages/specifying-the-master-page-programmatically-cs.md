---
uid: web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
title: Especificar la página maestra mediante programación (C#) | Microsoft Docs
author: rick-anderson
description: Examina la configuración de la página principal de la página de contenido mediante programación con el controlador de eventos PreInit.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 7c4a3445-2440-4aee-b9fd-779c05e6abb2
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/specifying-the-master-page-programmatically-cs
msc.type: authoredcontent
ms.openlocfilehash: 0d56a600b1b97d9d044fa90b678c942f0dc6fc00
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/17/2019
ms.locfileid: "59413833"
---
# <a name="specifying-the-master-page-programmatically-c"></a><span data-ttu-id="843ee-103">Especificar la página maestra mediante programación (C#)</span><span class="sxs-lookup"><span data-stu-id="843ee-103">Specifying the Master Page Programmatically (C#)</span></span>

<span data-ttu-id="843ee-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="843ee-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="843ee-105">[Descargar código](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) o [descargar PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="843ee-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_09_CS.pdf)</span></span>

> <span data-ttu-id="843ee-106">Examina la configuración de la página principal de la página de contenido mediante programación con el controlador de eventos PreInit.</span><span class="sxs-lookup"><span data-stu-id="843ee-106">Looks at setting the content page's master page programmatically via the PreInit event handler.</span></span>


## <a name="introduction"></a><span data-ttu-id="843ee-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="843ee-107">Introduction</span></span>

<span data-ttu-id="843ee-108">Desde el ejemplo inaugural de [ *crear un diseño de todo el sitio usar páginas maestra*](creating-a-site-wide-layout-using-master-pages-cs.md), todo el contenido páginas han hecho referencia a su página maestra mediante declaración a través de la `MasterPageFile` atributo en el `@Page`directiva.</span><span class="sxs-lookup"><span data-stu-id="843ee-108">Since the inaugural example in [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md), all content pages have referenced their master page declaratively via the `MasterPageFile` attribute in the `@Page` directive.</span></span> <span data-ttu-id="843ee-109">Por ejemplo, la siguiente `@Page` directiva vincula la página de contenido a la página maestra `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="843ee-109">For example, the following `@Page` directive links the content page to the master page `Site.master`:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample1.aspx)]

<span data-ttu-id="843ee-110">El [ `Page` clase](https://msdn.microsoft.com/library/system.web.ui.page.aspx) en el `System.Web.UI` espacio de nombres incluye una [ `MasterPageFile` propiedad](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) que devuelve la ruta de acceso a la página principal de la página de contenido; es esta propiedad establecido por el `@Page` directiva.</span><span class="sxs-lookup"><span data-stu-id="843ee-110">The [`Page` class](https://msdn.microsoft.com/library/system.web.ui.page.aspx) in the `System.Web.UI` namespace includes a [`MasterPageFile` property](https://msdn.microsoft.com/library/system.web.ui.page.masterpagefile.aspx) that returns the path to the content page's master page; it is this property that is set by the `@Page` directive.</span></span> <span data-ttu-id="843ee-111">Esta propiedad también puede utilizarse para especificar mediante programación la página principal de la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="843ee-111">This property can also be used to programmatically specify the content page's master page.</span></span> <span data-ttu-id="843ee-112">Este enfoque es útil si desea asignar dinámicamente la página maestra en función de factores externos, como el usuario visita la página.</span><span class="sxs-lookup"><span data-stu-id="843ee-112">This approach is useful if you want to dynamically assign the master page based on external factors, such as the user visiting the page.</span></span>

<span data-ttu-id="843ee-113">En este tutorial se agregará una segunda página maestra a nuestro sitio Web y decide qué página maestra que se usa en tiempo de ejecución de forma dinámica.</span><span class="sxs-lookup"><span data-stu-id="843ee-113">In this tutorial we add a second master page to our website and dynamically decide which master page to use at runtime.</span></span>

## <a name="step-1-a-look-at-the-page-lifecycle"></a><span data-ttu-id="843ee-114">Paso 1: Examinemos el ciclo de vida de página</span><span class="sxs-lookup"><span data-stu-id="843ee-114">Step 1: A Look at the Page Lifecycle</span></span>

<span data-ttu-id="843ee-115">Cada vez que llega una solicitud en el servidor web para una página ASP.NET que es una página de contenido, el motor de ASP.NET debe fuse la página contenido controles ContentPlaceHolder correspondiente del controles en la página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-115">Whenever a request arrives at the web server for an ASP.NET page that is a content page, the ASP.NET engine must fuse the page's Content controls into the master page's corresponding ContentPlaceHolder controls.</span></span> <span data-ttu-id="843ee-116">Esta fusión crea una jerarquía de control único que, a continuación, puede realizarse a través del ciclo de vida de página típico.</span><span class="sxs-lookup"><span data-stu-id="843ee-116">This fusion creates a single control hierarchy that can then proceed through the typical page lifecycle.</span></span>

<span data-ttu-id="843ee-117">Figura 1 ilustra esta fusión.</span><span class="sxs-lookup"><span data-stu-id="843ee-117">Figure 1 illustrates this fusion.</span></span> <span data-ttu-id="843ee-118">Paso 1 en la figura 1 muestra el contenido inicial y las jerarquías de control de página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-118">Step 1 in Figure 1 shows the initial content and master page control hierarchies.</span></span> <span data-ttu-id="843ee-119">En la parte final de la fase de PreInit el contenido controles en la página se agregan a la ContentPlaceHolders correspondiente en la página maestra (paso 2).</span><span class="sxs-lookup"><span data-stu-id="843ee-119">At the tail end of the PreInit stage the Content controls in the page are added to the corresponding ContentPlaceHolders in the master page (Step 2).</span></span> <span data-ttu-id="843ee-120">Después de esta fusión, la página principal sirve como la raíz de la jerarquía de controles fusionadas.</span><span class="sxs-lookup"><span data-stu-id="843ee-120">After this fusion, the master page serves as the root of the fused control hierarchy.</span></span> <span data-ttu-id="843ee-121">Esto fusionan control jerarquía, a continuación, se agrega a la página para generar la jerarquía de control finalizados (paso 3).</span><span class="sxs-lookup"><span data-stu-id="843ee-121">This fused control hierarchy is then added to the page to produce the finalized control hierarchy (Step 3).</span></span> <span data-ttu-id="843ee-122">El resultado neto es que la jerarquía de controles de la página incluye la jerarquía de controles fusionadas.</span><span class="sxs-lookup"><span data-stu-id="843ee-122">The net result is that the page's control hierarchy includes the fused control hierarchy.</span></span>


<span data-ttu-id="843ee-123">[![La página maestra y las jerarquías de Control de la página de contenido son fusionan juntos durante la fase de PreInit](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-123">[![The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage](specifying-the-master-page-programmatically-cs/_static/image2.png)](specifying-the-master-page-programmatically-cs/_static/image1.png)</span></span>

<span data-ttu-id="843ee-124">**Figura 01**: La página maestra y las jerarquías de Control de la página de contenido son fusionan juntos durante la fase de PreInit ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-124">**Figure 01**: The Master Page and Content Page's Control Hierarchies are Fused Together during the PreInit Stage ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image3.png))</span></span>


## <a name="step-2-setting-themasterpagefileproperty-from-code"></a><span data-ttu-id="843ee-125">Paso 2: Establecer el`MasterPageFile`propiedad desde el código</span><span class="sxs-lookup"><span data-stu-id="843ee-125">Step 2: Setting the`MasterPageFile`Property from Code</span></span>

<span data-ttu-id="843ee-126">¿En qué página maestra partakes en esta fusión depende del valor de la `Page` del objeto `MasterPageFile` propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-126">What master page partakes in this fusion depends on the value of the `Page` object's `MasterPageFile` property.</span></span> <span data-ttu-id="843ee-127">Establecer el `MasterPageFile` atributo en el `@Page` directiva tiene el efecto neto de la asignación de la `Page`del `MasterPageFile` propiedad durante la fase de inicialización, que es la primera etapa del ciclo de vida de la página.</span><span class="sxs-lookup"><span data-stu-id="843ee-127">Setting the `MasterPageFile` attribute in the `@Page` directive has the net effect of assigning the `Page`'s `MasterPageFile` property during the Initialization stage, which is the very first stage of the page's lifecycle.</span></span> <span data-ttu-id="843ee-128">También podemos establecer esta propiedad mediante programación.</span><span class="sxs-lookup"><span data-stu-id="843ee-128">We can alternatively set this property programmatically.</span></span> <span data-ttu-id="843ee-129">Sin embargo, es imperativo que esta propiedad se establece antes de la fusión en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="843ee-129">However, it is imperative that this property be set before the fusion in Figure 1 takes place.</span></span>

<span data-ttu-id="843ee-130">Al principio de la fase de PreInit el `Page` objeto genera su [ `PreInit` eventos](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) y llama a su [ `OnPreInit` método](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span><span class="sxs-lookup"><span data-stu-id="843ee-130">At the start of the PreInit stage the `Page` object raises its [`PreInit` event](https://msdn.microsoft.com/library/system.web.ui.page.preinit.aspx) and calls its [`OnPreInit` method](https://msdn.microsoft.com/library/system.web.ui.page.onpreinit.aspx).</span></span> <span data-ttu-id="843ee-131">Para establecer la página maestra mediante programación, a continuación, nos podemos crear un controlador de eventos para el `PreInit` eventos o invalidar el `OnPreInit` método.</span><span class="sxs-lookup"><span data-stu-id="843ee-131">To set the master page programmatically, then, we can either create an event handler for the `PreInit` event or override the `OnPreInit` method.</span></span> <span data-ttu-id="843ee-132">Echemos un vistazo a ambos enfoques.</span><span class="sxs-lookup"><span data-stu-id="843ee-132">Let's look at both approaches.</span></span>

<span data-ttu-id="843ee-133">Comience abriendo `Default.aspx.cs`, el archivo de clase de código subyacente para la página principal de nuestro sitio.</span><span class="sxs-lookup"><span data-stu-id="843ee-133">Start by opening `Default.aspx.cs`, the code-behind class file for our site's homepage.</span></span> <span data-ttu-id="843ee-134">Agregar un controlador de eventos de la página `PreInit` eventos escribiendo en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-134">Add an event handler for the page's `PreInit` event by typing in the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample2.cs)]

<span data-ttu-id="843ee-135">Desde aquí podemos establecer el `MasterPageFile` propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-135">From here we can set the `MasterPageFile` property.</span></span> <span data-ttu-id="843ee-136">Actualice el código para que asigna el valor "~ / Site.master" para el `MasterPageFile` propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-136">Update the code so that it assigns the value "~/Site.master" to the `MasterPageFile` property.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample3.cs)]

<span data-ttu-id="843ee-137">Si establece un punto de interrupción y de inicio con la depuración, verá que cada vez que el `Default.aspx` se visita la página o cada vez que hay una devolución de datos a esta página, el `Page_PreInit` ejecuta el controlador de eventos y el `MasterPageFile` propiedad se asigna a "~ / Site.master".</span><span class="sxs-lookup"><span data-stu-id="843ee-137">If you set a breakpoint and start with debugging you'll see that whenever the `Default.aspx` page is visited or whenever there's a postback to this page, the `Page_PreInit` event handler executes and the `MasterPageFile` property is assigned to "~/Site.master".</span></span>

<span data-ttu-id="843ee-138">Como alternativa, puede invalidar el `Page` la clase `OnPreInit` método y establezca el `MasterPageFile` propiedad no existe.</span><span class="sxs-lookup"><span data-stu-id="843ee-138">Alternatively, you can override the `Page` class's `OnPreInit` method and set the `MasterPageFile` property there.</span></span> <span data-ttu-id="843ee-139">En este ejemplo, vamos a no establecer la página maestra en una página determinada, sino desde `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="843ee-139">For this example, let's not set the master page in a particular page, but rather from `BasePage`.</span></span> <span data-ttu-id="843ee-140">Recuerde que hemos creado una clase de página base personalizada (`BasePage`) en el [ *especificar el título, etiquetas Meta y otros encabezados HTML en la página maestra* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span><span class="sxs-lookup"><span data-stu-id="843ee-140">Recall that we created a custom base page class (`BasePage`) back in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial.</span></span> <span data-ttu-id="843ee-141">Actualmente `BasePage` invalida la `Page` la clase `OnLoadComplete` método, que define la página `Title` propiedad según los datos de mapa del sitio.</span><span class="sxs-lookup"><span data-stu-id="843ee-141">Currently `BasePage` overrides the `Page` class's `OnLoadComplete` method, where it sets the page's `Title` property based on the site map data.</span></span> <span data-ttu-id="843ee-142">Vamos a actualizar `BasePage` también invalidar el `OnPreInit` método para especificar mediante programación la página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-142">Let's update `BasePage` to also override the `OnPreInit` method to programmatically specify the master page.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample4.cs)]

<span data-ttu-id="843ee-143">Dado que todas nuestras páginas de contenido que se derivan de `BasePage`, todos ellos tienen ahora su página maestra mediante programación asignada.</span><span class="sxs-lookup"><span data-stu-id="843ee-143">Because all our content pages derive from `BasePage`, all of them now have their master page programmatically assigned.</span></span> <span data-ttu-id="843ee-144">En este momento la `PreInit` controlador de eventos en `Default.aspx.cs` es superflua; no dude en quitarlo.</span><span class="sxs-lookup"><span data-stu-id="843ee-144">At this point the `PreInit` event handler in `Default.aspx.cs` is superfluous; feel free to remove it.</span></span>

### <a name="what-about-thepagedirective"></a><span data-ttu-id="843ee-145">¿Qué sucede el`@Page`directiva?</span><span class="sxs-lookup"><span data-stu-id="843ee-145">What About the`@Page`Directive?</span></span>

<span data-ttu-id="843ee-146">Lo que puede ser un poco confuso es que las páginas del contenido `MasterPageFile` ahora se especifican las propiedades en dos lugares: mediante programación en el `BasePage` la clase `OnPreInit` método así como a través del `MasterPageFile` atributo en cada página de contenido `@Page` directiva.</span><span class="sxs-lookup"><span data-stu-id="843ee-146">What may be a little confusing is that the content pages' `MasterPageFile` properties are now being specified in two places: programmatically in the `BasePage` class's `OnPreInit` method as well as through the `MasterPageFile` attribute in each content page's `@Page` directive.</span></span>

<span data-ttu-id="843ee-147">La primera fase del ciclo de vida de página es la fase de inicialización.</span><span class="sxs-lookup"><span data-stu-id="843ee-147">The first stage in the page lifecycle is the Initialization stage.</span></span> <span data-ttu-id="843ee-148">Durante esta fase el `Page` del objeto `MasterPageFile` se asigna el valor de propiedad el `MasterPageFile` atributo el `@Page` directiva (si se proporciona).</span><span class="sxs-lookup"><span data-stu-id="843ee-148">During this stage the `Page` object's `MasterPageFile` property is assigned the value of the `MasterPageFile` attribute in the `@Page` directive (if it is provided).</span></span> <span data-ttu-id="843ee-149">La fase de PreInit sigue a la fase de inicialización y aquí es donde se establece mediante programación el `Page` del objeto `MasterPageFile` propiedad, con lo que se sobrescriba el valor asignado desde el `@Page` directiva.</span><span class="sxs-lookup"><span data-stu-id="843ee-149">The PreInit stage follows the Initialization stage, and it is here where we programmatically set the `Page` object's `MasterPageFile` property, thereby overwriting the value assigned from the `@Page` directive.</span></span> <span data-ttu-id="843ee-150">Porque estamos configurando la `Page` del objeto `MasterPageFile` propiedad mediante programación, podríamos Quitamos el `MasterPageFile` de atributo de la `@Page` directiva sin afectar a la experiencia del usuario final.</span><span class="sxs-lookup"><span data-stu-id="843ee-150">Because we are setting the `Page` object's `MasterPageFile` property programmatically, we could remove the `MasterPageFile` attribute from the `@Page` directive without affecting the end user's experience.</span></span> <span data-ttu-id="843ee-151">Para convencer a usted mismo de esto, continúe y quitar el `MasterPageFile` de atributo de la `@Page` directiva `Default.aspx` y, a continuación, visite la página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="843ee-151">To convince yourself of this, go ahead and remove the `MasterPageFile` attribute from the `@Page` directive in `Default.aspx` and then visit the page through a browser.</span></span> <span data-ttu-id="843ee-152">Como cabría esperar, el resultado es el mismo que antes de que se ha quitado el atributo.</span><span class="sxs-lookup"><span data-stu-id="843ee-152">As you would expect, the output is the same as before the attribute was removed.</span></span>

<span data-ttu-id="843ee-153">Si el `MasterPageFile` propiedad se establece a través de la `@Page` directiva o mediante programación es no afectan a la experiencia del usuario final.</span><span class="sxs-lookup"><span data-stu-id="843ee-153">Whether the `MasterPageFile` property is set via the `@Page` directive or programmatically is inconsequential to the end user's experience.</span></span> <span data-ttu-id="843ee-154">Sin embargo, el `MasterPageFile` atributo el `@Page` directiva se usa Visual Studio durante el tiempo de diseño para generar el WYSIWYG vista en el diseñador.</span><span class="sxs-lookup"><span data-stu-id="843ee-154">However, the `MasterPageFile` attribute in the `@Page` directive is used by Visual Studio during design-time to produce the WYSIWYG view in the Designer.</span></span> <span data-ttu-id="843ee-155">Si vuelve a `Default.aspx` en Visual Studio y navegue hasta el diseñador verá el mensaje, "error de página maestra: La página tiene controles que requieren una referencia de página maestra, pero no se especifica ninguna"(consulte la figura 2).</span><span class="sxs-lookup"><span data-stu-id="843ee-155">If you return to `Default.aspx` in Visual Studio and navigate to the Designer you'll see the message, "Master Page error: The page has controls that require a Master Page reference, but none is specified" (see Figure 2).</span></span>

<span data-ttu-id="843ee-156">En resumen, debe dejar el `MasterPageFile` atributo el `@Page` directiva para disfrutar de una experiencia de tiempo de diseño en Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="843ee-156">In short, you need to leave the `MasterPageFile` attribute in the `@Page` directive to enjoy a rich design-time experience in Visual Studio.</span></span>


<span data-ttu-id="843ee-157">[![Visual Studio usa el @Page MasterPageFile (atributo) de la directiva para representar la vista de diseño](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-157">[![Visual Studio Uses the @Page Directive's MasterPageFile Attribute to Render the Design View](specifying-the-master-page-programmatically-cs/_static/image5.png)](specifying-the-master-page-programmatically-cs/_static/image4.png)</span></span>

<span data-ttu-id="843ee-158">**Figura 02**: Visual Studio usa el `@Page` la directiva `MasterPageFile` atributo para representar la vista de diseño ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-158">**Figure 02**: Visual Studio Uses the `@Page` Directive's `MasterPageFile` Attribute to Render the Design View  ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image6.png))</span></span>


## <a name="step-3-creating-an-alternative-master-page"></a><span data-ttu-id="843ee-159">Paso 3: Creación de una página maestra alternativa</span><span class="sxs-lookup"><span data-stu-id="843ee-159">Step 3: Creating an Alternative Master Page</span></span>

<span data-ttu-id="843ee-160">Porque la página principal de la página de contenido se puede establecer mediante programación en tiempo de ejecución es posible cargar dinámicamente una página maestra determinada según algunos criterios externos.</span><span class="sxs-lookup"><span data-stu-id="843ee-160">Because a content page's master page can be set programmatically at runtime it's possible to dynamically load a particular master page based on some external criteria.</span></span> <span data-ttu-id="843ee-161">Esta funcionalidad puede ser útil en situaciones donde el diseño de la carpeta del sitio debe variar en función del usuario.</span><span class="sxs-lookup"><span data-stu-id="843ee-161">This functionality can be useful in situations where the site's layout needs to vary based on the user.</span></span> <span data-ttu-id="843ee-162">Por ejemplo, una aplicación web de motor de blog es posible que su les permitirá elegir un diseño para su blog, donde cada diseño está asociada con una página maestra diferente.</span><span class="sxs-lookup"><span data-stu-id="843ee-162">For instance, a blog engine web application may allow its users to choose a layout for their blog, where each layout is associated with a different master page.</span></span> <span data-ttu-id="843ee-163">En tiempo de ejecución, cuando un visitante está viendo el blog de un usuario, la aplicación web deberá determinar el diseño de blog y asociar dinámicamente la página maestra correspondiente a la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="843ee-163">At runtime, when a visitor is viewing a user's blog, the web application would need to determine the blog's layout and dynamically associate the corresponding master page with the content page.</span></span>

<span data-ttu-id="843ee-164">Examinemos cómo cargar dinámicamente una página maestra en tiempo de ejecución según algunos criterios externos.</span><span class="sxs-lookup"><span data-stu-id="843ee-164">Let's examine how to dynamically load a master page at runtime based on some external criteria.</span></span> <span data-ttu-id="843ee-165">Actualmente, nuestro sitio Web contiene una sola página maestra (`Site.master`).</span><span class="sxs-lookup"><span data-stu-id="843ee-165">Our website currently contains just one master page (`Site.master`).</span></span> <span data-ttu-id="843ee-166">Se necesita otra página maestra para ilustrar la elección de una página maestra en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="843ee-166">We need another master page to illustrate choosing a master page at runtime.</span></span> <span data-ttu-id="843ee-167">Este paso se centra en crear y configurar la nueva página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-167">This step focuses on creating and configuring the new master page.</span></span> <span data-ttu-id="843ee-168">Paso 4 examina determinar qué página maestra que se usa en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="843ee-168">Step 4 looks at determining what master page to use at runtime.</span></span>

<span data-ttu-id="843ee-169">Crear una nueva página principal en la carpeta raíz denominada `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-169">Create a new master page in the root folder named `Alternate.master`.</span></span> <span data-ttu-id="843ee-170">También, agregar una nueva hoja de estilos para el sitio Web denominado `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="843ee-170">Also add a new style sheet to the website named `AlternateStyles.css`.</span></span>


<span data-ttu-id="843ee-171">[![Agregue otro archivo CSS y página maestra al sitio Web](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-171">[![Add Another Master Page and CSS File to the Website](specifying-the-master-page-programmatically-cs/_static/image8.png)](specifying-the-master-page-programmatically-cs/_static/image7.png)</span></span>

<span data-ttu-id="843ee-172">**Figura 03**: Agregar otra página maestra y archivo CSS para el sitio Web ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-172">**Figure 03**: Add Another Master Page and CSS File to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image9.png))</span></span>


<span data-ttu-id="843ee-173">He diseñado el `Alternate.master` página maestra para que el título que se muestra en la parte superior de la página, centrado y sobre un fondo azul marino.</span><span class="sxs-lookup"><span data-stu-id="843ee-173">I've designed the `Alternate.master` master page to have the title displayed at the top of the page, centered and on a navy background.</span></span> <span data-ttu-id="843ee-174">He dispensar de la columna izquierda y mover ese contenido bajo el `MainContent` control ContentPlaceHolder, que ahora abarca todo el ancho de la página.</span><span class="sxs-lookup"><span data-stu-id="843ee-174">I've dispensed of the left column and moved that content beneath the `MainContent` ContentPlaceHolder control, which now spans the entire width of the page.</span></span> <span data-ttu-id="843ee-175">Además, nixed la lista de las lecciones desordenada y lo reemplazamos por una lista horizontal anterior `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="843ee-175">Furthermore, I nixed the unordered Lessons list and replaced it with a horizontal list above `MainContent`.</span></span> <span data-ttu-id="843ee-176">También actualizan las fuentes y colores usados por la página principal (y, por extensión, las páginas de contenido).</span><span class="sxs-lookup"><span data-stu-id="843ee-176">I also updated the fonts and colors used by the master page (and, by extension, its content pages).</span></span> <span data-ttu-id="843ee-177">La figura 4 muestra `Default.aspx` cuando se usa el `Alternate.master` página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-177">Figure 4 shows `Default.aspx` when using the `Alternate.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="843ee-178">ASP.NET incluye la capacidad para definir *temas*.</span><span class="sxs-lookup"><span data-stu-id="843ee-178">ASP.NET includes the ability to define *Themes*.</span></span> <span data-ttu-id="843ee-179">Un tema es una colección de imágenes, archivos CSS y relacionadas con el estilo Web propiedad configuración del control que se puede aplicar a una página en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="843ee-179">A Theme is a collection of images, CSS files, and style-related Web control property settings that can be applied to a page at runtime.</span></span> <span data-ttu-id="843ee-180">Los temas son la mejor opción si los diseños de su sitio difieren solo en las imágenes mostradas y sus reglas de CSS.</span><span class="sxs-lookup"><span data-stu-id="843ee-180">Themes are the way to go if your site's layouts differ only in the images displayed and by their CSS rules.</span></span> <span data-ttu-id="843ee-181">Si el diseño difiere notablemente más, como el uso de controles Web diferentes o tiene un diseño radicalmente diferente, a continuación, deberá utilizar páginas principales independientes.</span><span class="sxs-lookup"><span data-stu-id="843ee-181">If the layouts differ more substantially, such as using different Web controls or having a radically different layout, then you will need to use separate master pages.</span></span> <span data-ttu-id="843ee-182">Consulte la sección Lecturas adicionales al final de este tutorial para obtener más información acerca de los temas.</span><span class="sxs-lookup"><span data-stu-id="843ee-182">Consult the Further Reading section at the end of this tutorial for more information on Themes.</span></span>


<span data-ttu-id="843ee-183">[![Nuestras páginas de contenido pueden usar ahora un nuevo aspecto](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-183">[![Our Content Pages Can Now Use a New Look and Feel](specifying-the-master-page-programmatically-cs/_static/image11.png)](specifying-the-master-page-programmatically-cs/_static/image10.png)</span></span>

<span data-ttu-id="843ee-184">**Figura 04**: Nuestras páginas de contenido pueden usar ahora un nuevo aspecto ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-184">**Figure 04**: Our Content Pages Can Now Use a New Look and Feel ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image12.png))</span></span>


<span data-ttu-id="843ee-185">Cuando se fusionan el patrón y el marcado de las páginas de contenido, el `MasterPage` clase comprobaciones para asegurarse de que el contenido de cada control en la página de contenido hace referencia a un control ContentPlaceHolder en la página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-185">When the master and content pages' markup are fused, the `MasterPage` class checks to ensure that every Content control in the content page references a ContentPlaceHolder in the master page.</span></span> <span data-ttu-id="843ee-186">Se produce una excepción si se encuentra un control de contenido que hace referencia a un ContentPlaceHolder inexistentes.</span><span class="sxs-lookup"><span data-stu-id="843ee-186">An exception is thrown if a Content control that references a non-existent ContentPlaceHolder is found.</span></span> <span data-ttu-id="843ee-187">En otras palabras, es imperativo que la página maestra que se asigna a la página de contenido tiene un ContentPlaceHolder para cada control en la página de contenido de contenido.</span><span class="sxs-lookup"><span data-stu-id="843ee-187">In other words, it is imperative that the master page being assigned to the content page have a ContentPlaceHolder for each Content control in the content page.</span></span>

<span data-ttu-id="843ee-188">El `Site.master` página principal incluye cuatro controles ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="843ee-188">The `Site.master` master page includes four ContentPlaceHolder controls:</span></span>

- `head`
- `MainContent`
- `QuickLoginUI`
- `LeftColumnContent`

<span data-ttu-id="843ee-189">Algunas de las páginas de contenido en nuestro sitio Web incluyen uno o dos controles de contenido; otros incluyen un control de contenido para cada uno de los disponibles ContentPlaceHolders.</span><span class="sxs-lookup"><span data-stu-id="843ee-189">Some of the content pages in our website include just one or two Content controls; others include a Content control for each of the available ContentPlaceHolders.</span></span> <span data-ttu-id="843ee-190">Si nuestra nueva página maestra (`Alternate.master`) nunca se pueden asignar a las páginas de contenido que tienen controles de contenido para todos los ContentPlaceHolders en `Site.master` es fundamental que `Alternate.master` también incluyen los mismos controles ContentPlaceHolder como `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-190">If our new master page (`Alternate.master`) may ever be assigned to those content pages that have Content controls for all of the ContentPlaceHolders in `Site.master` then it is essential that `Alternate.master` also include the same ContentPlaceHolder controls as `Site.master`.</span></span>

<span data-ttu-id="843ee-191">Para obtener su `Alternate.master` página maestra para tener un aspecto similar al mío (consulte la figura 4), empiece por definir estilos de la página maestra en el `AlternateStyles.css` hoja de estilos.</span><span class="sxs-lookup"><span data-stu-id="843ee-191">To get your `Alternate.master` master page to look similar to mine (see Figure 4), start by defining the master page's styles in the `AlternateStyles.css` style sheet.</span></span> <span data-ttu-id="843ee-192">Agregue las siguientes reglas en `AlternateStyles.css`:</span><span class="sxs-lookup"><span data-stu-id="843ee-192">Add the following rules into `AlternateStyles.css`:</span></span>


[!code-css[Main](specifying-the-master-page-programmatically-cs/samples/sample5.css)]

<span data-ttu-id="843ee-193">A continuación, agregue el siguiente marcado declarativo para `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-193">Next, add the following declarative markup to `Alternate.master`.</span></span> <span data-ttu-id="843ee-194">Como puede ver, `Alternate.master` contiene cuatro controles ContentPlaceHolder con el mismo `ID` valores como los controles ContentPlaceHolder `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-194">As you can see, `Alternate.master` contains four ContentPlaceHolder controls with the same `ID` values as the ContentPlaceHolder controls in `Site.master`.</span></span> <span data-ttu-id="843ee-195">Además, incluye un control ScriptManager, que es necesario para las páginas en nuestro sitio Web que utilizan el marco de AJAX de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="843ee-195">Moreover, it includes a ScriptManager control, which is necessary for those pages in our website that use the ASP.NET AJAX framework.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample6.aspx)]

### <a name="testing-the-new-master-page"></a><span data-ttu-id="843ee-196">Probar la nueva página maestra</span><span class="sxs-lookup"><span data-stu-id="843ee-196">Testing the New Master Page</span></span>

<span data-ttu-id="843ee-197">Para probar esta nueva actualización de la página principal la `BasePage` la clase `OnPreInit` método para que el `MasterPageFile` propiedad se asigna el valor "~ / Alternate.master" y, a continuación, visite el sitio Web.</span><span class="sxs-lookup"><span data-stu-id="843ee-197">To test this new master page update the `BasePage` class's `OnPreInit` method so that the `MasterPageFile` property is assigned the value "~/Alternate.master" and then visit the website.</span></span> <span data-ttu-id="843ee-198">Cada página debería funcionar sin errores excepto dos: `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="843ee-198">Every page should function without error except for two: `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="843ee-199">Adición de un producto a DetailsView en `~/Admin/AddProduct.aspx` da como resultado un `NullReferenceException` desde la línea de código que intenta establecer la página maestra `GridMessageText` propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-199">Adding a product to the DetailsView in `~/Admin/AddProduct.aspx` results in a `NullReferenceException` from the line of code that attempts to set the master page's `GridMessageText` property.</span></span> <span data-ttu-id="843ee-200">Cuando se visita `~/Admin/Products.aspx` un `InvalidCastException` se produce al cargar la página con el mensaje: "No se puede convertir el objeto de tipo ' ASP.alternate\_maestra ' al tipo ' ASP.site\_maestra '."</span><span class="sxs-lookup"><span data-stu-id="843ee-200">When visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown on page load with the message: "Unable to cast object of type 'ASP.alternate\_master' to type 'ASP.site\_master'."</span></span>

<span data-ttu-id="843ee-201">Estos errores se producen porque el `Site.master` clase de código subyacente incluye eventos públicos, propiedades y métodos que no estén definidos en `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-201">These errors occur because the `Site.master` code-behind class includes public events, properties, and methods that are not defined in `Alternate.master`.</span></span> <span data-ttu-id="843ee-202">La parte del marcado de estas dos páginas tienen un `@MasterType` directiva que hace referencia el `Site.master` página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-202">The markup portion of these two pages have a `@MasterType` directive that references the `Site.master` master page.</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample7.aspx)]

<span data-ttu-id="843ee-203">Además, ovládacího prvku DetailsView `ItemInserted` controlador de eventos en `~/Admin/AddProduct.aspx` incluye código que convierte débilmente tipadas `Page.Master` propiedad a un objeto de tipo `Site`.</span><span class="sxs-lookup"><span data-stu-id="843ee-203">Also, the DetailsView's `ItemInserted` event handler in `~/Admin/AddProduct.aspx` includes code that casts the loosely-typed `Page.Master` property to an object of type `Site`.</span></span> <span data-ttu-id="843ee-204">El `@MasterType` directiva (de este modo se usa) y la conversión en el `ItemInserted` controlador de eventos se acopla estrechamente la `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx` páginas a la `Site.master` página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-204">The `@MasterType` directive (used this way) and the cast in the `ItemInserted` event handler tightly couples the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to the `Site.master` master page.</span></span>

<span data-ttu-id="843ee-205">Para interrumpir este estrecho acoplamiento que tengamos `Site.master` y `Alternate.master` derivan de una clase base común que contiene las definiciones de los miembros públicos.</span><span class="sxs-lookup"><span data-stu-id="843ee-205">To break this tight coupling we can have `Site.master` and `Alternate.master` derive from a common base class that contains definitions for the public members.</span></span> <span data-ttu-id="843ee-206">A continuación, podemos actualizar el `@MasterType` directiva para hacer referencia a este tipo base común.</span><span class="sxs-lookup"><span data-stu-id="843ee-206">Following that, we can update the `@MasterType` directive to reference this common base type.</span></span>

### <a name="creating-a-custom-base-master-page-class"></a><span data-ttu-id="843ee-207">Creación de una clase de página maestra de Base personalizada</span><span class="sxs-lookup"><span data-stu-id="843ee-207">Creating a Custom Base Master Page Class</span></span>

<span data-ttu-id="843ee-208">Agregue un nuevo archivo de clase para el `App_Code` carpeta denominada `BaseMasterPage.cs` y hacer que se derivan de `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="843ee-208">Add a new class file to the `App_Code` folder named `BaseMasterPage.cs` and have it derive from `System.Web.UI.MasterPage`.</span></span> <span data-ttu-id="843ee-209">Es necesario definir la `RefreshRecentProductsGrid` método y el `GridMessageText` propiedad en `BaseMasterPage`, pero simplemente no podemos mover ellos desde `Site.master` dado que estos miembros funcionan con los controles Web que son específicos de la `Site.master` página maestra (el `RecentProducts` GridView y `GridMessage` etiqueta).</span><span class="sxs-lookup"><span data-stu-id="843ee-209">We need to define the `RefreshRecentProductsGrid` method and the `GridMessageText` property in `BaseMasterPage`, but we can't simply move them there from `Site.master` because these members work with Web controls that are specific to the `Site.master` master page (the `RecentProducts` GridView and `GridMessage` Label).</span></span>

<span data-ttu-id="843ee-210">Lo que debemos hacer es configurar `BaseMasterPage` de tal manera que estos miembros se definen existe, pero se implementan en realidad por `BaseMasterPage`de las clases derivadas (`Site.master` y `Alternate.master`).</span><span class="sxs-lookup"><span data-stu-id="843ee-210">What we need to do is configure `BaseMasterPage` in such a way that these members are defined there, but are actually implemented by `BaseMasterPage`'s derived classes (`Site.master` and `Alternate.master`).</span></span> <span data-ttu-id="843ee-211">Este tipo de herencia es posible al marcar la clase y sus miembros como `abstract`.</span><span class="sxs-lookup"><span data-stu-id="843ee-211">This type of inheritance is possible by marking the class and its members as `abstract`.</span></span> <span data-ttu-id="843ee-212">En resumen, agregar el `abstract` que anuncia la palabra clave para estos dos miembros `BaseMasterPage` no implementado `RefreshRecentProductsGrid` y `GridMessageText`, pero que quede de sus clases derivadas.</span><span class="sxs-lookup"><span data-stu-id="843ee-212">In short, adding the `abstract` keyword to these two members announces that `BaseMasterPage` hasn't implemented `RefreshRecentProductsGrid` and `GridMessageText`, but that its derived classes will.</span></span>

<span data-ttu-id="843ee-213">También es necesario definir la `PricesDoubled` eventos en `BaseMasterPage` y proporcionan un medio por las clases derivadas para generar el evento.</span><span class="sxs-lookup"><span data-stu-id="843ee-213">We also need to define the `PricesDoubled` event in `BaseMasterPage` and provide a means by the derived classes to raise the event.</span></span> <span data-ttu-id="843ee-214">El patrón que se usa en .NET Framework para facilitar este comportamiento es crear un evento público en la clase base y agregar protegido, `virtual` método denominado `OnEventName`.</span><span class="sxs-lookup"><span data-stu-id="843ee-214">The pattern used in the .NET Framework to facilitate this behavior is to create a public event in the base class and add a protected, `virtual` method named `OnEventName`.</span></span> <span data-ttu-id="843ee-215">Las clases derivadas, a continuación, pueden llamar a este método para generar el evento o pueden invalidarla para ejecutar código inmediatamente antes o después de que se genera el evento.</span><span class="sxs-lookup"><span data-stu-id="843ee-215">Derived classes can then call this method to raise the event or can override it to execute code immediately before or after the event is raised.</span></span>

<span data-ttu-id="843ee-216">Actualización de su `BaseMasterPage` clase para que contenga el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-216">Update your `BaseMasterPage` class so that it contains the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample8.cs)]

<span data-ttu-id="843ee-217">A continuación, vaya a la `Site.master` código subyacente de clase y hacer que se derivan de `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="843ee-217">Next, go to the `Site.master` code-behind class and have it derive from `BaseMasterPage`.</span></span> <span data-ttu-id="843ee-218">Dado que `BaseMasterPage` es `abstract` tenemos que las reemplazan a `abstract` miembros aquí en `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-218">Because `BaseMasterPage` is `abstract` we need to override those `abstract` members here in `Site.master`.</span></span> <span data-ttu-id="843ee-219">Agregar el `override` palabra clave a las definiciones de método y propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-219">Add the `override` keyword to the method and property definitions.</span></span> <span data-ttu-id="843ee-220">Actualizar también el código que genera el `PricesDoubled` eventos en el `DoublePrice` del botón `Click` controlador de eventos con una llamada a la clase base `OnPricesDoubled` método.</span><span class="sxs-lookup"><span data-stu-id="843ee-220">Also update the code that raises the `PricesDoubled` event in the `DoublePrice` Button's `Click` event handler with a call to the base class's `OnPricesDoubled` method.</span></span>

<span data-ttu-id="843ee-221">Después de estas modificaciones la `Site.master` clase de código subyacente debe contener el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-221">After these modifications the `Site.master` code-behind class should contain the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample9.cs)]

<span data-ttu-id="843ee-222">También necesitamos actualizar `Alternate.master`de clase de código subyacente para derivar de `BaseMasterPage` e invalide los dos `abstract` miembros.</span><span class="sxs-lookup"><span data-stu-id="843ee-222">We also need to update `Alternate.master`'s code-behind class to derive from `BaseMasterPage` and override the two `abstract` members.</span></span> <span data-ttu-id="843ee-223">Sin embargo, dado `Alternate.master` no contiene un control GridView que se enumeran los productos más recientes ni una etiqueta que muestra un mensaje después de un producto nuevo se agrega a la base de datos, estos métodos no es necesario hacer nada.</span><span class="sxs-lookup"><span data-stu-id="843ee-223">But because `Alternate.master` does not contain a GridView that lists the most recent products nor a Label that displays a message after a new product is added to the database, these methods do not need to do anything.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample10.cs)]

### <a name="referencing-the-base-master-page-class"></a><span data-ttu-id="843ee-224">Hacer referencia a la clase de página maestra de Base</span><span class="sxs-lookup"><span data-stu-id="843ee-224">Referencing the Base Master Page Class</span></span>

<span data-ttu-id="843ee-225">Ahora que hemos completado la `BaseMasterPage` clase y tiene nuestros dos páginas maestras ampliándolo, el último paso consiste en actualizar el `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx` páginas para hacer referencia a este tipo común.</span><span class="sxs-lookup"><span data-stu-id="843ee-225">Now that we have completed the `BaseMasterPage` class and have our two master pages extending it, our final step is to update the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages to refer to this common type.</span></span> <span data-ttu-id="843ee-226">Empiece por cambiar la `@MasterType` la directiva en ambas páginas desde:</span><span class="sxs-lookup"><span data-stu-id="843ee-226">Start by changing the `@MasterType` directive in both pages from:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample11.aspx)]

<span data-ttu-id="843ee-227">A:</span><span class="sxs-lookup"><span data-stu-id="843ee-227">To:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample12.aspx)]

<span data-ttu-id="843ee-228">En lugar de hacer referencia a una ruta de acceso de archivo, el `@MasterType` propiedad ahora hace referencia el tipo base (`BaseMasterPage`).</span><span class="sxs-lookup"><span data-stu-id="843ee-228">Rather than referencing a file path, the `@MasterType` property now references the base type (`BaseMasterPage`).</span></span> <span data-ttu-id="843ee-229">Por lo tanto, fuertemente tipadas `Master` propiedad utilizada en las clases de código subyacente de las dos páginas ahora es de tipo `BaseMasterPage` (en lugar de tipo `Site`).</span><span class="sxs-lookup"><span data-stu-id="843ee-229">Consequently, the strongly-typed `Master` property used in both pages' code-behind classes is now of type `BaseMasterPage` (instead of type `Site`).</span></span> <span data-ttu-id="843ee-230">Con este cambio en lugar de volver a visitar `~/Admin/Products.aspx`.</span><span class="sxs-lookup"><span data-stu-id="843ee-230">With this change in place revisit `~/Admin/Products.aspx`.</span></span> <span data-ttu-id="843ee-231">Anteriormente, Esto resultó en un error de conversión porque la página está configurada para usar el `Alternate.master` página maestra, pero la `@MasterType` directiva hace referencia a la `Site.master` archivo.</span><span class="sxs-lookup"><span data-stu-id="843ee-231">Previously, this resulted in a casting error because the page is configured to use the `Alternate.master` master page, but the `@MasterType` directive referenced the `Site.master` file.</span></span> <span data-ttu-id="843ee-232">Pero ahora la página se representa sin errores.</span><span class="sxs-lookup"><span data-stu-id="843ee-232">But now the page renders without error.</span></span> <span data-ttu-id="843ee-233">Esto es porque el `Alternate.master` página maestra se puede convertir en un objeto de tipo `BaseMasterPage` (ya que extiende).</span><span class="sxs-lookup"><span data-stu-id="843ee-233">This is because the `Alternate.master` master page can be cast to an object of type `BaseMasterPage` (since it extends it).</span></span>

<span data-ttu-id="843ee-234">Hay un pequeño cambio que debe realizarse en `~/Admin/AddProduct.aspx`.</span><span class="sxs-lookup"><span data-stu-id="843ee-234">There's one small change that needs to be made in `~/Admin/AddProduct.aspx`.</span></span> <span data-ttu-id="843ee-235">El control DetailsView `ItemInserted` controlador de eventos usa ambos fuertemente tipadas `Master` propiedad y débilmente tipadas `Page.Master` propiedad.</span><span class="sxs-lookup"><span data-stu-id="843ee-235">The DetailsView control's `ItemInserted` event handler uses both the strongly-typed `Master` property and the loosely-typed `Page.Master` property.</span></span> <span data-ttu-id="843ee-236">Se ha corregido la referencia fuertemente tipada cuando se actualiza el `@MasterType` directiva, pero aun así deberá actualizar la referencia fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="843ee-236">We fixed the strongly-typed reference when we updated the `@MasterType` directive, but we still need to update the loosely-typed reference.</span></span> <span data-ttu-id="843ee-237">Reemplace la línea de código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-237">Replace the following line of code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample13.cs)]

<span data-ttu-id="843ee-238">Por lo siguiente, que convierte `Page.Master` al tipo base:</span><span class="sxs-lookup"><span data-stu-id="843ee-238">With the following, which casts `Page.Master` to the base type:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample14.cs)]

## <a name="step-4-determining-what-master-page-to-bind-to-the-content-pages"></a><span data-ttu-id="843ee-239">Paso 4: Determinar qué página maestra para enlazar a las páginas de contenido</span><span class="sxs-lookup"><span data-stu-id="843ee-239">Step 4: Determining What Master Page to Bind to the Content Pages</span></span>

<span data-ttu-id="843ee-240">Nuestro `BasePage` clase actualmente establece todas las páginas de contenido `MasterPageFile` propiedades en un valor codificado de forma rígida en la fase de PreInit del ciclo de vida de página.</span><span class="sxs-lookup"><span data-stu-id="843ee-240">Our `BasePage` class currently sets all content pages' `MasterPageFile` properties to a hard-coded value in the PreInit stage of the page lifecycle.</span></span> <span data-ttu-id="843ee-241">Podemos actualizar este código para basar la página maestra en algún factor externo.</span><span class="sxs-lookup"><span data-stu-id="843ee-241">We can update this code to base the master page on some external factor.</span></span> <span data-ttu-id="843ee-242">Quizás la página principal para cargar depende de las preferencias del usuario que ha iniciado sesión actualmente.</span><span class="sxs-lookup"><span data-stu-id="843ee-242">Perhaps the master page to load depends on the preferences of the currently logged on user.</span></span> <span data-ttu-id="843ee-243">En ese caso, se tendría que escribir código el `OnPreInit` método `BasePage` que busca las preferencias de página principal del usuario está visitando.</span><span class="sxs-lookup"><span data-stu-id="843ee-243">In that case, we'd need to write code in the `OnPreInit` method in `BasePage` that looks up the currently visiting user's master page preferences.</span></span>

<span data-ttu-id="843ee-244">Vamos a crear una página web que permite al usuario elegir qué página maestra que se usará - `Site.master` o `Alternate.master` - y guarde esta opción en una variable de sesión.</span><span class="sxs-lookup"><span data-stu-id="843ee-244">Let's create a web page that allows the user to choose which master page to use - `Site.master` or `Alternate.master` - and save this choice in a Session variable.</span></span> <span data-ttu-id="843ee-245">Empiece por crear una nueva página web en el directorio raíz denominado `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="843ee-245">Start by creating a new web page in the root directory named `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="843ee-246">Al crear esta página (o cualquier otras contenidas páginas aquí en adelante) no es necesario enlazar a una página maestra porque la página principal se establece mediante programación en `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="843ee-246">When creating this page (or any other content pages henceforth) you don't need to bind it to a master page because the master page is set programmatically in `BasePage`.</span></span> <span data-ttu-id="843ee-247">Sin embargo, si no se enlaza la nueva página a una página maestra, a continuación, marcado declarativo de la página nueva de forma predeterminada contiene un formulario Web Forms y otro contenido proporcionado por la página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-247">However, if you do not bind the new page to a master page then the new page's default declarative markup contains a Web Form and other content supplied by the master page.</span></span> <span data-ttu-id="843ee-248">Deberá reemplazar manualmente este marcado con los controles de contenido adecuados.</span><span class="sxs-lookup"><span data-stu-id="843ee-248">You'll need to manually replace this markup with the appropriate Content controls.</span></span> <span data-ttu-id="843ee-249">Por ese motivo, le resulte más fácil enlazar la nueva página ASP.NET a una página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-249">For that reason, I find it easier to bind the new ASP.NET page to a master page.</span></span>

> [!NOTE]
> <span data-ttu-id="843ee-250">Dado que `Site.master` y `Alternate.master` tener el mismo conjunto de controles ContentPlaceHolder no importa qué página maestra que elige al crear la nueva página de contenido.</span><span class="sxs-lookup"><span data-stu-id="843ee-250">Because `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls it doesn't matter what master page you choose when creating the new content page.</span></span> <span data-ttu-id="843ee-251">Para mantener la coherencia, sugiero usar `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-251">For consistency, I'd suggest using `Site.master`.</span></span>


<span data-ttu-id="843ee-252">[![Agregue una nueva página de contenido al sitio Web](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-252">[![Add a New Content Page to the Website](specifying-the-master-page-programmatically-cs/_static/image14.png)](specifying-the-master-page-programmatically-cs/_static/image13.png)</span></span>

<span data-ttu-id="843ee-253">**Figura 05**: Agregue una nueva página de contenido al sitio Web ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-253">**Figure 05**: Add a New Content Page to the Website ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image15.png))</span></span>


<span data-ttu-id="843ee-254">Actualización de la `Web.sitemap` archivo para incluir una entrada en esta lección.</span><span class="sxs-lookup"><span data-stu-id="843ee-254">Update the `Web.sitemap` file to include an entry for this lesson.</span></span> <span data-ttu-id="843ee-255">Agregue el siguiente marcado debajo de la `<siteMapNode>` de la lección páginas maestras y ASP.NET AJAX:</span><span class="sxs-lookup"><span data-stu-id="843ee-255">Add the following markup beneath the `<siteMapNode>` for the Master Pages and ASP.NET AJAX lesson:</span></span>


[!code-xml[Main](specifying-the-master-page-programmatically-cs/samples/sample15.xml)]

<span data-ttu-id="843ee-256">Antes de agregar contenido a la `ChooseMasterPage.aspx` página dedique unos minutos a actualizar la clase de código subyacente de la página para que se derive de `BasePage` (en lugar de `System.Web.UI.Page`).</span><span class="sxs-lookup"><span data-stu-id="843ee-256">Before adding any content to the `ChooseMasterPage.aspx` page take a moment to update the page's code-behind class so that it derives from `BasePage` (rather than `System.Web.UI.Page`).</span></span> <span data-ttu-id="843ee-257">A continuación, agregue un control DropDownList para la página, establezca su `ID` propiedad `MasterPageChoice`, y agregue dos ListItems con el `Text` valores de "~ / Site.master" y "~ / Alternate.master".</span><span class="sxs-lookup"><span data-stu-id="843ee-257">Next, add a DropDownList control to the page, set its `ID` property to `MasterPageChoice`, and add two ListItems with the `Text` values of "~/Site.master" and "~/Alternate.master".</span></span>

<span data-ttu-id="843ee-258">Agregue un control Button Web a la página y establezca su `ID` y `Text` propiedades a `SaveLayout` y "Guardar alternativas de diseño", respectivamente.</span><span class="sxs-lookup"><span data-stu-id="843ee-258">Add a Button Web control to the page and set its `ID` and `Text` properties to `SaveLayout` and "Save Layout Choice", respectively.</span></span> <span data-ttu-id="843ee-259">En este punto marcado declarativo de la página debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-259">At this point your page's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](specifying-the-master-page-programmatically-cs/samples/sample16.aspx)]

<span data-ttu-id="843ee-260">Cuando primero se visita la página, es necesario mostrar la elección del usuario actualmente seleccionado de página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-260">When the page is first visited we need to display the user's currently selected master page choice.</span></span> <span data-ttu-id="843ee-261">Crear un `Page_Load` controlador de eventos y agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-261">Create a `Page_Load` event handler and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample17.cs)]

<span data-ttu-id="843ee-262">El código anterior se ejecuta solo en la primera visita de página (y no en los postbacks subsiguientes).</span><span class="sxs-lookup"><span data-stu-id="843ee-262">The above code executes only on the first page visit (and not on subsequent postbacks).</span></span> <span data-ttu-id="843ee-263">En primer lugar comprueba si la variable de sesión `MyMasterPage` existe.</span><span class="sxs-lookup"><span data-stu-id="843ee-263">It first checks to see if the Session variable `MyMasterPage` exists.</span></span> <span data-ttu-id="843ee-264">Si es así, intenta buscar la coincidencia ListItem en el `MasterPageChoice` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="843ee-264">If it does, it attempts to find the matching ListItem in the `MasterPageChoice` DropDownList.</span></span> <span data-ttu-id="843ee-265">Si se encuentra un coincidencia ListItem, su `Selected` propiedad está establecida en `true`.</span><span class="sxs-lookup"><span data-stu-id="843ee-265">If a matching ListItem is found, its `Selected` property is set to `true`.</span></span>

<span data-ttu-id="843ee-266">También necesitamos código que guarda la elección del usuario en el `MyMasterPage` variable de sesión.</span><span class="sxs-lookup"><span data-stu-id="843ee-266">We also need code that saves the user's choice into the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="843ee-267">Crear un controlador de eventos para el `SaveLayout` del botón `Click` eventos y agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="843ee-267">Create an event handler for the `SaveLayout` Button's `Click` event and add the following code:</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample18.cs)]

> [!NOTE]
> <span data-ttu-id="843ee-268">En el momento en el `Click` controlador de eventos que se ejecuta en el postback, ya se ha seleccionado la página maestra.</span><span class="sxs-lookup"><span data-stu-id="843ee-268">By the time the `Click` event handler executes on postback, the master page has already been selected.</span></span> <span data-ttu-id="843ee-269">Por lo tanto, la selección del usuario lista desplegable no entrarán en vigor hasta que se visite la página siguiente.</span><span class="sxs-lookup"><span data-stu-id="843ee-269">Therefore, the user's drop-down list selection won't be in effect until the next page visit.</span></span> <span data-ttu-id="843ee-270">El `Response.Redirect` obliga al explorador para volver a solicitar `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="843ee-270">The `Response.Redirect` forces the browser to re-request `ChooseMasterPage.aspx`.</span></span>


<span data-ttu-id="843ee-271">Con el `ChooseMasterPage.aspx` página completa, nuestra última tarea consiste en tener `BasePage` asignar el `MasterPageFile` en función del valor de propiedad el `MyMasterPage` variable de sesión.</span><span class="sxs-lookup"><span data-stu-id="843ee-271">With the `ChooseMasterPage.aspx` page complete, our final task is to have `BasePage` assign the `MasterPageFile` property based on the value of the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="843ee-272">Si no se establece la variable de sesión tienen `BasePage` de forma predeterminada `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="843ee-272">If the Session variable is not set have `BasePage` default to `Site.master`.</span></span>


[!code-csharp[Main](specifying-the-master-page-programmatically-cs/samples/sample19.cs)]

> [!NOTE]
> <span data-ttu-id="843ee-273">He movido el código que asigna el `Page` del objeto `MasterPageFile` propiedad fuera de la `OnPreInit` controlador de eventos y en dos métodos independientes.</span><span class="sxs-lookup"><span data-stu-id="843ee-273">I moved the code that assigns the `Page` object's `MasterPageFile` property out of the `OnPreInit` event handler and into two separate methods.</span></span> <span data-ttu-id="843ee-274">Este primer método, `SetMasterPageFile`, asigna la `MasterPageFile` propiedad en el valor devuelto por el segundo método, `GetMasterPageFileFromSession`.</span><span class="sxs-lookup"><span data-stu-id="843ee-274">This first method, `SetMasterPageFile`, assigns the `MasterPageFile` property to the value returned by the second method, `GetMasterPageFileFromSession`.</span></span> <span data-ttu-id="843ee-275">He realizado la `SetMasterPageFile` método `virtual` para que futuras clases que extienden `BasePage` opcionalmente, puede invalidar para implementar la lógica personalizada, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="843ee-275">I made the `SetMasterPageFile` method `virtual` so that future classes that extend `BasePage` can optionally override it to implement custom logic, if needed.</span></span> <span data-ttu-id="843ee-276">Vamos a ver un ejemplo de invalidación `BasePage`del `SetMasterPageFile` propiedad en el siguiente tutorial.</span><span class="sxs-lookup"><span data-stu-id="843ee-276">We'll see an example of overriding `BasePage`'s `SetMasterPageFile` property in the next tutorial.</span></span>


<span data-ttu-id="843ee-277">Con este código en su lugar, visite la `ChooseMasterPage.aspx` página.</span><span class="sxs-lookup"><span data-stu-id="843ee-277">With this code in place, visit the `ChooseMasterPage.aspx` page.</span></span> <span data-ttu-id="843ee-278">Inicialmente, el `Site.master` página maestra está seleccionado (vea la figura 6), pero el usuario puede seleccionar una página maestra diferente en la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="843ee-278">Initially, the `Site.master` master page is selected (see Figure 6), but the user can pick a different master page from the drop-down list.</span></span>


<span data-ttu-id="843ee-279">[![Se muestran las páginas de contenido mediante la página maestra Site.master](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-279">[![Content Pages are Displayed Using the Site.master Master Page](specifying-the-master-page-programmatically-cs/_static/image17.png)](specifying-the-master-page-programmatically-cs/_static/image16.png)</span></span>

<span data-ttu-id="843ee-280">**Figura 06**: Contenido de las páginas son muestra utilizando el `Site.master` página maestra ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-280">**Figure 06**: Content Pages are Displayed Using the `Site.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image18.png))</span></span>


<span data-ttu-id="843ee-281">[![Ahora se muestran las páginas de contenido mediante la página maestra Alternate.master](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="843ee-281">[![Content Pages are Now Displayed Using the Alternate.master Master Page](specifying-the-master-page-programmatically-cs/_static/image20.png)](specifying-the-master-page-programmatically-cs/_static/image19.png)</span></span>

<span data-ttu-id="843ee-282">**Figura 07**: Contenido de las páginas son ahora se muestran con el `Alternate.master` página maestra ([haga clic aquí para ver imagen en tamaño completo](specifying-the-master-page-programmatically-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="843ee-282">**Figure 07**: Content Pages are Now Displayed Using the `Alternate.master` Master Page ([Click to view full-size image](specifying-the-master-page-programmatically-cs/_static/image21.png))</span></span>


## <a name="summary"></a><span data-ttu-id="843ee-283">Resumen</span><span class="sxs-lookup"><span data-stu-id="843ee-283">Summary</span></span>

<span data-ttu-id="843ee-284">Cuando se visita una página de contenido, sus controles de contenido se fusionan con los controles ContentPlaceHolder de su página principal.</span><span class="sxs-lookup"><span data-stu-id="843ee-284">When a content page is visited, its Content controls are fused with its master page's ContentPlaceHolder controls.</span></span> <span data-ttu-id="843ee-285">Página principal de la página de contenido se indica mediante el `Page` la clase `MasterPageFile` propiedad, que se asigna a la `@Page` la directiva `MasterPageFile` atributo durante la fase de inicialización.</span><span class="sxs-lookup"><span data-stu-id="843ee-285">The content page's master page is denoted by the `Page` class's `MasterPageFile` property, which is assigned to the `@Page` directive's `MasterPageFile` attribute during the Initialization stage.</span></span> <span data-ttu-id="843ee-286">Como este tutorial se ha mostrado, podemos asignamos un valor para el `MasterPageFile` propiedad siempre que hacerlo antes del final de la fase de PreInit.</span><span class="sxs-lookup"><span data-stu-id="843ee-286">As this tutorial showed, we can assign a value to the `MasterPageFile` property as long as we do so before the end of the PreInit stage.</span></span> <span data-ttu-id="843ee-287">Posibilidad de especificar mediante programación la página maestra, abre la puerta para escenarios más avanzados, como enlazar dinámicamente una página de contenido a una página maestra en función de factores externos.</span><span class="sxs-lookup"><span data-stu-id="843ee-287">Being able to programmatically specify the master page opens the door for more advanced scenarios, such as dynamically binding a content page to a master page based on external factors.</span></span>

<span data-ttu-id="843ee-288">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="843ee-288">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="843ee-289">Información adicional</span><span class="sxs-lookup"><span data-stu-id="843ee-289">Further Reading</span></span>

<span data-ttu-id="843ee-290">Para obtener más información sobre los temas tratados en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="843ee-290">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="843ee-291">Diagrama de ciclo de vida de la página ASP.NET</span><span class="sxs-lookup"><span data-stu-id="843ee-291">ASP.NET Page Lifecycle Diagram</span></span>](http://emanish.googlepages.com/Asp.Net2.0Lifecycle.PNG)
- [<span data-ttu-id="843ee-292">Información general sobre el ciclo de vida de página ASP.NET</span><span class="sxs-lookup"><span data-stu-id="843ee-292">ASP.NET Page Lifecycle Overview</span></span>](https://msdn.microsoft.com/library/ms178472.aspx)
- [<span data-ttu-id="843ee-293">Información general de máscaras y temas de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="843ee-293">ASP.NET Themes and Skins Overview</span></span>](https://msdn.microsoft.com/library/ykzx33wh.aspx)
- [<span data-ttu-id="843ee-294">Páginas maestras: Sugerencias, trucos y capturas</span><span class="sxs-lookup"><span data-stu-id="843ee-294">Master Pages: Tips, Tricks, and Traps</span></span>](http://www.odetocode.com/articles/450.aspx)
- [<span data-ttu-id="843ee-295">Temas en ASP.NET</span><span class="sxs-lookup"><span data-stu-id="843ee-295">Themes in ASP.NET</span></span>](http://www.odetocode.com/articles/423.aspx)

### <a name="about-the-author"></a><span data-ttu-id="843ee-296">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="843ee-296">About the Author</span></span>

<span data-ttu-id="843ee-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de varios libros sobre ASP/ASP.NET y fundador de 4GuysFromRolla.com, ha estado trabajando con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="843ee-297">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="843ee-298">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="843ee-298">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="843ee-299">Su último libro es [ *Sams Teach usted mismo ASP.NET 3.5 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="843ee-299">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="843ee-300">Puede ponerse en contacto Scott [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) o a través de su blog en [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="843ee-300">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="843ee-301">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="843ee-301">Special Thanks To</span></span>

<span data-ttu-id="843ee-302">Esta serie de tutoriales ha sido revisada por muchos revisores útiles.</span><span class="sxs-lookup"><span data-stu-id="843ee-302">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="843ee-303">Revisor de clientes potencial para este tutorial era Suchi Banerjee.</span><span class="sxs-lookup"><span data-stu-id="843ee-303">Lead reviewer for this tutorial was Suchi Banerjee.</span></span> <span data-ttu-id="843ee-304">¿Está interesado en leer mi próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="843ee-304">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="843ee-305">Si es así, envíeme una línea en [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="843ee-305">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="843ee-306">[Anterior](master-pages-and-asp-net-ajax-cs.md)
> [Siguiente](nested-master-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="843ee-306">[Previous](master-pages-and-asp-net-ajax-cs.md)
[Next](nested-master-pages-cs.md)</span></span>

---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
title: 'Introducción a las páginas Web ASP.NET: introducción de datos de base de datos mediante el uso de formularios | Microsoft Docs'
author: Rick-Anderson
description: Este tutorial muestra cómo crear un formulario de entrada y, a continuación, escriba los datos que se obtiene desde el formulario en una tabla de base de datos al usar ASP.NET Web Pages (...)
ms.author: riande
ms.date: 05/28/2015
ms.assetid: d37c93fc-25fd-4e94-8671-0d437beef206
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
msc.type: authoredcontent
ms.openlocfilehash: e40d2962ccac56eaaf4812819aa42168e69295bc
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57029802"
---
<a name="introducing-aspnet-web-pages---entering-database-data-by-using-forms"></a><span data-ttu-id="28c41-103">Introducción a las páginas Web ASP.NET: introducción de datos de base de datos mediante el uso de formularios</span><span class="sxs-lookup"><span data-stu-id="28c41-103">Introducing ASP.NET Web Pages - Entering Database Data by Using Forms</span></span>
====================
<span data-ttu-id="28c41-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="28c41-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="28c41-105">Este tutorial muestra cómo crear un formulario de entrada y, a continuación, escriba los datos que se obtiene desde el formulario en una tabla de base de datos al usar ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="28c41-105">This tutorial shows you how to create an entry form and then enter the data that you get from the form into a database table when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="28c41-106">Supone que ha completado la serie a través de [conceptos básicos de los formularios HTML en ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581).</span><span class="sxs-lookup"><span data-stu-id="28c41-106">It assumes you have completed the series through [Basics of HTML Forms in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581).</span></span>
> 
> <span data-ttu-id="28c41-107">Lo que aprenderá:</span><span class="sxs-lookup"><span data-stu-id="28c41-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="28c41-108">Más información acerca de cómo procesar los formularios de entrada.</span><span class="sxs-lookup"><span data-stu-id="28c41-108">More about how to process entry forms.</span></span>
> - <span data-ttu-id="28c41-109">Cómo agregar datos (insert) en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-109">How to add (insert) data in a database.</span></span>
> - <span data-ttu-id="28c41-110">Cómo asegurarse de que los usuarios han escrito un valor requerido en un formulario (cómo validar entradas de usuario).</span><span class="sxs-lookup"><span data-stu-id="28c41-110">How to make sure that users have entered a required value in a form (how to validate user input).</span></span>
> - <span data-ttu-id="28c41-111">Cómo mostrar errores de validación.</span><span class="sxs-lookup"><span data-stu-id="28c41-111">How to display validation errors.</span></span>
> - <span data-ttu-id="28c41-112">Cómo saltar a otra página de la página actual.</span><span class="sxs-lookup"><span data-stu-id="28c41-112">How to jump to another page from the current page.</span></span>
>   
> 
> <span data-ttu-id="28c41-113">Características y tecnologías tratadas:</span><span class="sxs-lookup"><span data-stu-id="28c41-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="28c41-114">El método `Database.Execute` .</span><span class="sxs-lookup"><span data-stu-id="28c41-114">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="28c41-115">El código SQL `Insert Into` instrucción</span><span class="sxs-lookup"><span data-stu-id="28c41-115">The SQL `Insert Into` statement</span></span>
> - <span data-ttu-id="28c41-116">El `Validation` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="28c41-116">The `Validation` helper.</span></span>
> - <span data-ttu-id="28c41-117">El método `Response.Redirect` .</span><span class="sxs-lookup"><span data-stu-id="28c41-117">The `Response.Redirect` method.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="28c41-118">¿Qué va a crear</span><span class="sxs-lookup"><span data-stu-id="28c41-118">What You'll Build</span></span>

<span data-ttu-id="28c41-119">En el tutorial anterior que mostraba cómo crear una base de datos, escribió la base de datos mediante la edición de la base de datos directamente en WebMatrix, trabajar el **base de datos** área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="28c41-119">In the tutorial earlier that showed you how to create a database, you entered database data by editing the database directly in WebMatrix, working in the **Database** workspace.</span></span> <span data-ttu-id="28c41-120">En la mayoría de las aplicaciones que no es una forma práctica para colocar datos en la base de datos, sin embargo.</span><span class="sxs-lookup"><span data-stu-id="28c41-120">In most apps, that's not a practical way to put data into the database, though.</span></span> <span data-ttu-id="28c41-121">Por lo que en este tutorial, creará una interfaz basada en web que permite a usted o alguien escribir datos y guardarlo en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-121">So in this tutorial, you'll create a web-based interface that lets you or anyone enter data and save it to the database.</span></span>

<span data-ttu-id="28c41-122">Creará una página donde puede especificar nuevas películas.</span><span class="sxs-lookup"><span data-stu-id="28c41-122">You'll create a page where you can enter new movies.</span></span> <span data-ttu-id="28c41-123">La página contendrá un formulario de entrada que tiene campos (cuadros de texto), donde puede escribir un título de la película, el género y año.</span><span class="sxs-lookup"><span data-stu-id="28c41-123">The page will contain an entry form that has fields (text boxes) where you can enter a movie title, genre, and year.</span></span> <span data-ttu-id="28c41-124">La página se parecerá a esta página:</span><span class="sxs-lookup"><span data-stu-id="28c41-124">The page will look like this page:</span></span>

![Página "Agregar la película" en el explorador](entering-data/_static/image1.png)

<span data-ttu-id="28c41-126">Los cuadros de texto será HTML `<input>` elementos que tendrá un aspecto como este marcado:</span><span class="sxs-lookup"><span data-stu-id="28c41-126">The text boxes will be HTML `<input>` elements that will look like this markup:</span></span>

`<input type="text" name="genre" value="" />`

## <a name="creating-the-basic-entry-form"></a><span data-ttu-id="28c41-127">Crear el formulario de entrada básico</span><span class="sxs-lookup"><span data-stu-id="28c41-127">Creating the Basic Entry Form</span></span>

<span data-ttu-id="28c41-128">Cree una página denominada *AddMovie.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="28c41-128">Create a page named *AddMovie.cshtml*.</span></span>

<span data-ttu-id="28c41-129">Reemplazar lo que está en el archivo con el marcado siguiente.</span><span class="sxs-lookup"><span data-stu-id="28c41-129">Replace what's in the file with the following markup.</span></span> <span data-ttu-id="28c41-130">Sobrescribir todo... en breve agregará un bloque de código en la parte superior.</span><span class="sxs-lookup"><span data-stu-id="28c41-130">Overwrite everything; you'll add a code block at the top shortly.</span></span>

[!code-cshtml[Main](entering-data/samples/sample1.cshtml)]

<span data-ttu-id="28c41-131">Este ejemplo muestra para la creación de un formulario HTML típico.</span><span class="sxs-lookup"><span data-stu-id="28c41-131">This example shows typical HTML for creating a form.</span></span> <span data-ttu-id="28c41-132">Lo usa `<input>` elementos para los cuadros de texto y para el botón Enviar.</span><span class="sxs-lookup"><span data-stu-id="28c41-132">It uses `<input>` elements for the text boxes and for the submit button.</span></span> <span data-ttu-id="28c41-133">Los títulos de los cuadros de texto se crean mediante el estándar `<label>` elementos.</span><span class="sxs-lookup"><span data-stu-id="28c41-133">The captions for the text boxes are created by using standard `<label>` elements.</span></span> <span data-ttu-id="28c41-134">El `<fieldset>` y `<legend>` elementos situar un agradable cuadro alrededor del formulario.</span><span class="sxs-lookup"><span data-stu-id="28c41-134">The `<fieldset>` and `<legend>` elements put a nice box around the form.</span></span>

<span data-ttu-id="28c41-135">Tenga en cuenta que en esta página, el `<form>` elemento utiliza `post` como el valor de la `method` atributo.</span><span class="sxs-lookup"><span data-stu-id="28c41-135">Notice that in this page, the `<form>` element uses `post` as the value for the `method` attribute.</span></span> <span data-ttu-id="28c41-136">En el tutorial anterior, creó un formulario que utiliza el `get` método.</span><span class="sxs-lookup"><span data-stu-id="28c41-136">In the previous tutorial, you created a form that used the `get` method.</span></span> <span data-ttu-id="28c41-137">Que fue correcta, porque aunque el formulario envía al servidor los valores, la solicitud no realizó ningún cambio.</span><span class="sxs-lookup"><span data-stu-id="28c41-137">That was correct, because although the form submitted values to the server, the request did not make any changes.</span></span> <span data-ttu-id="28c41-138">Todo lo que hice fue recuperar datos de maneras diferentes.</span><span class="sxs-lookup"><span data-stu-id="28c41-138">All it did was fetch data in different ways.</span></span> <span data-ttu-id="28c41-139">Sin embargo, en esta página le *le* realizar cambios, va a agregar nuevos registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-139">However, in this page you *will* make changes—you're going to add new database records.</span></span> <span data-ttu-id="28c41-140">Por lo tanto, debe usar este formulario el `post` método.</span><span class="sxs-lookup"><span data-stu-id="28c41-140">Therefore, this form should use the `post` method.</span></span> <span data-ttu-id="28c41-141">(Para obtener más información sobre la diferencia entre `GET` y `POST` operaciones, vea el[GET, POST y HTTP verbo seguridad](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) sidebar en el tutorial anterior.)</span><span class="sxs-lookup"><span data-stu-id="28c41-141">(For more about the difference between `GET` and `POST` operations, see the[GET, POST, and HTTP Verb Safety](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the previous tutorial.)</span></span>

<span data-ttu-id="28c41-142">Tenga en cuenta que cada cuadro de texto tiene un `name` elemento (`title`, `genre`, `year`).</span><span class="sxs-lookup"><span data-stu-id="28c41-142">Note that each text box has a `name` element (`title`, `genre`, `year`).</span></span> <span data-ttu-id="28c41-143">Como vimos en el tutorial anterior, estos nombres son importantes porque esos nombres debe tener por lo que puede obtener la entrada del usuario más tarde.</span><span class="sxs-lookup"><span data-stu-id="28c41-143">As you saw in the previous tutorial, these names are important because you must have those names so you can get the user's input later.</span></span> <span data-ttu-id="28c41-144">Puede utilizar cualquier nombre.</span><span class="sxs-lookup"><span data-stu-id="28c41-144">You can use any names.</span></span> <span data-ttu-id="28c41-145">Resulta útil usar nombres descriptivos que le ayudarán a recordar qué datos se trabaja con.</span><span class="sxs-lookup"><span data-stu-id="28c41-145">It's helpful to use meaningful names that help you remember what data you're working with.</span></span>

<span data-ttu-id="28c41-146">El `value` atributo de cada `<input>` elemento contiene un fragmento de código de Razor (por ejemplo, `Request.Form["title"]`).</span><span class="sxs-lookup"><span data-stu-id="28c41-146">The `value` attribute of each `<input>` element contains a bit of Razor code (for example, `Request.Form["title"]`).</span></span> <span data-ttu-id="28c41-147">Una versión de este truco ha aprendido en el tutorial anterior para conservar el valor especificado en el cuadro de texto (si existe) después de enviar el formulario.</span><span class="sxs-lookup"><span data-stu-id="28c41-147">You learned a version of this trick in the previous tutorial to preserve the value entered into the text box (if any) after the form has been submitted.</span></span>

## <a name="getting-the-form-values"></a><span data-ttu-id="28c41-148">Obtener los valores de formulario</span><span class="sxs-lookup"><span data-stu-id="28c41-148">Getting the Form Values</span></span>

<span data-ttu-id="28c41-149">A continuación, agregue código que procesa el formulario.</span><span class="sxs-lookup"><span data-stu-id="28c41-149">Next, you add code that processes the form.</span></span> <span data-ttu-id="28c41-150">En el esquema, deberá hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-150">In outline, you'll do the following:</span></span>

1. <span data-ttu-id="28c41-151">Compruebe si se está publicando la página (se ha enviado).</span><span class="sxs-lookup"><span data-stu-id="28c41-151">Check whether the page is being posted (was submitted).</span></span> <span data-ttu-id="28c41-152">Desea el código para ejecutarse únicamente cuando los usuarios hacen clic en el botón, no cuando la página se ejecuta por primera vez.</span><span class="sxs-lookup"><span data-stu-id="28c41-152">You want to your code to run only when users have clicked the button, not when the page first runs.</span></span>
2. <span data-ttu-id="28c41-153">Obtener los valores que el usuario especificado en los cuadros de texto.</span><span class="sxs-lookup"><span data-stu-id="28c41-153">Get the values that the user entered into the text boxes.</span></span> <span data-ttu-id="28c41-154">En este caso, porque el formulario usa el `POST` verbo, obtendrá los valores de formulario de la `Request.Form` colección.</span><span class="sxs-lookup"><span data-stu-id="28c41-154">In this case, because the form is using the `POST` verb, you get the form values from the `Request.Form` collection.</span></span>
3. <span data-ttu-id="28c41-155">Inserte los valores como un nuevo registro en el *películas* tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-155">Insert the values as a new record in the *Movies* database table.</span></span>

<span data-ttu-id="28c41-156">En la parte superior del archivo, agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-156">At the top of the file, add the following code:</span></span>

[!code-cshtml[Main](entering-data/samples/sample2.cshtml)]

<span data-ttu-id="28c41-157">Las primeras líneas crean variables (`title`, `genre`, y `year`) para contener los valores de los cuadros de texto.</span><span class="sxs-lookup"><span data-stu-id="28c41-157">The first few lines create variables (`title`, `genre`, and `year`) to hold the values from the text boxes.</span></span> <span data-ttu-id="28c41-158">La línea `if(IsPost)` asegura que las variables se establecen *solo* cuando los usuarios hacen clic los **película agregar** botón, es decir, cuando se ha registrado el formulario.</span><span class="sxs-lookup"><span data-stu-id="28c41-158">The line `if(IsPost)` makes sure that the variables are set *only* when users click the **Add Movie** button — that is, when the form has been posted.</span></span>

<span data-ttu-id="28c41-159">Como se vio en un tutorial anterior, obtener el valor de un cuadro de texto mediante el uso de una expresión como `Request.Form["name"]`, donde *nombre* es el nombre de la `<input>` elemento.</span><span class="sxs-lookup"><span data-stu-id="28c41-159">As you saw in an earlier tutorial, you get the value of a text box by using an expression like `Request.Form["name"]`, where *name* is the name of the `<input>` element.</span></span>

<span data-ttu-id="28c41-160">Los nombres de las variables (`title`, `genre`, y `year`) son arbitrarios.</span><span class="sxs-lookup"><span data-stu-id="28c41-160">The names of the variables (`title`, `genre`, and `year`) are arbitrary.</span></span> <span data-ttu-id="28c41-161">Al igual que los nombres que se asignan a `<input>` elementos, puede llamar a los que desee.</span><span class="sxs-lookup"><span data-stu-id="28c41-161">Like the names that you assign to `<input>` elements, you can call them anything you like.</span></span> <span data-ttu-id="28c41-162">(Los nombres de las variables no tienen que coincidir con los atributos de nombre de `<input>` elementos en el formulario.) Pero al igual que con el `<input>` elementos, es una buena idea usar nombres de variable que reflejen los datos que contienen.</span><span class="sxs-lookup"><span data-stu-id="28c41-162">(The names of the variables don't have to match the name attributes of `<input>` elements on the form.) But as with the `<input>` elements, it's a good idea to use variable names that reflect the data that they contain.</span></span> <span data-ttu-id="28c41-163">Cuando escribe código, con nombres coherentes resultará más fácil recordar los datos que está trabajando con.</span><span class="sxs-lookup"><span data-stu-id="28c41-163">When you write code, consistent names make it easier for you to remember what data you're working with.</span></span>

## <a name="adding-data-to-the-database"></a><span data-ttu-id="28c41-164">Agregar datos a la base de datos</span><span class="sxs-lookup"><span data-stu-id="28c41-164">Adding Data to the Database</span></span>

<span data-ttu-id="28c41-165">En el código de bloque que recién agregada, simplemente *dentro de* la llave de cierre ( `}` ) de la `if` bloque (no solo dentro del bloque de código), agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-165">In the code block you just added, just *inside* the closing brace ( `}` ) of the `if` block (not just inside the code block), add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample3.cs)]

<span data-ttu-id="28c41-166">En este ejemplo es similar al código que usó en un tutorial anterior a la captura y la presentación de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-166">This example is similar to the code you used in a previous tutorial to fetch and display data.</span></span> <span data-ttu-id="28c41-167">La línea que empieza con `db =` se abre la base de datos, como antes y la línea siguiente define nuevo de una instrucción SQL, como hemos visto antes.</span><span class="sxs-lookup"><span data-stu-id="28c41-167">The line that starts with `db =` opens the database, like before, and the next line defines a SQL statement, again as you saw before.</span></span> <span data-ttu-id="28c41-168">Sin embargo, esta vez define una instancia de SQL `Insert Into` instrucción.</span><span class="sxs-lookup"><span data-stu-id="28c41-168">However, this time it defines a SQL `Insert Into` statement.</span></span> <span data-ttu-id="28c41-169">El ejemplo siguiente muestra la sintaxis general de la `Insert Into` instrucción:</span><span class="sxs-lookup"><span data-stu-id="28c41-169">The following example shows the general syntax of the `Insert Into` statement:</span></span>

`INSERT INTO table (column1, column2, column3, ...) VALUES (value1, value2, value3, ...)`

<span data-ttu-id="28c41-170">En otras palabras, especifique la tabla para insertar, a continuación, incluya las columnas que se va a insertar en y, a continuación, se enumeran los valores que se va a insertar.</span><span class="sxs-lookup"><span data-stu-id="28c41-170">In other words, you specify the table to insert into, then list the columns to insert into, and then list the values to insert.</span></span> <span data-ttu-id="28c41-171">(Como se indicó antes, SQL no distingue mayúsculas de minúsculas, pero algunas personas aprovechar las palabras clave para que sea más fácil de leer el comando).</span><span class="sxs-lookup"><span data-stu-id="28c41-171">(As noted before, SQL is not case sensitive but some people capitalize the keywords to make it easier to read the command.)</span></span>

<span data-ttu-id="28c41-172">Las columnas que se están insertando ya aparecen en el comando: `(Title, Genre, Year)`.</span><span class="sxs-lookup"><span data-stu-id="28c41-172">The columns that you're inserting into are already listed in the command — `(Title, Genre, Year)`.</span></span> <span data-ttu-id="28c41-173">La parte interesante es cómo obtener los valores de los cuadros de texto en el `VALUES` parte del comando.</span><span class="sxs-lookup"><span data-stu-id="28c41-173">The interesting part is how you get the values from the text boxes into the `VALUES` part of the command.</span></span> <span data-ttu-id="28c41-174">En lugar de los valores reales, verá `@0`, `@1`, y `@2`, que por supuesto son marcadores de posición.</span><span class="sxs-lookup"><span data-stu-id="28c41-174">Instead of actual values, you see `@0`, `@1`, and `@2`, which are of course placeholders.</span></span> <span data-ttu-id="28c41-175">Al ejecutar el comando (en la `db.Execute` línea), pasar los valores que obtuvo en los cuadros de texto.</span><span class="sxs-lookup"><span data-stu-id="28c41-175">When you run the command (on the `db.Execute` line), you pass the values that you got from the text boxes.</span></span>

<span data-ttu-id="28c41-176">**¡Importante!**</span><span class="sxs-lookup"><span data-stu-id="28c41-176">**Important!**</span></span> <span data-ttu-id="28c41-177">Recuerde que la única manera de nunca debe incluir datos en línea escritos por un usuario en una instrucción SQL es usar marcadores de posición, como puede ver aquí (`VALUES(@0, @1, @2)`).</span><span class="sxs-lookup"><span data-stu-id="28c41-177">Remember that the only way you should ever include data entered online by a user in a SQL statement is to use placeholders, as you see here (`VALUES(@0, @1, @2)`).</span></span> <span data-ttu-id="28c41-178">Si concatenar proporcionados por el usuario en una instrucción SQL, estará abierto a un ataque de inyección de código SQL, como se explica en [conceptos básicos de formularios en ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581) (el tutorial anterior).</span><span class="sxs-lookup"><span data-stu-id="28c41-178">If you concatenate user input into a SQL statement, you open yourself to a SQL injection attack, as explained in [Form Basics in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581) (the previous tutorial).</span></span>

<span data-ttu-id="28c41-179">Todavía en el `if` en bloques, agregue la siguiente línea después de la `db.Execute` línea:</span><span class="sxs-lookup"><span data-stu-id="28c41-179">Still inside the `if` block, add the following line after the `db.Execute` line:</span></span>

[!code-css[Main](entering-data/samples/sample4.css)]

<span data-ttu-id="28c41-180">Después de la nueva película se ha insertado en la base de datos, esta línea se (redirecciones) salta a la *películas* página para que pueda ver la película que acaba de escribir.</span><span class="sxs-lookup"><span data-stu-id="28c41-180">After the new movie has been inserted into the database, this line jumps you (redirects) to the *Movies* page so you can see the movie you just entered.</span></span> <span data-ttu-id="28c41-181">El `~` operador significa "" raíz"del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="28c41-181">The `~` operator means "root of the website."</span></span> <span data-ttu-id="28c41-182">(El `~` operador solo funciona en las páginas ASP.NET, no en HTML con carácter general.)</span><span class="sxs-lookup"><span data-stu-id="28c41-182">(The `~` operator works only in ASP.NET pages, not in HTML generally.)</span></span>

<span data-ttu-id="28c41-183">El bloque de código completo es similar a este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28c41-183">The complete code block looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample5.cshtml)]

## <a name="testing-the-insert-command-so-far"></a><span data-ttu-id="28c41-184">Probar el comando de inserción (hasta)</span><span class="sxs-lookup"><span data-stu-id="28c41-184">Testing the Insert Command (So Far)</span></span>

<span data-ttu-id="28c41-185">Aún no ha terminado, pero ahora es un buen momento para probar.</span><span class="sxs-lookup"><span data-stu-id="28c41-185">You're not done yet, but now is a good time to test.</span></span>

<span data-ttu-id="28c41-186">En la vista de árbol de archivos en WebMatrix, haga clic en el *AddMovie.cshtml* página y, a continuación, haga clic en **iniciar en el explorador**.</span><span class="sxs-lookup"><span data-stu-id="28c41-186">In the tree view of files in WebMatrix, right-click the *AddMovie.cshtml* page and then click **Launch in browser**.</span></span>

![Página "Agregar la película" en el explorador](entering-data/_static/image2.png)

<span data-ttu-id="28c41-188">(Si termina con una página diferente en el explorador, asegúrese de que la dirección URL es `http://localhost:nnnnn/AddMovie`), donde *nnnnn* es el número de puerto que esté usando.)</span><span class="sxs-lookup"><span data-stu-id="28c41-188">(If you end up with a different page in the browser, make sure that the URL is `http://localhost:nnnnn/AddMovie`), where *nnnnn* is the port number that you're using.)</span></span>

<span data-ttu-id="28c41-189">¿Ha recibido una página de error?</span><span class="sxs-lookup"><span data-stu-id="28c41-189">Did you get an error page?</span></span> <span data-ttu-id="28c41-190">Si es así, léalo atentamente y asegurarse de que el código es exactamente lo que se muestra anteriormente.</span><span class="sxs-lookup"><span data-stu-id="28c41-190">If so, read it carefully and make sure that the code looks exactly what was listed earlier.</span></span>

<span data-ttu-id="28c41-191">Especifique una película en el formulario &mdash; por ejemplo, use "Ciudadanos Kane", "Drama" y "1941".</span><span class="sxs-lookup"><span data-stu-id="28c41-191">Enter a movie in the form &mdash; for example, use "Citizen Kane", "Drama", and "1941".</span></span> <span data-ttu-id="28c41-192">(O cualquier otra cosa.) A continuación, haga clic en **película agregar**.</span><span class="sxs-lookup"><span data-stu-id="28c41-192">(Or whatever.) Then click **Add Movie**.</span></span>

<span data-ttu-id="28c41-193">Si todo va bien, se le redirigirá a la *películas* página.</span><span class="sxs-lookup"><span data-stu-id="28c41-193">If all goes well, you're redirected to the *Movies* page.</span></span> <span data-ttu-id="28c41-194">Asegúrese de que aparece la nueva película.</span><span class="sxs-lookup"><span data-stu-id="28c41-194">Make sure that your new movie is listed.</span></span>

![Página de películas que muestra recién agregado película](entering-data/_static/image3.png)

## <a name="validating-user-input"></a><span data-ttu-id="28c41-196">Validar la entrada del usuario</span><span class="sxs-lookup"><span data-stu-id="28c41-196">Validating User Input</span></span>

<span data-ttu-id="28c41-197">Vuelva a la *AddMovie* página o vuelva a ejecutar.</span><span class="sxs-lookup"><span data-stu-id="28c41-197">Go back to the *AddMovie* page, or run it again.</span></span> <span data-ttu-id="28c41-198">Escriba otra película, pero esta vez, especifique solo el título &mdash; por ejemplo, escriba "Cantando ' en el Rain".</span><span class="sxs-lookup"><span data-stu-id="28c41-198">Enter another movie, but this time, enter only the title &mdash; for example, enter "Singin' in the Rain".</span></span> <span data-ttu-id="28c41-199">A continuación, haga clic en **película agregar**.</span><span class="sxs-lookup"><span data-stu-id="28c41-199">Then click **Add Movie**.</span></span>

<span data-ttu-id="28c41-200">Se le redirigirá a la *películas* página nuevo.</span><span class="sxs-lookup"><span data-stu-id="28c41-200">You're redirected to the *Movies* page again.</span></span> <span data-ttu-id="28c41-201">Puede encontrar la nueva película, pero está incompleto.</span><span class="sxs-lookup"><span data-stu-id="28c41-201">You can find the new movie, but it's incomplete.</span></span>

![Página de películas que muestra nueva película que falta algunos valores](entering-data/_static/image4.png)

<span data-ttu-id="28c41-203">Cuando creó la *películas* tabla, explícitamente dijiste que ninguno de los campos podría ser nulo.</span><span class="sxs-lookup"><span data-stu-id="28c41-203">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="28c41-204">Aquí tiene un formulario de entrada de nuevas películas, y se dejan los campos en blanco.</span><span class="sxs-lookup"><span data-stu-id="28c41-204">Here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="28c41-205">Es un error.</span><span class="sxs-lookup"><span data-stu-id="28c41-205">That's an error.</span></span>

<span data-ttu-id="28c41-206">En este caso, realmente no provoca la base de datos (o *throw*) un error.</span><span class="sxs-lookup"><span data-stu-id="28c41-206">In this case, the database didn't actually raise (or *throw*) an error.</span></span> <span data-ttu-id="28c41-207">No ha proporcionado un género o un año, por lo que el código en el *AddMovie* página trata estos valores como llamados *cadenas vacías*.</span><span class="sxs-lookup"><span data-stu-id="28c41-207">You didn't supply a genre or year, so the code in the *AddMovie* page treated those values as so-called *empty strings*.</span></span> <span data-ttu-id="28c41-208">Cuando el código SQL `Insert Into` se ejecutó el comando, los campos de género y año no tienen datos útiles en ellos, pero no eran null.</span><span class="sxs-lookup"><span data-stu-id="28c41-208">When the SQL `Insert Into` command ran, the genre and year fields didn't have useful data in them, but they weren't null.</span></span>

<span data-ttu-id="28c41-209">Obviamente, no desea que los usuarios puedan especificar información de la película medio vacío en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-209">Obviously, you don't want to let users enter half-empty movie information into the database.</span></span> <span data-ttu-id="28c41-210">La solución consiste en validar la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="28c41-210">The solution is to validate the user's input.</span></span> <span data-ttu-id="28c41-211">Inicialmente, la validación simplemente asegurará que el usuario ha escrito un valor para todos los campos (es decir, que ninguna de ellas contiene una cadena vacía).</span><span class="sxs-lookup"><span data-stu-id="28c41-211">Initially, the validation will simply make sure that the user has entered a value for all of the fields (that is, that none of them contains an empty string).</span></span>

> [!TIP]
> 
> <span data-ttu-id="28c41-212">**Cadenas NULL y vacías**</span><span class="sxs-lookup"><span data-stu-id="28c41-212">**Null and Empty Strings**</span></span>
> 
> <span data-ttu-id="28c41-213">En la programación, hay una diferencia entre diferentes nociones de "sin valor".</span><span class="sxs-lookup"><span data-stu-id="28c41-213">In programming, there's a distinction between different notions of "no value."</span></span> <span data-ttu-id="28c41-214">En general, es un valor *null* si nunca se ha establecido o inicializarse de ninguna manera.</span><span class="sxs-lookup"><span data-stu-id="28c41-214">In general, a value is *null* if it has never been set or initialized in any way.</span></span> <span data-ttu-id="28c41-215">En cambio, se puede establecer una variable que se espera que los datos de caracteres (cadenas) en un *una cadena vacía*.</span><span class="sxs-lookup"><span data-stu-id="28c41-215">In contrast, a variable that expects character data (strings) can be set to an *empty string*.</span></span> <span data-ttu-id="28c41-216">En ese caso, el valor no es null; solo se han se establece explícitamente en una cadena de caracteres cuya longitud es cero.</span><span class="sxs-lookup"><span data-stu-id="28c41-216">In that case, the value is not null; it's just been explicitly set to a string of characters whose length is zero.</span></span> <span data-ttu-id="28c41-217">Estas dos instrucciones muestran la diferencia:</span><span class="sxs-lookup"><span data-stu-id="28c41-217">These two statements show the difference:</span></span>
> 
> [!code-csharp[Main](entering-data/samples/sample6.cs)]
> 
> <span data-ttu-id="28c41-218">Es un poco más complicado que eso, pero lo importante es que `null` representa un tipo de estado indeterminado.</span><span class="sxs-lookup"><span data-stu-id="28c41-218">It's a little more complicated than that, but the important point is that `null` represents a sort of undetermined state.</span></span>
> 
> <span data-ttu-id="28c41-219">Ahora y, a continuación, es importante entender exactamente cuando un valor es null y cuándo es simplemente una cadena vacía.</span><span class="sxs-lookup"><span data-stu-id="28c41-219">Now and then it's important to understand exactly when a value is null and when it's just an empty string.</span></span> <span data-ttu-id="28c41-220">En el código para el *AddMovie* página, obtener los valores de los cuadros de texto mediante `Request.Form["title"]` y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="28c41-220">In the code for the *AddMovie* page, you get the values of the text boxes by using `Request.Form["title"]` and so on.</span></span> <span data-ttu-id="28c41-221">Cuando la página ejecuta primero (antes de hacer clic en el botón), el valor de `Request.Form["title"]` es null.</span><span class="sxs-lookup"><span data-stu-id="28c41-221">When the page first runs (before you click the button), the value of `Request.Form["title"]` is null.</span></span> <span data-ttu-id="28c41-222">Pero cuando se envía el formulario, `Request.Form["title"]` Obtiene el valor de la `title` cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="28c41-222">But when you submit the form, `Request.Form["title"]` gets the value of the `title` text box.</span></span> <span data-ttu-id="28c41-223">No es obvio, pero un cuadro de texto vacío no es null; solo se tiene una cadena vacía en ella.</span><span class="sxs-lookup"><span data-stu-id="28c41-223">It's not obvious, but an empty text box is not null; it just has an empty string in it.</span></span> <span data-ttu-id="28c41-224">Cuando se ejecuta el código en respuesta al botón, haga clic en, `Request.Form["title"]` tiene una cadena vacía en ella.</span><span class="sxs-lookup"><span data-stu-id="28c41-224">So when the code runs in response to the button click, `Request.Form["title"]` has an empty string in it.</span></span>
> 
> <span data-ttu-id="28c41-225">¿Por qué es importante esta distinción?</span><span class="sxs-lookup"><span data-stu-id="28c41-225">Why is this distinction important?</span></span> <span data-ttu-id="28c41-226">Cuando creó la *películas* tabla, explícitamente dijiste que ninguno de los campos podría ser nulo.</span><span class="sxs-lookup"><span data-stu-id="28c41-226">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="28c41-227">Pero aquí tiene un formulario de entrada de nuevas películas, y se dejan los campos en blanco.</span><span class="sxs-lookup"><span data-stu-id="28c41-227">But here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="28c41-228">Cabe esperar la base de datos se quejará cuando intentó guardar nuevas películas que no tienen valores para el género o un año.</span><span class="sxs-lookup"><span data-stu-id="28c41-228">You would reasonably expect the database to complain when you tried to save new movies that didn't have values for genre or year.</span></span> <span data-ttu-id="28c41-229">Pero eso es el punto de &mdash; incluso si se deja en blanco los cuadros de texto, los valores no null; están las cadenas vacías.</span><span class="sxs-lookup"><span data-stu-id="28c41-229">But that's the point &mdash; even if you leave those text boxes blank, the values aren't null; they're empty strings.</span></span> <span data-ttu-id="28c41-230">Como resultado, podemos guardar películas nuevas en la base de datos con estas columnas vacías &mdash; pero no es null.</span><span class="sxs-lookup"><span data-stu-id="28c41-230">As a result, you're able to save new movies to the database with these columns empty &mdash; but not null!</span></span> <span data-ttu-id="28c41-231">valores &mdash;.</span><span class="sxs-lookup"><span data-stu-id="28c41-231">&mdash; values.</span></span> <span data-ttu-id="28c41-232">Por lo tanto, tendrá que asegurarse de que los usuarios no enviar una cadena vacía, lo que puede hacer mediante la validación de la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="28c41-232">Therefore, you have to make sure that users don't submit an empty string, which you can do by validating the user's input.</span></span>


### <a name="the-validation-helper"></a><span data-ttu-id="28c41-233">Aplicación auxiliar de validación</span><span class="sxs-lookup"><span data-stu-id="28c41-233">The Validation Helper</span></span>

<span data-ttu-id="28c41-234">Las páginas Web ASP.NET incluye una aplicación auxiliar &mdash; el `Validation` auxiliar &mdash; que puede usar para asegurarse de que los usuarios introduzcan datos que cumpla sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="28c41-234">ASP.NET Web Pages includes a helper &mdash; the `Validation` helper &mdash; that you can use to make sure that users enter data that meets your requirements.</span></span> <span data-ttu-id="28c41-235">El `Validation` auxiliar es una de las aplicaciones auxiliares que se basa ASP.NET Web Pages, por lo que no tiene que instalar como un paquete mediante el uso de NuGet, la manera en que instaló la aplicación auxiliar de Gravatar en un tutorial anterior.</span><span class="sxs-lookup"><span data-stu-id="28c41-235">The `Validation` helper is one of the helpers that's built in to ASP.NET Web Pages, so you don't have to install it as a package by using NuGet, the way you installed the Gravatar helper in an earlier tutorial.</span></span>

<span data-ttu-id="28c41-236">Para validar la entrada del usuario, deberá hacer lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-236">To validate the user's input, you'll do the following:</span></span>

- <span data-ttu-id="28c41-237">Usar código para especificar que desea que requieren valores en los cuadros de texto en la página.</span><span class="sxs-lookup"><span data-stu-id="28c41-237">Use code to specify that you want to require values in the text boxes on the page.</span></span>
- <span data-ttu-id="28c41-238">Coloque una prueba en el código para que la información de la película se agrega a la base de datos solo si todo se valida correctamente.</span><span class="sxs-lookup"><span data-stu-id="28c41-238">Put a test into the code so that the movie information is added to the database only if everything validates properly.</span></span>
- <span data-ttu-id="28c41-239">Agregue el código en el marcado para mostrar los mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="28c41-239">Add code into the markup to display error messages.</span></span>

<span data-ttu-id="28c41-240">En el bloque de código en el *AddMovie* página, derecha arriba en la parte superior antes de las declaraciones de variable, agregue el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-240">In the code block in the *AddMovie* page, right up at the top before the variable declarations, add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample7.cs)]

<span data-ttu-id="28c41-241">Se llama a `Validation.RequireField` una vez para cada campo (`<input>` elemento) donde desea requerir una entrada.</span><span class="sxs-lookup"><span data-stu-id="28c41-241">You call `Validation.RequireField` once for each field (`<input>` element) where you want to require an entry.</span></span> <span data-ttu-id="28c41-242">También puede agregar un mensaje de error personalizado para cada llamada, tal como se muestra aquí.</span><span class="sxs-lookup"><span data-stu-id="28c41-242">You can also add a custom error message for each call, like you see here.</span></span> <span data-ttu-id="28c41-243">(Se varían los mensajes solo para mostrar que puede colocar cualquier cosa que no existe).</span><span class="sxs-lookup"><span data-stu-id="28c41-243">(We varied the messages just to show that you can put anything you like there.)</span></span>

<span data-ttu-id="28c41-244">Si hay un problema, puede evitar la nueva información de la película desde el que se inserta en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-244">If there's a problem, you want to prevent the new movie information from being inserted into the database.</span></span> <span data-ttu-id="28c41-245">En el `if(IsPost)` en bloques, utilice `&&` (AND lógico) para agregar otra condición que prueba `Validation.IsValid()`.</span><span class="sxs-lookup"><span data-stu-id="28c41-245">In the `if(IsPost)` block, use `&&` (logical AND) to add another condition that tests `Validation.IsValid()`.</span></span> <span data-ttu-id="28c41-246">Cuando haya terminado, la totalidad `if(IsPost)` bloque parece este código:</span><span class="sxs-lookup"><span data-stu-id="28c41-246">When you're done, the whole `if(IsPost)` block looks like this code:</span></span>

[!code-csharp[Main](entering-data/samples/sample8.cs)]

<span data-ttu-id="28c41-247">Si se produce un error de validación con cualquiera de los campos que registraron usando el `Validation` auxiliar, el `Validation.IsValid` método devuelve false.</span><span class="sxs-lookup"><span data-stu-id="28c41-247">If there's a validation error with any of the fields that you registered by using the `Validation` helper, the `Validation.IsValid` method returns false.</span></span> <span data-ttu-id="28c41-248">Y en ese caso, ninguno de los códigos en ese bloque se ejecutará, por lo que no hay entradas de la película no válido se insertará en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-248">And in that case, none of the code in that block will run, so no invalid movie entries will be inserted into the database.</span></span> <span data-ttu-id="28c41-249">Y por supuesto no le redirigirá a la *películas* página.</span><span class="sxs-lookup"><span data-stu-id="28c41-249">And of course you're not redirected to the *Movies* page.</span></span>

<span data-ttu-id="28c41-250">El bloque de código completo, incluido el código de validación, se parece ahora a este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28c41-250">The complete code block, including the validation code, now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample9.cshtml?highlight=10)]

## <a name="displaying-validation-errors"></a><span data-ttu-id="28c41-251">Mostrar errores de validación</span><span class="sxs-lookup"><span data-stu-id="28c41-251">Displaying Validation Errors</span></span>

<span data-ttu-id="28c41-252">El último paso es mostrar los mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="28c41-252">The last step is to display any error messages.</span></span> <span data-ttu-id="28c41-253">Puede mostrar los mensajes individuales para cada error de validación, o puede mostrar un resumen, o ambos.</span><span class="sxs-lookup"><span data-stu-id="28c41-253">You can display individual messages for each validation error, or you can display a summary, or both.</span></span> <span data-ttu-id="28c41-254">Para este tutorial, llevará a cabo tanto por lo que puede ver cómo funciona.</span><span class="sxs-lookup"><span data-stu-id="28c41-254">For this tutorial, you'll do both so that you can see how it works.</span></span>

<span data-ttu-id="28c41-255">Junto a cada `<input>` elemento que se está validando, llamada la `Html.ValidationMessage` método y pásele el nombre de la `<input>` elemento que se está validando.</span><span class="sxs-lookup"><span data-stu-id="28c41-255">Next to each `<input>` element that you're validating, call the `Html.ValidationMessage` method and pass it the name of the `<input>` element you're validating.</span></span> <span data-ttu-id="28c41-256">Coloca el `Html.ValidationMessage` método justo donde desea que aparezca el mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="28c41-256">You put the `Html.ValidationMessage` method right where you want the error message to appear.</span></span> <span data-ttu-id="28c41-257">Cuando se ejecuta la página, el `Html.ValidationMessage` método representa un `<span>` elemento dónde irá el error de validación.</span><span class="sxs-lookup"><span data-stu-id="28c41-257">When the page runs, the `Html.ValidationMessage` method renders a `<span>` element where the validation error will go.</span></span> <span data-ttu-id="28c41-258">(Si no hay ningún error, el `<span>` se representa el elemento, pero no hay ningún texto en él.)</span><span class="sxs-lookup"><span data-stu-id="28c41-258">(If there's no error, the `<span>` element is rendered, but there's no text in it.)</span></span>

<span data-ttu-id="28c41-259">Cambie el marcado en la página para que incluya un `Html.ValidationMessage` método para cada una de las tres `<input>` elementos en la página, como en este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28c41-259">Change the markup in the page so that it includes an `Html.ValidationMessage` method for each of the three `<input>` elements on the page, like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample10.cshtml?highlight=3,8,13)]

<span data-ttu-id="28c41-260">Para ver cómo funciona el resumen, también agregue el siguiente marcado y código justo después de la `<h1>Add a Movie</h1>` elemento en la página:</span><span class="sxs-lookup"><span data-stu-id="28c41-260">To see how the summary works, also add the following markup and code right after the `<h1>Add a Movie</h1>` element on the page:</span></span>

[!code-cshtml[Main](entering-data/samples/sample11.cshtml)]

<span data-ttu-id="28c41-261">De forma predeterminada, el `Html.ValidationSummary` método muestra todos los mensajes de validación en una lista (un `<ul>` elemento que está dentro de un `<div>` elemento).</span><span class="sxs-lookup"><span data-stu-id="28c41-261">By default, the `Html.ValidationSummary` method displays all the validation messages in a list (a `<ul>` element that's inside a `<div>` element).</span></span> <span data-ttu-id="28c41-262">Igual que con el `Html.ValidationMessage` método, siempre se representa el marcado para el resumen de validación; si no hay ningún error, no hay elementos de lista se representan.</span><span class="sxs-lookup"><span data-stu-id="28c41-262">As with the `Html.ValidationMessage` method, the markup for the validation summary is always rendered; if there are no errors, no list items are rendered.</span></span>

<span data-ttu-id="28c41-263">El resumen puede ser una manera alternativa de mostrar mensajes de validación en lugar de mediante el `Html.ValidationMessage` método para mostrar cada error específico del campo.</span><span class="sxs-lookup"><span data-stu-id="28c41-263">The summary can be an alternative way to display validation messages instead of by using the `Html.ValidationMessage` method to display each field-specific error.</span></span> <span data-ttu-id="28c41-264">O bien, puede usar un resumen y los detalles.</span><span class="sxs-lookup"><span data-stu-id="28c41-264">Or you can use both a summary and the details.</span></span> <span data-ttu-id="28c41-265">O bien puede usar el `Html.ValidationSummary` método para mostrar un error genérico y, a continuación, usar individuales `Html.ValidationMessage` llamadas para mostrar los detalles.</span><span class="sxs-lookup"><span data-stu-id="28c41-265">Or you can use the `Html.ValidationSummary` method to display a generic error and then use individual `Html.ValidationMessage` calls to display details.</span></span>

<span data-ttu-id="28c41-266">La página completa se parece ahora a este ejemplo:</span><span class="sxs-lookup"><span data-stu-id="28c41-266">The complete page now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample12.cshtml)]

<span data-ttu-id="28c41-267">Ya está.</span><span class="sxs-lookup"><span data-stu-id="28c41-267">That's it.</span></span> <span data-ttu-id="28c41-268">Ahora puede probar la página mediante la adición de una película pero dejando fuera uno o varios de los campos.</span><span class="sxs-lookup"><span data-stu-id="28c41-268">You can now test the page by adding a movie but leaving out one or more of the fields.</span></span> <span data-ttu-id="28c41-269">Al hacerlo, se ve el error siguiente:</span><span class="sxs-lookup"><span data-stu-id="28c41-269">When you do, you see the following error display:</span></span>

![Agregar página de la película que muestra los mensajes de error de validación](entering-data/_static/image5.png)

## <a name="styling-the-validation-error-messages"></a><span data-ttu-id="28c41-271">Aplicar estilos a los mensajes de Error de validación</span><span class="sxs-lookup"><span data-stu-id="28c41-271">Styling the Validation Error Messages</span></span>

<span data-ttu-id="28c41-272">Puede ver que hay mensajes de error, pero no realmente destacarse muy bien.</span><span class="sxs-lookup"><span data-stu-id="28c41-272">You can see that there are error messages, but they don't really stand out very well.</span></span> <span data-ttu-id="28c41-273">Hay una manera fácil para definir el estilo de los mensajes de error, sin embargo.</span><span class="sxs-lookup"><span data-stu-id="28c41-273">There's an easy way to style the error messages, though.</span></span>

<span data-ttu-id="28c41-274">Para definir el estilo de los mensajes de errores individuales que se muestran de forma `Html.ValidationMessage`, cree una clase de estilo CSS denominada `field-validation-error`.</span><span class="sxs-lookup"><span data-stu-id="28c41-274">To style the individual error messages that are displayed by `Html.ValidationMessage`, create a CSS style class named `field-validation-error`.</span></span> <span data-ttu-id="28c41-275">Para definir el aspecto para el resumen de validación, cree una clase de estilo CSS denominada `validation-summary-errors`.</span><span class="sxs-lookup"><span data-stu-id="28c41-275">To define the look for the validation summary, create a CSS style class named `validation-summary-errors`.</span></span>

<span data-ttu-id="28c41-276">Para ver cómo funciona esta técnica, agregue un `<style>` elemento dentro de la `<head>` sección de la página.</span><span class="sxs-lookup"><span data-stu-id="28c41-276">To see how this technique works, add a `<style>` element inside the `<head>` section of the page.</span></span> <span data-ttu-id="28c41-277">A continuación, defina las clases de estilo denominadas `field-validation-error` y `validation-summary-errors` que contienen las siguientes reglas:</span><span class="sxs-lookup"><span data-stu-id="28c41-277">Then define style classes named `field-validation-error` and `validation-summary-errors` that contain the following rules:</span></span>

[!code-cshtml[Main](entering-data/samples/sample13.cshtml?highlight=4-17)]

<span data-ttu-id="28c41-278">Normalmente, probablemente colocaría la información de estilo en otro *.css* archivo, pero por motivos de simplicidad puede colocarlas en la página por ahora.</span><span class="sxs-lookup"><span data-stu-id="28c41-278">Normally you'd probably put style information into a separate *.css* file, but for simplicity you can put them in the page for now.</span></span> <span data-ttu-id="28c41-279">(Más adelante en esta serie de tutoriales, podrá mover las reglas de CSS a otro *.css* archivo.)</span><span class="sxs-lookup"><span data-stu-id="28c41-279">(Later in this tutorial set, you'll move the CSS rules to a separate *.css* file.)</span></span>

<span data-ttu-id="28c41-280">Si se produce un error de validación, el `Html.ValidationMessage` método representa un `<span>` elemento que incluya `class="field-validation-error"`.</span><span class="sxs-lookup"><span data-stu-id="28c41-280">If there's a validation error, the `Html.ValidationMessage` method renders a `<span>` element that includes `class="field-validation-error"`.</span></span> <span data-ttu-id="28c41-281">Mediante la adición de una definición de estilo para esa clase, puede configurar el aspecto que tiene el mensaje.</span><span class="sxs-lookup"><span data-stu-id="28c41-281">By adding a style definition for that class, you can configure what the message looks like.</span></span> <span data-ttu-id="28c41-282">Si hay errores, el `ValidationSummary` método igualmente dinámicamente representa el atributo `class="validation-summary-errors"`.</span><span class="sxs-lookup"><span data-stu-id="28c41-282">If there are errors, the `ValidationSummary` method likewise dynamically renders the attribute `class="validation-summary-errors"`.</span></span>

<span data-ttu-id="28c41-283">Vuelva a ejecutar la página y olvidó deliberadamente un par de los campos.</span><span class="sxs-lookup"><span data-stu-id="28c41-283">Run the page again and deliberately leave out a couple of the fields.</span></span> <span data-ttu-id="28c41-284">Los errores son ahora más fáciles.</span><span class="sxs-lookup"><span data-stu-id="28c41-284">The errors are now more noticeable.</span></span> <span data-ttu-id="28c41-285">(De hecho, se usa en exceso, pero que es simplemente para demostrar lo que puede hacer).</span><span class="sxs-lookup"><span data-stu-id="28c41-285">(In fact, they're overdone, but that's just to show what you can do.)</span></span>

![Agregar página de la película que muestra los errores de validación que se han aplicado un estilo](entering-data/_static/image6.png)

## <a name="adding-a-link-to-the-movies-page"></a><span data-ttu-id="28c41-287">Agregar un vínculo a la página de películas</span><span class="sxs-lookup"><span data-stu-id="28c41-287">Adding a Link to the Movies Page</span></span>

<span data-ttu-id="28c41-288">Un paso final es que resulte conveniente llegar a la *AddMovie* página desde la lista de películas original.</span><span class="sxs-lookup"><span data-stu-id="28c41-288">One final step is to make it convenient to get to the *AddMovie* page from the original movie listing.</span></span>

<span data-ttu-id="28c41-289">Abra el *películas* página nuevo.</span><span class="sxs-lookup"><span data-stu-id="28c41-289">Open the *Movies* page again.</span></span> <span data-ttu-id="28c41-290">Después del cierre `</div>` etiqueta que sigue el `WebGrid` auxiliar, agregue el siguiente marcado:</span><span class="sxs-lookup"><span data-stu-id="28c41-290">After the closing `</div>` tag that follows the `WebGrid` helper, add the following markup:</span></span>

[!code-cshtml[Main](entering-data/samples/sample14.cshtml)]

<span data-ttu-id="28c41-291">Como vimos antes, ASP.NET interpreta el `~` operador como la raíz del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="28c41-291">As you saw before, ASP.NET interprets the `~` operator as the root of the website.</span></span> <span data-ttu-id="28c41-292">No tiene que usar el `~` operador; podría usar el marcado `<a href="./AddMovie">Add a movie</a>` o alguna otra forma de definir la ruta de acceso que entiende de HTML.</span><span class="sxs-lookup"><span data-stu-id="28c41-292">You don't have to use the `~` operator; you could use the markup `<a href="./AddMovie">Add a movie</a>` or some other way to define the path that HTML understands.</span></span> <span data-ttu-id="28c41-293">Pero la `~` operador es un buen enfoque general al crear vínculos a páginas de Razor, ya que hace que el sitio más flexible, si mueve la página actual en una subcarpeta, el vínculo se dirigirán a la *AddMovie* página.</span><span class="sxs-lookup"><span data-stu-id="28c41-293">But the `~` operator is a good general approach when you create links for Razor pages, because it makes the site more flexible — if you move the current page to a subfolder, the link will still go to the *AddMovie* page.</span></span> <span data-ttu-id="28c41-294">(Recuerde que el `~` operador solo funciona *.cshtml* páginas.</span><span class="sxs-lookup"><span data-stu-id="28c41-294">(Remember that the `~` operator only works in *.cshtml* pages.</span></span> <span data-ttu-id="28c41-295">ASP.NET lo entiende, pero no es HTML estándar).</span><span class="sxs-lookup"><span data-stu-id="28c41-295">ASP.NET understands it, but it's not standard HTML.)</span></span>

<span data-ttu-id="28c41-296">Cuando haya terminado, ejecute el *películas* página.</span><span class="sxs-lookup"><span data-stu-id="28c41-296">When you're done, run the *Movies* page.</span></span> <span data-ttu-id="28c41-297">Será similar a esta página:</span><span class="sxs-lookup"><span data-stu-id="28c41-297">It will look like this page:</span></span>

![Página de películas con vínculo a la página 'Agregar películas'](entering-data/_static/image7.png)

<span data-ttu-id="28c41-299">Haga clic en el **agregar una película** vínculo para asegurarse de que va a la *AddMovie* página.</span><span class="sxs-lookup"><span data-stu-id="28c41-299">Click the **Add a movie** link to make sure that it goes to the *AddMovie* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="28c41-300">Próxima</span><span class="sxs-lookup"><span data-stu-id="28c41-300">Coming Up Next</span></span>

<span data-ttu-id="28c41-301">En el siguiente tutorial, obtendrá información sobre cómo permitir que los usuarios editar los datos que ya está en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="28c41-301">In the next tutorial, you'll learn how to let users edit data that's already in the database.</span></span>

## <a name="complete-listing-for-addmovie-page"></a><span data-ttu-id="28c41-302">Lista completa de página AddMovie</span><span class="sxs-lookup"><span data-stu-id="28c41-302">Complete Listing for AddMovie Page</span></span>

[!code-cshtml[Main](entering-data/samples/sample15.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="28c41-303">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="28c41-303">Additional Resources</span></span>

- [<span data-ttu-id="28c41-304">Introducción a la programación Web de ASP.NET mediante la sintaxis Razor</span><span class="sxs-lookup"><span data-stu-id="28c41-304">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- <span data-ttu-id="28c41-305">[Instrucción SQL INSERT INTO](http://www.w3schools.com/sql/sql_insert.asp) en el sitio W3Schools</span><span class="sxs-lookup"><span data-stu-id="28c41-305">[SQL INSERT INTO Statement](http://www.w3schools.com/sql/sql_insert.asp) on the W3Schools site</span></span>
- <span data-ttu-id="28c41-306">[Validar la entrada del usuario en ASP.NET Web Pages sitios](https://go.microsoft.com/fwlink/?LinkId=253002).</span><span class="sxs-lookup"><span data-stu-id="28c41-306">[Validating User Input in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=253002).</span></span> <span data-ttu-id="28c41-307">Para obtener más información sobre cómo trabajar con el `Validation` auxiliar.</span><span class="sxs-lookup"><span data-stu-id="28c41-307">More information about working with the `Validation` helper.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="28c41-308">[Anterior](form-basics.md)
> [Siguiente](updating-data.md)</span><span class="sxs-lookup"><span data-stu-id="28c41-308">[Previous](form-basics.md)
[Next](updating-data.md)</span></span>

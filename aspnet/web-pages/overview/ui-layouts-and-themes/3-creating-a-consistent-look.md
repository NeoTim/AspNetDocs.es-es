---
uid: web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
title: Creación de un diseño coherente en sitios de ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: Para que resulte más eficaz crear páginas web para el sitio, puede crear bloques de contenido reutilizables (como encabezados y pies de página) para el sitio web y c...
ms.author: riande
ms.date: 03/10/2014
ms.assetid: d7bd001b-6db2-4422-9b78-f3d08b743b00
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/3-creating-a-consistent-look
msc.type: authoredcontent
ms.openlocfilehash: 3f63ce68ae4c13970ac0df196167ace0b22b592c
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78509101"
---
# <a name="creating-a-consistent-layout-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="fd898-103">Creación de un diseño coherente en sitios de ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="fd898-103">Creating a Consistent Layout in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="fd898-104">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="fd898-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="fd898-105">En este artículo se explica cómo puede usar las páginas de diseño de un sitio web de ASP.NET Web Pages (Razor) para crear bloques de contenido reutilizables (como encabezados y pies de página) y para crear una apariencia coherente para todas las páginas del sitio.</span><span class="sxs-lookup"><span data-stu-id="fd898-105">This article explains how you can use layout pages in an ASP.NET Web Pages (Razor) website to create reusable blocks of content (like headers and footers) and to create a consistent look for all the pages in the site.</span></span>
> 
> <span data-ttu-id="fd898-106">**Lo que aprenderá:**</span><span class="sxs-lookup"><span data-stu-id="fd898-106">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="fd898-107">Cómo crear bloques de contenido reutilizables, como encabezados y pies de página.</span><span class="sxs-lookup"><span data-stu-id="fd898-107">How to create reusable blocks of content like headers and footers.</span></span>
> - <span data-ttu-id="fd898-108">Cómo crear una apariencia coherente para todas las páginas del sitio mediante un diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-108">How to create a consistent look for all the pages in your site using a layout.</span></span>
> - <span data-ttu-id="fd898-109">Cómo pasar datos en tiempo de ejecución a una página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-109">How to pass data at run time to a layout page.</span></span>
> 
> <span data-ttu-id="fd898-110">Estas son las características de ASP.NET presentadas en el artículo:</span><span class="sxs-lookup"><span data-stu-id="fd898-110">These are the ASP.NET features introduced in the article:</span></span>
> 
> - <span data-ttu-id="fd898-111">Bloques de contenido, que son archivos que contienen contenido con formato HTML que se va a insertar en varias páginas.</span><span class="sxs-lookup"><span data-stu-id="fd898-111">Content blocks, which are files that contain HTML-formatted content to be inserted in multiple pages.</span></span>
> - <span data-ttu-id="fd898-112">Páginas de diseño, que son páginas que contienen contenido con formato HTML que pueden compartir las páginas del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="fd898-112">Layout pages, which are pages that contain HTML-formatted content that can be shared by pages on the website.</span></span>
> - <span data-ttu-id="fd898-113">Los métodos `RenderPage`, `RenderBody`y `RenderSection`, que indican a ASP.NET dónde insertar los elementos de la página.</span><span class="sxs-lookup"><span data-stu-id="fd898-113">The `RenderPage`, `RenderBody`, and `RenderSection` methods, which tell ASP.NET where to insert page elements.</span></span>
> - <span data-ttu-id="fd898-114">`PageData` Diccionario que permite compartir datos entre bloques de contenido y páginas de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-114">The `PageData` dictionary that lets you share data between content blocks and layout pages.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="fd898-115">Versiones de software usadas en el tutorial</span><span class="sxs-lookup"><span data-stu-id="fd898-115">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="fd898-116">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="fd898-116">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="fd898-117">Este tutorial también funciona con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="fd898-117">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="about-layout-pages"></a><span data-ttu-id="fd898-118">Acerca de las páginas de diseño</span><span class="sxs-lookup"><span data-stu-id="fd898-118">About Layout Pages</span></span>

<span data-ttu-id="fd898-119">Muchos sitios web tienen contenido que se muestra en todas las páginas, como un encabezado y un pie de página, o un cuadro que indica a los usuarios que han iniciado sesión.</span><span class="sxs-lookup"><span data-stu-id="fd898-119">Many websites have content that's displayed on every page, like a header and footer, or a box that tells users that they're logged in.</span></span> <span data-ttu-id="fd898-120">ASP.NET permite crear un archivo independiente con un bloque de contenido que puede contener texto, marcado y código, como una página web normal.</span><span class="sxs-lookup"><span data-stu-id="fd898-120">ASP.NET lets you create a separate file with a content block that can contain text, markup, and code, just like a regular web page.</span></span> <span data-ttu-id="fd898-121">Después, puede insertar el bloque de contenido en otras páginas del sitio en el que desea que aparezca la información.</span><span class="sxs-lookup"><span data-stu-id="fd898-121">You can then insert the content block in other pages on the site where you want the information to appear.</span></span> <span data-ttu-id="fd898-122">De este modo, no tendrá que copiar y pegar el mismo contenido en todas las páginas.</span><span class="sxs-lookup"><span data-stu-id="fd898-122">That way you don't have to copy and paste the same content into every page.</span></span> <span data-ttu-id="fd898-123">Crear contenido común como este también facilita la actualización del sitio.</span><span class="sxs-lookup"><span data-stu-id="fd898-123">Creating common content like this also makes it easier to update your site.</span></span> <span data-ttu-id="fd898-124">Si necesita cambiar el contenido, basta con actualizar un solo archivo y, a continuación, los cambios se reflejarán en cualquier lugar en el que se haya insertado el contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-124">If you need to change the content, you can just update a single file, and the changes are then reflected everywhere the content has been inserted.</span></span>

<span data-ttu-id="fd898-125">En el diagrama siguiente se muestra cómo funcionan los bloques de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-125">The following diagram shows how content blocks work.</span></span> <span data-ttu-id="fd898-126">Cuando un explorador solicita una página del servidor Web, ASP.NET inserta los bloques de contenido en el punto en el que se llama al método de `RenderPage` en la Página principal.</span><span class="sxs-lookup"><span data-stu-id="fd898-126">When a browser requests a page from the web server, ASP.NET inserts the content blocks at the point where the `RenderPage` method is called in the main page.</span></span> <span data-ttu-id="fd898-127">La página finalizada (combinada) se envía al explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-127">The finished (merged) page is then sent to the browser.</span></span>

![Diagrama conceptual en el que se muestra cómo el método RenderPage inserta una página a la que se hace referencia en la página actual.](3-creating-a-consistent-look/_static/image1.jpg)

<span data-ttu-id="fd898-129">En este procedimiento, creará una página que hace referencia a dos bloques de contenido (un encabezado y un pie de página) que se encuentran en archivos independientes.</span><span class="sxs-lookup"><span data-stu-id="fd898-129">In this procedure, you'll create a page that references two content blocks (a header and a footer) that are located in separate files.</span></span> <span data-ttu-id="fd898-130">Puede utilizar estos mismos bloques de contenido en cualquier página de su sitio.</span><span class="sxs-lookup"><span data-stu-id="fd898-130">You can use these same content blocks in any page in your site.</span></span> <span data-ttu-id="fd898-131">Cuando haya terminado, recibirá una página similar a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-131">When you're done, you'll get a page like this:</span></span>

![Captura de pantalla que muestra una página en el explorador que es el resultado de la ejecución de una página que incluye llamadas al método RenderPage.](3-creating-a-consistent-look/_static/image2.png)

1. <span data-ttu-id="fd898-133">En la carpeta raíz de su sitio web, cree un archivo denominado *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-133">In the root folder of your website, create a file named *Index.cshtml*.</span></span>
2. <span data-ttu-id="fd898-134">Reemplace el marcado existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-134">Replace the existing markup with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample1.html)]
3. <span data-ttu-id="fd898-135">En la carpeta raíz, cree una carpeta denominada *Shared*.</span><span class="sxs-lookup"><span data-stu-id="fd898-135">In the root folder, create a folder named *Shared*.</span></span>

    > [!NOTE]
    > <span data-ttu-id="fd898-136">Es habitual almacenar los archivos que se comparten entre las páginas web en una carpeta denominada *Shared*.</span><span class="sxs-lookup"><span data-stu-id="fd898-136">It's common practice to store files that are shared among web pages in a folder named *Shared*.</span></span>
4. <span data-ttu-id="fd898-137">En la carpeta *compartida* , cree un archivo denominado *\_header. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-137">In the *Shared* folder, create a file named *\_Header.cshtml*.</span></span>
5. <span data-ttu-id="fd898-138">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-138">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample2.html)]

    <span data-ttu-id="fd898-139">Observe que el nombre de archivo es *\_header. cshtml*, con un carácter de subrayado (\_) como prefijo.</span><span class="sxs-lookup"><span data-stu-id="fd898-139">Notice that the file name is *\_Header.cshtml*, with an underscore (\_) as a prefix.</span></span> <span data-ttu-id="fd898-140">ASP.NET no enviará una página al explorador si su nombre comienza con un carácter de subrayado.</span><span class="sxs-lookup"><span data-stu-id="fd898-140">ASP.NET won't send a page to the browser if its name starts with an underscore.</span></span> <span data-ttu-id="fd898-141">Esto impide que los usuarios soliciten estas páginas (involuntariamente o de otro modo) directamente.</span><span class="sxs-lookup"><span data-stu-id="fd898-141">This prevents people from requesting (inadvertently or otherwise) these pages directly.</span></span> <span data-ttu-id="fd898-142">Es aconsejable usar un carácter de subrayado para asignar nombres a las páginas que tengan bloques de contenido en ellas, ya que en realidad no desea que los usuarios &#8212; puedan solicitar estas páginas y que se inserten de forma estricta en otras páginas.</span><span class="sxs-lookup"><span data-stu-id="fd898-142">It's a good idea to use an underscore to name pages that have content blocks in them, because you don't really want users to be able to request these pages &#8212; they exist strictly to be inserted into other pages.</span></span>
6. <span data-ttu-id="fd898-143">En la carpeta *compartida* , cree un archivo denominado *\_footer. cshtml* y reemplace el contenido por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-143">In the *Shared* folder, create a file named *\_Footer.cshtml* and replace the content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample3.html)]
7. <span data-ttu-id="fd898-144">En la página *index. cshtml* , agregue dos llamadas al método `RenderPage`, como se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="fd898-144">In the *Index.cshtml* page, add two calls to the `RenderPage` method, as shown here:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample4.html)]

    <span data-ttu-id="fd898-145">Esto muestra cómo insertar un bloque de contenido en una página web.</span><span class="sxs-lookup"><span data-stu-id="fd898-145">This shows how to insert a content block into a web page.</span></span> <span data-ttu-id="fd898-146">Llame al método `RenderPage` y pásele el nombre del archivo cuyo contenido desea insertar en ese momento.</span><span class="sxs-lookup"><span data-stu-id="fd898-146">You call the `RenderPage` method and pass it the name of the file whose contents you want to insert at that point.</span></span> <span data-ttu-id="fd898-147">Aquí va a insertar el contenido de los archivos *\_header. cshtml* y *\_footer. cshtml* en el archivo *index. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="fd898-147">Here, you're inserting the contents of the *\_Header.cshtml* and *\_Footer.cshtml* files into the *Index.cshtml* file.</span></span>
8. <span data-ttu-id="fd898-148">Ejecute la página *index. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-148">Run the *Index.cshtml* page in a browser.</span></span> <span data-ttu-id="fd898-149">(En WebMatrix, en el área de trabajo **archivos** , haga clic con el botón derecho en el archivo y seleccione **iniciar en el explorador**).</span><span class="sxs-lookup"><span data-stu-id="fd898-149">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.)</span></span>
9. <span data-ttu-id="fd898-150">En el explorador, vea el origen de la página.</span><span class="sxs-lookup"><span data-stu-id="fd898-150">In the browser, view the page source.</span></span> <span data-ttu-id="fd898-151">(Por ejemplo, en Internet Explorer, haga clic con el botón secundario en la página y, a continuación, haga clic en **Ver código fuente**).</span><span class="sxs-lookup"><span data-stu-id="fd898-151">(For example, in Internet Explorer, right-click the page and then click **View Source**.)</span></span>

    <span data-ttu-id="fd898-152">Esto le permite ver el marcado de la página web que se envía al explorador, que combina el marcado de la página de índice con los bloques de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-152">This lets you see the web page markup that's sent to the browser, which combines the index page markup with the content blocks.</span></span> <span data-ttu-id="fd898-153">En el ejemplo siguiente se muestra el origen de la página que se representa para *index. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-153">The following example shows the page source that's rendered for *Index.cshtml*.</span></span> <span data-ttu-id="fd898-154">Las llamadas a `RenderPage` que insertó en *index. cshtml* se han reemplazado por el contenido real de los archivos de encabezado y de pie de página.</span><span class="sxs-lookup"><span data-stu-id="fd898-154">The calls to `RenderPage` that you inserted into *Index.cshtml* have been replaced with the actual contents of the header and footer files.</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample5.html)]

## <a name="creating-a-consistent-look-using-layout-pages"></a><span data-ttu-id="fd898-155">Crear una apariencia coherente mediante páginas de diseño</span><span class="sxs-lookup"><span data-stu-id="fd898-155">Creating a Consistent Look Using Layout Pages</span></span>

<span data-ttu-id="fd898-156">Hasta ahora ha visto que es fácil incluir el mismo contenido en varias páginas.</span><span class="sxs-lookup"><span data-stu-id="fd898-156">So far you've seen that it's easy to include the same content on multiple pages.</span></span> <span data-ttu-id="fd898-157">Un enfoque más estructurado para crear una apariencia coherente para un sitio es usar páginas de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-157">A more structured approach to creating a consistent look for a site is to use layout pages.</span></span> <span data-ttu-id="fd898-158">Una página de diseño define la estructura de una página web, pero no contiene contenido real.</span><span class="sxs-lookup"><span data-stu-id="fd898-158">A layout page defines the structure of a web page, but doesn't contain any actual content.</span></span> <span data-ttu-id="fd898-159">Después de crear una página de diseño, puede crear páginas web que contengan el contenido y vincularlas a la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-159">After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.</span></span> <span data-ttu-id="fd898-160">Cuando se muestran estas páginas, se les aplicará formato según la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-160">When these pages are displayed, they'll be formatted according to the layout page.</span></span> <span data-ttu-id="fd898-161">(En este sentido, una página de diseño actúa como un tipo de plantilla para el contenido que se define en otras páginas).</span><span class="sxs-lookup"><span data-stu-id="fd898-161">(In this sense, a layout page acts as a kind of template for content that's defined in other pages.)</span></span>

<span data-ttu-id="fd898-162">La página de diseño es igual que cualquier página HTML, salvo que contiene una llamada al método `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="fd898-162">The layout page is just like any HTML page, except that it contains a call to the `RenderBody` method.</span></span> <span data-ttu-id="fd898-163">La posición del método `RenderBody` en la página de diseño determina dónde se incluirá la información de la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-163">The position of the `RenderBody` method in the layout page determines where the information from the content page will be included.</span></span>

<span data-ttu-id="fd898-164">En el diagrama siguiente se muestra cómo se combinan las páginas de contenido y de diseño en tiempo de ejecución para generar la página web finalizada.</span><span class="sxs-lookup"><span data-stu-id="fd898-164">The following diagram shows how content pages and layout pages are combined at run time to produce the finished web page.</span></span> <span data-ttu-id="fd898-165">El explorador solicita una página de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-165">The browser requests a content page.</span></span> <span data-ttu-id="fd898-166">La página contenido contiene código que especifica la página de diseño que se va a utilizar para la estructura de la página.</span><span class="sxs-lookup"><span data-stu-id="fd898-166">The content page has code in it that specifies the layout page to use for the page's structure.</span></span> <span data-ttu-id="fd898-167">En la página de diseño, el contenido se inserta en el punto en el que se llama al método de `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="fd898-167">In the layout page, the content is inserted at the point where the `RenderBody` method is called.</span></span> <span data-ttu-id="fd898-168">Los bloques de contenido también se pueden insertar en la página de diseño llamando al método `RenderPage`, como hizo en la sección anterior.</span><span class="sxs-lookup"><span data-stu-id="fd898-168">Content blocks can also be inserted into the layout page by calling the `RenderPage` method, the way you did in the previous section.</span></span> <span data-ttu-id="fd898-169">Cuando se completa la página web, se envía al explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-169">When the web page is complete, it's sent to the browser.</span></span>

![Captura de pantalla que muestra una página en el explorador que es el resultado de la ejecución de una página que incluye llamadas al método RenderBody.](3-creating-a-consistent-look/_static/image3.jpg)

<span data-ttu-id="fd898-171">En el siguiente procedimiento se muestra cómo crear una página de diseño y vincular páginas de contenido a ella.</span><span class="sxs-lookup"><span data-stu-id="fd898-171">The following procedure shows how to create a layout page and link content pages to it.</span></span>

1. <span data-ttu-id="fd898-172">En la carpeta *compartida* de su sitio web, cree un archivo denominado *\_Layout1. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-172">In the *Shared* folder of your website, create a file named *\_Layout1.cshtml*.</span></span>
2. <span data-ttu-id="fd898-173">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-173">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample6.html)]

    <span data-ttu-id="fd898-174">Use el método `RenderPage` en una página de diseño para insertar bloques de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-174">You use the `RenderPage` method in a layout page to insert content blocks.</span></span> <span data-ttu-id="fd898-175">Una página de diseño solo puede contener una llamada al método `RenderBody`.</span><span class="sxs-lookup"><span data-stu-id="fd898-175">A layout page can contain only one call to the `RenderBody` method.</span></span>
3. <span data-ttu-id="fd898-176">En la carpeta *compartida* , cree un archivo denominado *\_Header2. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-176">In the *Shared* folder, create a file named *\_Header2.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample7.html)]
4. <span data-ttu-id="fd898-177">En la carpeta raíz, cree una nueva carpeta y asígnele el nombre *estilos*.</span><span class="sxs-lookup"><span data-stu-id="fd898-177">In the root folder, create a new folder and name it *Styles*.</span></span>
5. <span data-ttu-id="fd898-178">En la carpeta *styles* , cree un archivo denominado *site. CSS* y agregue las siguientes definiciones de estilo:</span><span class="sxs-lookup"><span data-stu-id="fd898-178">In the *Styles* folder, create a file named *Site.css* and add the following style definitions:</span></span>

    [!code-css[Main](3-creating-a-consistent-look/samples/sample8.css)]

    <span data-ttu-id="fd898-179">Estas definiciones de estilo solo están aquí para mostrar cómo se pueden usar las hojas de estilos con las páginas de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-179">These style definitions are here only to show how style sheets can be used with layout pages.</span></span> <span data-ttu-id="fd898-180">Si lo desea, puede definir sus propios estilos para estos elementos.</span><span class="sxs-lookup"><span data-stu-id="fd898-180">If you want, you can define your own styles for these elements.</span></span>
6. <span data-ttu-id="fd898-181">En la carpeta raíz, cree un archivo denominado *Content1. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-181">In the root folder, create a file named *Content1.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample9.cshtml)]

    <span data-ttu-id="fd898-182">Se trata de una página que utilizará una página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-182">This is a page that will use a layout page.</span></span> <span data-ttu-id="fd898-183">El bloque de código en la parte superior de la página indica qué página de diseño se va a usar para dar formato a este contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-183">The code block at the top of the page indicates which layout page to use to format this content.</span></span>
7. <span data-ttu-id="fd898-184">Ejecute *Content1. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-184">Run *Content1.cshtml* in a browser.</span></span> <span data-ttu-id="fd898-185">La página representada usa el formato y la hoja de estilos definidos en *\_Layout1. cshtml* y el texto (contenido) definido en *Content1. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-185">The rendered page uses the format and style sheet defined in *\_Layout1.cshtml* and the text (content) defined in *Content1.cshtml*.</span></span>

    ![[imagen]](3-creating-a-consistent-look/_static/image4.png)

    <span data-ttu-id="fd898-187">Puede repetir el paso 6 para crear páginas de contenido adicionales que pueden compartir la misma página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-187">You can repeat step 6 to create additional content pages that can then share the same layout page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="fd898-188">Puede configurar el sitio para que pueda usar automáticamente la misma página de diseño para todas las páginas de contenido de una carpeta.</span><span class="sxs-lookup"><span data-stu-id="fd898-188">You can set up your site so that you can automatically use the same layout page for all the content pages in a folder.</span></span> <span data-ttu-id="fd898-189">Para obtener más información, consulte [personalizar el comportamiento de todo el sitio para ASP.NET Web pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span><span class="sxs-lookup"><span data-stu-id="fd898-189">For details, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906).</span></span>

## <a name="designing-layout-pages-that-have-multiple-content-sections"></a><span data-ttu-id="fd898-190">Diseñar páginas de diseño que tengan varias secciones de contenido</span><span class="sxs-lookup"><span data-stu-id="fd898-190">Designing Layout Pages That Have Multiple Content Sections</span></span>

<span data-ttu-id="fd898-191">Una página de contenido puede tener varias secciones, lo que resulta útil si desea usar diseños que tengan varias áreas con contenido reemplazable.</span><span class="sxs-lookup"><span data-stu-id="fd898-191">A content page can have multiple sections, which is useful if you want to use layouts that have multiple areas with replaceable content.</span></span> <span data-ttu-id="fd898-192">En la página contenido, asigne un nombre único a cada sección.</span><span class="sxs-lookup"><span data-stu-id="fd898-192">In the content page, you give each section a unique name.</span></span> <span data-ttu-id="fd898-193">(La sección predeterminada se deja sin nombre). En la página diseño, agregue un método `RenderBody` para especificar dónde debe aparecer la sección sin nombre (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="fd898-193">(The default section is left unnamed.) In the layout page, you add a `RenderBody` method to specify where the unnamed (default) section should appear.</span></span> <span data-ttu-id="fd898-194">A continuación, agregue métodos de `RenderSection` independientes para representar secciones con nombre de forma individual.</span><span class="sxs-lookup"><span data-stu-id="fd898-194">You then add separate `RenderSection` methods in order to render named sections individually.</span></span>

<span data-ttu-id="fd898-195">En el diagrama siguiente se muestra cómo ASP.NET controla el contenido dividido en varias secciones.</span><span class="sxs-lookup"><span data-stu-id="fd898-195">The following diagram shows how ASP.NET handles content that's divided into multiple sections.</span></span> <span data-ttu-id="fd898-196">Cada sección con nombre se encuentra en un bloque de sección de la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-196">Each named section is contained in a section block in the content page.</span></span> <span data-ttu-id="fd898-197">(Se denominan `Header` y `List` en el ejemplo). La sección inserta contenido de Framework en la página de diseño en el punto en el que se llama al método `RenderSection`.</span><span class="sxs-lookup"><span data-stu-id="fd898-197">(They're named `Header` and `List` in the example.) The framework inserts content section into the layout page at the point where the `RenderSection` method is called.</span></span> <span data-ttu-id="fd898-198">La sección sin nombre (valor predeterminado) se inserta en el punto en el que se llama al método `RenderBody`, como se vio anteriormente.</span><span class="sxs-lookup"><span data-stu-id="fd898-198">The unnamed (default) section is inserted at the point where the `RenderBody` method is called, as you saw earlier.</span></span>

![Diagrama conceptual en el que se muestra cómo el método RenderSection inserta las secciones References en la página actual.](3-creating-a-consistent-look/_static/image5.jpg)

<span data-ttu-id="fd898-200">Este procedimiento muestra cómo crear una página de contenido que tiene varias secciones de contenido y cómo representarla mediante una página de diseño que admite varias secciones de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-200">This procedure shows how to create a content page that has multiple content sections and how to render it using a layout page that supports multiple content sections.</span></span>

1. <span data-ttu-id="fd898-201">En la carpeta *compartida* , cree un archivo denominado *\_Layout2. cshtml*.</span><span class="sxs-lookup"><span data-stu-id="fd898-201">In the *Shared* folder, create a file named *\_Layout2.cshtml*.</span></span>
2. <span data-ttu-id="fd898-202">Reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-202">Replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample10.html)]

    <span data-ttu-id="fd898-203">El método `RenderSection` se usa para representar las secciones de encabezado y lista.</span><span class="sxs-lookup"><span data-stu-id="fd898-203">You use the `RenderSection` method to render both the header and list sections.</span></span>
3. <span data-ttu-id="fd898-204">En la carpeta raíz, cree un archivo denominado *Content2. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-204">In the root folder, create a file named *Content2.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample11.cshtml)]

    <span data-ttu-id="fd898-205">Esta página de contenido contiene un bloque de código en la parte superior de la página.</span><span class="sxs-lookup"><span data-stu-id="fd898-205">This content page contains a code block at the top of the page.</span></span> <span data-ttu-id="fd898-206">Cada sección con nombre se encuentra en un bloque de sección.</span><span class="sxs-lookup"><span data-stu-id="fd898-206">Each named section is contained in a section block.</span></span> <span data-ttu-id="fd898-207">El resto de la página contiene la sección de contenido predeterminado (sin nombre).</span><span class="sxs-lookup"><span data-stu-id="fd898-207">The rest of the page contains the default (unnamed) content section.</span></span>
4. <span data-ttu-id="fd898-208">Ejecute *Content2. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-208">Run *Content2.cshtml* in a browser.</span></span>

    ![Captura de pantalla que muestra una página en el explorador que es el resultado de la ejecución de una página que incluye llamadas al método RenderSection.](3-creating-a-consistent-look/_static/image6.png)

## <a name="making-content-sections-optional"></a><span data-ttu-id="fd898-210">Convertir las secciones de contenido en opcionales</span><span class="sxs-lookup"><span data-stu-id="fd898-210">Making Content Sections Optional</span></span>

<span data-ttu-id="fd898-211">Normalmente, las secciones que se crean en una página de contenido tienen que coincidir con las que se definen en la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-211">Normally, the sections that you create in a content page have to match sections that are defined in the layout page.</span></span> <span data-ttu-id="fd898-212">Puede obtener errores si se produce alguna de las siguientes situaciones:</span><span class="sxs-lookup"><span data-stu-id="fd898-212">You can get errors if any of the following occur:</span></span>

- <span data-ttu-id="fd898-213">La página contenido contiene una sección que no tiene ninguna sección correspondiente en la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-213">The content page contains a section that has no corresponding section in the layout page.</span></span>
- <span data-ttu-id="fd898-214">La página de diseño contiene una sección para la que no hay contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-214">The layout page contains a section for which there's no content.</span></span>
- <span data-ttu-id="fd898-215">La página de diseño incluye llamadas a métodos que intentan representar la misma sección más de una vez.</span><span class="sxs-lookup"><span data-stu-id="fd898-215">The layout page includes method calls that try to render the same section more than once.</span></span>

<span data-ttu-id="fd898-216">Sin embargo, puede invalidar este comportamiento para una sección con nombre declarando la sección como opcional en la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-216">However, you can override this behavior for a named section by declaring the section to be optional in the layout page.</span></span> <span data-ttu-id="fd898-217">Esto le permite definir varias páginas de contenido que pueden compartir una página de diseño pero que pueden o no tener contenido para una sección específica.</span><span class="sxs-lookup"><span data-stu-id="fd898-217">This lets you define multiple content pages that can share a layout page but that might or might not have content for a specific section.</span></span>

1. <span data-ttu-id="fd898-218">Abra *Content2. cshtml* y quite la siguiente sección:</span><span class="sxs-lookup"><span data-stu-id="fd898-218">Open *Content2.cshtml* and remove the following section:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample12.cshtml)]
2. <span data-ttu-id="fd898-219">Guarde la página y ejecútela en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-219">Save the page and then run it in a browser.</span></span> <span data-ttu-id="fd898-220">Aparece un mensaje de error, porque la página de contenido no proporciona contenido para una sección definida en la página de diseño, es decir, la sección de encabezado.</span><span class="sxs-lookup"><span data-stu-id="fd898-220">An error message is displayed, because the content page doesn't provide content for a section defined in the layout page, namely the header section.</span></span>

    ![Captura de pantalla que muestra el error que se produce si se ejecuta una página que llama al método RenderSection, pero no se proporciona la sección correspondiente.](3-creating-a-consistent-look/_static/image7.png)
3. <span data-ttu-id="fd898-222">En la carpeta *compartida* , abra la página *\_Layout2. cshtml* y reemplace esta línea:</span><span class="sxs-lookup"><span data-stu-id="fd898-222">In the *Shared* folder, open the *\_Layout2.cshtml* page and replace this line:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample13.js)]

    <span data-ttu-id="fd898-223">por el siguiente código:</span><span class="sxs-lookup"><span data-stu-id="fd898-223">with the following code:</span></span>

    [!code-javascript[Main](3-creating-a-consistent-look/samples/sample14.js)]

    <span data-ttu-id="fd898-224">Como alternativa, podría reemplazar la línea anterior del código por el siguiente bloque de código, lo que produce los mismos resultados:</span><span class="sxs-lookup"><span data-stu-id="fd898-224">As an alternative, you could replace the previous line of code with the following code block, which produces the same results:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample15.cshtml)]
4. <span data-ttu-id="fd898-225">Vuelva a ejecutar la página *Content2. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-225">Run the *Content2.cshtml* page in a browser again.</span></span> <span data-ttu-id="fd898-226">(Si sigue teniendo esta página abierta en el explorador, solo puede actualizarla). Esta vez, la página se muestra sin errores, aunque no tenga ningún encabezado.</span><span class="sxs-lookup"><span data-stu-id="fd898-226">(If you still have this page open in the browser, you can just refresh it.) This time the page is displayed with no error, even though it has no header.</span></span>

## <a name="passing-data-to-layout-pages"></a><span data-ttu-id="fd898-227">Pasar datos a páginas de diseño</span><span class="sxs-lookup"><span data-stu-id="fd898-227">Passing Data to Layout Pages</span></span>

<span data-ttu-id="fd898-228">Es posible que tenga datos definidos en la página de contenido a los que necesita hacer referencia en una página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-228">You might have data defined in the content page that you need to refer to in a layout page.</span></span> <span data-ttu-id="fd898-229">Si es así, debe pasar los datos de la página de contenido a la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-229">If so, you need to pass the data from the content page to the layout page.</span></span> <span data-ttu-id="fd898-230">Por ejemplo, puede que desee mostrar el estado de inicio de sesión de un usuario, o puede que desee mostrar u ocultar áreas de contenido en función de los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="fd898-230">For example, you might want to display the login status of a user, or you might want to show or hide content areas based on user input.</span></span>

<span data-ttu-id="fd898-231">Para pasar datos de una página de contenido a una página de diseño, puede colocar valores en la propiedad `PageData` de la página de contenido.</span><span class="sxs-lookup"><span data-stu-id="fd898-231">To pass data from a content page to a layout page, you can put values into the `PageData` property of the content page.</span></span> <span data-ttu-id="fd898-232">La propiedad `PageData` es una colección de pares nombre-valor que contienen los datos que se van a pasar de una página a otra.</span><span class="sxs-lookup"><span data-stu-id="fd898-232">The `PageData` property is a collection of name/value pairs that hold the data that you want to pass between pages.</span></span> <span data-ttu-id="fd898-233">En la página diseño, puede leer los valores de la propiedad `PageData`.</span><span class="sxs-lookup"><span data-stu-id="fd898-233">In the layout page, you can then read values out of the `PageData` property.</span></span>

<span data-ttu-id="fd898-234">Este es otro diagrama.</span><span class="sxs-lookup"><span data-stu-id="fd898-234">Here's another diagram.</span></span> <span data-ttu-id="fd898-235">Esta muestra cómo ASP.NET puede usar la propiedad `PageData` para pasar valores de una página de contenido a la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-235">This one shows how ASP.NET can use the `PageData` property to pass values from a content page to the layout page.</span></span> <span data-ttu-id="fd898-236">Cuando ASP.NET comienza a compilar la página web, crea la colección de `PageData`.</span><span class="sxs-lookup"><span data-stu-id="fd898-236">When ASP.NET begins building the web page, it creates the `PageData` collection.</span></span> <span data-ttu-id="fd898-237">En la página contenido, escriba el código para colocar los datos en la colección de `PageData`.</span><span class="sxs-lookup"><span data-stu-id="fd898-237">In the content page, you write code to put data in the `PageData` collection.</span></span> <span data-ttu-id="fd898-238">También se puede tener acceso a los valores de la colección `PageData` en otras secciones de la página de contenido o de bloques de contenido adicionales.</span><span class="sxs-lookup"><span data-stu-id="fd898-238">Values in the `PageData` collection can also be accessed by other sections in the content page or by additional content blocks.</span></span>

![Diagrama conceptual que muestra cómo una página de contenido puede rellenar un diccionario de PageData y pasar esa información a la página de diseño.](3-creating-a-consistent-look/_static/image8.jpg)

<span data-ttu-id="fd898-240">En el procedimiento siguiente se muestra cómo pasar datos de una página de contenido a una página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-240">The following procedure shows how to pass data from a content page to a layout page.</span></span> <span data-ttu-id="fd898-241">Cuando se ejecuta la página, muestra un botón que permite al usuario ocultar o mostrar una lista definida en la página de diseño.</span><span class="sxs-lookup"><span data-stu-id="fd898-241">When the page runs, it displays a button that lets the user hide or show a list that's defined in the layout page.</span></span> <span data-ttu-id="fd898-242">Cuando los usuarios hacen clic en el botón, establece un valor true/false (booleano) en la propiedad `PageData`.</span><span class="sxs-lookup"><span data-stu-id="fd898-242">When users click the button, it sets a true/false (Boolean) value in the `PageData` property.</span></span> <span data-ttu-id="fd898-243">La página de diseño lee ese valor y, si es false, oculta la lista.</span><span class="sxs-lookup"><span data-stu-id="fd898-243">The layout page reads that value, and if it's false, hides the list.</span></span> <span data-ttu-id="fd898-244">El valor también se utiliza en la página contenido para determinar si se debe mostrar el botón **ocultar lista** o el botón **Mostrar lista** .</span><span class="sxs-lookup"><span data-stu-id="fd898-244">The value is also used in the content page to determine whether to display the **Hide List** button or the **Show List** button.</span></span>

![[imagen]](3-creating-a-consistent-look/_static/image9.jpg)

1. <span data-ttu-id="fd898-246">En la carpeta raíz, cree un archivo denominado *Content3. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-246">In the root folder, create a file named *Content3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample16.cshtml)]

    <span data-ttu-id="fd898-247">El código almacena dos fragmentos de datos en la propiedad &#8212; `PageData` el título de la página web y true o false para especificar si se va a mostrar una lista.</span><span class="sxs-lookup"><span data-stu-id="fd898-247">The code stores two pieces of data in the `PageData` property &#8212; the title of the web page and true or false to specify whether to display a list.</span></span>

    <span data-ttu-id="fd898-248">Tenga en cuenta que ASP.NET le permite colocar el marcado HTML en la página condicionalmente mediante un bloque de código.</span><span class="sxs-lookup"><span data-stu-id="fd898-248">Notice that ASP.NET lets you put HTML markup into the page conditionally using a code block.</span></span> <span data-ttu-id="fd898-249">Por ejemplo, el bloque `if/else` del cuerpo de la página determina el formulario que se va a mostrar dependiendo de si `PageData["ShowList"]` está establecido en true.</span><span class="sxs-lookup"><span data-stu-id="fd898-249">For example, the `if/else` block in the body of the page determines which form to display depending on whether `PageData["ShowList"]` is set to true.</span></span>
2. <span data-ttu-id="fd898-250">En la carpeta *compartida* , cree un archivo denominado *\_Layout3. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-250">In the *Shared* folder, create a file named *\_Layout3.cshtml* and replace any existing content with the following:</span></span>

    [!code-cshtml[Main](3-creating-a-consistent-look/samples/sample17.cshtml)]

    <span data-ttu-id="fd898-251">La página de diseño incluye una expresión en el elemento `<title>` que obtiene el valor de título de la propiedad `PageData`.</span><span class="sxs-lookup"><span data-stu-id="fd898-251">The layout page includes an expression in the `<title>` element that gets the title value from the `PageData` property.</span></span> <span data-ttu-id="fd898-252">También utiliza el valor `ShowList` de la propiedad `PageData` para determinar si se va a mostrar el bloque de contenido de la lista.</span><span class="sxs-lookup"><span data-stu-id="fd898-252">It also uses the `ShowList` value of the `PageData` property to determine whether to display the list content block.</span></span>
3. <span data-ttu-id="fd898-253">En la carpeta *compartida* , cree un archivo denominado *\_List. cshtml* y reemplace el contenido existente por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="fd898-253">In the *Shared* folder, create a file named *\_List.cshtml* and replace any existing content with the following:</span></span>

    [!code-html[Main](3-creating-a-consistent-look/samples/sample18.html)]
4. <span data-ttu-id="fd898-254">Ejecute la página *Content3. cshtml* en un explorador.</span><span class="sxs-lookup"><span data-stu-id="fd898-254">Run the *Content3.cshtml* page in a browser.</span></span> <span data-ttu-id="fd898-255">La página se muestra con la lista visible en el lado izquierdo de la página y un botón **ocultar lista** en la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="fd898-255">The page is displayed with the list visible on the left side of the page and a **Hide List** button at the bottom.</span></span>

    ![Captura de pantalla que muestra la página que incluye la lista y un botón que dice "ocultar lista".](3-creating-a-consistent-look/_static/image10.png)
5. <span data-ttu-id="fd898-257">Haga clic en **ocultar lista**.</span><span class="sxs-lookup"><span data-stu-id="fd898-257">Click **Hide List**.</span></span> <span data-ttu-id="fd898-258">La lista desaparece y el botón cambia a **Mostrar lista**.</span><span class="sxs-lookup"><span data-stu-id="fd898-258">The list disappears and the button changes to **Show List**.</span></span>

    ![Captura de pantalla que muestra la página que no incluye la lista y un botón que indica "Mostrar lista".](3-creating-a-consistent-look/_static/image11.png)
6. <span data-ttu-id="fd898-260">Haga clic en el botón **Mostrar lista** y se volverá a mostrar la lista.</span><span class="sxs-lookup"><span data-stu-id="fd898-260">Click the **Show List** button, and the list is displayed again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="fd898-261">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="fd898-261">Additional Resources</span></span>

[<span data-ttu-id="fd898-262">Personalizar el comportamiento de todo el sitio para ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="fd898-262">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)

---
title: Hospedaje e implementación de ASP.NET Core
author: guardrex
description: Obtenga información sobre cómo configurar entornos de hospedaje e implementar aplicaciones de ASP.NET Core.
ms.author: riande
ms.custom: mvc
ms.date: 12/06/2018
uid: host-and-deploy/index
---
# <a name="host-and-deploy-aspnet-core"></a><span data-ttu-id="fffb2-103">Hospedaje e implementación de ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="fffb2-103">Host and deploy ASP.NET Core</span></span>

<span data-ttu-id="fffb2-104">En general, para implementar una aplicación de ASP.NET Core en un entorno de hospedaje:</span><span class="sxs-lookup"><span data-stu-id="fffb2-104">In general, to deploy an ASP.NET Core app to a hosting environment:</span></span>

* <span data-ttu-id="fffb2-105">Implemente la aplicación publicada en una carpeta en el servidor de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="fffb2-105">Deploy the published app to a folder on the hosting server.</span></span>
* <span data-ttu-id="fffb2-106">Configure un administrador de procesos que inicie la aplicación cuando lleguen las solicitudes y la reinicie si se bloquea o si se reinicia el servidor.</span><span class="sxs-lookup"><span data-stu-id="fffb2-106">Set up a process manager that starts the app when requests arrive and restarts the app after it crashes or the server reboots.</span></span>
* <span data-ttu-id="fffb2-107">Para configurar un proxy inverso, configure un proxy inverso para reenviar solicitudes a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="fffb2-107">For configuration of a reverse proxy, set up a reverse proxy to forward requests to the app.</span></span>

## <a name="publish-to-a-folder"></a><span data-ttu-id="fffb2-108">Publicar la aplicación en una carpeta</span><span class="sxs-lookup"><span data-stu-id="fffb2-108">Publish to a folder</span></span>

<span data-ttu-id="fffb2-109">El comando [dotnet publish](/dotnet/core/tools/dotnet-publish) compila el código de la aplicación y copia los archivos necesarios para ejecutar la aplicación en una carpeta *publish*.</span><span class="sxs-lookup"><span data-stu-id="fffb2-109">The [dotnet publish](/dotnet/core/tools/dotnet-publish) command compiles app code and copies the files required to run the app into a *publish* folder.</span></span> <span data-ttu-id="fffb2-110">Al efectuar una implementación desde Visual Studio, el paso `dotnet publish` se lleva a cabo de forma automática antes de que los archivos se copien en el destino de implementación.</span><span class="sxs-lookup"><span data-stu-id="fffb2-110">When deploying from Visual Studio, the `dotnet publish` step occurs automatically before the files are copied to the deployment destination.</span></span>

### <a name="folder-contents"></a><span data-ttu-id="fffb2-111">Contenido de la carpeta</span><span class="sxs-lookup"><span data-stu-id="fffb2-111">Folder contents</span></span>

<span data-ttu-id="fffb2-112">La carpeta *publish* contiene uno o varios archivos de ensamblado de aplicaciones, dependencias y, opcionalmente, el entorno de ejecución. NET.</span><span class="sxs-lookup"><span data-stu-id="fffb2-112">The *publish* folder contains one or more app assembly files, dependencies, and optionally the .NET runtime.</span></span>

<span data-ttu-id="fffb2-113">Se puede publicar una aplicación .NET Core como *implementación independiente* o *implementación dependiente del marco*.</span><span class="sxs-lookup"><span data-stu-id="fffb2-113">A .NET Core app can be published as *self-contained deployment* or *framework-dependent deployment*.</span></span> <span data-ttu-id="fffb2-114">Si la aplicación es independiente, los archivos de ensamblado que contienen el entorno de ejecución .NET se incluyen en la carpeta *publish*.</span><span class="sxs-lookup"><span data-stu-id="fffb2-114">If the app is self-contained, the assembly files that contain the .NET runtime are included in the *publish* folder.</span></span> <span data-ttu-id="fffb2-115">Si la aplicación es dependiente del marco, los archivos del tiempo de ejecución .NET no se incluyen porque la aplicación tiene una referencia a una versión de .NET que está instalada en el servidor.</span><span class="sxs-lookup"><span data-stu-id="fffb2-115">If the app is framework-dependent, the .NET runtime files aren't included because the app has a reference to a version of .NET that's installed on the server.</span></span> <span data-ttu-id="fffb2-116">El modelo de implementación predeterminado es dependiente del marco.</span><span class="sxs-lookup"><span data-stu-id="fffb2-116">The default deployment model is framework-dependent.</span></span> <span data-ttu-id="fffb2-117">Para más información, vea [Implementación de aplicaciones .NET Core](/dotnet/core/deploying/).</span><span class="sxs-lookup"><span data-stu-id="fffb2-117">For more information, see [.NET Core application deployment](/dotnet/core/deploying/).</span></span>

<span data-ttu-id="fffb2-118">Además de los archivos *.exe* y *.dll*, la carpeta *publish* de una aplicación ASP.NET Core suele contener archivos de configuración, recursos estáticos y vistas de MVC.</span><span class="sxs-lookup"><span data-stu-id="fffb2-118">In addition to *.exe* and *.dll* files, the *publish* folder for an ASP.NET Core app typically contains configuration files, static assets, and MVC views.</span></span> <span data-ttu-id="fffb2-119">Para obtener más información, consulta <xref:host-and-deploy/directory-structure>.</span><span class="sxs-lookup"><span data-stu-id="fffb2-119">For more information, see <xref:host-and-deploy/directory-structure>.</span></span>

## <a name="set-up-a-process-manager"></a><span data-ttu-id="fffb2-120">Configurar un administrador de procesos</span><span class="sxs-lookup"><span data-stu-id="fffb2-120">Set up a process manager</span></span>

<span data-ttu-id="fffb2-121">Una aplicación de ASP.NET Core es una aplicación de consola que se debe iniciar cuando se inicia un servidor y se debe reiniciar si este se bloquea.</span><span class="sxs-lookup"><span data-stu-id="fffb2-121">An ASP.NET Core app is a console app that must be started when a server boots and restarted if it crashes.</span></span> <span data-ttu-id="fffb2-122">Para automatizar los inicios y los reinicios, se necesita un administrador de procesos.</span><span class="sxs-lookup"><span data-stu-id="fffb2-122">To automate starts and restarts, a process manager is required.</span></span> <span data-ttu-id="fffb2-123">Los administradores de procesos más comunes para ASP.NET Core son:</span><span class="sxs-lookup"><span data-stu-id="fffb2-123">The most common process managers for ASP.NET Core are:</span></span>

* <span data-ttu-id="fffb2-124">Linux</span><span class="sxs-lookup"><span data-stu-id="fffb2-124">Linux</span></span>
  * [<span data-ttu-id="fffb2-125">Nginx</span><span class="sxs-lookup"><span data-stu-id="fffb2-125">Nginx</span></span>](xref:host-and-deploy/linux-nginx)
  * [<span data-ttu-id="fffb2-126">Apache</span><span class="sxs-lookup"><span data-stu-id="fffb2-126">Apache</span></span>](xref:host-and-deploy/linux-apache)
* <span data-ttu-id="fffb2-127">Windows</span><span class="sxs-lookup"><span data-stu-id="fffb2-127">Windows</span></span>
  * [<span data-ttu-id="fffb2-128">IIS</span><span class="sxs-lookup"><span data-stu-id="fffb2-128">IIS</span></span>](xref:host-and-deploy/iis/index)
  * [<span data-ttu-id="fffb2-129">Servicio de Windows</span><span class="sxs-lookup"><span data-stu-id="fffb2-129">Windows Service</span></span>](xref:host-and-deploy/windows-service)

## <a name="set-up-a-reverse-proxy"></a><span data-ttu-id="fffb2-130">Configurar un proxy inverso</span><span class="sxs-lookup"><span data-stu-id="fffb2-130">Set up a reverse proxy</span></span>

::: moniker range=">= aspnetcore-2.0"

<span data-ttu-id="fffb2-131">Si la aplicación usa el servidor [Kestrel](xref:fundamentals/servers/kestrel), se puede usar [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache) o [IIS](xref:host-and-deploy/iis/index) como servidor proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="fffb2-131">If the app uses the [Kestrel](xref:fundamentals/servers/kestrel) server, [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache), or [IIS](xref:host-and-deploy/iis/index) can be used as a reverse proxy server.</span></span> <span data-ttu-id="fffb2-132">Un servidor proxy inverso recibe las solicitudes HTTP de Internet y las reenvía a Kestrel.</span><span class="sxs-lookup"><span data-stu-id="fffb2-132">A reverse proxy server receives HTTP requests from the Internet and forwards them to Kestrel.</span></span>

<span data-ttu-id="fffb2-133">Cualquiera de las configuraciones, con o sin un servidor proxy inverso, es una configuración de hospedaje admitida para ASP.NET 2.0 o aplicaciones posteriores.</span><span class="sxs-lookup"><span data-stu-id="fffb2-133">Either configuration&mdash;with or without a reverse proxy server&mdash;is a supported hosting configuration for ASP.NET Core 2.0 or later apps.</span></span> <span data-ttu-id="fffb2-134">Para más información, vea [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel#when-to-use-kestrel-with-a-reverse-proxy) (Cuándo se debe usar Kestrel con un proxy inverso).</span><span class="sxs-lookup"><span data-stu-id="fffb2-134">For more information, see [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel#when-to-use-kestrel-with-a-reverse-proxy).</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.0"

<span data-ttu-id="fffb2-135">Si la aplicación usa el servidor [Kestrel](xref:fundamentals/servers/kestrel) y se verá expuesto a Internet, debe usar [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache) o [IIS](xref:host-and-deploy/iis/index) como servidor proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="fffb2-135">If the app uses the [Kestrel](xref:fundamentals/servers/kestrel) server and will be exposed to the Internet, use [Nginx](xref:host-and-deploy/linux-nginx), [Apache](xref:host-and-deploy/linux-apache), or [IIS](xref:host-and-deploy/iis/index) as a reverse proxy server.</span></span> <span data-ttu-id="fffb2-136">Un servidor proxy inverso recibe las solicitudes HTTP de Internet y las reenvía a Kestrel.</span><span class="sxs-lookup"><span data-stu-id="fffb2-136">A reverse proxy server receives HTTP requests from the Internet and forwards them to Kestrel.</span></span> <span data-ttu-id="fffb2-137">La razón principal por la que debe usar un proxy inverso es la seguridad.</span><span class="sxs-lookup"><span data-stu-id="fffb2-137">The main reason for using a reverse proxy is security.</span></span> <span data-ttu-id="fffb2-138">Para más información, vea [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel?tabs=aspnetcore1x#when-to-use-kestrel-with-a-reverse-proxy) (Cuándo se debe usar Kestrel con un proxy inverso).</span><span class="sxs-lookup"><span data-stu-id="fffb2-138">For more information, see [When to use Kestrel with a reverse proxy](xref:fundamentals/servers/kestrel?tabs=aspnetcore1x#when-to-use-kestrel-with-a-reverse-proxy).</span></span>

::: moniker-end

## <a name="proxy-server-and-load-balancer-scenarios"></a><span data-ttu-id="fffb2-139">Escenarios de servidor proxy y equilibrador de carga</span><span class="sxs-lookup"><span data-stu-id="fffb2-139">Proxy server and load balancer scenarios</span></span>

<span data-ttu-id="fffb2-140">Podría ser necesario realizar una configuración adicional para las aplicaciones hospedadas detrás de servidores proxy y equilibradores de carga.</span><span class="sxs-lookup"><span data-stu-id="fffb2-140">Additional configuration might be required for apps hosted behind proxy servers and load balancers.</span></span> <span data-ttu-id="fffb2-141">Sin una configuración adicional, una aplicación podría no tener acceso al esquema (HTTP/HTTPS) y la dirección IP remota donde se originó una solicitud.</span><span class="sxs-lookup"><span data-stu-id="fffb2-141">Without additional configuration, an app might not have access to the scheme (HTTP/HTTPS) and the remote IP address where a request originated.</span></span> <span data-ttu-id="fffb2-142">Para más información, vea [Configurar ASP.NET Core para trabajar con servidores proxy y equilibradores de carga](xref:host-and-deploy/proxy-load-balancer).</span><span class="sxs-lookup"><span data-stu-id="fffb2-142">For more information, see [Configure ASP.NET Core to work with proxy servers and load balancers](xref:host-and-deploy/proxy-load-balancer).</span></span>

## <a name="use-visual-studio-and-msbuild-to-automate-deployments"></a><span data-ttu-id="fffb2-143">Uso de Visual Studio y MSBuild para automatizar implementaciones</span><span class="sxs-lookup"><span data-stu-id="fffb2-143">Use Visual Studio and MSBuild to automate deployments</span></span>

<span data-ttu-id="fffb2-144">La implementación a menudo requiere tareas adicionales además de copiar el resultado del comando [dotnet publish](/dotnet/core/tools/dotnet-publish) en un servidor.</span><span class="sxs-lookup"><span data-stu-id="fffb2-144">Deployment often requires additional tasks besides copying the output from [dotnet publish](/dotnet/core/tools/dotnet-publish) to a server.</span></span> <span data-ttu-id="fffb2-145">Por ejemplo, podrían necesitarse o eliminarse archivos adicionales de la carpeta *publish*.</span><span class="sxs-lookup"><span data-stu-id="fffb2-145">For example, extra files might be required or excluded from the *publish* folder.</span></span> <span data-ttu-id="fffb2-146">Para la implementación web, Visual Studio usa MSBuild, que puede personalizar de modo que lleve a cabo muchas otras tareas durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="fffb2-146">Visual Studio uses MSBuild for web deployment, and MSBuild can be customized to do many other tasks during deployment.</span></span> <span data-ttu-id="fffb2-147">Para más información, consulte <xref:host-and-deploy/visual-studio-publish-profiles> y el libro [Using MSBuild and Team Foundation Build](http://msbuildbook.com/) (Uso de MSBuild y Team Foundation Build).</span><span class="sxs-lookup"><span data-stu-id="fffb2-147">For more information, see <xref:host-and-deploy/visual-studio-publish-profiles> and the [Using MSBuild and Team Foundation Build](http://msbuildbook.com/) book.</span></span>

<span data-ttu-id="fffb2-148">Mediante la [característica de publicación web](xref:tutorials/publish-to-azure-webapp-using-vs) o la [compatibilidad integrada con Git](xref:host-and-deploy/azure-apps/azure-continuous-deployment), puede implementar las aplicaciones directamente desde Visual Studio en Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="fffb2-148">By using [the Publish Web feature](xref:tutorials/publish-to-azure-webapp-using-vs) or [built-in Git support](xref:host-and-deploy/azure-apps/azure-continuous-deployment), apps can be deployed directly from Visual Studio to the Azure App Service.</span></span> <span data-ttu-id="fffb2-149">Azure DevOps Services es compatible con la [implementación continua en Azure App Service](/azure/devops/pipelines/targets/webapp).</span><span class="sxs-lookup"><span data-stu-id="fffb2-149">Azure DevOps Services supports [continuous deployment to Azure App Service](/azure/devops/pipelines/targets/webapp).</span></span> <span data-ttu-id="fffb2-150">Para más información, consulte [DevOps con ASP.NET Core y Azure](xref:azure/devops/index).</span><span class="sxs-lookup"><span data-stu-id="fffb2-150">For more information, see [DevOps with ASP.NET Core and Azure](xref:azure/devops/index).</span></span>

## <a name="publish-to-azure"></a><span data-ttu-id="fffb2-151">Publicar en Azure</span><span class="sxs-lookup"><span data-stu-id="fffb2-151">Publish to Azure</span></span>

<span data-ttu-id="fffb2-152">Consulte <xref:tutorials/publish-to-azure-webapp-using-vs> para obtener instrucciones sobre cómo publicar una aplicación en Azure con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fffb2-152">See <xref:tutorials/publish-to-azure-webapp-using-vs> for instructions on how to publish an app to Azure using Visual Studio.</span></span> <span data-ttu-id="fffb2-153">[Crear una aplicación web de ASP.NET Core en Azure](/azure/app-service/app-service-web-get-started-dotnet) proporciona un ejemplo adicional.</span><span class="sxs-lookup"><span data-stu-id="fffb2-153">An additional example is provided by [Create an ASP.NET Core web app in Azure](/azure/app-service/app-service-web-get-started-dotnet).</span></span>

## <a name="publish-with-msdeploy-on-windows"></a><span data-ttu-id="fffb2-154">Publicar con MSDeploy en Windows</span><span class="sxs-lookup"><span data-stu-id="fffb2-154">Publish with MSDeploy on Windows</span></span>

<span data-ttu-id="fffb2-155">Consulte <xref:host-and-deploy/visual-studio-publish-profiles> para ver instrucciones sobre cómo publicar una aplicación con un perfil de publicación de Visual Studio, incluyendo desde un símbolo del sistema de Windows mediante el comando [dotnet msbuild](/dotnet/core/tools/dotnet-msbuild).</span><span class="sxs-lookup"><span data-stu-id="fffb2-155">See <xref:host-and-deploy/visual-studio-publish-profiles> for instructions on how to publish an app with a Visual Studio publish profile, including from a Windows command prompt using the [dotnet msbuild](/dotnet/core/tools/dotnet-msbuild) command.</span></span>

## <a name="host-in-a-web-farm"></a><span data-ttu-id="fffb2-156">Hospedaje en una granja de servidores web</span><span class="sxs-lookup"><span data-stu-id="fffb2-156">Host in a web farm</span></span>

<span data-ttu-id="fffb2-157">Para obtener más información sobre la configuración del hospedaje de aplicaciones de ASP.NET Core en un entorno de granja de servidores web (por ejemplo, para implementar varias instancias de la aplicación para escalabilidad), consulte <xref:host-and-deploy/web-farm>.</span><span class="sxs-lookup"><span data-stu-id="fffb2-157">For information on configuration for hosting ASP.NET Core apps in a web farm environment (for example, deployment of multiple instances of your app for scalability), see <xref:host-and-deploy/web-farm>.</span></span>

::: moniker range=">= aspnetcore-2.2"

## <a name="perform-health-checks"></a><span data-ttu-id="fffb2-158">Realización de comprobaciones de estado</span><span class="sxs-lookup"><span data-stu-id="fffb2-158">Perform health checks</span></span>

<span data-ttu-id="fffb2-159">Use middleware de comprobación de estado para realizar comprobaciones de estado en una aplicación y sus dependencias.</span><span class="sxs-lookup"><span data-stu-id="fffb2-159">Use Health Check Middleware to perform health checks on an app and its dependencies.</span></span> <span data-ttu-id="fffb2-160">Para obtener más información, consulta <xref:host-and-deploy/health-checks>.</span><span class="sxs-lookup"><span data-stu-id="fffb2-160">For more information, see <xref:host-and-deploy/health-checks>.</span></span>

::: moniker-end

## <a name="additional-resources"></a><span data-ttu-id="fffb2-161">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="fffb2-161">Additional resources</span></span>

* <xref:host-and-deploy/docker/index>
* <xref:test/troubleshoot>

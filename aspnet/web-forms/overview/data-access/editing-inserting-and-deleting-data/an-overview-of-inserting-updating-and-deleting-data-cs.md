---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: Información general sobre la inserción, actualización y eliminación de datos (C#) | Microsoft Docs
author: rick-anderson
description: En este tutorial, veremos cómo asignar los métodos Insert (), Update () y Delete () de ObjectDataSource a los métodos de las clases BLL, así como cómo configuración...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: e26b8e841f86272a158b0c09b62ab2790d01d191
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78479365"
---
# <a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="c67ce-103">Información general sobre la inserción, actualización y eliminación de datos (C#)</span><span class="sxs-lookup"><span data-stu-id="c67ce-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>

<span data-ttu-id="c67ce-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="c67ce-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c67ce-105">[Descarga](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) de la aplicación de ejemplo o [descarga de PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c67ce-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="c67ce-106">En este tutorial, veremos cómo asignar los métodos Insert (), Update () y Delete () de ObjectDataSource a los métodos de las clases de BLL, y cómo configurar los controles GridView, DetailsView y FormView para proporcionar funciones de modificación de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="introduction"></a><span data-ttu-id="c67ce-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="c67ce-107">Introduction</span></span>

<span data-ttu-id="c67ce-108">En los últimos tutoriales, hemos examinado cómo mostrar los datos en una página de ASP.NET con los controles GridView, DetailsView y FormView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="c67ce-109">Estos controles simplemente funcionan con los datos que se les proporcionan.</span><span class="sxs-lookup"><span data-stu-id="c67ce-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="c67ce-110">Normalmente, estos controles obtienen acceso a los datos mediante el uso de un control de origen de datos, como ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-111">Hemos visto cómo la ObjectDataSource actúa como un proxy entre la página ASP.NET y los datos subyacentes.</span><span class="sxs-lookup"><span data-stu-id="c67ce-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="c67ce-112">Cuando un control GridView necesita Mostrar datos, invoca el método `Select()` de ObjectDataSource, que a su vez invoca un método de nuestra capa de lógica de negocios (BLL), que llama a un método en el TableAdapter de la capa de acceso a datos (DAL) adecuado, que a su vez envía una consulta de `SELECT` a la base de datos Northwind.</span><span class="sxs-lookup"><span data-stu-id="c67ce-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="c67ce-113">Recuerde que cuando creamos los TableAdapters en el DAL en [nuestro primer tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio agregó automáticamente métodos para insertar, actualizar y eliminar datos de la tabla de base de datos subyacente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="c67ce-114">Además, al [crear una capa de lógica de negocios](../introduction/creating-a-business-logic-layer-cs.md) , hemos diseñado métodos en el BLL que llamaron en estos métodos dal de modificación de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="c67ce-115">Además de su método `Select()`, ObjectDataSource también tiene `Insert()`, `Update()`y métodos de `Delete()`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="c67ce-116">Al igual que el método `Select()`, estos tres métodos pueden asignarse a métodos en un objeto subyacente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="c67ce-117">Cuando se configura para insertar, actualizar o eliminar datos, los controles GridView, DetailsView y FormView proporcionan una interfaz de usuario para modificar los datos subyacentes.</span><span class="sxs-lookup"><span data-stu-id="c67ce-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="c67ce-118">Esta interfaz de usuario llama a los métodos `Insert()`, `Update()`y `Delete()` de ObjectDataSource, que luego invocan los métodos asociados del objeto subyacente (vea la ilustración 1).</span><span class="sxs-lookup"><span data-stu-id="c67ce-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>

<span data-ttu-id="c67ce-119">[![los métodos Insert (), Update () y Delete () de ObjectDataSource sirven como proxy en el BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="c67ce-120">**Figura 1**: los métodos `Insert()`, `Update()`y `Delete()` de ObjectDataSource sirven como proxy en la capa BLL ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>

<span data-ttu-id="c67ce-121">En este tutorial, veremos cómo asignar los métodos `Insert()`, `Update()`y `Delete()` de ObjectDataSource a los métodos de clases de la capa BLL y cómo configurar los controles GridView, DetailsView y FormView para proporcionar funciones de modificación de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="c67ce-122">Paso 1: crear páginas web de tutoriales de inserción, actualización y eliminación</span><span class="sxs-lookup"><span data-stu-id="c67ce-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="c67ce-123">Antes de empezar a explorar cómo insertar, actualizar y eliminar datos, primero vamos a crear las páginas de ASP.NET en nuestro proyecto de sitio web que necesitamos para este tutorial y los siguientes.</span><span class="sxs-lookup"><span data-stu-id="c67ce-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="c67ce-124">Comience agregando una nueva carpeta denominada `EditInsertDelete`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="c67ce-125">A continuación, agregue las siguientes páginas de ASP.NET a esa carpeta, asegurándose de asociar cada página a la página maestra de `Site.master`:</span><span class="sxs-lookup"><span data-stu-id="c67ce-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`

![Agregar las páginas ASP.NET para los tutoriales relacionados con la modificación de datos](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="c67ce-127">**Figura 2**: adición de las páginas de ASP.net para los tutoriales relacionados con la modificación de datos</span><span class="sxs-lookup"><span data-stu-id="c67ce-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>

<span data-ttu-id="c67ce-128">Al igual que en las otras carpetas, `Default.aspx` en la carpeta `EditInsertDelete` mostrará los tutoriales en su sección.</span><span class="sxs-lookup"><span data-stu-id="c67ce-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="c67ce-129">Recuerde que el control de usuario `SectionLevelTutorialListing.ascx` proporciona esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="c67ce-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="c67ce-130">Por lo tanto, agregue este control de usuario a `Default.aspx` arrastrándolo desde el Explorador de soluciones hasta el Vista de diseño de la página.</span><span class="sxs-lookup"><span data-stu-id="c67ce-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>

<span data-ttu-id="c67ce-131">[![agregar el control de usuario SectionLevelTutorialListing. ascx a default. aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="c67ce-132">**Figura 3**: agregar el control de usuario `SectionLevelTutorialListing.ascx` a `Default.aspx` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>

<span data-ttu-id="c67ce-133">Por último, agregue las páginas como entradas al archivo `Web.sitemap`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="c67ce-134">En concreto, agregue el siguiente marcado después del `<siteMapNode>`de formato personalizado:</span><span class="sxs-lookup"><span data-stu-id="c67ce-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>

[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="c67ce-135">Después de actualizar `Web.sitemap`, dedique un momento a ver el sitio web de tutoriales a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="c67ce-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="c67ce-136">El menú de la izquierda incluye ahora los elementos para los tutoriales de edición, inserción y eliminación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![El mapa del sitio ahora incluye entradas para los tutoriales de edición, inserción y eliminación](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="c67ce-138">**Figura 4**: ahora, el mapa del sitio incluye entradas para los tutoriales de edición, inserción y eliminación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>

## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="c67ce-139">Paso 2: agregar y configurar el control ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="c67ce-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="c67ce-140">Dado que GridView, DetailsView y FormView difieren en su diseño y capacidades de modificación de datos, vamos a examinar cada uno individualmente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="c67ce-141">Sin embargo, en lugar de tener cada control que use su propio ObjectDataSource, vamos a crear un único ObjectDataSource que los tres ejemplos de control pueden compartir.</span><span class="sxs-lookup"><span data-stu-id="c67ce-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="c67ce-142">Abra la página `Basics.aspx`, arrastre un ObjectDataSource desde el cuadro de herramientas hasta el diseñador y haga clic en el vínculo configurar origen de datos de su etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="c67ce-143">Dado que el `ProductsBLL` es la única clase BLL que proporciona métodos de edición, inserción y eliminación, configure el origen ObjectDataSource para utilizar esta clase.</span><span class="sxs-lookup"><span data-stu-id="c67ce-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>

<span data-ttu-id="c67ce-144">[![configurar ObjectDataSource para usar la clase ProductsBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="c67ce-145">**Figura 5**: configuración de ObjectDataSource para usar la clase `ProductsBLL` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="c67ce-146">En la siguiente pantalla se pueden especificar los métodos de la clase `ProductsBLL` que se asignan a las `Select()`, `Insert()`, `Update()`y `Delete()` de ObjectDataSource seleccionando la pestaña adecuada y eligiendo el método en la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="c67ce-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="c67ce-147">Figura 6, que debería ser familiar ahora, asigna el método `Select()` de ObjectDataSource al método `GetProducts()` de la clase `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="c67ce-148">Los métodos `Insert()`, `Update()`y `Delete()` se pueden configurar seleccionando la pestaña correspondiente en la lista de la parte superior.</span><span class="sxs-lookup"><span data-stu-id="c67ce-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>

<span data-ttu-id="c67ce-149">[![que ObjectDataSource devuelva todos los productos](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="c67ce-150">**Ilustración 6**: hacer que ObjectDataSource devuelva todos los productos ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="c67ce-151">Las figuras 7, 8 y 9 muestran las pestañas de actualización, inserción y eliminación de ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="c67ce-152">Configure estas pestañas para que los métodos `Insert()`, `Update()`y `Delete()` invoquen los métodos `UpdateProduct`, `AddProduct`y `DeleteProduct` de la clase `ProductsBLL`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>

<span data-ttu-id="c67ce-153">[![asignar el método Update () de ObjectDataSource al método UpdateProduct de la clase ProductBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="c67ce-154">**Figura 7**: asignación del método `Update()` de ObjectDataSource al método `UpdateProduct` de la clase `ProductBLL` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>

<span data-ttu-id="c67ce-155">[![asignar el método Insert () de ObjectDataSource al método AddProduct de la clase ProductBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="c67ce-156">**Figura 8**: asignación del método `Insert()` de ObjectDataSource al método Add `Product` de la clase `ProductBLL` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="c67ce-157">[![asignar el método Delete () de ObjectDataSource al método DeleteProduct de la clase ProductBLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="c67ce-158">**Figura 9**: asignación del método `Delete()` de ObjectDataSource al método `DeleteProduct` de la clase `ProductBLL` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>

<span data-ttu-id="c67ce-159">Es posible que haya observado que las listas desplegables de las pestañas actualizar, insertar y eliminar ya tenían estos métodos seleccionados.</span><span class="sxs-lookup"><span data-stu-id="c67ce-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="c67ce-160">Esto se debe al uso de la `DataObjectMethodAttribute` que decora los métodos de `ProductsBLL`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProductsBLL`.</span></span> <span data-ttu-id="c67ce-161">Por ejemplo, el método DeleteProduct tiene la siguiente firma:</span><span class="sxs-lookup"><span data-stu-id="c67ce-161">For example, the DeleteProduct method has the following signature:</span></span>

[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="c67ce-162">El atributo `DataObjectMethodAttribute` indica el propósito de cada método si es para seleccionar, insertar, actualizar o eliminar, y si es o no el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="c67ce-163">Si omitió estos atributos al crear las clases de BLL, deberá seleccionar manualmente los métodos de las pestañas actualizar, insertar y eliminar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="c67ce-164">Después de asegurarse de que los métodos de `ProductsBLL` adecuados están asignados a los métodos `Insert()`, `Update()`y `Delete()` de ObjectDataSource, haga clic en finalizar para completar el asistente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="c67ce-165">Examinar el marcado de ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="c67ce-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="c67ce-166">Después de configurar ObjectDataSource mediante su asistente, vaya a la vista de código fuente para examinar el marcado declarativo generado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="c67ce-167">La etiqueta `<asp:ObjectDataSource>` especifica el objeto subyacente y los métodos que se van a invocar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="c67ce-168">Además, hay `DeleteParameters`, `UpdateParameters`y `InsertParameters` que se asignan a los parámetros de entrada de los métodos `AddProduct`, `UpdateProduct`y `DeleteProduct` de la clase `ProductsBLL`:</span><span class="sxs-lookup"><span data-stu-id="c67ce-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="c67ce-169">ObjectDataSource incluye un parámetro para cada uno de los parámetros de entrada de sus métodos asociados, al igual que una lista de `SelectParameter` s está presente cuando ObjectDataSource está configurado para llamar a un método SELECT que espera un parámetro de entrada (por ejemplo, `GetProductsByCategoryID(categoryID)`).</span><span class="sxs-lookup"><span data-stu-id="c67ce-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="c67ce-170">Como veremos en breve, GridView, DetailsView y FormView establecen automáticamente los valores de estos `DeleteParameters`, `UpdateParameters`y `InsertParameters` antes de invocar el método de `Insert()`, `Update()`o `Delete()` de ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="c67ce-171">Estos valores también se pueden establecer mediante programación según sea necesario, como veremos en un tutorial futuro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="c67ce-172">Un efecto secundario del uso del Asistente para configurar en ObjectDataSource es que Visual Studio establece la [propiedad OldValuesParameterFormatString](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) en `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="c67ce-173">Este valor de propiedad se usa para incluir los valores originales de los datos que se están editando y es útil en dos escenarios:</span><span class="sxs-lookup"><span data-stu-id="c67ce-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="c67ce-174">Si, al editar un registro, los usuarios pueden cambiar el valor de la clave principal.</span><span class="sxs-lookup"><span data-stu-id="c67ce-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="c67ce-175">En este caso, se deben proporcionar el nuevo valor de clave principal y el valor de clave principal original para que se pueda encontrar el registro con el valor de clave principal original y se actualice su valor en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="c67ce-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="c67ce-176">Al usar la simultaneidad optimista.</span><span class="sxs-lookup"><span data-stu-id="c67ce-176">When using optimistic concurrency.</span></span> <span data-ttu-id="c67ce-177">La simultaneidad optimista es una técnica para asegurarse de que dos usuarios simultáneos no sobrescriben los cambios de los demás y es el tema de un tutorial futuro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="c67ce-178">La propiedad `OldValuesParameterFormatString` indica el nombre de los parámetros de entrada en los métodos de actualización y eliminación del objeto subyacente para los valores originales.</span><span class="sxs-lookup"><span data-stu-id="c67ce-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="c67ce-179">Trataremos esta propiedad y su finalidad con mayor detalle cuando Exploremos la simultaneidad optimista.</span><span class="sxs-lookup"><span data-stu-id="c67ce-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="c67ce-180">Ahora lo hago, ya que los métodos de la capa BLL no esperan los valores originales y, por lo tanto, es importante que quitemos esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="c67ce-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="c67ce-181">Si se deja la propiedad `OldValuesParameterFormatString` establecida en cualquier cosa que no sea la predeterminada (`{0}`), se producirá un error cuando un control Web de datos intente invocar los métodos `Update()` o `Delete()` de ObjectDataSource porque ObjectDataSource intentará pasar tanto el `UpdateParameters` como el `DeleteParameters` especificados, así como los parámetros de valor original.</span><span class="sxs-lookup"><span data-stu-id="c67ce-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="c67ce-182">Si esto no es tan claro en este momento, no se preocupe, examinaremos esta propiedad y su utilidad en un tutorial futuro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="c67ce-183">Por ahora, asegúrese de quitar esta declaración de propiedad completamente de la sintaxis declarativa o establecer el valor en el valor predeterminado ({0}).</span><span class="sxs-lookup"><span data-stu-id="c67ce-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-184">Si simplemente borra el valor de la propiedad `OldValuesParameterFormatString` de la ventana Propiedades en el Vista de diseño, la propiedad seguirá existiendo en la sintaxis declarativa, pero se establecerá en una cadena vacía.</span><span class="sxs-lookup"><span data-stu-id="c67ce-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="c67ce-185">Por desgracia, se producirá el mismo problema descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="c67ce-186">Por consiguiente, quite la propiedad por completo de la sintaxis declarativa o, en el ventana Propiedades, establezca el valor en el predeterminado `{0}`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>

## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="c67ce-187">Paso 3: agregar un control Web de datos y configurarlo para la modificación de datos</span><span class="sxs-lookup"><span data-stu-id="c67ce-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="c67ce-188">Una vez que ObjectDataSource se ha agregado a la página y configurado, estamos listos para agregar controles Web de datos a la página para mostrar los datos y proporcionar un medio para que el usuario final lo modifique.</span><span class="sxs-lookup"><span data-stu-id="c67ce-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="c67ce-189">Veremos GridView, DetailsView y FormView por separado, ya que estos controles Web de datos difieren en sus capacidades y configuración de modificación de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="c67ce-190">Como veremos en el resto de este artículo, la adición de compatibilidad de edición, inserción y eliminación muy básica a través de los controles GridView, DetailsView y FormView es realmente tan sencilla como activar un par de casillas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="c67ce-191">Hay muchos casos de matices y extremos en el mundo real que facilitan la aportación de esta funcionalidad que simplemente apuntar y hacer clic.</span><span class="sxs-lookup"><span data-stu-id="c67ce-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="c67ce-192">Sin embargo, este tutorial se centra únicamente en probar las funcionalidades de modificación de datos simplistas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="c67ce-193">En los tutoriales futuros se examinarán los problemas que surjan sin duda en una configuración del mundo real.</span><span class="sxs-lookup"><span data-stu-id="c67ce-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="c67ce-194">Eliminar datos de GridView</span><span class="sxs-lookup"><span data-stu-id="c67ce-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="c67ce-195">Empiece arrastrando un control GridView desde el cuadro de herramientas hasta el diseñador.</span><span class="sxs-lookup"><span data-stu-id="c67ce-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="c67ce-196">Después, enlace el ObjectDataSource a GridView seleccionándolo en la lista desplegable de la etiqueta inteligente de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="c67ce-197">En este momento, el marcado declarativo de GridView será:</span><span class="sxs-lookup"><span data-stu-id="c67ce-197">At this point the GridView's declarative markup will be:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="c67ce-198">Enlazar GridView a ObjectDataSource a través de su etiqueta inteligente tiene dos ventajas:</span><span class="sxs-lookup"><span data-stu-id="c67ce-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="c67ce-199">BoundFields y CheckBoxFields se crean automáticamente para cada uno de los campos devueltos por ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-200">Además, las propiedades de BoundField y CheckBoxField se establecen basándose en los metadatos del campo subyacente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="c67ce-201">Por ejemplo, los campos `ProductID`, `CategoryName`y `SupplierName` se marcan como de solo lectura en el `ProductsDataTable` y, por lo tanto, no se pueden actualizar al editar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="c67ce-202">Para dar cabida a esto, estas [propiedades de solo lectura](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) de BoundFields se establecen en `true`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="c67ce-203">La [propiedad DataKeyNames](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) se asigna a los campos de clave principal del objeto subyacente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="c67ce-204">Esto es esencial al usar GridView para editar o eliminar datos, ya que esta propiedad indica el campo (o conjunto de campos) que identifica cada registro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="c67ce-205">Para obtener más información acerca de la propiedad `DataKeyNames`, consulte la [Página principal y los detalles con un control GridView de la página maestra seleccionable con un](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial de DetailView de detalles.</span><span class="sxs-lookup"><span data-stu-id="c67ce-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="c67ce-206">Aunque GridView se puede enlazar a ObjectDataSource a través de la sintaxis ventana Propiedades o declarativa, para ello es necesario agregar manualmente el marcado de BoundField y `DataKeyNames` adecuado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="c67ce-207">El control GridView proporciona compatibilidad integrada para la edición y eliminación en el nivel de fila.</span><span class="sxs-lookup"><span data-stu-id="c67ce-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="c67ce-208">Al configurar un control GridView para que admita la eliminación, se agrega una columna de botones eliminar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="c67ce-209">Cuando el usuario final hace clic en el botón eliminar de una fila determinada, se genera un postback y el control GridView realiza los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="c67ce-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c67ce-210">Se asignan los valores de `DeleteParameters` de ObjectDataSource</span><span class="sxs-lookup"><span data-stu-id="c67ce-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="c67ce-211">Se invoca el método de `Delete()` de ObjectDataSource, eliminando el registro especificado</span><span class="sxs-lookup"><span data-stu-id="c67ce-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="c67ce-212">GridView se vuelve a enlazar a la ObjectDataSource mediante la invocación de su método `Select()`</span><span class="sxs-lookup"><span data-stu-id="c67ce-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="c67ce-213">Los valores asignados a la `DeleteParameters` son los valores de los campos `DataKeyNames` de la fila en la que se hizo clic en el botón Eliminar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="c67ce-214">Por lo tanto, es fundamental que la propiedad `DataKeyNames` de GridView se establezca correctamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="c67ce-215">Si falta, se asignará a la `DeleteParameters` un valor `null` en el paso 1, que a su vez no producirá ningún registro eliminado en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="c67ce-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-216">La colección de `DataKeys` se almacena en el estado de control de GridView, lo que significa que los valores de `DataKeys` se recordarán en el PostBack incluso si se ha deshabilitado el estado de vista de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="c67ce-217">Sin embargo, es muy importante que el estado de vista permanezca habilitado para GridView que admiten la edición o eliminación (comportamiento predeterminado).</span><span class="sxs-lookup"><span data-stu-id="c67ce-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="c67ce-218">Si establece la propiedad GridView s `EnableViewState` en `false`, el comportamiento de edición y eliminación funcionará bien para un solo usuario, pero si hay usuarios simultáneos que eliminan datos, existe la posibilidad de que estos usuarios simultáneos eliminen o modifiquen accidentalmente los registros que no deseaban.</span><span class="sxs-lookup"><span data-stu-id="c67ce-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn't intend.</span></span> <span data-ttu-id="c67ce-219">Vea la entrada de blog sobre la [ADVERTENCIA: problema de simultaneidad con ASP.NET 2,0 GridView/DetailsView/FormViews que admiten la edición o eliminación y cuyo estado de vista está deshabilitado](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx)para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c67ce-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>

<span data-ttu-id="c67ce-220">Esta misma advertencia también se aplica a DetailsViews y FormViews.</span><span class="sxs-lookup"><span data-stu-id="c67ce-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="c67ce-221">Para agregar capacidades de eliminación a un control GridView, simplemente vaya a su etiqueta inteligente y active la casilla habilitar eliminación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>

![Active la casilla habilitar eliminación](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="c67ce-223">**Figura 10**: Active la casilla habilitar eliminación</span><span class="sxs-lookup"><span data-stu-id="c67ce-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>

<span data-ttu-id="c67ce-224">Al activar la casilla habilitar eliminación de la etiqueta inteligente, se agrega un CommandField a GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="c67ce-225">CommandField representa una columna en GridView con botones para realizar una o varias de las siguientes tareas: seleccionar un registro, editar un registro y eliminar un registro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="c67ce-226">Anteriormente vimos el CommandField en acción con la selección de registros en el [maestro o el detalle mediante un tutorial de GridView con detalles de DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="c67ce-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="c67ce-227">CommandField contiene una serie de propiedades `ShowXButton` que indican qué serie de botones se muestran en el CommandField.</span><span class="sxs-lookup"><span data-stu-id="c67ce-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="c67ce-228">Al activar la casilla habilitar eliminación, se agrega una CommandField cuya propiedad `ShowDeleteButton` es `true` a la colección de columnas de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="c67ce-229">En este momento, Créalo o no, hemos terminado de agregar compatibilidad con el control GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="c67ce-230">Como se muestra en la figura 11, cuando visite esta página a través de un explorador, aparecerá una columna de botones de eliminación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>

<span data-ttu-id="c67ce-231">[![CommandField agrega una columna de botones de eliminación](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="c67ce-232">**Figura 11**: CommandField agrega una columna de botones de eliminación ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>

<span data-ttu-id="c67ce-233">Si ha creado este tutorial desde el principio, al probar esta página, al hacer clic en el botón eliminar, se producirá una excepción.</span><span class="sxs-lookup"><span data-stu-id="c67ce-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="c67ce-234">Siga leyendo para obtener información sobre por qué se generaron estas excepciones y cómo corregirlas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-235">Si está siguiendo con la descarga que acompaña a este tutorial, estos problemas ya se han contabilizado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="c67ce-236">Sin embargo, le recomiendo que lea los detalles que se muestran a continuación para ayudar a identificar los problemas que pueden surgir y las soluciones alternativas adecuadas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>

<span data-ttu-id="c67ce-237">Si, al intentar eliminar un producto, recibe una excepción cuyo mensaje es similar a "*ObjectDataSource ' ObjectDataSource1 ' no pudo encontrar un método no genérico ' DeleteProduct ' que tenga parámetros: ProductID, original\_ProductID*", probablemente olvidó quitar la propiedad `OldValuesParameterFormatString` de ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-238">Con la propiedad `OldValuesParameterFormatString` especificada, ObjectDataSource intenta pasar los parámetros de entrada `productID` y `original_ProductID` al método `DeleteProduct`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="c67ce-239">sin embargo, `DeleteProduct`solo acepta un único parámetro de entrada, por lo tanto, la excepción.</span><span class="sxs-lookup"><span data-stu-id="c67ce-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="c67ce-240">Al quitar la propiedad `OldValuesParameterFormatString` (o establecerla en `{0}`), se indica a ObjectDataSource que no intente pasar el parámetro de entrada original.</span><span class="sxs-lookup"><span data-stu-id="c67ce-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>

<span data-ttu-id="c67ce-241">[![asegurarse de que se ha borrado la propiedad OldValuesParameterFormatString](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="c67ce-242">**Figura 12**: Asegúrese de que se ha borrado la propiedad `OldValuesParameterFormatString` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>

<span data-ttu-id="c67ce-243">Incluso si ha quitado la propiedad `OldValuesParameterFormatString`, se producirá una excepción al intentar eliminar un producto con el mensaje: "*la instrucción Delete está en conflicto con la restricción de referencia ' FK\_Order\_Details\_products '* ". La base de datos Northwind contiene una restricción FOREIGN KEY entre el `Order Details` y `Products` tabla, lo que significa que no se puede eliminar un producto del sistema si hay uno o más registros en la tabla `Order Details`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="c67ce-244">Puesto que todos los productos de la base de datos Northwind tienen al menos un registro en `Order Details`, no se pueden eliminar los productos hasta que primero se eliminen los registros de detalles de pedidos asociados del producto.</span><span class="sxs-lookup"><span data-stu-id="c67ce-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>

<span data-ttu-id="c67ce-245">[![una restricción FOREIGN KEY prohíbe la eliminación de productos](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="c67ce-246">**Figura 13**: una restricción de clave externa prohíbe la eliminación de productos ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>

<span data-ttu-id="c67ce-247">En nuestro tutorial, vamos a eliminar solo todos los registros de la tabla `Order Details`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="c67ce-248">En una aplicación real, es necesario:</span><span class="sxs-lookup"><span data-stu-id="c67ce-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="c67ce-249">Tener otra pantalla para administrar la información de detalles del pedido</span><span class="sxs-lookup"><span data-stu-id="c67ce-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="c67ce-250">Aumente el método `DeleteProduct` para incluir la lógica para eliminar los detalles del pedido del producto especificado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="c67ce-251">Modifique la consulta SQL utilizada por el TableAdapter para incluir la eliminación de los detalles del pedido del producto especificado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="c67ce-252">Vamos a eliminar solo todos los registros de la tabla `Order Details` para eludir la restricción FOREIGN KEY.</span><span class="sxs-lookup"><span data-stu-id="c67ce-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="c67ce-253">Vaya al Explorador de servidores en Visual Studio, haga clic con el botón derecho en el nodo `NORTHWND.MDF` y elija nueva consulta.</span><span class="sxs-lookup"><span data-stu-id="c67ce-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="c67ce-254">A continuación, en la ventana de consulta, ejecute la siguiente instrucción SQL: `DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="c67ce-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>

<span data-ttu-id="c67ce-255">[![eliminar todos los registros de la tabla Order Details](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="c67ce-256">**Figura 14**: eliminación de todos los registros de la tabla `Order Details` ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>

<span data-ttu-id="c67ce-257">Después de borrar la tabla `Order Details` al hacer clic en el botón eliminar, se eliminará el producto sin errores.</span><span class="sxs-lookup"><span data-stu-id="c67ce-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="c67ce-258">Si al hacer clic en el botón eliminar no se elimina el producto, asegúrese de que la propiedad `DataKeyNames` de GridView está establecida en el campo de clave principal (`ProductID`).</span><span class="sxs-lookup"><span data-stu-id="c67ce-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-259">Al hacer clic en el botón eliminar, se quita un postback y se elimina el registro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="c67ce-260">Esto puede ser peligroso, ya que es fácil hacer clic accidentalmente en el botón eliminar de una fila equivocada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="c67ce-261">En un futuro tutorial, veremos cómo agregar una confirmación del lado cliente cuando se elimina un registro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>

## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="c67ce-262">Editar datos con GridView</span><span class="sxs-lookup"><span data-stu-id="c67ce-262">Editing Data with the GridView</span></span>

<span data-ttu-id="c67ce-263">Además de eliminar, el control GridView también proporciona compatibilidad de edición de nivel de fila integrada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="c67ce-264">Al configurar un control GridView para que admita la edición, se agrega una columna de botones de edición.</span><span class="sxs-lookup"><span data-stu-id="c67ce-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="c67ce-265">Desde la perspectiva del usuario final, al hacer clic en el botón de edición de una fila, la fila se vuelve editable, convirtiendo las celdas en cuadros de texto que contienen los valores existentes y reemplazando el botón Editar por los botones actualizar y cancelar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="c67ce-266">Después de realizar los cambios deseados, el usuario final puede hacer clic en el botón actualizar para confirmar los cambios o en el botón Cancelar para descartarlos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="c67ce-267">En cualquier caso, después de hacer clic en actualizar o cancelar, el control GridView vuelve a su estado de edición previa.</span><span class="sxs-lookup"><span data-stu-id="c67ce-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="c67ce-268">Desde nuestra perspectiva como desarrollador de páginas, cuando el usuario final hace clic en el botón Editar de una fila determinada, se genera un postback y GridView realiza los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="c67ce-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c67ce-269">La propiedad `EditItemIndex` de GridView está asignada al índice de la fila en cuyo botón Editar se hizo clic.</span><span class="sxs-lookup"><span data-stu-id="c67ce-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="c67ce-270">GridView se vuelve a enlazar a la ObjectDataSource mediante la invocación de su método `Select()`</span><span class="sxs-lookup"><span data-stu-id="c67ce-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="c67ce-271">El índice de fila que coincide con el `EditItemIndex` se representa en "modo de edición".</span><span class="sxs-lookup"><span data-stu-id="c67ce-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="c67ce-272">En este modo, el botón Editar se sustituye por los botones actualizar y cancelar y BoundFields cuyas propiedades `ReadOnly` son false (el valor predeterminado) se representan como controles Web TextBox cuyas propiedades de `Text` se asignan a los valores de los campos de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="c67ce-273">En este momento, el marcado se devuelve al explorador, lo que permite al usuario final realizar cualquier cambio en los datos de la fila.</span><span class="sxs-lookup"><span data-stu-id="c67ce-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="c67ce-274">Cuando el usuario hace clic en el botón actualizar, se produce un postback y GridView realiza los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="c67ce-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="c67ce-275">A los valores de `UpdateParameters` de ObjectDataSource se les asignan los valores especificados por el usuario final en la interfaz de edición de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="c67ce-276">Se invoca el método de `Update()` de ObjectDataSource, actualizando el registro especificado</span><span class="sxs-lookup"><span data-stu-id="c67ce-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="c67ce-277">GridView se vuelve a enlazar a la ObjectDataSource mediante la invocación de su método `Select()`</span><span class="sxs-lookup"><span data-stu-id="c67ce-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="c67ce-278">Los valores de clave principal asignados al `UpdateParameters` en el paso 1 proceden de los valores especificados en la propiedad `DataKeyNames`, mientras que los valores de clave no principal provienen del texto de los controles Web TextBox de la fila modificada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="c67ce-279">Al igual que con la eliminación, es fundamental que la propiedad `DataKeyNames` de GridView se establezca correctamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="c67ce-280">Si falta, el valor de la clave principal `UpdateParameters` se asignará a un valor `null` en el paso 1, que a su vez no producirá ningún registro actualizado en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="c67ce-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="c67ce-281">La funcionalidad de edición se puede activar con solo activar la casilla habilitar edición en la etiqueta inteligente de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>

![Active la casilla habilitar edición.](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="c67ce-283">**Figura 15**: Active la casilla habilitar edición</span><span class="sxs-lookup"><span data-stu-id="c67ce-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>

<span data-ttu-id="c67ce-284">Al activar la casilla habilitar edición, se agregará un CommandField (si es necesario) y se establecerá su propiedad `ShowEditButton` en `true`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="c67ce-285">Como vimos anteriormente, el CommandField contiene una serie de propiedades `ShowXButton` que indican qué serie de botones se muestran en el CommandField.</span><span class="sxs-lookup"><span data-stu-id="c67ce-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="c67ce-286">Al activar la casilla habilitar edición, se agrega la propiedad `ShowEditButton` al CommandField existente:</span><span class="sxs-lookup"><span data-stu-id="c67ce-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="c67ce-287">Eso es todo lo que hay que hacer para agregar compatibilidad de edición rudimentaria.</span><span class="sxs-lookup"><span data-stu-id="c67ce-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="c67ce-288">Como se muestra en Figure16, la interfaz de edición es, en realidad, cada BoundField cuya propiedad `ReadOnly` está establecida en `false` (el valor predeterminado) se representa como un cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="c67ce-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="c67ce-289">Esto incluye campos como `CategoryID` y `SupplierID`, que son claves de otras tablas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>

<span data-ttu-id="c67ce-290">[![clic en el botón de edición de Chai muestra la fila en modo de edición](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="c67ce-291">**Figura 16**: hacer clic en el botón de edición de Chai muestra la fila en modo de edición ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>

<span data-ttu-id="c67ce-292">Además de pedir a los usuarios que editen los valores de clave externa directamente, la interfaz de la interfaz de edición carece de las siguientes maneras:</span><span class="sxs-lookup"><span data-stu-id="c67ce-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="c67ce-293">Si el usuario especifica un `CategoryID` o `SupplierID` que no existe en la base de datos, el `UPDATE` infringirá una restricción de clave externa, lo que provocará que se produzca una excepción.</span><span class="sxs-lookup"><span data-stu-id="c67ce-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="c67ce-294">La interfaz de edición no incluye ninguna validación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="c67ce-295">Si no proporciona un valor necesario (como `ProductName`), o escriba un valor de cadena en el que se espera un valor numérico (por ejemplo, si escribe "demasiados!"</span><span class="sxs-lookup"><span data-stu-id="c67ce-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="c67ce-296">en el cuadro de texto `UnitPrice`), se iniciará una excepción.</span><span class="sxs-lookup"><span data-stu-id="c67ce-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="c67ce-297">En un futuro tutorial se examinará cómo agregar controles de validación a la interfaz de usuario de edición.</span><span class="sxs-lookup"><span data-stu-id="c67ce-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="c67ce-298">Actualmente, *todos* los campos de producto que no son de solo lectura deben incluirse en GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="c67ce-299">Si fuera a quitar un campo de GridView, por ejemplo `UnitPrice`, al actualizar los datos, GridView no establecería el valor de `UpdateParameters` `UnitPrice`, lo que cambiaría el `UnitPrice` del registro de la base de datos a un valor `NULL`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="c67ce-300">Del mismo modo, si un campo obligatorio, como `ProductName`, se quita de GridView, se producirá un error en la actualización con la misma "*columna ' ProductName ' no permite valores NULL" que*se menciona anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="c67ce-301">El formato de la interfaz de edición deja mucho que desee.</span><span class="sxs-lookup"><span data-stu-id="c67ce-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="c67ce-302">El `UnitPrice` se muestra con cuatro puntos decimales.</span><span class="sxs-lookup"><span data-stu-id="c67ce-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="c67ce-303">Idealmente, los valores de `CategoryID` y `SupplierID` contienen DropDownLists que enumeran las categorías y los proveedores del sistema.</span><span class="sxs-lookup"><span data-stu-id="c67ce-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="c67ce-304">Estos son todos los inconvenientes con los que tendremos que vivir por ahora, pero se abordarán en futuros tutoriales.</span><span class="sxs-lookup"><span data-stu-id="c67ce-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="c67ce-305">Insertar, modificar y eliminar datos con DetailsView</span><span class="sxs-lookup"><span data-stu-id="c67ce-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="c67ce-306">Como hemos visto en los tutoriales anteriores, el control DetailsView muestra un registro cada vez y, al igual que GridView, permite editar y eliminar el registro que se muestra actualmente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="c67ce-307">La experiencia del usuario final con la edición y eliminación de elementos de DetailsView y el flujo de trabajo del lado ASP.NET es idéntica a la de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="c67ce-308">Cuando DetailsView difiere de GridView es que también proporciona compatibilidad con la inserción integrada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="c67ce-309">Para demostrar las funcionalidades de modificación de datos de GridView, empiece agregando un control DetailsView a la página `Basics.aspx` sobre el control GridView existente y enlácelo al origen de datos existente a través de la etiqueta inteligente de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="c67ce-310">A continuación, desactive las propiedades `Height` y `Width` de DetailsView y active la opción Habilitar paginación de la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="c67ce-311">Para habilitar la compatibilidad de edición, inserción y eliminación, solo tiene que activar las casillas habilitar edición, habilitar inserción y habilitar eliminación en la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>

![Configurar DetailsView para admitir la edición, inserción y eliminación](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="c67ce-313">**Figura 17**: configuración de DetailsView para admitir la edición, inserción y eliminación</span><span class="sxs-lookup"><span data-stu-id="c67ce-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>

<span data-ttu-id="c67ce-314">Al igual que con GridView, al agregar compatibilidad de edición, inserción o eliminación, se agrega un CommandField a DetailsView, como se muestra en la sintaxis declarativa siguiente:</span><span class="sxs-lookup"><span data-stu-id="c67ce-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="c67ce-315">Tenga en cuenta que para DetailsView, CommandField aparece al final de la colección de columnas de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="c67ce-316">Dado que los campos de DetailsView se representan como filas, CommandField aparece como una fila con los botones insertar, editar y eliminar en la parte inferior de DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>

<span data-ttu-id="c67ce-317">[![configurar DetailsView para admitir la edición, inserción y eliminación](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="c67ce-318">**Figura 18**: configuración de DetailsView para admitir la edición, inserción y eliminación ([haga clic para ver la imagen a tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>

<span data-ttu-id="c67ce-319">Al hacer clic en el botón eliminar se inicia la misma secuencia de eventos que con GridView: un postback; seguido de DetailsView rellenar la `DeleteParameters` de ObjectDataSource en función de los valores de `DataKeyNames`; y se completa con una llamada al método `Delete()` de ObjectDataSource, que realmente quita el producto de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="c67ce-320">La edición en DetailsView también funciona de forma idéntica a la de GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="c67ce-321">Para la inserción, al usuario final se le presenta un botón nuevo que, cuando se hace clic en él, representa DetailsView en "modo de inserción".</span><span class="sxs-lookup"><span data-stu-id="c67ce-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="c67ce-322">Con "modo de inserción", el botón nuevo se reemplaza por los botones insertar y cancelar y solo se muestran los BoundFields cuya propiedad `InsertVisible` esté establecida en `true` (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="c67ce-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="c67ce-323">Los campos de datos identificados como campos de incremento automático, como `ProductID`, tienen la [propiedad InsertVisible](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) establecida en `false` al enlazar DetailsView con el origen de datos a través de la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="c67ce-324">Al enlazar un origen de datos a DetailsView a través de la etiqueta inteligente, Visual Studio establece la propiedad `InsertVisible` en `false` solo para los campos de incremento automático.</span><span class="sxs-lookup"><span data-stu-id="c67ce-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="c67ce-325">Los campos de solo lectura, como `CategoryName` y `SupplierName`, se mostrarán en la interfaz de usuario "modo de inserción" a menos que su propiedad `InsertVisible` se establezca explícitamente en `false`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="c67ce-326">Dedique unos instantes a establecer las propiedades de `InsertVisible` de estos dos campos en `false`, bien mediante la sintaxis declarativa de DetailsView o mediante el vínculo editar campos de la etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="c67ce-327">En la figura 19 se muestra cómo establecer las propiedades de `InsertVisible` en `false` haciendo clic en el vínculo editar campos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>

<span data-ttu-id="c67ce-328">[![Northwind Traders ofrece ahora un té de Acme](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="c67ce-329">**Figura 19**: Northwind Traders ahora ofrece Acme té ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>

<span data-ttu-id="c67ce-330">Después de establecer las propiedades de `InsertVisible`, vea la página `Basics.aspx` en un explorador y haga clic en el botón nuevo.</span><span class="sxs-lookup"><span data-stu-id="c67ce-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="c67ce-331">En la figura 20 se muestra DetailsView al agregar un nuevo área de bebidas, Acme, a nuestra línea de productos.</span><span class="sxs-lookup"><span data-stu-id="c67ce-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>

<span data-ttu-id="c67ce-332">[![Northwind Traders ofrece ahora un té de Acme](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="c67ce-333">**Figura 20**: Northwind Traders Now ofrece Acme té ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>

<span data-ttu-id="c67ce-334">Después de escribir los detalles del té de Acme y hacer clic en el botón Insertar, el PostBack aparece y se agrega el nuevo registro a la tabla de base de datos de `Products`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="c67ce-335">Dado que este objeto DetailsView muestra los productos con el orden en que se encuentran en la tabla de la base de datos, debemos paginar en el último producto para poder ver el nuevo producto.</span><span class="sxs-lookup"><span data-stu-id="c67ce-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>

<span data-ttu-id="c67ce-336">[![detalles del té de Acme](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="c67ce-337">**Figura 21**: detalles del té de Acme ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-338">La [propiedad CurrentMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) de DetailsView indica la interfaz que se muestra y puede tener uno de los valores siguientes: `Edit`, `Insert`o `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="c67ce-339">La [propiedad DefaultMode](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indica el modo en el que se devuelve DetailsView después de haber completado una edición o una inserción, y es útil para mostrar un DetailsView que esté permanentemente en modo de edición o inserción.</span><span class="sxs-lookup"><span data-stu-id="c67ce-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>

<span data-ttu-id="c67ce-340">El punto y hacer clic en las funciones de inserción y edición de DetailsView sufren las mismas limitaciones que GridView: el usuario debe especificar los valores de `CategoryID` y `SupplierID` existentes a través de un cuadro de texto. la interfaz no tiene ninguna lógica de validación; todos los campos de producto que no permiten valores `NULL` o que no tienen un valor predeterminado especificado en el nivel de base de datos deben estar incluidos en la interfaz de inserción, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="c67ce-341">Las técnicas que examinaremos para extender y mejorar la interfaz de edición de GridView en artículos futuros se pueden aplicar también a las interfaces de edición e inserción del control DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="c67ce-342">Usar FormView para una interfaz de usuario de modificación de datos más flexible</span><span class="sxs-lookup"><span data-stu-id="c67ce-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="c67ce-343">FormView ofrece compatibilidad integrada para insertar, editar y eliminar datos, pero dado que usa plantillas en lugar de campos, no hay ningún lugar para agregar el BoundFields o CommandField que usan los controles GridView y DetailsView para proporcionar los datos. interfaz de modificación.</span><span class="sxs-lookup"><span data-stu-id="c67ce-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="c67ce-344">En su lugar, esta interfaz los controles Web para recopilar datos proporcionados por el usuario al agregar un nuevo elemento o editar uno existente junto con los botones nuevo, editar, eliminar, insertar, actualizar y cancelar deben agregarse manualmente a las plantillas adecuadas.</span><span class="sxs-lookup"><span data-stu-id="c67ce-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="c67ce-345">Afortunadamente, Visual Studio creará automáticamente la interfaz necesaria al enlazar FormView a un origen de datos a través de la lista desplegable de su etiqueta inteligente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="c67ce-346">Para ilustrar estas técnicas, empiece agregando FormView a la página `Basics.aspx` y, desde la etiqueta inteligente de FormView, enlácelo a la ObjectDataSource ya creada.</span><span class="sxs-lookup"><span data-stu-id="c67ce-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="c67ce-347">Esto generará un `EditItemTemplate`, `InsertItemTemplate`y `ItemTemplate` para FormView con controles Web de cuadro de texto para recopilar los controles Web de botones y de entrada del usuario para los botones nuevo, editar, eliminar, insertar, actualizar y cancelar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="c67ce-348">Además, la propiedad `DataKeyNames` de FormView está establecida en el campo de clave principal (`ProductID`) del objeto devuelto por ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-349">Por último, active la opción Habilitar paginación en la etiqueta inteligente de FormView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="c67ce-350">A continuación se muestra el marcado declarativo del `ItemTemplate` de FormView una vez enlazado FormView a ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-351">De forma predeterminada, cada campo Product de valor no booleano se enlaza a la propiedad `Text` de un control Web Label mientras cada campo de valor booleano (`Discontinued`) se enlaza a la propiedad `Checked` de un control Web CheckBox deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="c67ce-352">Para que los botones nuevo, editar y eliminar desencadenen determinados comportamientos de FormView al hacer clic en él, es imperativo que sus valores de `CommandName` se establezcan en `New`, `Edit`y `Delete`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="c67ce-353">En la figura 22 se muestra el `ItemTemplate` de FormView cuando se ve a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="c67ce-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="c67ce-354">Cada campo de producto aparece con los botones nuevo, editar y eliminar de la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="c67ce-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>

<span data-ttu-id="c67ce-355">[![predeterminada FormView ItemTemplate enumera cada campo de producto junto con los botones nuevo, editar y eliminar](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="c67ce-356">**Figura 22**: el `ItemTemplate` FormView de predeterminada muestra cada campo de producto junto con los botones nuevo, editar y eliminar ([haga clic para ver la imagen a tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>

<span data-ttu-id="c67ce-357">Al igual que con GridView y DetailsView, al hacer clic en el botón eliminar o en cualquier botón, LinkButton o ImageButton cuya propiedad `CommandName` esté establecida en Delete, se rellena el `DeleteParameters` de ObjectDataSource basándose en el valor `DataKeyNames` de FormView y se invoca el método `Delete()` de ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="c67ce-358">Cuando se hace clic en el botón Editar, se muestra un postback y los datos se reenlazan a la `EditItemTemplate`, que es responsable de la representación de la interfaz de edición.</span><span class="sxs-lookup"><span data-stu-id="c67ce-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="c67ce-359">Esta interfaz incluye los controles Web para editar datos junto con los botones actualizar y cancelar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="c67ce-360">La `EditItemTemplate` predeterminada generada por Visual Studio contiene una etiqueta para los campos de incremento automático (`ProductID`), un cuadro de texto para cada campo de valor no booleano y una casilla para cada campo de valor booleano.</span><span class="sxs-lookup"><span data-stu-id="c67ce-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="c67ce-361">Este comportamiento es muy similar al BoundFields generado automáticamente en los controles GridView y DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-362">Un pequeño problema con la generación automática de FormView del `EditItemTemplate` es que representa controles Web de cuadro de texto para los campos que son de solo lectura, como `CategoryName` y `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="c67ce-363">Veremos cómo tener esto en cuenta en breve.</span><span class="sxs-lookup"><span data-stu-id="c67ce-363">We'll see how to account for this shortly.</span></span>

<span data-ttu-id="c67ce-364">Los controles de cuadro de texto de la `EditItemTemplate` tienen su propiedad `Text` enlazada al valor de su campo de datos correspondiente mediante el *enlace de datos bidireccional*.</span><span class="sxs-lookup"><span data-stu-id="c67ce-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="c67ce-365">El enlace de datos bidireccional, indicado por `<%# Bind("dataField") %>`, realiza el enlace de datos al enlazar datos a la plantilla y al rellenar los parámetros de ObjectDataSource para insertar o editar registros.</span><span class="sxs-lookup"><span data-stu-id="c67ce-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="c67ce-366">Es decir, cuando el usuario hace clic en el botón Editar desde el `ItemTemplate`, el método `Bind()` devuelve el valor del campo de datos especificado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="c67ce-367">Después de que el usuario realice los cambios y haga clic en actualizar, los valores devueltos que corresponden a los campos de datos especificados mediante `Bind()` se aplican a la `UpdateParameters`de ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="c67ce-368">Como alternativa, el enlace de datos unidireccional, indicado por `<%# Eval("dataField") %>`, solo recupera los valores de los campos de datos al enlazar datos a la plantilla y *no* devuelve los valores especificados por el usuario a los parámetros del origen de datos en el PostBack.</span><span class="sxs-lookup"><span data-stu-id="c67ce-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="c67ce-369">El siguiente marcado declarativo muestra la `EditItemTemplate`de FormView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="c67ce-370">Tenga en cuenta que el método `Bind()` se usa aquí en la sintaxis de DataBinding y que los controles Web del botón actualizar y cancelar tienen sus propiedades `CommandName` establecidas en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="c67ce-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="c67ce-371">En este momento, nuestro `EditItemTemplate`hará que se produzca una excepción si se intenta usar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="c67ce-372">El problema es que los campos `CategoryName` y `SupplierName` se representan como controles Web TextBox en el `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="c67ce-373">Es necesario cambiar estos cuadros de texto a etiquetas o quitarlos por completo.</span><span class="sxs-lookup"><span data-stu-id="c67ce-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="c67ce-374">Vamos a eliminarlos completamente del `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="c67ce-375">En la Figura 23 se muestra el FormView en un explorador después de hacer clic en el botón Editar para Chai.</span><span class="sxs-lookup"><span data-stu-id="c67ce-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="c67ce-376">Tenga en cuenta que los campos `SupplierName` y `CategoryName` que se muestran en el `ItemTemplate` ya no están presentes, ya que solo se han quitado de la `EditItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="c67ce-377">Cuando se hace clic en el botón actualizar, FormView continúa a través de la misma secuencia de pasos que los controles GridView y DetailsView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>

<span data-ttu-id="c67ce-378">[![de forma predeterminada, EditItemTemplate muestra cada campo de producto editable como un cuadro de texto o una casilla.](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="c67ce-379">**Figura 23**: de forma predeterminada, la `EditItemTemplate` muestra cada campo de producto editable como un cuadro de texto o una casilla ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>

<span data-ttu-id="c67ce-380">Cuando se hace clic en el botón Insertar, se `ItemTemplate` un postback.</span><span class="sxs-lookup"><span data-stu-id="c67ce-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="c67ce-381">Sin embargo, no se enlaza ningún dato a FormView porque se agrega un nuevo registro.</span><span class="sxs-lookup"><span data-stu-id="c67ce-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="c67ce-382">La interfaz de `InsertItemTemplate` incluye los controles Web para agregar un nuevo registro junto con los botones insertar y cancelar.</span><span class="sxs-lookup"><span data-stu-id="c67ce-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="c67ce-383">La `InsertItemTemplate` predeterminada generada por Visual Studio contiene un cuadro de texto para cada campo de valor no booleano y una casilla para cada campo de valor booleano, similar a la interfaz del `EditItemTemplate`generado automáticamente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="c67ce-384">Los controles TextBox tienen su propiedad `Text` enlazada al valor de su campo de datos correspondiente mediante el enlace de datos bidireccional.</span><span class="sxs-lookup"><span data-stu-id="c67ce-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="c67ce-385">El siguiente marcado declarativo muestra la `InsertItemTemplate`de FormView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="c67ce-386">Tenga en cuenta que el método `Bind()` se usa aquí en la sintaxis de DataBinding y que los controles Web del botón Insertar y cancelar tienen sus propiedades `CommandName` establecidas en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="c67ce-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="c67ce-387">Hay un detalle en cuanto a la generación automática de FormView del `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="c67ce-388">En concreto, los controles Web TextBox se crean incluso para los campos que son de solo lectura, como `CategoryName` y `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="c67ce-389">Al igual que con el `EditItemTemplate`, es necesario quitar estos cuadros de texto de la `InsertItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="c67ce-390">En la Figura 24 se muestra el FormView en un explorador al agregar un nuevo producto, Acme Coffee.</span><span class="sxs-lookup"><span data-stu-id="c67ce-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="c67ce-391">Tenga en cuenta que los campos `SupplierName` y `CategoryName` que se muestran en el `ItemTemplate` ya no están presentes, ya que solo se han quitado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="c67ce-392">Cuando se hace clic en el botón Insertar, FormView continúa a través de la misma secuencia de pasos que el control DetailsView, agregando un nuevo registro a la tabla `Products`.</span><span class="sxs-lookup"><span data-stu-id="c67ce-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="c67ce-393">En la figura 25 se muestran los detalles del producto Acme Coffee en FormView una vez insertado.</span><span class="sxs-lookup"><span data-stu-id="c67ce-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>

<span data-ttu-id="c67ce-394">[![InsertItemTemplate dicta la interfaz de inserción de FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="c67ce-395">**Figura 24**: el `InsertItemTemplate` dicta la interfaz de inserción de FormView ([haga clic para ver la imagen de tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>

<span data-ttu-id="c67ce-396">[![los detalles del nuevo producto, Acme Coffee, se muestran en FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="c67ce-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="c67ce-397">**Figura 25**: los detalles del nuevo producto, Acme Coffee, se muestran en FormView ([haga clic para ver la imagen a tamaño completo](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="c67ce-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>

<span data-ttu-id="c67ce-398">Al separar las interfaces de solo lectura, edición e inserción en tres plantillas independientes, FormView permite un mayor grado de control sobre estas interfaces que DetailsView y GridView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="c67ce-399">Al igual que el DetailsView, la propiedad `CurrentMode` de FormView indica la interfaz que se muestra y su propiedad `DefaultMode` indica el modo en el que FormView vuelve después de que se haya completado una instrucción Edit o INSERT.</span><span class="sxs-lookup"><span data-stu-id="c67ce-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>

## <a name="summary"></a><span data-ttu-id="c67ce-400">Resumen</span><span class="sxs-lookup"><span data-stu-id="c67ce-400">Summary</span></span>

<span data-ttu-id="c67ce-401">En este tutorial, hemos examinado los aspectos básicos de la inserción, edición y eliminación de datos mediante GridView, DetailsView y FormView.</span><span class="sxs-lookup"><span data-stu-id="c67ce-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="c67ce-402">Los tres controles proporcionan cierto nivel de capacidades de modificación de datos integradas que se pueden usar sin necesidad de escribir una sola línea de código en la página ASP.NET, gracias a los controles Web de datos y al ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="c67ce-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="c67ce-403">Sin embargo, las técnicas sencillas de punto y clic representan una interfaz de usuario de modificación de datos bastante Frail y Naive.</span><span class="sxs-lookup"><span data-stu-id="c67ce-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="c67ce-404">Para proporcionar validación, inyectar valores de programación, controlar las excepciones correctamente, personalizar la interfaz de usuario, etc., tendremos que confiar en un serie de técnicas que se tratarán en los siguientes tutoriales.</span><span class="sxs-lookup"><span data-stu-id="c67ce-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="c67ce-405">¡ Feliz programación!</span><span class="sxs-lookup"><span data-stu-id="c67ce-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c67ce-406">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="c67ce-406">About the Author</span></span>

<span data-ttu-id="c67ce-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de siete libros de ASP/ASP. net y fundador de [4GuysFromRolla.com](http://www.4guysfromrolla.com), ha estado trabajando con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="c67ce-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c67ce-408">Scott funciona como consultor, profesor y redactor independiente.</span><span class="sxs-lookup"><span data-stu-id="c67ce-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c67ce-409">Su último libro se [*enseña a ASP.NET 2,0 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="c67ce-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c67ce-410">Puede ponerse en contacto con usted en [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c67ce-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="c67ce-411">o a través de su blog, que encontrará en [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="c67ce-411">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="c67ce-412">Siguiente</span><span class="sxs-lookup"><span data-stu-id="c67ce-412">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)

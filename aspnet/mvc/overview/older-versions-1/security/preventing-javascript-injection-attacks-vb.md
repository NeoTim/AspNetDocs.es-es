---
uid: mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
title: Prevención de ataques por inyección de código de JavaScript (VB) | Microsoft Docs
author: StephenWalther
description: Impedir que se produzcan ataques por inyección de código JavaScript y ataques de scripts entre sitios. En este tutorial, Stephen Walther explica cómo puede fácilmente...
ms.author: riande
ms.date: 08/19/2008
ms.assetid: 9274a72e-34dd-4dae-8452-ed733ae71377
msc.legacyurl: /mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-vb
msc.type: authoredcontent
ms.openlocfilehash: dfe09085f26c62c566649bc6f570aa25367a0f07
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78506227"
---
# <a name="preventing-javascript-injection-attacks-vb"></a><span data-ttu-id="aa0a5-104">Prevenir ataques por inyección de código de JavaScript (VB)</span><span class="sxs-lookup"><span data-stu-id="aa0a5-104">Preventing JavaScript Injection Attacks (VB)</span></span>

<span data-ttu-id="aa0a5-105">por [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="aa0a5-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="aa0a5-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="aa0a5-106">Download PDF</span></span>](https://download.microsoft.com/download/8/4/8/84843d8d-1575-426c-bcb5-9d0c42e51416/ASPNET_MVC_Tutorial_06_VB.pdf)

> <span data-ttu-id="aa0a5-107">Impedir que se produzcan ataques por inyección de código JavaScript y ataques de scripts entre sitios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-107">Prevent JavaScript Injection Attacks and Cross-Site Scripting Attacks from happening to you.</span></span> <span data-ttu-id="aa0a5-108">En este tutorial, Stephen Walther explica cómo puede derrotar fácilmente estos tipos de ataques mediante la codificación HTML del contenido.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-108">In this tutorial, Stephen Walther explains how you can easily defeat these types of attacks by HTML encoding your content.</span></span>

<span data-ttu-id="aa0a5-109">El objetivo de este tutorial es explicar cómo puede evitar ataques por inyección de código JavaScript en las aplicaciones de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-109">The goal of this tutorial is to explain how you can prevent JavaScript injection attacks in your ASP.NET MVC applications.</span></span> <span data-ttu-id="aa0a5-110">En este tutorial se describen dos métodos para defender el sitio web frente a un ataque por inyección de código JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-110">This tutorial discusses two approaches to defending your website against a JavaScript injection attack.</span></span> <span data-ttu-id="aa0a5-111">Aprenderá a evitar ataques por inyección de código JavaScript mediante la codificación de los datos que se muestran.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-111">You learn how to prevent JavaScript injection attacks by encoding the data that you display.</span></span> <span data-ttu-id="aa0a5-112">También aprenderá a evitar ataques por inyección de código JavaScript mediante la codificación de los datos que acepte.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-112">You also learn how to prevent JavaScript injection attacks by encoding the data that you accept.</span></span>

## <a name="what-is-a-javascript-injection-attack"></a><span data-ttu-id="aa0a5-113">¿Qué es un ataque por inyección de código de JavaScript?</span><span class="sxs-lookup"><span data-stu-id="aa0a5-113">What is a JavaScript Injection Attack?</span></span>

<span data-ttu-id="aa0a5-114">Siempre que acepte la entrada del usuario y vuelva a mostrar la entrada del usuario, abra el sitio web en los ataques de inyección de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-114">Whenever you accept user input and redisplay the user input, you open your website to JavaScript injection attacks.</span></span> <span data-ttu-id="aa0a5-115">Vamos a examinar una aplicación concreta que está abierta a ataques de inyección de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-115">Let's examine a concrete application that is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="aa0a5-116">Imagine que ha creado un sitio web de comentarios de clientes (vea la ilustración 1).</span><span class="sxs-lookup"><span data-stu-id="aa0a5-116">Imagine that you have created a customer feedback website (see Figure 1).</span></span> <span data-ttu-id="aa0a5-117">Los clientes pueden visitar el sitio web y escribir sus comentarios sobre su experiencia con sus productos.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-117">Customers can visit the website and enter feedback on their experience using your products.</span></span> <span data-ttu-id="aa0a5-118">Cuando un cliente envía sus comentarios, los comentarios se muestran en la página de comentarios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-118">When a customer submits their feedback, the feedback is redisplayed on the feedback page.</span></span>

<span data-ttu-id="aa0a5-119">[![sitio web de comentarios de clientes](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="aa0a5-119">[![Customer Feedback Website](preventing-javascript-injection-attacks-vb/_static/image2.png)](preventing-javascript-injection-attacks-vb/_static/image1.png)</span></span>

<span data-ttu-id="aa0a5-120">**Figura 01**: sitio web de comentarios del cliente ([haga clic para ver la imagen de tamaño completo](preventing-javascript-injection-attacks-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="aa0a5-120">**Figure 01**: Customer Feedback Website ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image3.png))</span></span>

<span data-ttu-id="aa0a5-121">El sitio web de comentarios del cliente usa el `controller` en la lista 1.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-121">The customer feedback website uses the `controller` in Listing 1.</span></span> <span data-ttu-id="aa0a5-122">Este `controller` contiene dos acciones denominadas `Index()` y `Create()`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-122">This `controller` contains two actions named `Index()` and `Create()`.</span></span>

<span data-ttu-id="aa0a5-123">**Lista 1: `HomeController.vb`**</span><span class="sxs-lookup"><span data-stu-id="aa0a5-123">**Listing 1 – `HomeController.vb`**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample1.vb)]

<span data-ttu-id="aa0a5-124">El método `Index()` muestra la vista de `Index`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-124">The `Index()` method displays the `Index` view.</span></span> <span data-ttu-id="aa0a5-125">Este método pasa todos los comentarios del cliente anteriores a la vista `Index` recuperando los comentarios de la base de datos (mediante una consulta LINQ to SQL).</span><span class="sxs-lookup"><span data-stu-id="aa0a5-125">This method passes all of the previous customer feedback to the `Index` view by retrieving the feedback from the database (using a LINQ to SQL query).</span></span>

<span data-ttu-id="aa0a5-126">El método `Create()` crea un nuevo elemento de comentarios y lo agrega a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-126">The `Create()` method creates a new Feedback item and adds it to the database.</span></span> <span data-ttu-id="aa0a5-127">El mensaje que escribe el cliente en el formulario se pasa al método `Create()` en el parámetro de mensaje.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-127">The message that the customer enters in the form is passed to the `Create()` method in the message parameter.</span></span> <span data-ttu-id="aa0a5-128">Se crea un elemento de comentarios y el mensaje se asigna a la propiedad `Message` del elemento de comentarios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-128">A Feedback item is created and the message is assigned to the Feedback item's `Message` property.</span></span> <span data-ttu-id="aa0a5-129">El elemento de comentarios se envía a la base de datos con la llamada al método `DataContext.SubmitChanges()`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-129">The Feedback item is submitted to the database with the `DataContext.SubmitChanges()` method call.</span></span> <span data-ttu-id="aa0a5-130">Por último, el visitante se redirige de nuevo a la vista `Index` en la que se muestran todos los comentarios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-130">Finally, the visitor is redirected back to the `Index` view where all of the feedback is displayed.</span></span>

<span data-ttu-id="aa0a5-131">La vista de `Index` está incluida en la lista 2.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-131">The `Index` view is contained in Listing 2.</span></span>

<span data-ttu-id="aa0a5-132">**Lista 2: `Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="aa0a5-132">**Listing 2 – `Index.aspx`**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample2.aspx)]

<span data-ttu-id="aa0a5-133">La vista `Index` tiene dos secciones.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-133">The `Index` view has two sections.</span></span> <span data-ttu-id="aa0a5-134">La sección superior contiene el formulario real de comentarios del cliente.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-134">The top section contains the actual customer feedback form.</span></span> <span data-ttu-id="aa0a5-135">La sección inferior contiene un para.. Cada bucle recorre en bucle todos los elementos de comentarios de clientes anteriores y muestra las propiedades EntryDate y Message para cada elemento de comentarios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-135">The bottom section contains a For..Each loop that loops through all of the previous customer feedback items and displays the EntryDate and Message properties for each feedback item.</span></span>

<span data-ttu-id="aa0a5-136">El sitio web de comentarios del cliente es un sitio web sencillo.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-136">The customer feedback website is a simple website.</span></span> <span data-ttu-id="aa0a5-137">Desafortunadamente, el sitio web está abierto a ataques por inyección de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-137">Unfortunately, the website is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="aa0a5-138">Imagine que escribe el siguiente texto en el formulario de comentarios del cliente:</span><span class="sxs-lookup"><span data-stu-id="aa0a5-138">Imagine that you enter the following text into the customer feedback form:</span></span>

[!code-html[Main](preventing-javascript-injection-attacks-vb/samples/sample3.html)]

<span data-ttu-id="aa0a5-139">Este texto representa un script de JavaScript que muestra un cuadro de mensaje de alerta.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-139">This text represents a JavaScript script that displays an alert message box.</span></span> <span data-ttu-id="aa0a5-140">Una vez que alguien envía este script al formulario de comentarios, el mensaje <em>Boo!</em> aparecerá cada vez que alguien visite el sitio web de comentarios del cliente en el futuro (consulte la figura 2).</span><span class="sxs-lookup"><span data-stu-id="aa0a5-140">After someone submits this script into the feedback form, the message <em>Boo!</em>will appear whenever anyone visits the customer feedback website in the future (see Figure 2).</span></span>

<span data-ttu-id="aa0a5-141">[Inyección de JavaScript ![](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="aa0a5-141">[![JavaScript Injection](preventing-javascript-injection-attacks-vb/_static/image5.png)](preventing-javascript-injection-attacks-vb/_static/image4.png)</span></span>

<span data-ttu-id="aa0a5-142">**Figura 02**: inyección de JavaScript ([haga clic para ver la imagen de tamaño completo](preventing-javascript-injection-attacks-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="aa0a5-142">**Figure 02**: JavaScript Injection ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image6.png))</span></span>

<span data-ttu-id="aa0a5-143">Ahora, la respuesta inicial a los ataques por inyección de código de JavaScript podría ser Apathy.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-143">Now, your initial response to JavaScript injection attacks might be apathy.</span></span> <span data-ttu-id="aa0a5-144">Podría pensar que los ataques por inyección de código de JavaScript son simplemente un tipo de ataque de *desesfera* .</span><span class="sxs-lookup"><span data-stu-id="aa0a5-144">You might think that JavaScript injection attacks are simply a type of *defacement* attack.</span></span> <span data-ttu-id="aa0a5-145">Podría creer que nadie puede hacer nada realmente mal mediante la confirmación de un ataque por inyección de código JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-145">You might believe that no one can do anything truly evil by committing a JavaScript injection attack.</span></span>

<span data-ttu-id="aa0a5-146">Desafortunadamente, un pirata informático puede realizar algunas cosas realmente, realmente mal, insertando JavaScript en un sitio Web.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-146">Unfortunately, a hacker can do some really, really evil things by injecting JavaScript into a website.</span></span> <span data-ttu-id="aa0a5-147">Puede usar un ataque por inyección de código de JavaScript para realizar un ataque de scripting entre sitios (XSS).</span><span class="sxs-lookup"><span data-stu-id="aa0a5-147">You can use a JavaScript injection attack to perform a Cross-Site Scripting (XSS) attack.</span></span> <span data-ttu-id="aa0a5-148">En un ataque de scripting entre sitios, se roba información confidencial del usuario y se envía la información a otro sitio Web.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-148">In a Cross-Site Scripting attack, you steal confidential user information and send the information to another website.</span></span>

<span data-ttu-id="aa0a5-149">Por ejemplo, un pirata informático puede usar un ataque de inyección de JavaScript para robar los valores de las cookies del explorador de otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-149">For example, a hacker can use a JavaScript injection attack to steal the values of browser cookies from other users.</span></span> <span data-ttu-id="aa0a5-150">Si la información confidencial (por ejemplo, contraseñas, números de tarjetas de crédito o números de la seguridad social) se almacena en las cookies del explorador, un pirata informático podría usar un ataque de inyección de JavaScript para robar esta información.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-150">If sensitive information -- such as passwords, credit card numbers, or social security numbers – is stored in the browser cookies, then a hacker can use a JavaScript injection attack to steal this information.</span></span> <span data-ttu-id="aa0a5-151">O bien, si un usuario escribe información confidencial en un campo de formulario contenido en una página que se ha visto comprometida con un ataque de JavaScript, el pirata informático puede usar el código JavaScript insertado para captar los datos del formulario y enviarlos a otro sitio Web.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-151">Or, if a user enters sensitive information in a form field contained in a page that has been compromised with a JavaScript attack, then the hacker can use the injected JavaScript to grab the form data and send it to another website.</span></span>

<span data-ttu-id="aa0a5-152">Vaya a *mezclarlas*.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-152">*Please be scared*.</span></span> <span data-ttu-id="aa0a5-153">Tome serias ataques por inyección de código JavaScript y proteja la información confidencial del usuario.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-153">Take JavaScript injection attacks seriously and protect your user's confidential information.</span></span> <span data-ttu-id="aa0a5-154">En las dos secciones siguientes, se describen dos técnicas que se pueden usar para defender las aplicaciones ASP.NET MVC de ataques de inyección de JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-154">In the next two sections, we discuss two techniques that you can use to defend your ASP.NET MVC applications from JavaScript injection attacks.</span></span>

## <a name="approach-1-html-encode-in-the-view"></a><span data-ttu-id="aa0a5-155">Enfoque #1: codificación HTML en la vista</span><span class="sxs-lookup"><span data-stu-id="aa0a5-155">Approach #1: HTML Encode in the View</span></span>

<span data-ttu-id="aa0a5-156">Un método sencillo para evitar ataques por inyección de código JavaScript es codificar en HTML los datos introducidos por los usuarios del sitio web al volver a mostrar los datos en una vista.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-156">One easy method of preventing JavaScript injection attacks is to HTML encode any data entered by website users when you redisplay the data in a view.</span></span> <span data-ttu-id="aa0a5-157">La vista de `Index` actualizada de la lista 3 sigue este enfoque.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-157">The updated `Index` view in Listing 3 follows this approach.</span></span>

<span data-ttu-id="aa0a5-158">**Lista 3: `Index.aspx` (codificación HTML)**</span><span class="sxs-lookup"><span data-stu-id="aa0a5-158">**Listing 3 – `Index.aspx` (HTML Encoded)**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample4.aspx)]

<span data-ttu-id="aa0a5-159">Observe que el valor de `feedback.Message` se codifica en HTML antes de que se muestre el valor con el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="aa0a5-159">Notice that the value of `feedback.Message` is HTML encoded before the value is displayed with the following code:</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-vb/samples/sample5.aspx)]

<span data-ttu-id="aa0a5-160">¿Qué significa codificar en HTML una cadena?</span><span class="sxs-lookup"><span data-stu-id="aa0a5-160">What does it mean to HTML encode a string?</span></span> <span data-ttu-id="aa0a5-161">Cuando se codifica una cadena en HTML, los caracteres peligrosos como `<` y `>` se reemplazan por referencias de entidad HTML como `&lt;` y `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-161">When you HTML encode a string, dangerous characters such as `<` and `>` are replaced by HTML entity references such as `&lt;` and `&gt;`.</span></span> <span data-ttu-id="aa0a5-162">Por tanto, cuando la cadena `<script>alert("Boo!")</script>` está codificada en HTML, se convierte en `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-162">So when the string `<script>alert("Boo!")</script>` is HTML encoded, it gets converted to `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span></span> <span data-ttu-id="aa0a5-163">La cadena codificada ya no se ejecuta como un script de JavaScript cuando lo interpreta un explorador.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-163">The encoded string no longer executes as a JavaScript script when interpreted by a browser.</span></span> <span data-ttu-id="aa0a5-164">En su lugar, se obtiene la página inofensivo en la figura 3.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-164">Instead, you get the harmless page in Figure 3.</span></span>

<span data-ttu-id="aa0a5-165">[Ataque de JavaScript de ![derrotado](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="aa0a5-165">[![Defeated JavaScript Attack](preventing-javascript-injection-attacks-vb/_static/image8.png)](preventing-javascript-injection-attacks-vb/_static/image7.png)</span></span>

<span data-ttu-id="aa0a5-166">**Figura 03**: ataque de derrotas de JavaScript ([haga clic para ver la imagen de tamaño completo](preventing-javascript-injection-attacks-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="aa0a5-166">**Figure 03**: Defeated JavaScript Attack ([Click to view full-size image](preventing-javascript-injection-attacks-vb/_static/image9.png))</span></span>

<span data-ttu-id="aa0a5-167">Tenga en cuenta que en la vista de `Index` de la lista 3 solo se codifica el valor de `feedback.Message`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-167">Notice that in the `Index` view in Listing 3 only the value of `feedback.Message` is encoded.</span></span> <span data-ttu-id="aa0a5-168">El valor de `feedback.EntryDate` no está codificado.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-168">The value of `feedback.EntryDate` is not encoded.</span></span> <span data-ttu-id="aa0a5-169">Solo tiene que codificar los datos escritos por un usuario.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-169">You only need to encode data entered by a user.</span></span> <span data-ttu-id="aa0a5-170">Dado que el valor de EntryDate se generó en el controlador, no es necesario codificar en HTML este valor.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-170">Because the value of EntryDate was generated in the controller, you don't need to HTML encode this value.</span></span>

## <a name="approach-2-html-encode-in-the-controller"></a><span data-ttu-id="aa0a5-171">Enfoque #2: codificación HTML en el controlador</span><span class="sxs-lookup"><span data-stu-id="aa0a5-171">Approach #2: HTML Encode in the Controller</span></span>

<span data-ttu-id="aa0a5-172">En lugar de codificar en HTML los datos al mostrar los datos en una vista, puede codificar en HTML los datos justo antes de enviarlos a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-172">Instead of HTML encoding data when you display the data in a view, you can HTML encode the data just before you submit the data to the database.</span></span> <span data-ttu-id="aa0a5-173">Este segundo enfoque se toma en el caso del `controller` de la lista 4.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-173">This second approach is taken in the case of the `controller` in Listing 4.</span></span>

<span data-ttu-id="aa0a5-174">**Lista 4: `HomeController.cs` (codificación HTML)**</span><span class="sxs-lookup"><span data-stu-id="aa0a5-174">**Listing 4 – `HomeController.cs` (HTML Encoded)**</span></span>

[!code-vb[Main](preventing-javascript-injection-attacks-vb/samples/sample6.vb)]

<span data-ttu-id="aa0a5-175">Tenga en cuenta que el valor del mensaje se codifica en HTML antes de que el valor se envíe a la base de datos dentro de la acción `Create()`.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-175">Notice that the value of Message is HTML encoded before the value is submitted to the database within the `Create()` action.</span></span> <span data-ttu-id="aa0a5-176">Cuando el mensaje se vuelve a mostrar en la vista, el mensaje se codifica en HTML y no se ejecuta ningún JavaScript insertado en el mensaje.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-176">When the Message is redisplayed in the view, the Message is HTML encoded and any JavaScript injected in the Message is not executed.</span></span>

<span data-ttu-id="aa0a5-177">Normalmente, debe favorecer el primer enfoque descrito en este tutorial en este segundo enfoque.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-177">Typically, you should favor the first approach discussed in this tutorial over this second approach.</span></span> <span data-ttu-id="aa0a5-178">El problema con este segundo enfoque es que termina con los datos codificados en HTML en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-178">The problem with this second approach is that you end up with HTML encoded data in your database.</span></span> <span data-ttu-id="aa0a5-179">En otras palabras, los datos de la base de datos se traspasan con caracteres de aspecto divertido.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-179">In other words, your database data is dirtied with funny looking characters.</span></span>

<span data-ttu-id="aa0a5-180">¿Por qué es malo?</span><span class="sxs-lookup"><span data-stu-id="aa0a5-180">Why is this bad?</span></span> <span data-ttu-id="aa0a5-181">Si alguna vez necesita mostrar los datos de la base de datos en algo distinto de una página web, tendrá problemas.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-181">If you ever need to display the database data in something other than a web page, then you will have problems.</span></span> <span data-ttu-id="aa0a5-182">Por ejemplo, ya no puede mostrar fácilmente los datos en una aplicación Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-182">For example, you can no longer easily display the data in a Windows Forms application.</span></span>

## <a name="summary"></a><span data-ttu-id="aa0a5-183">Resumen</span><span class="sxs-lookup"><span data-stu-id="aa0a5-183">Summary</span></span>

<span data-ttu-id="aa0a5-184">El objetivo de este tutorial era SCARE sobre el potencial de un ataque por inyección de código JavaScript.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-184">The purpose of this tutorial was to scare you about the prospect of a JavaScript injection attack.</span></span> <span data-ttu-id="aa0a5-185">En este tutorial se han descrito dos enfoques para la defensa de las aplicaciones de ASP.NET MVC contra ataques por inyección de JavaScript: puede codificar en HTML los datos enviados por el usuario en la vista o puede codificar en HTML los datos enviados por el usuario en el controlador.</span><span class="sxs-lookup"><span data-stu-id="aa0a5-185">This tutorial discussed two approaches for defending your ASP.NET MVC applications against JavaScript injection attacks: you can either HTML encode user submitted data in the view or you can HTML encode user submitted data in the controller.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="aa0a5-186">Anterior</span><span class="sxs-lookup"><span data-stu-id="aa0a5-186">Previous</span></span>](authenticating-users-with-windows-authentication-vb.md)

---
uid: web-forms/overview/deployment/visual-studio-web-deployment/deploying-extra-files
title: 'Implementación Web de ASP.NET con Visual Studio: Implementar archivos adicionales | Microsoft Docs'
author: tdykstra
description: Esta serie de tutoriales muestra cómo implementar (publicar) una ASP.NET web application a Azure App Service Web Apps o a un proveedor de hospedaje de terceros, usa...
ms.author: riande
ms.date: 03/23/2015
ms.assetid: 1cd91055-84bc-42c6-9d80-646f41429d4d
msc.legacyurl: /web-forms/overview/deployment/visual-studio-web-deployment/deploying-extra-files
msc.type: authoredcontent
ms.openlocfilehash: 7ec80056a845429d5971bb174f6348b4b7a9587d
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59379604"
---
# <a name="aspnet-web-deployment-using-visual-studio-deploying-extra-files"></a><span data-ttu-id="3f813-103">Implementación Web de ASP.NET con Visual Studio: Implementar archivos adicionales</span><span class="sxs-lookup"><span data-stu-id="3f813-103">ASP.NET Web Deployment using Visual Studio: Deploying Extra Files</span></span>

<span data-ttu-id="3f813-104">por [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3f813-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="3f813-105">Descargar el proyecto de inicio</span><span class="sxs-lookup"><span data-stu-id="3f813-105">Download Starter Project</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=282627)

> <span data-ttu-id="3f813-106">Esta serie de tutoriales muestra cómo implementar (publicar) una ASP.NET web application a Azure App Service Web Apps o a un proveedor de hospedaje de terceros, mediante el uso de Visual Studio 2012 o Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="3f813-106">This tutorial series shows you how to deploy (publish) an ASP.NET web application to Azure App Service Web Apps or to a third-party hosting provider, by using Visual Studio 2012 or Visual Studio 2010.</span></span> <span data-ttu-id="3f813-107">Para obtener información acerca de la serie, vea [el primer tutorial de la serie](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="3f813-107">For information about the series, see [the first tutorial in the series](introduction.md).</span></span>


## <a name="overview"></a><span data-ttu-id="3f813-108">Información general</span><span class="sxs-lookup"><span data-stu-id="3f813-108">Overview</span></span>

<span data-ttu-id="3f813-109">Este tutorial muestra cómo extender Visual Studio web publicar canalización para realizar una tarea adicional durante la implementación.</span><span class="sxs-lookup"><span data-stu-id="3f813-109">This tutorial shows how to extend the Visual Studio web publish pipeline to do an additional task during deployment.</span></span> <span data-ttu-id="3f813-110">La tarea consiste en copiar los archivos adicionales que no están en la carpeta del proyecto en el sitio web de destino.</span><span class="sxs-lookup"><span data-stu-id="3f813-110">The task is to copy extra files that are not in the project folder to the destination web site.</span></span>

<span data-ttu-id="3f813-111">En este tutorial se copiará un archivo adicional: *robots.txt*.</span><span class="sxs-lookup"><span data-stu-id="3f813-111">For this tutorial you'll copy one extra file: *robots.txt*.</span></span> <span data-ttu-id="3f813-112">Desea implementar este archivo en el almacenamiento provisional, pero no para producción.</span><span class="sxs-lookup"><span data-stu-id="3f813-112">You want to deploy this file to staging but not to production.</span></span> <span data-ttu-id="3f813-113">En [la implementación en producción](deploying-to-production.md) tutorial, ha agregado este archivo al proyecto y configura la producción perfil para excluirla de publicación.</span><span class="sxs-lookup"><span data-stu-id="3f813-113">In [the Deploying to Production](deploying-to-production.md) tutorial, you added this file to the project and configured the Production publish profile to exclude it.</span></span> <span data-ttu-id="3f813-114">En este tutorial, verá un método alternativo para controlar esta situación, uno que sea útil para los archivos que desea implementar, pero no desea incluir en el proyecto.</span><span class="sxs-lookup"><span data-stu-id="3f813-114">In this tutorial you'll see an alternative method to handle this situation, one that will be useful for any files that you want to deploy but don't want to include in the project.</span></span>

## <a name="move-the-robotstxt-file"></a><span data-ttu-id="3f813-115">Mueva el archivo robots.txt</span><span class="sxs-lookup"><span data-stu-id="3f813-115">Move the robots.txt file</span></span>

<span data-ttu-id="3f813-116">Para prepararse para un método diferente de control de *robots.txt*, en esta sección del tutorial mueva el archivo a una carpeta que no se incluye en el proyecto y se elimina *robots.txt* desde el almacenamiento provisional entorno.</span><span class="sxs-lookup"><span data-stu-id="3f813-116">To prepare for a different method of handling *robots.txt*, in this section of the tutorial you move the file to a folder that is not included in the project, and you delete *robots.txt* from the staging environment.</span></span> <span data-ttu-id="3f813-117">Es necesario eliminar el archivo de almacenamiento provisional para que pueda comprobar que funciona correctamente al nuevo método de implementar el archivo en ese entorno.</span><span class="sxs-lookup"><span data-stu-id="3f813-117">It is necessary to delete the file from staging so that you can verify that your new method of deploying the file to that environment is working correctly.</span></span>

1. <span data-ttu-id="3f813-118">En **el Explorador de soluciones**, haga clic en el *robots.txt* de archivo y haga clic en **excluir del proyecto**.</span><span class="sxs-lookup"><span data-stu-id="3f813-118">In **Solution Explorer**, right-click the *robots.txt* file and click **Exclude From Project**.</span></span>
2. <span data-ttu-id="3f813-119">Mediante el Explorador de archivos de Windows, cree una nueva carpeta en la carpeta de soluciones y asígnele el nombre *ExtraFiles*.</span><span class="sxs-lookup"><span data-stu-id="3f813-119">Using Windows File Explorer, create a new folder in the solution folder and name it *ExtraFiles*.</span></span>
3. <span data-ttu-id="3f813-120">Mover el *robots.txt* de archivos desde el *ContosoUniversity* carpeta de proyecto para el *ExtraFiles* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3f813-120">Move the *robots.txt* file from the *ContosoUniversity* project folder to the *ExtraFiles* folder.</span></span>

    ![Carpeta ExtraFiles](deploying-extra-files/_static/image1.png)
4. <span data-ttu-id="3f813-122">Mediante la herramienta FTP, elimine el *robots.txt* archivo desde el sitio web de ensayo.</span><span class="sxs-lookup"><span data-stu-id="3f813-122">Using your FTP tool, delete the *robots.txt* file from the staging web site.</span></span>

    <span data-ttu-id="3f813-123">Como alternativa, puede seleccionar **quitar archivos adicionales en destino** en **File Publish Options** en el **configuración** pestaña de perfil de publicación de ensayo, y Vuelva a publicar en el almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="3f813-123">As an alternative, you can select **Remove additional files at destination** under **File Publish Options** on the **Settings** tab of the Staging publish profile, and republish to staging.</span></span>

## <a name="update-the-publish-profile-file"></a><span data-ttu-id="3f813-124">Actualizar el archivo de perfil de publicación</span><span class="sxs-lookup"><span data-stu-id="3f813-124">Update the publish profile file</span></span>

<span data-ttu-id="3f813-125">Solo necesita *robots.txt* en almacenamiento provisional, por lo que es el perfil de publicación solo debe actualizar con el fin de implementarlo en prueba.</span><span class="sxs-lookup"><span data-stu-id="3f813-125">You only need *robots.txt* in staging, so the only publish profile you need to update in order to deploy it is Staging.</span></span>

1. <span data-ttu-id="3f813-126">En Visual Studio, abra *Staging.pubxml*.</span><span class="sxs-lookup"><span data-stu-id="3f813-126">In Visual Studio, open *Staging.pubxml*.</span></span>
2. <span data-ttu-id="3f813-127">Al final del archivo, antes del cierre `</Project>` etiquetar, agregue el siguiente marcado:</span><span class="sxs-lookup"><span data-stu-id="3f813-127">At the end of the file, before the closing `</Project>` tag, add the following markup:</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample1.xml)]

    <span data-ttu-id="3f813-128">Este código crea un nuevo *destino* que recopilará los archivos adicionales que se implementarán.</span><span class="sxs-lookup"><span data-stu-id="3f813-128">This code creates a new *target* that will collect additional files to be deployed.</span></span> <span data-ttu-id="3f813-129">Un destino se compone de uno o más tareas de MSBuild se ejecutará según las condiciones que especifique.</span><span class="sxs-lookup"><span data-stu-id="3f813-129">A target is composed of one or more tasks that MSBuild will execute based on conditions you specify.</span></span>

    <span data-ttu-id="3f813-130">El `Include` atributo especifica que la carpeta donde se encuentran los archivos es *ExtraFiles*, que se encuentra en el mismo nivel que la carpeta del proyecto.</span><span class="sxs-lookup"><span data-stu-id="3f813-130">The `Include` attribute specifies that the folder in which to find the files is *ExtraFiles*, located at the same level as the project folder.</span></span> <span data-ttu-id="3f813-131">MSBuild recopilará todos los archivos de esa carpeta y todas las subcarpetas (el asterisco doble especifica recursiva subcarpetas) de forma recursiva.</span><span class="sxs-lookup"><span data-stu-id="3f813-131">MSBuild will collect all files from that folder and recursively from any subfolders (the double asterisk specifies recursive subfolders).</span></span> <span data-ttu-id="3f813-132">Con este código podría poner varios archivos y archivos en subcarpetas dentro de la *ExtraFiles* carpeta y todas se implementarán.</span><span class="sxs-lookup"><span data-stu-id="3f813-132">With this code you could put multiple files, and files in subfolders inside the *ExtraFiles* folder, and all will be deployed.</span></span>

    <span data-ttu-id="3f813-133">El `DestinationRelativePath` elemento especifica que los archivos y carpetas deben copiarse a la carpeta raíz del sitio web de destino, en la misma estructura de archivos y carpetas que se encuentran en el *ExtraFiles* carpeta.</span><span class="sxs-lookup"><span data-stu-id="3f813-133">The `DestinationRelativePath` element specifies that the folders and files should be copied to the root folder of the destination web site, in the same file and folder structure as they are found in the *ExtraFiles* folder.</span></span> <span data-ttu-id="3f813-134">Si desea copiar el *ExtraFiles* propia carpeta, el `DestinationRelativePath` valor sería *ExtraFiles\%(RecursiveDir)%(Filename)%(Extension)*.</span><span class="sxs-lookup"><span data-stu-id="3f813-134">If you wanted to copy the *ExtraFiles* folder itself, the `DestinationRelativePath` value would be *ExtraFiles\%(RecursiveDir)%(Filename)%(Extension)*.</span></span>
3. <span data-ttu-id="3f813-135">Al final del archivo, antes del cierre `</Project>` etiquetar, agregue el siguiente marcado que especifica cuándo se debe ejecutar el destino de nuevo.</span><span class="sxs-lookup"><span data-stu-id="3f813-135">At the end of the file, before the closing `</Project>` tag, add the following markup that specifies when to execute the new target.</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample2.xml)]

    <span data-ttu-id="3f813-136">Este código hace que el nuevo `CustomCollectFiles` destino que se ejecutará cada vez que se ejecuta el destino que copia archivos en la carpeta de destino.</span><span class="sxs-lookup"><span data-stu-id="3f813-136">This code causes the new `CustomCollectFiles` target to be executed whenever the target that copies files to the destination folder is executed.</span></span> <span data-ttu-id="3f813-137">Hay un destino independiente para publicar en comparación con la creación del paquete de implementación y el destino nuevo se inserta en ambos destinos en caso de que decida implementar mediante un paquete de implementación en lugar de la publicación.</span><span class="sxs-lookup"><span data-stu-id="3f813-137">There is a separate target for publish versus deployment package creation, and the new target is injected in both targets in case you decide to deploy by using a deployment package instead of publishing.</span></span>

    <span data-ttu-id="3f813-138">El *.pubxml* archivo ahora tiene un aspecto similar al ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="3f813-138">The *.pubxml* file now looks like the following example:</span></span>

    [!code-xml[Main](deploying-extra-files/samples/sample3.xml?highlight=53-71)]
4. <span data-ttu-id="3f813-139">Guarde y cierre el *Staging.pubxml* archivo.</span><span class="sxs-lookup"><span data-stu-id="3f813-139">Save and close the *Staging.pubxml* file.</span></span>

## <a name="publish-to-staging"></a><span data-ttu-id="3f813-140">Publicar en el almacenamiento provisional</span><span class="sxs-lookup"><span data-stu-id="3f813-140">Publish to staging</span></span>

<span data-ttu-id="3f813-141">Publicar con un solo clic o la línea de comandos, publicar la aplicación mediante el perfil de almacenamiento provisional.</span><span class="sxs-lookup"><span data-stu-id="3f813-141">Using one-click publish or the command line, publish the application by using the Staging profile.</span></span>

<span data-ttu-id="3f813-142">Si usa un solo clic publicar, puede comprobar en el **Preview** ventana que *robots.txt* se va a copiar.</span><span class="sxs-lookup"><span data-stu-id="3f813-142">If you use one-click publish, you can verify in the **Preview** window that *robots.txt* will be copied.</span></span> <span data-ttu-id="3f813-143">En caso contrario, use la herramienta FTP para comprobar que la *robots.txt* archivo está en la carpeta raíz del sitio web después de la implementación.</span><span class="sxs-lookup"><span data-stu-id="3f813-143">Otherwise, use your FTP tool to verify that the *robots.txt* file is in the root folder of the web site after deployment.</span></span>

## <a name="summary"></a><span data-ttu-id="3f813-144">Resumen</span><span class="sxs-lookup"><span data-stu-id="3f813-144">Summary</span></span>

<span data-ttu-id="3f813-145">Con esto finaliza esta serie de tutoriales sobre la implementación de una aplicación web ASP.NET en un proveedor de hospedaje de terceros.</span><span class="sxs-lookup"><span data-stu-id="3f813-145">This completes this series of tutorials on deploying an ASP.NET web application to a third-party hosting provider.</span></span> <span data-ttu-id="3f813-146">Para obtener más información acerca de cualquiera de los temas tratados en estos tutoriales, vea el [mapa de contenido de implementación ASP.NET](https://go.microsoft.com/fwlink/p/?LinkId=282413).</span><span class="sxs-lookup"><span data-stu-id="3f813-146">For more information about any of the topics covered in these tutorials, see the [ASP.NET Deployment Content Map](https://go.microsoft.com/fwlink/p/?LinkId=282413).</span></span>

## <a name="more-information"></a><span data-ttu-id="3f813-147">Más información</span><span class="sxs-lookup"><span data-stu-id="3f813-147">More information</span></span>

<span data-ttu-id="3f813-148">Si sabe cómo trabajar con archivos de MSBuild, puede automatizar muchas otras tareas de implementación escribiendo código en *.pubxml* archivos (para tareas específicas del perfil) o el proyecto *. wpp.targets* archivo (para las tareas que se aplican a todos los perfiles).</span><span class="sxs-lookup"><span data-stu-id="3f813-148">If you know how to work with MSBuild files, you can automate many other deployment tasks by writing code in *.pubxml* files (for profile-specific tasks) or the project *.wpp.targets* file (for tasks that apply to all profiles).</span></span> <span data-ttu-id="3f813-149">Para obtener más información acerca de *.pubxml* y *. wpp.targets* archivos, consulte [Cómo: Editar configuración de implementación de publica los archivos de perfil (.pubxml) y el. archivos de destino.WPP en proyectos Web de Visual Studio](https://msdn.microsoft.com/library/ff398069).</span><span class="sxs-lookup"><span data-stu-id="3f813-149">For more information about *.pubxml* and *.wpp.targets* files, see [How to: Edit Deployment Settings in Publish Profile (.pubxml) Files and the .wpp.targets File in Visual Studio Web Projects](https://msdn.microsoft.com/library/ff398069).</span></span> <span data-ttu-id="3f813-150">Para obtener una introducción básica al código de MSBuild, vea **Anatomía de un archivo de proyecto** en [Enterprise Deployment Series: Descripción del archivo de proyecto](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span><span class="sxs-lookup"><span data-stu-id="3f813-150">For a basic introduction to MSBuild code, see **The Anatomy of a Project File** in [Enterprise Deployment Series: Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md).</span></span> <span data-ttu-id="3f813-151">Para obtener información sobre cómo trabajar con archivos de MSBuild para realizar tareas para sus propios escenarios, consulte este libro: [Dentro de Microsoft Build Engine: Uso de MSBuild y Team Foundation Build](http://msbuildbook.com) por Sayed Ibraham Hashimi y William Bartholomew.</span><span class="sxs-lookup"><span data-stu-id="3f813-151">To learn how to work with MSBuild files to perform tasks for your own scenarios, see this book: [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://msbuildbook.com) by Sayed Ibraham Hashimi and William Bartholomew.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="3f813-152">Reconocimientos</span><span class="sxs-lookup"><span data-stu-id="3f813-152">Acknowledgements</span></span>

<span data-ttu-id="3f813-153">Gustaría agradecer a las siguientes personas que realizan aportaciones significativas al contenido de esta serie de tutoriales:</span><span class="sxs-lookup"><span data-stu-id="3f813-153">I would like to thank the following people who made significant contributions to the content of this tutorial series:</span></span>

- [<span data-ttu-id="3f813-154">Alberto Poblacion, MVP &amp; MCT, España</span><span class="sxs-lookup"><span data-stu-id="3f813-154">Alberto Poblacion, MVP &amp; MCT, Spain</span></span>](https://mvp.microsoft.com/mvp/Alberto%20Poblacion%20Bolano-36772)
- <span data-ttu-id="3f813-155">Jarod Ferguson, MVP de desarrollo de plataforma de datos, España</span><span class="sxs-lookup"><span data-stu-id="3f813-155">Jarod Ferguson, Data Platform Development MVP, United States</span></span>
- <span data-ttu-id="3f813-156">Harsh Mittal, Microsoft</span><span class="sxs-lookup"><span data-stu-id="3f813-156">Harsh Mittal, Microsoft</span></span>
- <span data-ttu-id="3f813-157">[Jon Galloway](https://weblogs.asp.net/jgalloway) (twitter: [ @jongalloway ](http://twitter.com/jongalloway))</span><span class="sxs-lookup"><span data-stu-id="3f813-157">[Jon Galloway](https://weblogs.asp.net/jgalloway) (twitter: [@jongalloway](http://twitter.com/jongalloway))</span></span>
- [<span data-ttu-id="3f813-158">Kristina Olson, Microsoft</span><span class="sxs-lookup"><span data-stu-id="3f813-158">Kristina Olson, Microsoft</span></span>](https://blogs.iis.net/krolson/default.aspx)
- [<span data-ttu-id="3f813-159">Mike Pope, Microsoft</span><span class="sxs-lookup"><span data-stu-id="3f813-159">Mike Pope, Microsoft</span></span>](http://www.mikepope.com/blog/DisplayBlog.aspx)
- <span data-ttu-id="3f813-160">Mohit Srivastava, Microsoft</span><span class="sxs-lookup"><span data-stu-id="3f813-160">Mohit Srivastava, Microsoft</span></span>
- [<span data-ttu-id="3f813-161">Raffaele Rialdi, Italia</span><span class="sxs-lookup"><span data-stu-id="3f813-161">Raffaele Rialdi, Italy</span></span>](http://www.iamraf.net/)
- [<span data-ttu-id="3f813-162">Rick Anderson, Microsoft</span><span class="sxs-lookup"><span data-stu-id="3f813-162">Rick Anderson, Microsoft</span></span>](https://blogs.msdn.com/b/rickandy/)
- <span data-ttu-id="3f813-163">[Sayed Hashimi, Microsoft](http://sedodream.com/default.aspx)(twitter: [ @sayedihashimi ](http://twitter.com/sayedihashimi))</span><span class="sxs-lookup"><span data-stu-id="3f813-163">[Sayed Hashimi, Microsoft](http://sedodream.com/default.aspx)(twitter: [@sayedihashimi](http://twitter.com/sayedihashimi))</span></span>
- <span data-ttu-id="3f813-164">[Scott Hanselman](http://www.hanselman.com/blog/) (twitter: [ @shanselman ](http://twitter.com/shanselman))</span><span class="sxs-lookup"><span data-stu-id="3f813-164">[Scott Hanselman](http://www.hanselman.com/blog/) (twitter: [@shanselman](http://twitter.com/shanselman))</span></span>
- <span data-ttu-id="3f813-165">[Scott Hunter, Microsoft](https://blogs.msdn.com/b/scothu/) (twitter: [ @coolcsh ](http://twitter.com/coolcsh))</span><span class="sxs-lookup"><span data-stu-id="3f813-165">[Scott Hunter, Microsoft](https://blogs.msdn.com/b/scothu/) (twitter: [@coolcsh](http://twitter.com/coolcsh))</span></span>
- [<span data-ttu-id="3f813-166">Srđan Božović, Serbia</span><span class="sxs-lookup"><span data-stu-id="3f813-166">Srđan Božović, Serbia</span></span>](http://msforge.net/blogs/zmajcek/)
- <span data-ttu-id="3f813-167">[Vishal Joshi, Microsoft](http://vishaljoshi.blogspot.com/) (twitter: [ @vishalrjoshi ](http://twitter.com/vishalrjoshi))</span><span class="sxs-lookup"><span data-stu-id="3f813-167">[Vishal Joshi, Microsoft](http://vishaljoshi.blogspot.com/) (twitter: [@vishalrjoshi](http://twitter.com/vishalrjoshi))</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3f813-168">[Anterior](command-line-deployment.md)
> [Siguiente](troubleshooting.md)</span><span class="sxs-lookup"><span data-stu-id="3f813-168">[Previous](command-line-deployment.md)
[Next](troubleshooting.md)</span></span>

---
uid: web-pages/overview/ui-layouts-and-themes/4-working-with-forms
title: Trabajar con formularios HTML en sitios de ASP.NET Web Pages (Razor) | Microsoft Docs
author: Rick-Anderson
description: Un formulario es una sección de un documento HTML donde se colocan controles de entrada de usuario, como cuadros de texto, casillas, botones de radio y listas desplegables. Use Forms...
ms.author: riande
ms.date: 02/10/2014
ms.assetid: f3f4b8c8-e8f6-4474-ad94-69228a6c01ee
msc.legacyurl: /web-pages/overview/ui-layouts-and-themes/4-working-with-forms
msc.type: authoredcontent
ms.openlocfilehash: c7d4802063c8610a246afe67bd15eea429f7304a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78519607"
---
# <a name="working-with-html-forms-in-aspnet-web-pages-razor-sites"></a><span data-ttu-id="c5bd0-104">Trabajar con formularios HTML en sitios de ASP.NET Web Pages (Razor)</span><span class="sxs-lookup"><span data-stu-id="c5bd0-104">Working with HTML Forms in ASP.NET Web Pages (Razor) Sites</span></span>

<span data-ttu-id="c5bd0-105">por [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="c5bd0-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="c5bd0-106">En este artículo se describe cómo procesar un formulario HTML (con cuadros de texto y botones) cuando se trabaja en un sitio web de ASP.NET Web Pages (Razor).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-106">This article describes how to process an HTML form (with text boxes and buttons) when you are working in an ASP.NET Web Pages (Razor) website.</span></span>
> 
> <span data-ttu-id="c5bd0-107">**Lo que aprenderá:**</span><span class="sxs-lookup"><span data-stu-id="c5bd0-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="c5bd0-108">Cómo crear un formulario HTML.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-108">How to create an HTML form.</span></span>
> - <span data-ttu-id="c5bd0-109">Cómo leer los datos proporcionados por el usuario desde el formulario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-109">How to read user input from the form.</span></span>
> - <span data-ttu-id="c5bd0-110">Cómo validar los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-110">How to validate user input.</span></span>
> - <span data-ttu-id="c5bd0-111">Cómo restaurar valores de formulario después de enviar la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-111">How to restore form values after the page is submitted.</span></span>
> 
> <span data-ttu-id="c5bd0-112">Estos son los conceptos de programación de ASP.NET que se incluyen en el artículo:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-112">These are the ASP.NET programming concepts introduced in the article:</span></span>
> 
> - <span data-ttu-id="c5bd0-113">Objeto `Request`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-113">The `Request` object.</span></span>
> - <span data-ttu-id="c5bd0-114">Validación de entrada.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-114">Input validation.</span></span>
> - <span data-ttu-id="c5bd0-115">Codificación HTML.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-115">HTML encoding.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="c5bd0-116">Versiones de software usadas en el tutorial</span><span class="sxs-lookup"><span data-stu-id="c5bd0-116">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="c5bd0-117">ASP.NET Web Pages (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="c5bd0-117">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="c5bd0-118">Este tutorial también funciona con ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-118">This tutorial also works with ASP.NET Web Pages 2.</span></span>

## <a name="creating-a-simple-html-form"></a><span data-ttu-id="c5bd0-119">Crear un formulario HTML sencillo</span><span class="sxs-lookup"><span data-stu-id="c5bd0-119">Creating a Simple HTML Form</span></span>

1. <span data-ttu-id="c5bd0-120">Cree un nuevo sitio Web.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-120">Create a new website.</span></span>
2. <span data-ttu-id="c5bd0-121">En la carpeta raíz, cree una página web denominada *Form. cshtml* y escriba el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-121">In the root folder, create a web page named *Form.cshtml* and enter the following markup:</span></span>

    [!code-html[Main](4-working-with-forms/samples/sample1.html)]
3. <span data-ttu-id="c5bd0-122">Inicie la página en el explorador.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-122">Launch the page in your browser.</span></span> <span data-ttu-id="c5bd0-123">(En WebMatrix, en el área de trabajo **archivos** , haga clic con el botón derecho en el archivo y seleccione **iniciar en el explorador**). Se muestra un formulario sencillo con tres campos de entrada y un botón de **envío** .</span><span class="sxs-lookup"><span data-stu-id="c5bd0-123">(In WebMatrix, in the **Files** workspace, right-click the file and then select **Launch in browser**.) A simple form with three input fields and a **Submit** button is displayed.</span></span>

    ![Captura de pantalla de un formulario con tres cuadros de texto.](4-working-with-forms/_static/image1.png)

    <span data-ttu-id="c5bd0-125">En este punto, si hace clic en el botón **Enviar** , no sucede nada.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-125">At this point, if you click the **Submit** button, nothing happens.</span></span> <span data-ttu-id="c5bd0-126">Para que el formulario sea útil, debe agregar código que se ejecutará en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-126">To make the form useful, you have to add some code that will run on the server.</span></span>

## <a name="reading-user-input-from-the-form"></a><span data-ttu-id="c5bd0-127">Leer la entrada del usuario del formulario</span><span class="sxs-lookup"><span data-stu-id="c5bd0-127">Reading User Input from the Form</span></span>

<span data-ttu-id="c5bd0-128">Para procesar el formulario, agregue el código que lee los valores de campo enviados y realiza alguna acción con ellos.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-128">To process the form, you add code that reads the submitted field values and does something with them.</span></span> <span data-ttu-id="c5bd0-129">En este procedimiento se muestra cómo leer los campos y mostrar la entrada del usuario en la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-129">This procedure shows you how to read the fields and display the user input on the page.</span></span> <span data-ttu-id="c5bd0-130">En una aplicación de producción, por lo general, se realizan cosas más interesantes con los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-130">(In a production application, you generally do more interesting things with user input.</span></span> <span data-ttu-id="c5bd0-131">Lo hará en el artículo sobre cómo trabajar con bases de datos).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-131">You'll do that in the article about working with databases.)</span></span>

1. <span data-ttu-id="c5bd0-132">En la parte superior del archivo *Form. cshtml* , escriba el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-132">At the top of the *Form.cshtml* file, enter the following code:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample2.cshtml)]

    <span data-ttu-id="c5bd0-133">Cuando el usuario solicita la página por primera vez, solo se muestra el formulario vacío.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-133">When the user first requests the page, only the empty form is displayed.</span></span> <span data-ttu-id="c5bd0-134">El usuario (que será) rellena el formulario y, a continuación, hace clic en **Enviar**.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-134">The user (which will be you) fills in the form and then clicks **Submit**.</span></span> <span data-ttu-id="c5bd0-135">Esto envía (envía) la entrada del usuario al servidor.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-135">This submits (posts) the user input to the server.</span></span> <span data-ttu-id="c5bd0-136">De forma predeterminada, la solicitud se dirige a la misma página (es decir, *Form. cshtml*).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-136">By default, the request goes to the same page (namely, *Form.cshtml*).</span></span>

    <span data-ttu-id="c5bd0-137">Cuando se envía la página esta vez, los valores especificados se muestran justo encima del formulario:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-137">When you submit the page this time, the values you entered are displayed just above the form:</span></span>

    ![Captura de pantalla que muestra los valores que ha especificado en la página.](4-working-with-forms/_static/image2.png)

    <span data-ttu-id="c5bd0-139">Examine el código de la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-139">Look at the code for the page.</span></span> <span data-ttu-id="c5bd0-140">En primer lugar, use el método `IsPost` para determinar si la página se &#8212; está publicando, es decir, si un usuario hizo clic en el botón **Enviar** .</span><span class="sxs-lookup"><span data-stu-id="c5bd0-140">You first use the `IsPost` method to determine whether the page is being posted &#8212; that is, whether a user clicked the **Submit** button.</span></span> <span data-ttu-id="c5bd0-141">Si se trata de una publicación, `IsPost` devuelve true.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-141">If this is a post, `IsPost` returns true.</span></span> <span data-ttu-id="c5bd0-142">Esta es la manera estándar de ASP.NET Web Pages para determinar si está trabajando con una solicitud inicial (una solicitud GET) o un postback (una solicitud POST).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-142">This is the standard way in ASP.NET Web Pages to determine whether you're working with an initial request (a GET request) or a postback (a POST request).</span></span> <span data-ttu-id="c5bd0-143">(Para obtener más información sobre GET y POST, vea la barra lateral "HTTP GET y POST y la propiedad IsPost" en [Introduction to ASP.NET Web pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost)).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-143">(For more information about GET and POST, see the sidebar "HTTP GET and POST and the IsPost Property" in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#SB_HttpGetPost).)</span></span>

    <span data-ttu-id="c5bd0-144">A continuación, obtiene los valores que el usuario ha rellenado del objeto `Request.Form` y los coloca en las variables para más adelante.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-144">Next, you get the values that the user filled in from the `Request.Form` object, and you put them in variables for later.</span></span> <span data-ttu-id="c5bd0-145">El objeto `Request.Form` contiene todos los valores que se enviaron con la página, cada uno identificado por una clave.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-145">The `Request.Form` object contains all the values that were submitted with the page, each identified by a key.</span></span> <span data-ttu-id="c5bd0-146">La clave es equivalente al atributo `name` del campo de formulario que desea leer.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-146">The key is the equivalent to the `name` attribute of the form field that you want to read.</span></span> <span data-ttu-id="c5bd0-147">Por ejemplo, para leer el campo `companyname` (cuadro de texto), utilice `Request.Form["companyname"]`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-147">For example, to read the `companyname` field (text box), you use `Request.Form["companyname"]`.</span></span>

    <span data-ttu-id="c5bd0-148">Los valores de formulario se almacenan en el objeto `Request.Form` como cadenas.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-148">Form values are stored in the `Request.Form` object as strings.</span></span> <span data-ttu-id="c5bd0-149">Por lo tanto, cuando tenga que trabajar con un valor como un número o una fecha o algún otro tipo, tendrá que convertirlo de una cadena a ese tipo.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-149">Therefore, when you have to work with a value as a number or a date or some other type, you have to convert it from a string to that type.</span></span> <span data-ttu-id="c5bd0-150">En el ejemplo, el método `AsInt` del `Request.Form` se utiliza para convertir el valor del campo Employees (que contiene un recuento de empleados) en un entero.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-150">In the example, the `AsInt` method of the `Request.Form` is used to convert the value of the employees field (which contains an employee count) to an integer.</span></span>
2. <span data-ttu-id="c5bd0-151">Inicie la página en el explorador, rellene los campos de formulario y haga clic en **Enviar**.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-151">Launch the page in your browser, fill in the form fields, and click **Submit**.</span></span> <span data-ttu-id="c5bd0-152">En la página se muestran los valores especificados.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-152">The page displays the values you entered.</span></span>

> [!TIP] 
> 
> <a id="SB_HTMLEncoding"></a>
> ### <a name="html-encoding-for-appearance-and-security"></a><span data-ttu-id="c5bd0-153">Codificación HTML para la apariencia y la seguridad</span><span class="sxs-lookup"><span data-stu-id="c5bd0-153">HTML Encoding for Appearance and Security</span></span>
> 
> <span data-ttu-id="c5bd0-154">HTML tiene usos especiales para caracteres como `<`, `>`y `&`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-154">HTML has special uses for characters like `<`, `>`, and `&`.</span></span> <span data-ttu-id="c5bd0-155">Si estos caracteres especiales aparecen donde no se esperan, pueden estropear la apariencia y la funcionalidad de la Página Web.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-155">If these special characters appear where they're not expected, they can ruin the appearance and functionality of your web page.</span></span> <span data-ttu-id="c5bd0-156">Por ejemplo, el explorador interpreta el carácter `<` (a menos que vaya seguido de un espacio) como el principio de un elemento HTML, como `<b>` o `<input ...>`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-156">For example, the browser interprets the `<` character (unless it's followed by a space) as the beginning of an HTML element, like `<b>` or `<input ...>`.</span></span> <span data-ttu-id="c5bd0-157">Si el explorador no reconoce el elemento, simplemente descarta la cadena que comienza con `<` hasta que llega a algo que reconoce de nuevo.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-157">If the browser doesn't recognize the element, it simply discards the string that begins with `<` until it reaches something that it again recognizes.</span></span> <span data-ttu-id="c5bd0-158">Obviamente, esto puede dar lugar a una representación extraña en la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-158">Obviously, this can result in some weird rendering in the page.</span></span>
> 
> <span data-ttu-id="c5bd0-159">La codificación HTML reemplaza estos caracteres reservados por un código que los exploradores interpretan como el símbolo correcto.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-159">HTML encoding replaces these reserved characters with a code that browsers interpret as the correct symbol.</span></span> <span data-ttu-id="c5bd0-160">Por ejemplo, el carácter `<` se reemplaza por `&lt;` y el carácter `>` se reemplaza por `&gt;`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-160">For example, the `<` character is replaced with `&lt;` and the `>` character is replaced with `&gt;`.</span></span> <span data-ttu-id="c5bd0-161">El explorador representa estas cadenas de reemplazo como los caracteres que desea ver.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-161">The browser renders these replacement strings as the characters that you want to see.</span></span>
> 
> <span data-ttu-id="c5bd0-162">Es aconsejable usar la codificación HTML siempre que se muestren cadenas (entrada) que haya recibido de un usuario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-162">It's a good idea to use HTML encoding any time you display strings (input) that you got from a user.</span></span> <span data-ttu-id="c5bd0-163">Si no lo hace, un usuario puede intentar obtener la página web para ejecutar un script malintencionado o hacer algo más que ponga en peligro la seguridad del sitio o que no sea lo que desea.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-163">If you don't, a user can try to get your web page to run a malicious script or do something else that compromises your site security or that's just not what you intend.</span></span> <span data-ttu-id="c5bd0-164">(Esto es especialmente importante si toma datos proporcionados por el usuario, los almacena en un lugar y &#8212; después los muestra posteriormente, como un Comentario de blog, una revisión de usuario o algo parecido).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-164">(This is particularly important if you take user input, store it someplace, and then display it later &#8212; for example, as a blog comment, user review, or something like that.)</span></span>
> 
> <span data-ttu-id="c5bd0-165">Para ayudar a evitar estos problemas, ASP.NET Web Pages codifica automáticamente en HTML todo el contenido de texto que se genera desde el código.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-165">To help prevent these problems, ASP.NET Web Pages automatically HTML-encodes any text content that you output from your code.</span></span> <span data-ttu-id="c5bd0-166">Por ejemplo, al mostrar el contenido de una variable o una expresión mediante código como `@MyVar`, ASP.NET Web Pages codifica automáticamente el resultado.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-166">For example, when you display the content of a variable or an expression using code such as `@MyVar`, ASP.NET Web Pages automatically encodes the output.</span></span>

## <a name="validating-user-input"></a><span data-ttu-id="c5bd0-167">Validar los datos introducidos por el usuario</span><span class="sxs-lookup"><span data-stu-id="c5bd0-167">Validating User Input</span></span>

<span data-ttu-id="c5bd0-168">Los usuarios cometen errores.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-168">Users make mistakes.</span></span> <span data-ttu-id="c5bd0-169">Pídales que rellenen un campo y que se olviden o que le pidan que escriban el número de empleados y escriban un nombre en su lugar.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-169">You ask them to fill in a field, and they forget to, or you ask them to enter the number of employees and they type a name instead.</span></span> <span data-ttu-id="c5bd0-170">Para asegurarse de que un formulario se ha rellenado correctamente antes de procesarlo, valide la entrada del usuario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-170">To make sure that a form has been filled in correctly before you process it, you validate the user's input.</span></span>

<span data-ttu-id="c5bd0-171">Este procedimiento muestra cómo validar los tres campos de formulario para asegurarse de que el usuario no los dejó en blanco.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-171">This procedure shows how to validate all three form fields to make sure the user didn't leave them blank.</span></span> <span data-ttu-id="c5bd0-172">También se comprueba que el valor de recuento de empleados es un número.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-172">You also check that the employee count value is a number.</span></span> <span data-ttu-id="c5bd0-173">Si hay errores, se mostrará un mensaje de error que indica al usuario qué valores no superaron la validación.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-173">If there are errors, you'll display an error message that tells the user what values didn't pass validation.</span></span>

1. <span data-ttu-id="c5bd0-174">En el archivo *Form. cshtml* , reemplace el primer bloque de código por el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-174">In the *Form.cshtml* file, replace the first block of code with the following code:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample3.cshtml)]

    <span data-ttu-id="c5bd0-175">Para validar la entrada del usuario, use la aplicación auxiliar de `Validation`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-175">To validate user input, you use the `Validation` helper.</span></span> <span data-ttu-id="c5bd0-176">Para registrar los campos obligatorios, llame a `Validation.RequireField`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-176">You register required fields by calling `Validation.RequireField`.</span></span> <span data-ttu-id="c5bd0-177">Para registrar otros tipos de validación, se llama a `Validation.Add` y se especifica el campo que se va a validar y el tipo de validación que se va a realizar.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-177">You register other types of validation by calling `Validation.Add` and specifying the field to validate and the type of validation to perform.</span></span>

    <span data-ttu-id="c5bd0-178">Cuando se ejecuta la página, ASP.NET realiza toda la validación.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-178">When the page runs, ASP.NET does all the validation for you.</span></span> <span data-ttu-id="c5bd0-179">Puede comprobar los resultados llamando a `Validation.IsValid`, que devuelve true si todo lo pasó y false si algún campo no ha superado la validación.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-179">You can check the results by calling `Validation.IsValid`, which returns true if everything passed and false if any field failed validation.</span></span> <span data-ttu-id="c5bd0-180">Normalmente, se llama a `Validation.IsValid` antes de realizar cualquier procesamiento de los datos proporcionados por el usuario.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-180">Typically, you call `Validation.IsValid` before you perform any processing on the user input.</span></span>
2. <span data-ttu-id="c5bd0-181">Actualice el elemento `<body>` agregando tres llamadas al método `Html.ValidationMessage`, de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-181">Update the `<body>` element by adding three calls to the `Html.ValidationMessage` method, like this:</span></span>

    [!code-cshtml[Main](4-working-with-forms/samples/sample4.cshtml?highlight=8,13,18)]

    <span data-ttu-id="c5bd0-182">Para mostrar los mensajes de error de validación, puede llamar a HTML.`ValidationMessage`</span><span class="sxs-lookup"><span data-stu-id="c5bd0-182">To display validation error messages, you can call Html.`ValidationMessage`</span></span> <span data-ttu-id="c5bd0-183">y pásele el nombre del campo para el que desea el mensaje.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-183">and pass it the name of the field that you want the message for.</span></span>
3. <span data-ttu-id="c5bd0-184">Ejecute la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-184">Run the page.</span></span> <span data-ttu-id="c5bd0-185">Deje los campos en blanco y haga clic en **Enviar**.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-185">Leave the fields blank and click **Submit**.</span></span> <span data-ttu-id="c5bd0-186">Verá mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-186">You see error messages.</span></span>

    ![Captura de pantalla que muestra mensajes de error que se muestran si la entrada del usuario no pasa la validación.](4-working-with-forms/_static/image3.jpg)
4. <span data-ttu-id="c5bd0-188">Agregue una cadena (por ejemplo, "ABC") al campo **recuento de empleados** y haga clic en **Enviar** de nuevo.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-188">Add a string (for example, "ABC") to the **Employee Count** field and click **Submit** again.</span></span> <span data-ttu-id="c5bd0-189">Esta vez verá un error que indica que la cadena no está en el formato correcto, es decir, un entero.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-189">This time you see an error that indicates that the string isn't in the right format, namely, an integer.</span></span>

    ![Captura de pantalla que muestra mensajes de error que se muestran si los usuarios escriben una cadena para el campo empleados.](4-working-with-forms/_static/image4.jpg)

<span data-ttu-id="c5bd0-191">ASP.NET Web Pages proporciona más opciones para validar la entrada del usuario, incluida la capacidad de realizar automáticamente la validación mediante el script de cliente, de modo que los usuarios obtengan comentarios inmediatos en el explorador.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-191">ASP.NET Web Pages provides more options for validating user input, including the ability to automatically perform validation using client script, so that users get immediate feedback in the browser.</span></span> <span data-ttu-id="c5bd0-192">Vea la sección [recursos adicionales](#Additional_Resources) más adelante para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-192">See the [Additional Resources](#Additional_Resources) section later for more information.</span></span>

## <a name="restoring-form-values-after-postbacks"></a><span data-ttu-id="c5bd0-193">Restaurar valores de formulario después de postback</span><span class="sxs-lookup"><span data-stu-id="c5bd0-193">Restoring Form Values After Postbacks</span></span>

<span data-ttu-id="c5bd0-194">Al probar la página en la sección anterior, es posible que haya observado que, si se produjo un error de validación, todo lo que ha escrito (no solo los datos no válidos) ha desaparecido y tenía que volver a escribir los valores para todos los campos.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-194">When you tested the page in the previous section, you might have noticed that if you had a validation error, everything you entered (not just the invalid data) was gone, and you had to re-enter values for all the fields.</span></span> <span data-ttu-id="c5bd0-195">Esto ilustra un punto importante: cuando se envía una página, se procesa y, a continuación, se vuelve a presentar la página, la página se vuelve a crear desde cero.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-195">This illustrates an important point: when you submit a page, process it, and then render the page again, the page is re-created from scratch.</span></span> <span data-ttu-id="c5bd0-196">Como ha visto, esto significa que los valores que estaban en la página cuando se enviaron se pierden.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-196">As you saw, this means that any values that were in the page when it was submitted are lost.</span></span>

<span data-ttu-id="c5bd0-197">Sin embargo, puede solucionarlo fácilmente.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-197">You can fix this easily, however.</span></span> <span data-ttu-id="c5bd0-198">Tiene acceso a los valores que se enviaron (en el objeto `Request.Form`, por lo que puede volver a rellenar los valores en los campos de formulario cuando se represente la página.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-198">You have access to the values that were submitted (in the `Request.Form` object, so you can fill those values back into the form fields when the page is rendered.</span></span>

1. <span data-ttu-id="c5bd0-199">En el archivo *Form. cshtml* , reemplace los `value` atributos de los elementos `<input>` mediante el atributo `value`:</span><span class="sxs-lookup"><span data-stu-id="c5bd0-199">In the *Form.cshtml* file, replace the `value` attributes of the `<input>` elements using the `value` attribute.:</span></span> 

    [!code-cshtml[Main](4-working-with-forms/samples/sample5.cshtml?highlight=13,19,25)]

    <span data-ttu-id="c5bd0-200">El atributo `value` de los elementos de la `<input>` se ha establecido para leer dinámicamente el valor del campo fuera del objeto `Request.Form`.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-200">The `value` attribute of the `<input>` elements has been set to dynamically read the field value out of the `Request.Form` object.</span></span> <span data-ttu-id="c5bd0-201">La primera vez que se solicita la página, los valores del objeto `Request.Form` están vacíos.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-201">The first time that the page is requested, the values in the `Request.Form` object are all empty.</span></span> <span data-ttu-id="c5bd0-202">Esto es correcto, ya que el formulario está en blanco.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-202">This is fine, because that way the form is blank.</span></span>
2. <span data-ttu-id="c5bd0-203">Inicie la página en el explorador, rellene los campos de formulario o déjelos en blanco y haga clic en **submit (enviar**).</span><span class="sxs-lookup"><span data-stu-id="c5bd0-203">Launch the page in your browser, fill in the form fields or leave them blank, and click **Submit**.</span></span> <span data-ttu-id="c5bd0-204">Se muestra una página que muestra los valores enviados.</span><span class="sxs-lookup"><span data-stu-id="c5bd0-204">A page that shows the submitted values is displayed.</span></span>

    ![formularios-5](4-working-with-forms/_static/image5.jpg)

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="c5bd0-206">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="c5bd0-206">Additional Resources</span></span>

- [<span data-ttu-id="c5bd0-207">1.001 formas de obtener información de los usuarios Web</span><span class="sxs-lookup"><span data-stu-id="c5bd0-207">1,001 Ways to Get Input from Web Users</span></span>](https://msdn.microsoft.com/library/ms971057.aspx)
- <span data-ttu-id="c5bd0-208">[Usar formularios y procesar los datos proporcionados por el usuario](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span><span class="sxs-lookup"><span data-stu-id="c5bd0-208">[Using Forms and Processing User Input](https://msdn.microsoft.com/library/ms525182(VS.90).aspx)</span></span>
- [<span data-ttu-id="c5bd0-209">Validar la entrada del usuario en los sitios de ASP.NET Web Pages</span><span class="sxs-lookup"><span data-stu-id="c5bd0-209">Validating User Input in ASP.NET Web Pages Sites</span></span>](https://go.microsoft.com/fwlink/?LinkId=253002)
- <span data-ttu-id="c5bd0-210">[Usar autocompletar en formularios HTML](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="c5bd0-210">[Using AutoComplete in HTML Forms](https://msdn.microsoft.com/library/ms533032(VS.85).aspx)</span></span>

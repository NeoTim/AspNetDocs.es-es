---
uid: mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
title: Creación de una aplicación de base de datos de películas en 15C#minutos con ASP.NET MVC () | Microsoft Docs
author: StephenWalther
description: Stephen Walther crea una aplicación de ASP.NET MVC completa controlada por la base de datos de principio a fin. Este tutorial es una excelente introducción para las personas que son nuevas t...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: dd1be137-91c5-47a8-8137-fecf0789c7f5
msc.legacyurl: /mvc/overview/older-versions-1/movie-database/create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs
msc.type: authoredcontent
ms.openlocfilehash: 1be5d135a44feb27626dd26a544b64cfb57b18a9
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2019
ms.locfileid: "74596134"
---
# <a name="create-a-movie-database-application-in-15-minutes-with-aspnet-mvc-c"></a><span data-ttu-id="914b6-104">Crear una aplicación de base de datos de película en 15 minutos con ASP.NET MVC (C#)</span><span class="sxs-lookup"><span data-stu-id="914b6-104">Create a Movie Database Application in 15 Minutes with ASP.NET MVC (C#)</span></span>

<span data-ttu-id="914b6-105">por [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="914b6-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="914b6-106">Descargar código</span><span class="sxs-lookup"><span data-stu-id="914b6-106">Download Code</span></span>](https://download.microsoft.com/download/7/2/8/728F8794-E59A-4D18-9A56-7AD2DB05BD9D/MovieApp_CS.zip)

> <span data-ttu-id="914b6-107">Stephen Walther crea una aplicación de ASP.NET MVC completa controlada por la base de datos de principio a fin.</span><span class="sxs-lookup"><span data-stu-id="914b6-107">Stephen Walther builds an entire database-driven ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="914b6-108">Este tutorial es una excelente introducción para las personas que son nuevas en el marco ASP.NET MVC y que quieren tener una idea del proceso de creación de una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-108">This tutorial is a great introduction for people who are new to the ASP.NET MVC Framework and who want to get a sense of the process of building an ASP.NET MVC application.</span></span>

<span data-ttu-id="914b6-109">El propósito de este tutorial es darle una idea de "lo que es como" para compilar una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-109">The purpose of this tutorial is to give you a sense of "what it is like" to build an ASP.NET MVC application.</span></span> <span data-ttu-id="914b6-110">En este tutorial, se puede crear una aplicación ASP.NET MVC completa de principio a fin.</span><span class="sxs-lookup"><span data-stu-id="914b6-110">In this tutorial, I blast through building an entire ASP.NET MVC application from start to finish.</span></span> <span data-ttu-id="914b6-111">Le mostramos cómo crear una aplicación simple controlada por base de datos que muestra cómo puede mostrar, crear y editar registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-111">I show you how to build a simple database-driven application that illustrates how you can list, create, and edit database records.</span></span>

<span data-ttu-id="914b6-112">Para simplificar el proceso de creación de la aplicación, aprovecharemos las características de scaffolding de Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="914b6-112">To simplify the process of building our application, we'll take advantage of the scaffolding features of Visual Studio 2008.</span></span> <span data-ttu-id="914b6-113">Dejaremos que Visual Studio genere el código y el contenido iniciales para nuestros controladores, modelos y vistas.</span><span class="sxs-lookup"><span data-stu-id="914b6-113">We'll let Visual Studio generate the initial code and content for our controllers, models, and views.</span></span>

<span data-ttu-id="914b6-114">Si ha trabajado con Active Server páginas o ASP.NET, debe encontrar ASP.NET MVC muy familiar.</span><span class="sxs-lookup"><span data-stu-id="914b6-114">If you have worked with Active Server Pages or ASP.NET, then you should find ASP.NET MVC very familiar.</span></span> <span data-ttu-id="914b6-115">Las vistas de MVC de ASP.NET son muy parecidas a las páginas de una aplicación Active Server páginas.</span><span class="sxs-lookup"><span data-stu-id="914b6-115">ASP.NET MVC views are very much like the pages in an Active Server Pages application.</span></span> <span data-ttu-id="914b6-116">Y, al igual que una aplicación de formularios Web Forms de ASP.NET tradicional, ASP.NET MVC proporciona acceso completo al amplio conjunto de lenguajes y clases proporcionadas por .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="914b6-116">And, just like a traditional ASP.NET Web Forms application, ASP.NET MVC provides you with full access to the rich set of languages and classes provided by the .NET framework.</span></span>

<span data-ttu-id="914b6-117">Mi esperanza es que este tutorial le dará una idea de cómo la experiencia de creación de una aplicación ASP.NET MVC es similar y diferente a la experiencia de creación de páginas de Active Server o aplicación de formularios Web Forms de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="914b6-117">My hope is that this tutorial will give you a sense of how the experience of building an ASP.NET MVC application is both similar and different than the experience of building an Active Server Pages or ASP.NET Web Forms application.</span></span>

## <a name="overview-of-the-movie-database-application"></a><span data-ttu-id="914b6-118">Información general de la aplicación de base de datos de películas</span><span class="sxs-lookup"><span data-stu-id="914b6-118">Overview of the Movie Database Application</span></span>

<span data-ttu-id="914b6-119">Dado que nuestro objetivo es simplificar las cosas, crearemos una aplicación de base de datos de películas muy simple.</span><span class="sxs-lookup"><span data-stu-id="914b6-119">Because our goal is to keep things simple, we'll build a very simple Movie Database application.</span></span> <span data-ttu-id="914b6-120">Nuestra sencilla aplicación de base de datos de películas nos permitirá hacer tres cosas:</span><span class="sxs-lookup"><span data-stu-id="914b6-120">Our simple Movie Database application will allow us to do three things:</span></span>

1. <span data-ttu-id="914b6-121">Enumerar un conjunto de registros de la base de datos de películas</span><span class="sxs-lookup"><span data-stu-id="914b6-121">List a set of movie database records</span></span>
2. <span data-ttu-id="914b6-122">Crear un nuevo registro de la base de datos de películas</span><span class="sxs-lookup"><span data-stu-id="914b6-122">Create a new movie database record</span></span>
3. <span data-ttu-id="914b6-123">Editar un registro de base de datos de películas existente</span><span class="sxs-lookup"><span data-stu-id="914b6-123">Edit an existing movie database record</span></span>

<span data-ttu-id="914b6-124">Una vez más, dado que queremos simplificar las cosas, aprovecharemos el número mínimo de características del marco de MVC de ASP.NET necesario para compilar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="914b6-124">Again, because we want to keep things simple, we'll take advantage of the minimum number of features of the ASP.NET MVC framework needed to build our application.</span></span> <span data-ttu-id="914b6-125">Por ejemplo, no se aprovechará el desarrollo controlado por pruebas.</span><span class="sxs-lookup"><span data-stu-id="914b6-125">For example, we won't be taking advantage of Test-Driven Development.</span></span>

<span data-ttu-id="914b6-126">Para crear la aplicación, es necesario completar cada uno de los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="914b6-126">In order to create our application, we need to complete each of the following steps:</span></span>

1. <span data-ttu-id="914b6-127">Crear el proyecto de aplicación web MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="914b6-127">Create the ASP.NET MVC Web Application Project</span></span>
2. <span data-ttu-id="914b6-128">Creación de la base de datos</span><span class="sxs-lookup"><span data-stu-id="914b6-128">Create the database</span></span>
3. <span data-ttu-id="914b6-129">Crear el modelo de base de datos</span><span class="sxs-lookup"><span data-stu-id="914b6-129">Create the database model</span></span>
4. <span data-ttu-id="914b6-130">Creación del controlador de MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="914b6-130">Create the ASP.NET MVC controller</span></span>
5. <span data-ttu-id="914b6-131">Crear las vistas de MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="914b6-131">Create the ASP.NET MVC views</span></span>

## <a name="preliminaries"></a><span data-ttu-id="914b6-132">Windows°PE</span><span class="sxs-lookup"><span data-stu-id="914b6-132">Preliminaries</span></span>

<span data-ttu-id="914b6-133">Necesitará Visual Studio 2008 o Visual Web Developer 2008 Express para compilar una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-133">You'll need either Visual Studio 2008 or Visual Web Developer 2008 Express to build an ASP.NET MVC application.</span></span> <span data-ttu-id="914b6-134">También debe descargar el marco de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="914b6-134">You also need to download the ASP.NET MVC framework.</span></span>

<span data-ttu-id="914b6-135">Si no tiene Visual Studio 2008, puede descargar una versión de prueba de 90 días de Visual Studio 2008 desde este sitio web:</span><span class="sxs-lookup"><span data-stu-id="914b6-135">If you don't own Visual Studio 2008, then you can download a 90 day trial version of Visual Studio 2008 from this website:</span></span>

[https://msdn.microsoft.com/vs2008/products/cc268305.aspx](https://msdn.microsoft.com/vs2008/products/cc268305.aspx)

<span data-ttu-id="914b6-136">Como alternativa, puede crear aplicaciones de ASP.NET MVC con Visual Web Developer Express 2008.</span><span class="sxs-lookup"><span data-stu-id="914b6-136">Alternatively, you can create ASP.NET MVC applications with Visual Web Developer Express 2008.</span></span> <span data-ttu-id="914b6-137">Si decide usar Visual Web Developer Express, debe tener instalado Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="914b6-137">If you decide to use Visual Web Developer Express then you must have Service Pack 1 installed.</span></span> <span data-ttu-id="914b6-138">Puede descargar Visual Web Developer 2008 Express con Service Pack 1 desde este sitio web:</span><span class="sxs-lookup"><span data-stu-id="914b6-138">You can download Visual Web Developer 2008 Express with Service Pack 1 from this website:</span></span>

[<span data-ttu-id="914b6-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;d isplaylang = en</span><span class="sxs-lookup"><span data-stu-id="914b6-139">https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=BDB6391C-05CA-4036-9154-6DF4F6DEBD14&amp;displaylang=en)

<span data-ttu-id="914b6-140">Después de instalar Visual Studio 2008 o Visual Web Developer 2008, debe instalar el marco de MVC de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="914b6-140">After you install either Visual Studio 2008 or Visual Web Developer 2008, you need to install the ASP.NET MVC framework.</span></span> <span data-ttu-id="914b6-141">Puede descargar el marco de MVC de ASP.NET desde el siguiente sitio web:</span><span class="sxs-lookup"><span data-stu-id="914b6-141">You can download the ASP.NET MVC framework from the following website:</span></span>

[https://www.asp.net/mvc/](../../../index.md)

> [!NOTE] 
> 
> <span data-ttu-id="914b6-142">En lugar de descargar el marco de trabajo de ASP.NET y el marco de ASP.NET MVC de forma individual, puede aprovechar el instalador de plataforma Web.</span><span class="sxs-lookup"><span data-stu-id="914b6-142">Instead of downloading the ASP.NET framework and the ASP.NET MVC framework individually, you can take advantage of the Web Platform Installer.</span></span> <span data-ttu-id="914b6-143">El instalador de plataforma web es una aplicación que permite administrar fácilmente las aplicaciones instaladas en el equipo:</span><span class="sxs-lookup"><span data-stu-id="914b6-143">The Web Platform Installer is an application that enables you to easily manage the installed applications are your computer:</span></span>
> 
> [https://www.microsoft.com/web/gallery/Install.aspx](https://www.microsoft.com/web/gallery/Install.aspx)

## <a name="creating-an-aspnet-mvc-web-application-project"></a><span data-ttu-id="914b6-144">Creación de un proyecto de aplicación web MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="914b6-144">Creating an ASP.NET MVC Web Application Project</span></span>

<span data-ttu-id="914b6-145">Comencemos por crear un nuevo proyecto de aplicación web MVC de ASP.NET en Visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="914b6-145">Let's start by creating a new ASP.NET MVC Web Application project in Visual Studio 2008.</span></span> <span data-ttu-id="914b6-146">Seleccione el archivo de opción de menú **, nuevo proyecto,** y verá el cuadro de diálogo nuevo proyecto en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="914b6-146">Select the menu option **File, New Project** and you will see the New Project dialog box in Figure 1.</span></span> <span data-ttu-id="914b6-147">Seleccione C# como lenguaje de programación y seleccione la plantilla de proyecto aplicación web MVC de ASP.net.</span><span class="sxs-lookup"><span data-stu-id="914b6-147">Select C# as the programming language and select the ASP.NET MVC Web Application project template.</span></span> <span data-ttu-id="914b6-148">Asigne al proyecto el nombre MovieApp y haga clic en el botón Aceptar.</span><span class="sxs-lookup"><span data-stu-id="914b6-148">Give your project the name MovieApp and click the OK button.</span></span>

<span data-ttu-id="914b6-149">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-149">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image1.png)</span></span>

<span data-ttu-id="914b6-150">**Figura 01**: el cuadro de diálogo nuevo proyecto ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-150">**Figure 01**: The New Project dialog box ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.png))</span></span>

<span data-ttu-id="914b6-151">Asegúrese de que selecciona .NET Framework 3,5 en la lista desplegable de la parte superior del cuadro de diálogo nuevo proyecto o que la plantilla de proyecto de aplicación web MVC de ASP.NET no aparece.</span><span class="sxs-lookup"><span data-stu-id="914b6-151">Make sure that you select .NET Framework 3.5 from the dropdown list at the top of the New Project dialog or the ASP.NET MVC Web Application project template won't appear.</span></span>

<span data-ttu-id="914b6-152">Siempre que cree un nuevo proyecto de aplicación web MVC, Visual Studio le pedirá que cree un proyecto de prueba unitaria independiente.</span><span class="sxs-lookup"><span data-stu-id="914b6-152">Whenever you create a new MVC Web Application project, Visual Studio prompts you to create a separate unit test project.</span></span> <span data-ttu-id="914b6-153">Aparece el cuadro de diálogo de la figura 2.</span><span class="sxs-lookup"><span data-stu-id="914b6-153">The dialog in Figure 2 appears.</span></span> <span data-ttu-id="914b6-154">Dado que no vamos a crear pruebas en este tutorial debido a las restricciones de tiempo (y, sí, deberíamos sentir un poco culpable sobre esto) Seleccione la opción **no** y haga clic en el botón **Aceptar** .</span><span class="sxs-lookup"><span data-stu-id="914b6-154">Because we won't be creating tests in this tutorial because of time constraints (and, yes, we should feel a little guilty about this) select the **No** option and click the **OK** button.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="914b6-155">Visual Web Developer no admite proyectos de prueba.</span><span class="sxs-lookup"><span data-stu-id="914b6-155">Visual Web Developer does not support test projects.</span></span>

<span data-ttu-id="914b6-156">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-156">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image2.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.png)</span></span>

<span data-ttu-id="914b6-157">**Figura 02**: el cuadro de diálogo crear proyecto de prueba unitaria ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-157">**Figure 02**: The Create Unit Test Project dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.png))</span></span>

<span data-ttu-id="914b6-158">Una aplicación ASP.NET MVC tiene un conjunto estándar de carpetas: una carpeta de modelos, vistas y controladores.</span><span class="sxs-lookup"><span data-stu-id="914b6-158">An ASP.NET MVC application has a standard set of folders: a Models, Views, and Controllers folder.</span></span> <span data-ttu-id="914b6-159">Puede ver este conjunto estándar de carpetas en la ventana Explorador de soluciones.</span><span class="sxs-lookup"><span data-stu-id="914b6-159">You can see this standard set of folders in the Solution Explorer window.</span></span> <span data-ttu-id="914b6-160">Tendremos que agregar archivos a cada una de las carpetas de modelos, vistas y controladores para poder compilar la aplicación de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-160">We'll need to add files to each of the Models, Views, and Controllers folders in order to build our Movie Database application.</span></span>

<span data-ttu-id="914b6-161">Cuando se crea una nueva aplicación MVC con Visual Studio, se obtiene una aplicación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="914b6-161">When you create a new MVC application with Visual Studio, you get a sample application.</span></span> <span data-ttu-id="914b6-162">Dado que queremos empezar desde cero, es necesario eliminar el contenido de esta aplicación de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="914b6-162">Because we want to start from scratch, we need to delete the content for this sample application.</span></span> <span data-ttu-id="914b6-163">Debe eliminar el siguiente archivo y la siguiente carpeta:</span><span class="sxs-lookup"><span data-stu-id="914b6-163">You need to delete the following file and the following folder:</span></span>

- <span data-ttu-id="914b6-164">Controllers\HomeController.cs</span><span class="sxs-lookup"><span data-stu-id="914b6-164">Controllers\HomeController.cs</span></span>
- <span data-ttu-id="914b6-165">Views\Home</span><span class="sxs-lookup"><span data-stu-id="914b6-165">Views\Home</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="914b6-166">Crear la base de datos</span><span class="sxs-lookup"><span data-stu-id="914b6-166">Creating the Database</span></span>

<span data-ttu-id="914b6-167">Necesitamos crear una base de datos para almacenar los registros de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-167">We need to create a database to hold our movie database records.</span></span> <span data-ttu-id="914b6-168">Afortunadamente, Visual Studio incluye una base de datos gratuita denominada SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="914b6-168">Luckily, Visual Studio includes a free database named SQL Server Express.</span></span> <span data-ttu-id="914b6-169">Siga estos pasos para crear la base de datos:</span><span class="sxs-lookup"><span data-stu-id="914b6-169">Follow these steps to create the database:</span></span>

1. <span data-ttu-id="914b6-170">Haga clic con el botón derecho en la carpeta\_de datos de la aplicación en la ventana de Explorador de soluciones y seleccione la opción de menú **Agregar, nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="914b6-170">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="914b6-171">Seleccione la categoría de **datos** y seleccione la plantilla **SQL Server Database** (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="914b6-171">Select the **Data** category and select the **SQL Server Database** template (see Figure 3).</span></span>
3. <span data-ttu-id="914b6-172">Asigne a la nueva base de datos el nombre *MoviesDB. MDF* y haga clic en el botón **Agregar** .</span><span class="sxs-lookup"><span data-stu-id="914b6-172">Name your new database *MoviesDB.mdf* and click the **Add** button.</span></span>

<span data-ttu-id="914b6-173">Después de crear la base de datos, puede conectarse a la base de datos haciendo doble clic en el archivo MoviesDB. MDF que se encuentra en la carpeta app\_Data.</span><span class="sxs-lookup"><span data-stu-id="914b6-173">After you create your database, you can connect to the database by double-clicking the MoviesDB.mdf file located in the App\_Data folder.</span></span> <span data-ttu-id="914b6-174">Al hacer doble clic en el archivo MoviesDB. MDF, se abre la ventana Explorador de servidores.</span><span class="sxs-lookup"><span data-stu-id="914b6-174">Double-clicking the MoviesDB.mdf file opens the Server Explorer window.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="914b6-175">La ventana de Explorador de servidores se denomina ventana de Explorador de bases de datos en el caso de Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="914b6-175">The Server Explorer window is named the Database Explorer window in the case of Visual Web Developer.</span></span>

<span data-ttu-id="914b6-176">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-176">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image3.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.png)</span></span>

<span data-ttu-id="914b6-177">**Figura 03**: creación de una base de datos de Microsoft SQL Server ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-177">**Figure 03**: Creating a Microsoft SQL Server Database ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.png))</span></span>

<span data-ttu-id="914b6-178">A continuación, es necesario crear una nueva tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-178">Next, we need to create a new database table.</span></span> <span data-ttu-id="914b6-179">Desde la ventana Explorador de servidores, haga clic con el botón secundario en la carpeta tablas y seleccione la opción de menú **Agregar nueva tabla**.</span><span class="sxs-lookup"><span data-stu-id="914b6-179">From within the Sever Explorer window, right-click the Tables folder and select the menu option **Add New Table**.</span></span> <span data-ttu-id="914b6-180">Al seleccionar esta opción de menú, se abre el diseñador de tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-180">Selecting this menu option opens the database table designer.</span></span> <span data-ttu-id="914b6-181">Cree las columnas de base de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="914b6-181">Create the following database columns:</span></span>

<a id="0.1_table01"></a>

| <span data-ttu-id="914b6-182">**Nombre de columna**</span><span class="sxs-lookup"><span data-stu-id="914b6-182">**Column Name**</span></span> | <span data-ttu-id="914b6-183">**Tipo de datos**</span><span class="sxs-lookup"><span data-stu-id="914b6-183">**Data Type**</span></span> | <span data-ttu-id="914b6-184">**Permitir valores NULL**</span><span class="sxs-lookup"><span data-stu-id="914b6-184">**Allow Nulls**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="914b6-185">Id.</span><span class="sxs-lookup"><span data-stu-id="914b6-185">Id</span></span> | <span data-ttu-id="914b6-186">Valor int.</span><span class="sxs-lookup"><span data-stu-id="914b6-186">Int</span></span> | <span data-ttu-id="914b6-187">Falso</span><span class="sxs-lookup"><span data-stu-id="914b6-187">False</span></span> |
| <span data-ttu-id="914b6-188">Title</span><span class="sxs-lookup"><span data-stu-id="914b6-188">Title</span></span> | <span data-ttu-id="914b6-189">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="914b6-189">Nvarchar(100)</span></span> | <span data-ttu-id="914b6-190">Falso</span><span class="sxs-lookup"><span data-stu-id="914b6-190">False</span></span> |
| <span data-ttu-id="914b6-191">DataDirectory</span><span class="sxs-lookup"><span data-stu-id="914b6-191">Director</span></span> | <span data-ttu-id="914b6-192">Nvarchar (100)</span><span class="sxs-lookup"><span data-stu-id="914b6-192">Nvarchar(100)</span></span> | <span data-ttu-id="914b6-193">Falso</span><span class="sxs-lookup"><span data-stu-id="914b6-193">False</span></span> |
| <span data-ttu-id="914b6-194">DateReleased</span><span class="sxs-lookup"><span data-stu-id="914b6-194">DateReleased</span></span> | <span data-ttu-id="914b6-195">DateTime</span><span class="sxs-lookup"><span data-stu-id="914b6-195">DateTime</span></span> | <span data-ttu-id="914b6-196">Falso</span><span class="sxs-lookup"><span data-stu-id="914b6-196">False</span></span> |

<span data-ttu-id="914b6-197">La primera columna, la columna ID, tiene dos propiedades especiales.</span><span class="sxs-lookup"><span data-stu-id="914b6-197">The first column, the Id column, has two special properties.</span></span> <span data-ttu-id="914b6-198">En primer lugar, debe marcar la columna ID como la columna de clave principal.</span><span class="sxs-lookup"><span data-stu-id="914b6-198">First, you need to mark the Id column as the primary key column.</span></span> <span data-ttu-id="914b6-199">Después de seleccionar la columna ID, haga clic en el botón **set Primary Key (establecer clave principal** ) (es decir, el icono que se parece a una clave).</span><span class="sxs-lookup"><span data-stu-id="914b6-199">After selecting the Id column, click the **Set Primary Key** button (it is the icon that looks like a key).</span></span> <span data-ttu-id="914b6-200">En segundo lugar, debe marcar la columna ID como una columna de identidad.</span><span class="sxs-lookup"><span data-stu-id="914b6-200">Second, you need to mark the Id column as an Identity column.</span></span> <span data-ttu-id="914b6-201">En el ventana Propiedades de columna, desplácese hacia abajo hasta la sección especificación de identidad y expándala.</span><span class="sxs-lookup"><span data-stu-id="914b6-201">In the Column Properties window, scroll down to the Identity Specification section and expand it.</span></span> <span data-ttu-id="914b6-202">Cambie la propiedad **is Identity** por el valor **yes**.</span><span class="sxs-lookup"><span data-stu-id="914b6-202">Change the **Is Identity** property to the value **Yes**.</span></span> <span data-ttu-id="914b6-203">Cuando haya terminado, la tabla debe tener un aspecto similar al de la figura 4.</span><span class="sxs-lookup"><span data-stu-id="914b6-203">When you are finished, the table should look like Figure 4.</span></span>

<span data-ttu-id="914b6-204">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-204">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image4.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.png)</span></span>

<span data-ttu-id="914b6-205">**Figura 04**: la tabla de la base de datos de películas ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-205">**Figure 04**: The Movies database table ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.png))</span></span>

<span data-ttu-id="914b6-206">El paso final consiste en guardar la nueva tabla.</span><span class="sxs-lookup"><span data-stu-id="914b6-206">The final step is to save the new table.</span></span> <span data-ttu-id="914b6-207">Haga clic en el botón Guardar (el icono del disquete) y asigne el nombre Movie a la nueva tabla.</span><span class="sxs-lookup"><span data-stu-id="914b6-207">Click the Save button (the icon of the floppy) and give the new table the name Movies.</span></span>

<span data-ttu-id="914b6-208">Cuando termine de crear la tabla, agregue algunos registros de película a la tabla.</span><span class="sxs-lookup"><span data-stu-id="914b6-208">After you finish creating the table, add some movie records to the table.</span></span> <span data-ttu-id="914b6-209">Haga clic con el botón secundario en la tabla películas de la ventana de Explorador de servidores y seleccione la opción de menú **Mostrar datos de tabla**.</span><span class="sxs-lookup"><span data-stu-id="914b6-209">Right-click the Movies table in the Server Explorer window and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="914b6-210">Escriba una lista de sus películas favoritas (consulte la figura 5).</span><span class="sxs-lookup"><span data-stu-id="914b6-210">Enter a list of your favorite movies (see Figure 5).</span></span>

<span data-ttu-id="914b6-211">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-211">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image5.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.png)</span></span>

<span data-ttu-id="914b6-212">**Figura 05**: entrada de registros de película ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-212">**Figure 05**: Entering movie records ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.png))</span></span>

## <a name="creating-the-model"></a><span data-ttu-id="914b6-213">Crear el modelo</span><span class="sxs-lookup"><span data-stu-id="914b6-213">Creating the Model</span></span>

<span data-ttu-id="914b6-214">A continuación, necesitamos crear un conjunto de clases para representar nuestra base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-214">We next need to create a set of classes to represent our database.</span></span> <span data-ttu-id="914b6-215">Es necesario crear un modelo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-215">We need to create a database model.</span></span> <span data-ttu-id="914b6-216">Aprovecharemos las ventajas de Microsoft Entity Framework para generar automáticamente las clases para nuestro modelo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-216">We'll take advantage of the Microsoft Entity Framework to generate the classes for our database model automatically.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="914b6-217">El marco de MVC de ASP.NET no está vinculado a Microsoft Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="914b6-217">The ASP.NET MVC framework is not tied to the Microsoft Entity Framework.</span></span> <span data-ttu-id="914b6-218">Puede crear las clases de modelo de base de datos aprovechando una variedad de herramientas de asignación relacional de objetos (o/M), como LINQ to SQL, Subsonic y NHibernate.</span><span class="sxs-lookup"><span data-stu-id="914b6-218">You can create your database model classes by taking advantage of a variety of Object Relational Mapping (OR/M) tools including LINQ to SQL, Subsonic, and NHibernate.</span></span>

<span data-ttu-id="914b6-219">Siga estos pasos para iniciar el Asistente para Entity Data Model:</span><span class="sxs-lookup"><span data-stu-id="914b6-219">Follow these steps to launch the Entity Data Model Wizard:</span></span>

1. <span data-ttu-id="914b6-220">Haga clic con el botón secundario en la carpeta modelos de la ventana de Explorador de soluciones y seleccione la opción de menú **Agregar, nuevo elemento**.</span><span class="sxs-lookup"><span data-stu-id="914b6-220">Right-click the Models folder in the Solution Explorer window and the select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="914b6-221">Seleccione la categoría de **datos** y seleccione la plantilla **ADO.NET Entity Data Model** .</span><span class="sxs-lookup"><span data-stu-id="914b6-221">Select the **Data** category and select the **ADO.NET Entity Data Model** template.</span></span>
3. <span data-ttu-id="914b6-222">Asigne al modelo de datos el nombre *MoviesDBModel. edmx* y haga clic en el botón **Agregar** .</span><span class="sxs-lookup"><span data-stu-id="914b6-222">Give your data model the name *MoviesDBModel.edmx* and click the **Add** button.</span></span>

<span data-ttu-id="914b6-223">Después de hacer clic en el botón Agregar, aparece el Asistente para Entity Data Model (vea la figura 6).</span><span class="sxs-lookup"><span data-stu-id="914b6-223">After you click the Add button, the Entity Data Model Wizard appears (see Figure 6).</span></span> <span data-ttu-id="914b6-224">Siga estos pasos para completar el asistente:</span><span class="sxs-lookup"><span data-stu-id="914b6-224">Follow these steps to complete the wizard:</span></span>

1. <span data-ttu-id="914b6-225">En el paso **elegir contenido del modelo** , seleccione la opción **generar desde la base de datos** .</span><span class="sxs-lookup"><span data-stu-id="914b6-225">In the **Choose Model Contents** step, select the **Generate from database** option.</span></span>
2. <span data-ttu-id="914b6-226">En el paso **elegir la conexión de datos** , use la conexión de datos *MoviesDB. MDF* y el nombre *MoviesDBEntities* para la configuración de conexión.</span><span class="sxs-lookup"><span data-stu-id="914b6-226">In the **Choose Your Data Connection** step, use the *MoviesDB.mdf* data connection and the name *MoviesDBEntities* for the connection settings.</span></span> <span data-ttu-id="914b6-227">Haga clic en el botón **siguiente** .</span><span class="sxs-lookup"><span data-stu-id="914b6-227">Click the **Next** button.</span></span>
3. <span data-ttu-id="914b6-228">En el paso **Elija los objetos de base de datos** , expanda el nodo tablas y seleccione la tabla películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-228">In the **Choose Your Database Objects** step, expand the Tables node, select the Movies table.</span></span> <span data-ttu-id="914b6-229">Escriba el espacio de nombres *MovieApp. Models* y haga clic en el botón **Finalizar** .</span><span class="sxs-lookup"><span data-stu-id="914b6-229">Enter the namespace *MovieApp.Models* and click the **Finish** button.</span></span>

<span data-ttu-id="914b6-230">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-230">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image6.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.png)</span></span>

<span data-ttu-id="914b6-231">**Figura 06**: generación de un modelo de base de datos con el asistente para Entity Data Model ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-231">**Figure 06**: Generating a database model with the Entity Data Model Wizard ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.png))</span></span>

<span data-ttu-id="914b6-232">Después de completar el Asistente para Entity Data Model, se abre el diseñador de Entity Data Model.</span><span class="sxs-lookup"><span data-stu-id="914b6-232">After you complete the Entity Data Model Wizard, the Entity Data Model Designer opens.</span></span> <span data-ttu-id="914b6-233">El diseñador debe mostrar la tabla de la base de datos de películas (vea la figura 7).</span><span class="sxs-lookup"><span data-stu-id="914b6-233">The Designer should display the Movies database table (see Figure 7).</span></span>

<span data-ttu-id="914b6-234">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-234">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image7.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.png)</span></span>

<span data-ttu-id="914b6-235">**Figura 07**: el diseñador de Entity Data Model ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-235">**Figure 07**: The Entity Data Model Designer ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.png))</span></span>

<span data-ttu-id="914b6-236">Necesitamos hacer un cambio antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="914b6-236">We need to make one change before we continue.</span></span> <span data-ttu-id="914b6-237">El Asistente para datos de entidad genera una clase de modelo denominada *películas* que representa la tabla de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-237">The Entity Data Wizard generates a model class named *Movies* that represents the Movies database table.</span></span> <span data-ttu-id="914b6-238">Dado que vamos a usar la clase Movies para representar una película determinada, es necesario modificar el nombre de la clase para que sea *Movie* en lugar de *películas* (singular en lugar de plural).</span><span class="sxs-lookup"><span data-stu-id="914b6-238">Because we'll use the Movies class to represent a particular movie, we need to modify the name of the class to be *Movie* instead of *Movies* (singular rather than plural).</span></span>

<span data-ttu-id="914b6-239">Haga doble clic en el nombre de la clase en la superficie del diseñador y cambie el nombre de la clase de películas a película.</span><span class="sxs-lookup"><span data-stu-id="914b6-239">Double-click the name of the class on the designer surface and change the name of the class from Movies to Movie.</span></span> <span data-ttu-id="914b6-240">Después de hacer este cambio, haga clic en el botón **Guardar** (el icono del disquete) para generar la clase Movie.</span><span class="sxs-lookup"><span data-stu-id="914b6-240">After making this change, click the **Save** button (the icon of the floppy disk) to generate the Movie class.</span></span>

## <a name="creating-the-aspnet-mvc-controller"></a><span data-ttu-id="914b6-241">Creación del controlador de MVC de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="914b6-241">Creating the ASP.NET MVC Controller</span></span>

<span data-ttu-id="914b6-242">El siguiente paso consiste en crear el controlador ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-242">The next step is to create the ASP.NET MVC controller.</span></span> <span data-ttu-id="914b6-243">Un controlador es responsable de controlar el modo en que un usuario interactúa con una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-243">A controller is responsible for controlling how a user interacts with an ASP.NET MVC application.</span></span>

<span data-ttu-id="914b6-244">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="914b6-244">Follow these steps:</span></span>

1. <span data-ttu-id="914b6-245">En la ventana de Explorador de soluciones, haga clic con el botón secundario en la carpeta Controllers y seleccione la opción de menú **Agregar, controlador**.</span><span class="sxs-lookup"><span data-stu-id="914b6-245">In the Solution Explorer window, right-click the Controllers folder and select the menu option **Add, Controller**.</span></span>
2. <span data-ttu-id="914b6-246">En el cuadro de diálogo Agregar controlador, escriba el nombre *HomeController* y active la casilla **Agregar métodos de acción para los escenarios de creación, actualización y detalles** (consulte la figura 8).</span><span class="sxs-lookup"><span data-stu-id="914b6-246">In the Add Controller dialog, enter the name *HomeController* and check the checkbox labeled **Add action methods for Create, Update, and Details scenarios** (see Figure 8).</span></span>
3. <span data-ttu-id="914b6-247">Haga clic en el botón **Agregar** para agregar el nuevo controlador al proyecto.</span><span class="sxs-lookup"><span data-stu-id="914b6-247">Click the **Add** button to add the new controller to your project.</span></span>

<span data-ttu-id="914b6-248">Después de completar estos pasos, se crea el controlador en la lista 1.</span><span class="sxs-lookup"><span data-stu-id="914b6-248">After you complete these steps, the controller in Listing 1 is created.</span></span> <span data-ttu-id="914b6-249">Tenga en cuenta que contiene métodos denominados index, details, Create y Edit.</span><span class="sxs-lookup"><span data-stu-id="914b6-249">Notice that it contains methods named Index, Details, Create, and Edit.</span></span> <span data-ttu-id="914b6-250">En las secciones siguientes, agregaremos el código necesario para que funcionen estos métodos.</span><span class="sxs-lookup"><span data-stu-id="914b6-250">In the following sections, we'll add the necessary code to get these methods to work.</span></span>

<span data-ttu-id="914b6-251">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-251">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image8.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image15.png)</span></span>

<span data-ttu-id="914b6-252">**Figura 08**: incorporación de un nuevo controlador ASP.NET MVC ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-252">**Figure 08**: Adding a new ASP.NET MVC Controller ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image16.png))</span></span>

<span data-ttu-id="914b6-253">**Lista 1: Controllers\HomeController.cs**</span><span class="sxs-lookup"><span data-stu-id="914b6-253">**Listing 1 – Controllers\HomeController.cs**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample1.cs)]

## <a name="listing-database-records"></a><span data-ttu-id="914b6-254">Enumerar registros de base de datos</span><span class="sxs-lookup"><span data-stu-id="914b6-254">Listing Database Records</span></span>

<span data-ttu-id="914b6-255">El método index () del controlador Home es el método predeterminado para una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-255">The Index() method of the Home controller is the default method for an ASP.NET MVC application.</span></span> <span data-ttu-id="914b6-256">Al ejecutar una aplicación ASP.NET MVC, el método index () es el primer método de controlador que se llama.</span><span class="sxs-lookup"><span data-stu-id="914b6-256">When you run an ASP.NET MVC application, the Index() method is the first controller method that is called.</span></span>

<span data-ttu-id="914b6-257">Usaremos el método index () para mostrar la lista de registros de la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-257">We'll use the Index() method to display the list of records from the Movies database table.</span></span> <span data-ttu-id="914b6-258">Aprovecharemos las clases de modelo de base de datos que creamos anteriormente para recuperar los registros de la base de datos de películas con el método index ().</span><span class="sxs-lookup"><span data-stu-id="914b6-258">We'll take advantage of the database model classes that we created earlier to retrieve the movie database records with the Index() method.</span></span>

<span data-ttu-id="914b6-259">He modificado la clase HomeController en la lista 2 para que contenga un nuevo campo privado denominado \_dB.</span><span class="sxs-lookup"><span data-stu-id="914b6-259">I've modified the HomeController class in Listing 2 so that it contains a new private field named \_db.</span></span> <span data-ttu-id="914b6-260">La clase MoviesDBEntities representa nuestro modelo de base de datos y usaremos esta clase para comunicarse con nuestra base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-260">The MoviesDBEntities class represents our database model and we'll use this class to communicate with our database.</span></span>

<span data-ttu-id="914b6-261">También he modificado el método index () en la lista 2.</span><span class="sxs-lookup"><span data-stu-id="914b6-261">I've also modified the Index() method in Listing 2.</span></span> <span data-ttu-id="914b6-262">El método index () utiliza la clase MoviesDBEntities para recuperar todos los registros de la película de la tabla de la base de datos movies.</span><span class="sxs-lookup"><span data-stu-id="914b6-262">The Index() method uses the MoviesDBEntities class to retrieve all of the movie records from the Movies database table.</span></span> <span data-ttu-id="914b6-263">Expresión *\_dB. MovieSet. ToList ()* devuelve una lista de todos los registros de películas de la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-263">The expression *\_db.MovieSet.ToList()* returns a list of all of the movie records from the Movies database table.</span></span>

<span data-ttu-id="914b6-264">La lista de películas se pasa a la vista.</span><span class="sxs-lookup"><span data-stu-id="914b6-264">The list of movies is passed to the view.</span></span> <span data-ttu-id="914b6-265">Todo lo que se pasa al método View () se pasa a la vista como datos de vista.</span><span class="sxs-lookup"><span data-stu-id="914b6-265">Anything that gets passed to the View() method gets passed to the view as view data.</span></span>

<span data-ttu-id="914b6-266">**Enumeración 2: Controllers/HomeController. CS (método de índice modificado)**</span><span class="sxs-lookup"><span data-stu-id="914b6-266">**Listing 2 – Controllers/HomeController.cs (modified Index method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample2.cs)]

<span data-ttu-id="914b6-267">El método index () devuelve una vista denominada index.</span><span class="sxs-lookup"><span data-stu-id="914b6-267">The Index() method returns a view named Index.</span></span> <span data-ttu-id="914b6-268">Necesitamos crear esta vista para mostrar la lista de registros de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-268">We need to create this view to display the list of movie database records.</span></span> <span data-ttu-id="914b6-269">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="914b6-269">Follow these steps:</span></span>

<span data-ttu-id="914b6-270">Debe compilar el proyecto (seleccione la opción de menú **generar, compilar solución**) antes de abrir el cuadro de diálogo **Agregar vista** o no se mostrará ninguna clase en la lista desplegable **Ver clase de datos** .</span><span class="sxs-lookup"><span data-stu-id="914b6-270">You should build your project (select the menu option **Build, Build Solution**) before opening the **Add View** dialog or no classes will appear in the **View data class** dropdown list.</span></span>

1. <span data-ttu-id="914b6-271">Haga clic con el botón derecho en el método index () en el editor de código y seleccione la opción de menú **Agregar vista** (vea la ilustración 9).</span><span class="sxs-lookup"><span data-stu-id="914b6-271">Right-click the Index() method in the code editor and select the menu option **Add View** (see Figure 9).</span></span>
2. <span data-ttu-id="914b6-272">En el cuadro de diálogo Agregar vista, compruebe que está activada la casilla **crear una vista fuertemente tipada** .</span><span class="sxs-lookup"><span data-stu-id="914b6-272">In the Add View dialog, verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="914b6-273">En la lista desplegable **ver contenido** , seleccione la *lista*valor.</span><span class="sxs-lookup"><span data-stu-id="914b6-273">From the **View content** dropdown list, select the value *List*.</span></span>
4. <span data-ttu-id="914b6-274">En la lista desplegable **Ver clase de datos** , seleccione el valor *MovieApp. Models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="914b6-274">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="914b6-275">Haga clic en el botón Agregar para crear la nueva vista (vea la figura 10).</span><span class="sxs-lookup"><span data-stu-id="914b6-275">Click the Add button to create the new view (see Figure 10).</span></span>

<span data-ttu-id="914b6-276">Después de completar estos pasos, se agrega una nueva vista denominada index. aspx a la carpeta Views\Home.</span><span class="sxs-lookup"><span data-stu-id="914b6-276">After you complete these steps, a new view named Index.aspx is added to the Views\Home folder.</span></span> <span data-ttu-id="914b6-277">El contenido de la vista de índice se incluye en la lista 3.</span><span class="sxs-lookup"><span data-stu-id="914b6-277">The contents of the Index view are included in Listing 3.</span></span>

<span data-ttu-id="914b6-278">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-278">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image9.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image17.png)</span></span>

<span data-ttu-id="914b6-279">**Figura 09**: agregar una vista desde una acción de controlador ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-279">**Figure 09**: Adding a view from a controller action ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image18.png))</span></span>

<span data-ttu-id="914b6-280">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-280">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image10.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image19.png)</span></span>

<span data-ttu-id="914b6-281">**Figura 10**: creación de una nueva vista con el cuadro de diálogo Agregar vista ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-281">**Figure 10**: Creating a new view with the Add View dialog ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image20.png))</span></span>

<span data-ttu-id="914b6-282">**Lista 3: Views\Home\Index.aspx**</span><span class="sxs-lookup"><span data-stu-id="914b6-282">**Listing 3 – Views\Home\Index.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample3.aspx)]

<span data-ttu-id="914b6-283">La vista de índice muestra todos los registros de película de la tabla de la base de datos películas en una tabla HTML.</span><span class="sxs-lookup"><span data-stu-id="914b6-283">The Index view displays all of the movie records from the Movies database table within an HTML table.</span></span> <span data-ttu-id="914b6-284">La vista contiene un bucle foreach que recorre en iteración cada película representada por la propiedad ViewData. Model.</span><span class="sxs-lookup"><span data-stu-id="914b6-284">The view contains a foreach loop that iterates through each movie represented by the ViewData.Model property.</span></span> <span data-ttu-id="914b6-285">Si ejecuta la aplicación presionando la tecla F5, verá la página web en la figura 11.</span><span class="sxs-lookup"><span data-stu-id="914b6-285">If you run your application by hitting the F5 key, then you'll see the web page in Figure 11.</span></span>

<span data-ttu-id="914b6-286">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-286">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image11.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image21.png)</span></span>

<span data-ttu-id="914b6-287">**Figura 11**: la vista de índice ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-287">**Figure 11**: The Index view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image22.png))</span></span>

## <a name="creating-new-database-records"></a><span data-ttu-id="914b6-288">Crear nuevos registros de base de datos</span><span class="sxs-lookup"><span data-stu-id="914b6-288">Creating New Database Records</span></span>

<span data-ttu-id="914b6-289">La vista de índice que hemos creado en la sección anterior incluye un vínculo para crear nuevos registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-289">The Index view that we created in the previous section includes a link for creating new database records.</span></span> <span data-ttu-id="914b6-290">Vamos a implementar la lógica y crear la vista necesaria para crear nuevos registros de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-290">Let's go ahead and implement the logic and create the view necessary for creating new movie database records.</span></span>

<span data-ttu-id="914b6-291">El controlador Home contiene dos métodos denominados Create ().</span><span class="sxs-lookup"><span data-stu-id="914b6-291">The Home controller contains two methods named Create().</span></span> <span data-ttu-id="914b6-292">El primer método Create () no tiene parámetros.</span><span class="sxs-lookup"><span data-stu-id="914b6-292">The first Create() method has no parameters.</span></span> <span data-ttu-id="914b6-293">Esta sobrecarga del método Create () se usa para mostrar el formulario HTML para crear un nuevo registro de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-293">This overload of the Create() method is used to display the HTML form for creating a new movie database record.</span></span>

<span data-ttu-id="914b6-294">El segundo método Create () tiene un parámetro FormCollection.</span><span class="sxs-lookup"><span data-stu-id="914b6-294">The second Create() method has a FormCollection parameter.</span></span> <span data-ttu-id="914b6-295">Se llama a esta sobrecarga del método Create () cuando el formulario HTML para crear una nueva película se envía al servidor.</span><span class="sxs-lookup"><span data-stu-id="914b6-295">This overload of the Create() method is called when the HTML form for creating a new movie is posted to the server.</span></span> <span data-ttu-id="914b6-296">Observe que este segundo método Create () tiene un atributo AcceptVerbs que impide que se llame al método a menos que se realice una operación HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="914b6-296">Notice that this second Create() method has an AcceptVerbs attribute that prevents the method from being called unless an HTTP POST operation is performed.</span></span>

<span data-ttu-id="914b6-297">Este segundo método Create () se ha modificado en la clase HomeController actualizada en la lista 4.</span><span class="sxs-lookup"><span data-stu-id="914b6-297">This second Create() method has been modified in the updated HomeController class in Listing 4.</span></span> <span data-ttu-id="914b6-298">La nueva versión del método Create () acepta un parámetro de película y contiene la lógica para insertar una nueva película en la tabla de base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-298">The new version of the Create() method accepts a Movie parameter and contains the logic for inserting a new movie into the Movies database table.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="914b6-299">Observe el atributo BIND.</span><span class="sxs-lookup"><span data-stu-id="914b6-299">Notice the Bind attribute.</span></span> <span data-ttu-id="914b6-300">Dado que no deseamos actualizar la propiedad ID de la película del formulario HTML, es necesario excluir explícitamente esta propiedad.</span><span class="sxs-lookup"><span data-stu-id="914b6-300">Because we don't want to update the Movie Id property from HTML form, we need to explicitly exclude this property.</span></span>

<span data-ttu-id="914b6-301">**Lista 4: Controllers\HomeController.cs (método de creación modificado)**</span><span class="sxs-lookup"><span data-stu-id="914b6-301">**Listing 4 – Controllers\HomeController.cs (modified Create method)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample4.cs)]

<span data-ttu-id="914b6-302">Visual Studio facilita la creación del formulario para crear un nuevo registro de la base de datos de películas (consulte la figura 12).</span><span class="sxs-lookup"><span data-stu-id="914b6-302">Visual Studio makes it easy to create the form for creating a new movie database record (see Figure 12).</span></span> <span data-ttu-id="914b6-303">Siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="914b6-303">Follow these steps:</span></span>

1. <span data-ttu-id="914b6-304">Haga clic con el botón secundario en el método Create () en el editor de código y seleccione la opción de menú **Agregar vista**.</span><span class="sxs-lookup"><span data-stu-id="914b6-304">Right-click the Create() method in the code editor and select the menu option **Add View**.</span></span>
2. <span data-ttu-id="914b6-305">Compruebe que la casilla de verificación **crear una vista fuertemente tipada** está activada.</span><span class="sxs-lookup"><span data-stu-id="914b6-305">Verify that the checkbox labeled **Create a strongly-typed view** is checked.</span></span>
3. <span data-ttu-id="914b6-306">En la lista desplegable **ver contenido** , seleccione el valor *crear*.</span><span class="sxs-lookup"><span data-stu-id="914b6-306">From the **View content** dropdown list, select the value *Create*.</span></span>
4. <span data-ttu-id="914b6-307">En la lista desplegable **Ver clase de datos** , seleccione el valor *MovieApp. Models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="914b6-307">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="914b6-308">Haga clic en el botón **Agregar** para crear la nueva vista.</span><span class="sxs-lookup"><span data-stu-id="914b6-308">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="914b6-309">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-309">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image12.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image23.png)</span></span>

<span data-ttu-id="914b6-310">**Figura 12**: adición de la vista de creación ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-310">**Figure 12**: Adding the Create view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image24.png))</span></span>

<span data-ttu-id="914b6-311">Visual Studio genera la vista en la lista 5 automáticamente.</span><span class="sxs-lookup"><span data-stu-id="914b6-311">Visual Studio generates the view in Listing 5 automatically.</span></span> <span data-ttu-id="914b6-312">Esta vista contiene un formulario HTML que incluye los campos que se corresponden con cada una de las propiedades de la clase Movie.</span><span class="sxs-lookup"><span data-stu-id="914b6-312">This view contains an HTML form that includes fields that correspond to each of the properties of the Movie class.</span></span>

<span data-ttu-id="914b6-313">**Lista 5: Views\Home\Create.aspx**</span><span class="sxs-lookup"><span data-stu-id="914b6-313">**Listing 5 – Views\Home\Create.aspx**</span></span>

[!code-aspx[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample5.aspx)]

> [!NOTE] 
> 
> <span data-ttu-id="914b6-314">El formulario HTML generado por el cuadro de diálogo Agregar vista genera un campo de formulario de identificador.</span><span class="sxs-lookup"><span data-stu-id="914b6-314">The HTML form generated by the Add View dialog generates an Id form field.</span></span> <span data-ttu-id="914b6-315">Dado que la columna ID es una columna de identidad, no se necesita este campo de formulario y se puede quitar de forma segura.</span><span class="sxs-lookup"><span data-stu-id="914b6-315">Because the Id column is an Identity column, we don't need this form field and you can safely remove it.</span></span>

<span data-ttu-id="914b6-316">Después de agregar la vista de creación, puede agregar nuevos registros de película a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-316">After you add the Create view, you can add new Movie records to the database.</span></span> <span data-ttu-id="914b6-317">Ejecute la aplicación presionando la tecla F5 y haga clic en el vínculo crear nuevo para ver el formulario en la figura 13.</span><span class="sxs-lookup"><span data-stu-id="914b6-317">Run your application by pressing the F5 key and click the Create New link to see the form in Figure 13.</span></span> <span data-ttu-id="914b6-318">Si completa y envía el formulario, se crea un nuevo registro de la base de datos de películas.</span><span class="sxs-lookup"><span data-stu-id="914b6-318">If you complete and submit the form, a new movie database record is created.</span></span>

<span data-ttu-id="914b6-319">Tenga en cuenta que la validación del formulario se obtiene automáticamente.</span><span class="sxs-lookup"><span data-stu-id="914b6-319">Notice that you get form validation automatically.</span></span> <span data-ttu-id="914b6-320">Si no especifica una fecha de lanzamiento para una película o escribe una fecha de lanzamiento no válida, se vuelve a mostrar el formulario y se resalta el campo fecha de lanzamiento.</span><span class="sxs-lookup"><span data-stu-id="914b6-320">If you neglect to enter a release date for a movie, or you enter an invalid release date, then the form is redisplayed and the release date field is highlighted.</span></span>

<span data-ttu-id="914b6-321">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-321">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image13.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image25.png)</span></span>

<span data-ttu-id="914b6-322">**Figura 13**: creación de un nuevo registro de la base de datos de películas ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-322">**Figure 13**: Creating a new movie database record ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image26.png))</span></span>

## <a name="editing-existing-database-records"></a><span data-ttu-id="914b6-323">Editar registros de bases de datos existentes</span><span class="sxs-lookup"><span data-stu-id="914b6-323">Editing Existing Database Records</span></span>

<span data-ttu-id="914b6-324">En las secciones anteriores, hemos explicado cómo puede enumerar y crear nuevos registros de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-324">In the previous sections, we discussed how you can list and create new database records.</span></span> <span data-ttu-id="914b6-325">En esta última sección, se explica cómo puede editar los registros de base de datos existentes.</span><span class="sxs-lookup"><span data-stu-id="914b6-325">In this final section, we discuss how you can edit existing database records.</span></span>

<span data-ttu-id="914b6-326">En primer lugar, es necesario generar el formulario de edición.</span><span class="sxs-lookup"><span data-stu-id="914b6-326">First, we need to generate the Edit form.</span></span> <span data-ttu-id="914b6-327">Este paso es sencillo, ya que Visual Studio generará el formulario de edición para nosotros automáticamente.</span><span class="sxs-lookup"><span data-stu-id="914b6-327">This step is easy since Visual Studio will generate the Edit form for us automatically.</span></span> <span data-ttu-id="914b6-328">Abra la clase HomeController.cs en el editor de código de Visual Studio y siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="914b6-328">Open the HomeController.cs class in the Visual Studio code editor and follow these steps:</span></span>

1. <span data-ttu-id="914b6-329">Haga clic con el botón secundario en el método Edit () en el editor de código y seleccione la opción de menú **Agregar vista** (vea la figura 14).</span><span class="sxs-lookup"><span data-stu-id="914b6-329">Right-click the Edit() method in the code editor and select the menu option **Add View** (see Figure 14).</span></span>
2. <span data-ttu-id="914b6-330">Active la casilla de verificación **crear una vista fuertemente tipada**.</span><span class="sxs-lookup"><span data-stu-id="914b6-330">Check the checkbox labeled **Create a strongly-typed view**.</span></span>
3. <span data-ttu-id="914b6-331">En la lista desplegable **ver contenido** , seleccione el valor *Editar*.</span><span class="sxs-lookup"><span data-stu-id="914b6-331">From the **View content** dropdown list, select the value *Edit*.</span></span>
4. <span data-ttu-id="914b6-332">En la lista desplegable **Ver clase de datos** , seleccione el valor *MovieApp. Models. Movie*.</span><span class="sxs-lookup"><span data-stu-id="914b6-332">From the **View data class** dropdown list, select the value *MovieApp.Models.Movie*.</span></span>
5. <span data-ttu-id="914b6-333">Haga clic en el botón **Agregar** para crear la nueva vista.</span><span class="sxs-lookup"><span data-stu-id="914b6-333">Click the **Add** button to create the new view.</span></span>

<span data-ttu-id="914b6-334">Al completar estos pasos, se agrega una nueva vista denominada Edit. aspx a la carpeta Views\Home.</span><span class="sxs-lookup"><span data-stu-id="914b6-334">Completing these steps adds a new view named Edit.aspx to the Views\Home folder.</span></span> <span data-ttu-id="914b6-335">Esta vista contiene un formulario HTML para editar un registro de película.</span><span class="sxs-lookup"><span data-stu-id="914b6-335">This view contains an HTML form for editing a movie record.</span></span>

<span data-ttu-id="914b6-336">[![el cuadro de diálogo nuevo proyecto](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="914b6-336">[![The New Project dialog box](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image14.jpg)](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image27.png)</span></span>

<span data-ttu-id="914b6-337">**Figura 14**: adición de la vista de edición ([haga clic para ver la imagen de tamaño completo](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="914b6-337">**Figure 14**: Adding the Edit view ([Click to view full-size image](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/_static/image28.png))</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="914b6-338">La vista de edición contiene un campo de formulario HTML que corresponde a la propiedad ID. de la película.</span><span class="sxs-lookup"><span data-stu-id="914b6-338">The Edit view contains an HTML form field that corresponds to the Movie Id property.</span></span> <span data-ttu-id="914b6-339">Dado que no desea que los usuarios editen el valor de la propiedad ID, debe quitar este campo de formulario.</span><span class="sxs-lookup"><span data-stu-id="914b6-339">Because you don't want people editing the value of the Id property, you should remove this form field.</span></span>

<span data-ttu-id="914b6-340">Por último, es necesario modificar el controlador Home para que admita la edición de un registro de base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-340">Finally, we need to modify the Home controller so that it supports editing a database record.</span></span> <span data-ttu-id="914b6-341">La clase HomeController actualizada está incluida en la lista 6.</span><span class="sxs-lookup"><span data-stu-id="914b6-341">The updated HomeController class is contained in Listing 6.</span></span>

<span data-ttu-id="914b6-342">**Lista 6 – Controllers\HomeController.cs (editar métodos)**</span><span class="sxs-lookup"><span data-stu-id="914b6-342">**Listing 6 – Controllers\HomeController.cs (Edit methods)**</span></span>

[!code-csharp[Main](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-cs/samples/sample6.cs)]

<span data-ttu-id="914b6-343">En la enumeración 6, he agregado lógica adicional a las dos sobrecargas del método Edit ().</span><span class="sxs-lookup"><span data-stu-id="914b6-343">In Listing 6, I've added additional logic to both overloads of the Edit() method.</span></span> <span data-ttu-id="914b6-344">El primer método Edit () devuelve el registro de la base de datos de películas que corresponde al parámetro id pasado al método.</span><span class="sxs-lookup"><span data-stu-id="914b6-344">The first Edit() method returns the movie database record that corresponds to the Id parameter passed to the method.</span></span> <span data-ttu-id="914b6-345">La segunda sobrecarga realiza las actualizaciones en un registro de película en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-345">The second overload performs the updates to a movie record in the database.</span></span>

<span data-ttu-id="914b6-346">Tenga en cuenta que debe recuperar la película original y, a continuación, llamar a ApplyPropertyChanges () para actualizar la película existente en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="914b6-346">Notice that you must retrieve the original movie, and then call ApplyPropertyChanges(), to update the existing movie in the database.</span></span>

## <a name="summary"></a><span data-ttu-id="914b6-347">Resumen</span><span class="sxs-lookup"><span data-stu-id="914b6-347">Summary</span></span>

<span data-ttu-id="914b6-348">El propósito de este tutorial fue ofrecer una idea de la experiencia de creación de una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-348">The purpose of this tutorial was to give you a sense of the experience of building an ASP.NET MVC application.</span></span> <span data-ttu-id="914b6-349">Espero que haya descubierto que la creación de una aplicación web MVC de ASP.NET es muy similar a la experiencia de creación de una aplicación Active Server páginas o de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="914b6-349">I hope that you discovered that building an ASP.NET MVC web application is very similar to the experience of building an Active Server Pages or ASP.NET application.</span></span>

<span data-ttu-id="914b6-350">En este tutorial, hemos examinado solo las características más básicas del marco ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="914b6-350">In this tutorial, we examined only the most basic features of the ASP.NET MVC framework.</span></span> <span data-ttu-id="914b6-351">En futuros tutoriales, profundizamos en temas como controladores, acciones del controlador, vistas, datos de la vista y aplicaciones auxiliares HTML.</span><span class="sxs-lookup"><span data-stu-id="914b6-351">In future tutorials, we dive deeper into topics such as controllers, controller actions, views, view data, and HTML helpers.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="914b6-352">Siguiente</span><span class="sxs-lookup"><span data-stu-id="914b6-352">Next</span></span>](create-a-movie-database-application-in-15-minutes-with-asp-net-mvc-vb.md)

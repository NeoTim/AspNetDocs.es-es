---
uid: web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
title: Las direcciones URL en páginas maestras (C#) | Microsoft Docs
author: rick-anderson
description: Aborda cómo las direcciones URL en la página maestra pueden interrumpirse debido a la que están en un directorio relativo diferente que la página de contenido del archivo de página maestra. Examina el reajuste...
ms.author: riande
ms.date: 06/10/2008
ms.assetid: 48b58a18-5ea4-468c-b326-f35331b3e1e9
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/urls-in-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 6f22159c4e70beeb590039ea0d4b8126c5424bd5
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/01/2019
ms.locfileid: "57078581"
---
<a name="urls-in-master-pages-c"></a><span data-ttu-id="94c4d-104">Direcciones URL en páginas maestras (C#)</span><span class="sxs-lookup"><span data-stu-id="94c4d-104">URLs in Master Pages (C#)</span></span>
====================
<span data-ttu-id="94c4d-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="94c4d-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="94c4d-106">[Descargar código](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) o [descargar PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="94c4d-106">[Download Code](http://download.microsoft.com/download/e/e/f/eef369f5-743a-4a52-908f-b6532c4ce0a4/ASPNET_MasterPages_Tutorial_04_CS.zip) or [Download PDF](http://download.microsoft.com/download/8/f/6/8f6349e4-6554-405a-bcd7-9b094ba5089a/ASPNET_MasterPages_Tutorial_04_CS.pdf)</span></span>

> <span data-ttu-id="94c4d-107">Aborda cómo las direcciones URL en la página maestra pueden interrumpirse debido a la que están en un directorio relativo diferente que la página de contenido del archivo de página maestra.</span><span class="sxs-lookup"><span data-stu-id="94c4d-107">Addresses how URLs in the master page can break due to the master page file being in a different relative directory than the content page.</span></span> <span data-ttu-id="94c4d-108">Examina el reajuste de las direcciones URL a través de ~ en la sintaxis declarativa y con ResolveUrl y ResolveClientUrl mediante programación.</span><span class="sxs-lookup"><span data-stu-id="94c4d-108">Looks at rebasing URLs via ~ in the declarative syntax and using ResolveUrl and ResolveClientUrl programmatically.</span></span> <span data-ttu-id="94c4d-109">(También ver</span><span class="sxs-lookup"><span data-stu-id="94c4d-109">(Also look at</span></span>


## <a name="introduction"></a><span data-ttu-id="94c4d-110">Introducción</span><span class="sxs-lookup"><span data-stu-id="94c4d-110">Introduction</span></span>

<span data-ttu-id="94c4d-111">En todos los ejemplos, hemos visto hasta ahora, que las páginas maestras y de contenido se han encontrado en la misma carpeta (carpeta de raíz del sitio Web).</span><span class="sxs-lookup"><span data-stu-id="94c4d-111">In all the examples we've seen thus far, the master and content pages have been located in the same folder (the website's root folder).</span></span> <span data-ttu-id="94c4d-112">Pero no hay ningún motivo por qué las páginas maestras y de contenido deben estar en la misma carpeta.</span><span class="sxs-lookup"><span data-stu-id="94c4d-112">But there's no reason why the master and content pages must be in the same folder.</span></span> <span data-ttu-id="94c4d-113">Sin duda puede crear páginas de contenido de las subcarpetas.</span><span class="sxs-lookup"><span data-stu-id="94c4d-113">You can certainly create content pages in subfolders.</span></span> <span data-ttu-id="94c4d-114">De forma similar, puede crear un `~/MasterPages/` carpeta en la que colocar páginas maestras del sitio.</span><span class="sxs-lookup"><span data-stu-id="94c4d-114">Similarly, you might create a `~/MasterPages/` folder where you place your site's master pages.</span></span>

<span data-ttu-id="94c4d-115">Un posible problema con la colocación de las páginas maestras y de contenido en diferentes carpetas implica rota las direcciones URL.</span><span class="sxs-lookup"><span data-stu-id="94c4d-115">One potential issue with placing master and content pages in different folders involves broken URLs.</span></span> <span data-ttu-id="94c4d-116">Si la página maestra contiene las direcciones URL relativas en los hipervínculos, imágenes u otros elementos, el vínculo serán válido para las páginas de contenido que residen en una carpeta diferente.</span><span class="sxs-lookup"><span data-stu-id="94c4d-116">If the master page contains relative URLs in hyperlinks, images, or other elements, the link will be invalid for content pages that reside in a different folder.</span></span> <span data-ttu-id="94c4d-117">En este tutorial se examina el origen de este problema, así como soluciones alternativas.</span><span class="sxs-lookup"><span data-stu-id="94c4d-117">In this tutorial we examine the source of this problem as well as workarounds.</span></span>

## <a name="the-problem-with-relative-urls"></a><span data-ttu-id="94c4d-118">El problema con las direcciones URL relativas</span><span class="sxs-lookup"><span data-stu-id="94c4d-118">The Problem with Relative URLs</span></span>

<span data-ttu-id="94c4d-119">Una dirección URL en una página web se dice que un *dirección URL relativa* si la ubicación del recurso apunta a es relativa a la ubicación de la página web en la estructura de carpetas del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-119">A URL on a web page is said to be a *relative URL* if the location of the resource it points to is relative to the web page's location in the website's folder structure.</span></span> <span data-ttu-id="94c4d-120">Cualquier dirección URL que no se inicia con una barra diagonal inicial (`/`) o un protocolo (como `http://`) es relativa, porque se ha resuelto el explorador basándose en la ubicación de la página web que contiene la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="94c4d-120">Any URL that does not start with a leading forward slash (`/`) or a protocol (such as `http://`) is relative because it is resolved by the browser based on the location of the web page that contains the URL.</span></span>

<span data-ttu-id="94c4d-121">Por ejemplo, nuestro sitio Web tiene un `~/Images/` carpeta con un único archivo de imagen, `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-121">For example, our website has an `~/Images/` folder with a single image file, `PoweredByASPNET.gif`.</span></span> <span data-ttu-id="94c4d-122">El archivo de página maestra `Site.master` tiene un `<img>` elemento en el `footerContent` región con el marcado siguiente:</span><span class="sxs-lookup"><span data-stu-id="94c4d-122">The master page file `Site.master` has an `<img>` element in the `footerContent` region with the following markup:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample1.html)]

<span data-ttu-id="94c4d-123">El `src` atributo valor en el `<img>` elemento es una dirección URL relativa porque no se inicia con `/` o `http://`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-123">The `src` attribute value in the `<img>` element is a relative URL because it does not start with `/` or `http://`.</span></span> <span data-ttu-id="94c4d-124">En resumen, el `src` valor del atributo indica al explorador que busque en el `Images` subcarpeta para un archivo denominado `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-124">In short, the `src` attribute value tells the browser to look in the `Images` subfolder for a file named `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="94c4d-125">Cuando se visita una página de contenido, el marcado anterior se envía directamente al explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-125">When visiting a content page, the above markup is sent directly to the browser.</span></span> <span data-ttu-id="94c4d-126">Dedique unos minutos a visitar `About.aspx` y ver el código fuente HTML enviado al explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-126">Take a moment to visit `About.aspx` and view the HTML source sent to the browser.</span></span> <span data-ttu-id="94c4d-127">Encontrará que el mismo marcado exacto en la página maestra se ha enviado al explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-127">You will find that the exact same markup in the master page was sent to the browser.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample2.html)]

<span data-ttu-id="94c4d-128">Si la página de contenido se encuentra en la carpeta raíz (como es `About.aspx`) todo funciona según lo esperado porque hay un `Images` subcarpeta relativa a la carpeta raíz.</span><span class="sxs-lookup"><span data-stu-id="94c4d-128">If the content page is in the root folder (as is `About.aspx`) everything works as expected because there is an `Images` subfolder relative to the root folder.</span></span> <span data-ttu-id="94c4d-129">Sin embargo, las cosas desglosar de si la página de contenido se encuentra en una carpeta diferente a la página maestra.</span><span class="sxs-lookup"><span data-stu-id="94c4d-129">However, things break down if the content page is in a different folder than the master page.</span></span> <span data-ttu-id="94c4d-130">Para ilustrar esto, cree una subcarpeta denominada `Admin`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-130">To illustrate this, create a subfolder named `Admin`.</span></span> <span data-ttu-id="94c4d-131">A continuación, agregue una página de contenido denominada `Default.aspx` a la `Admin` carpeta, asegurándose de enlazar la nueva página a la `Site.master` página maestra.</span><span class="sxs-lookup"><span data-stu-id="94c4d-131">Next, add a content page named `Default.aspx` to the `Admin` folder, making sure to bind the new page to the `Site.master` master page.</span></span>

> [!NOTE]
> <span data-ttu-id="94c4d-132">En el [ *especificar el título, etiquetas Meta y otros encabezados HTML en la página maestra* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial hemos creado una clase de página base personalizada denominada `BasePage` que establece automáticamente el título de la página de contenido (si lo no asignó explícitamente).</span><span class="sxs-lookup"><span data-stu-id="94c4d-132">In the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial we created a custom base page class named `BasePage` that automatically set the content page's title (if it was not explicitly assigned).</span></span> <span data-ttu-id="94c4d-133">No se olvide de tener clase de código subyacente de la página recién creada se derivan de `BasePage` para que pueda utilizar esta funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="94c4d-133">Don't forget to have the newly created page's code-behind class derive from `BasePage` so that it can utilize this functionality.</span></span>


<span data-ttu-id="94c4d-134">Después de haber creado esta página de contenido, el Explorador de soluciones debe ser similar a la figura 1.</span><span class="sxs-lookup"><span data-stu-id="94c4d-134">After you have created this content page, your Solution Explorer should look similar to Figure 1.</span></span>


![Se han agregado al proyecto una nueva carpeta y la página de ASP.NET](urls-in-master-pages-cs/_static/image1.png)

<span data-ttu-id="94c4d-136">**Figura 01**: Se han agregado al proyecto una nueva carpeta y la página de ASP.NET</span><span class="sxs-lookup"><span data-stu-id="94c4d-136">**Figure 01**: A New Folder and ASP.NET Page Have Been Added to the Project</span></span>


<span data-ttu-id="94c4d-137">A continuación, actualice el `Web.sitemap` que incluya un nuevo archivo `<siteMapNode>` entrada en esta lección.</span><span class="sxs-lookup"><span data-stu-id="94c4d-137">Next, update the `Web.sitemap` file to include a new `<siteMapNode>` entry for this lesson.</span></span> <span data-ttu-id="94c4d-138">El siguiente XML muestra completo `Web.sitemap` marcado, que ahora incluye la adición de una tercera `<siteMapNode>` elemento.</span><span class="sxs-lookup"><span data-stu-id="94c4d-138">The following XML shows the complete `Web.sitemap` markup, which now includes the addition of a third `<siteMapNode>` element.</span></span>


[!code-xml[Main](urls-in-master-pages-cs/samples/sample3.xml)]

<span data-ttu-id="94c4d-139">Recién creado `Default.aspx` página debería tener cuatro controles de contenido correspondiente a las cuatro ContentPlaceHolders en `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-139">The newly created `Default.aspx` page should have four Content controls corresponding to the four ContentPlaceHolders in `Site.master`.</span></span> <span data-ttu-id="94c4d-140">Agregue texto para el control de contenido que hacen referencia a la `MainContent` ContentPlaceHolder y, a continuación, visite la página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-140">Add some text to the Content control referencing the `MainContent` ContentPlaceHolder and then visit the page through a browser.</span></span> <span data-ttu-id="94c4d-141">Como se muestra en la figura 2, el explorador no se encuentra el `PoweredByASPNET.gif` archivo de imagen.</span><span class="sxs-lookup"><span data-stu-id="94c4d-141">As Figure 2 shows, the browser cannot find the `PoweredByASPNET.gif` image file.</span></span> <span data-ttu-id="94c4d-142">¿Qué está ocurriendo?</span><span class="sxs-lookup"><span data-stu-id="94c4d-142">What's going on here?</span></span>

<span data-ttu-id="94c4d-143">El `~/Admin/Default.aspx` página de contenido se envía el mismo HTML para el `footerContent` región ya era la `About.aspx` página:</span><span class="sxs-lookup"><span data-stu-id="94c4d-143">The `~/Admin/Default.aspx` content page is sent the same HTML for the `footerContent` region as was the `About.aspx` page:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample4.html)]

<span data-ttu-id="94c4d-144">Dado que el `<img>` del elemento `src` el atributo es una dirección URL relativa, el explorador intenta buscar un `Images` carpeta relativa a la ubicación de la carpeta de la página web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-144">Because the `<img>` element's `src` attribute is a relative URL, the browser attempts to look for an `Images` folder relative to the web page's folder location.</span></span> <span data-ttu-id="94c4d-145">En otras palabras, el explorador está buscando el archivo de imagen `Admin/Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-145">In other words, the browser is looking for the image file `Admin/Images/PoweredByASPNET.gif`.</span></span>


<span data-ttu-id="94c4d-146">[![No se encuentra el archivo de imagen PoweredByASPNET.gif](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="94c4d-146">[![The PoweredByASPNET.gif Image File Cannot Be Found](urls-in-master-pages-cs/_static/image3.png)](urls-in-master-pages-cs/_static/image2.png)</span></span>

<span data-ttu-id="94c4d-147">**Figura 02**: El `PoweredByASPNET.gif` imagen no se encuentra el archivo ([haga clic aquí para ver imagen en tamaño completo](urls-in-master-pages-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="94c4d-147">**Figure 02**: The `PoweredByASPNET.gif` Image File Cannot Be Found  ([Click to view full-size image](urls-in-master-pages-cs/_static/image4.png))</span></span>


### <a name="replacing-relative-urls-with-absolute-urls"></a><span data-ttu-id="94c4d-148">Reemplazando las direcciones URL relativas con direcciones URL absolutas</span><span class="sxs-lookup"><span data-stu-id="94c4d-148">Replacing Relative URLs with Absolute URLs</span></span>

<span data-ttu-id="94c4d-149">Es el opuesto de una dirección URL relativa un *dirección URL absoluta*, que es el que comienza con una barra diagonal (`/`) o un protocolo como `http://`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-149">The opposite of a relative URL is an *absolute URL*, which is one that starts with a forward slash (`/`) or a protocol such as `http://`.</span></span> <span data-ttu-id="94c4d-150">Puesto que una dirección URL absoluta especifica la ubicación de un recurso desde un punto fijo conocido, la misma dirección URL absoluta es válida en cualquier página web, independientemente de la ubicación de la página web en la estructura de carpetas del sitio Web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-150">Because an absolute URL specifies the location of a resource from a known fixed point, the same absolute URL is valid in any web page, regardless of the web page's location in the website's folder structure.</span></span>

<span data-ttu-id="94c4d-151">Para solucionar la imagen rota, se muestra en la figura 2, es necesario actualizar el `<img>` del elemento `src` atributo para que use una dirección URL absoluta en lugar de una relativa.</span><span class="sxs-lookup"><span data-stu-id="94c4d-151">To remedy the broken image shown in Figure 2, we need to update the `<img>` element's `src` attribute so that it uses an absolute URL instead of a relative one.</span></span> <span data-ttu-id="94c4d-152">Para determinar la dirección URL absoluta correcta, visite una de las páginas web en su sitio Web y examine la barra de direcciones.</span><span class="sxs-lookup"><span data-stu-id="94c4d-152">To determine the correct absolute URL, visit one of the web pages in your website and examine the Address bar.</span></span> <span data-ttu-id="94c4d-153">Como se muestra en la barra de direcciones en la figura 2, la ruta de acceso completa a la aplicación web es `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-153">As the Address bar in Figure 2 shows, the fully qualified path to the web application is `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/`.</span></span> <span data-ttu-id="94c4d-154">Por lo tanto, es posible actualizar el `<img>` del elemento `src` atributo a cualquiera de las siguientes dos URL absolutas:</span><span class="sxs-lookup"><span data-stu-id="94c4d-154">Therefore, we could update the `<img>` element's `src` attribute to either of the following two absolute URLs:</span></span>

- `/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`
- `http://localhost:3908/ASPNET_MasterPages_Tutorial_04_CS/Images/PoweredByASPNET.gif`

<span data-ttu-id="94c4d-155">Dedique unos minutos a actualizar el `<img>` del elemento `src` atributo a una dirección URL absoluta mediante uno de los formularios mostrados anteriormente y, a continuación, visite la `~/Admin/Default.aspx` página a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-155">Take a moment to update the `<img>` element's `src` attribute to an absolute URL using one of the forms shown above and then visit the `~/Admin/Default.aspx` page through a browser.</span></span> <span data-ttu-id="94c4d-156">Esta vez el explorador correctamente buscar y mostrar el `PoweredByASPNET.gif` archivo de imagen (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="94c4d-156">This time the browser will correctly find and display the `PoweredByASPNET.gif` image file (see Figure 3).</span></span>


<span data-ttu-id="94c4d-157">[![La imagen PoweredByASPNET.gif es ahora muestran](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="94c4d-157">[![The PoweredByASPNET.gif Image is Now Displayed](urls-in-master-pages-cs/_static/image6.png)](urls-in-master-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="94c4d-158">**Figura 03**: El `PoweredByASPNET.gif` imagen es ahora muestran ([haga clic aquí para ver imagen en tamaño completo](urls-in-master-pages-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="94c4d-158">**Figure 03**: The `PoweredByASPNET.gif` Image is Now Displayed  ([Click to view full-size image](urls-in-master-pages-cs/_static/image7.png))</span></span>


<span data-ttu-id="94c4d-159">Si bien codificar de forma rígida en la dirección URL absoluta funciona, acople estrechamente el código HTML al servidor del sitio Web y la ubicación de carpeta, que puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="94c4d-159">While hard coding in the absolute URL works, it tightly couples your HTML to the website's server and folder location, which may change.</span></span> <span data-ttu-id="94c4d-160">Mediante una dirección URL absoluta del formulario `http://localhost:3908/...` es frágil porque el número de puerto anterior `localhost` se selecciona automáticamente cada vez que se ha iniciado servidor para Web de desarrollo integrado ASP.NET de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="94c4d-160">Using an absolute URL of the form `http://localhost:3908/...` is brittle because the port number preceding `localhost` is selected automatically each time Visual Studio's built-in ASP.NET Development Web Server is started.</span></span> <span data-ttu-id="94c4d-161">De forma similar, la `http://localhost` parte solo es válida cuando se prueba localmente.</span><span class="sxs-lookup"><span data-stu-id="94c4d-161">Similarly, the `http://localhost` part is only valid when testing locally.</span></span> <span data-ttu-id="94c4d-162">Una vez que el código se implementa en un servidor de producción, la dirección URL base cambia a otra cosa, como `http://www.yourserver.com`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-162">Once the code is deployed to a production server, the URL base will change to something else, like `http://www.yourserver.com`.</span></span> <span data-ttu-id="94c4d-163">La dirección URL absoluta en el formulario `/ASPNET_MasterPages_Tutorial_04_CS/...` también padece la fragilidad misma porque a menudo, esta ruta de acceso de la aplicación es diferente entre los servidores de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="94c4d-163">The absolute URL in the form `/ASPNET_MasterPages_Tutorial_04_CS/...` also suffers from the same brittleness because oftentimes this application path differs between development and production servers.</span></span>

<span data-ttu-id="94c4d-164">La buena noticia es que ofrece un método para generar una dirección URL relativa válida en tiempo de ejecución ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="94c4d-164">The good news is that ASP.NET offers a method for generating a valid relative URL at runtime.</span></span>

## <a name="usingandresolveclienturl"></a><span data-ttu-id="94c4d-165">Uso de`~`y`ResolveClientUrl`</span><span class="sxs-lookup"><span data-stu-id="94c4d-165">Using`~`and`ResolveClientUrl`</span></span>

<span data-ttu-id="94c4d-166">En lugar de codificar una dirección URL absoluta, ASP.NET permite que los desarrolladores de páginas usar la tilde (`~`) para indicar la raíz de la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-166">Rather than hard code an absolute URL, ASP.NET allows page developers to use the tilde (`~`) to indicate the root of the web application.</span></span> <span data-ttu-id="94c4d-167">Por ejemplo, anteriormente en este tutorial usa la notación `~/Admin/Default.aspx` en el texto para hacer referencia a la `Default.aspx` página en el `Admin` carpeta.</span><span class="sxs-lookup"><span data-stu-id="94c4d-167">For example, earlier in this tutorial I used the notation `~/Admin/Default.aspx` in the text to refer to the `Default.aspx` page in the `Admin` folder.</span></span> <span data-ttu-id="94c4d-168">El `~` indica que el `Admin` carpeta es una subcarpeta de raíz la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-168">The `~` indicates that the `Admin` folder is a subfolder of the web application's root.</span></span>

<span data-ttu-id="94c4d-169">El `Control` la clase [ `ResolveClientUrl` método](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) toma una dirección URL y lo modifica para una dirección URL relativa adecuada para la página web en el que reside el control.</span><span class="sxs-lookup"><span data-stu-id="94c4d-169">The `Control` class's [`ResolveClientUrl` method](https://msdn.microsoft.com/library/system.web.ui.control.resolveclienturl.aspx) takes a URL and modifies it to a relative URL appropriate for the web page on which the control resides.</span></span> <span data-ttu-id="94c4d-170">Por ejemplo, al llamar a `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` desde `About.aspx` devuelve `Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-170">For example, calling `ResolveClientUrl("~/Images/PoweredByASPNET.gif")` from `About.aspx` returns `Images/PoweredByASPNET.gif`.</span></span> <span data-ttu-id="94c4d-171">Llamarlo desde `~/Admin/Default.aspx`, sin embargo, se devuelve `../Images/PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-171">Calling it from `~/Admin/Default.aspx`, however, returns `../Images/PoweredByASPNET.gif`.</span></span>

> [!NOTE]
> <span data-ttu-id="94c4d-172">Dado que todos los controles de servidor ASP.NET que se derivan de la `Control` (clase), todos los controles de servidor tienen acceso a la `ResolveClientUrl` método.</span><span class="sxs-lookup"><span data-stu-id="94c4d-172">Because all ASP.NET server controls derive from the `Control` class, all server controls have access to the `ResolveClientUrl` method.</span></span> <span data-ttu-id="94c4d-173">Incluso la `Page` clase se deriva de la `Control` (clase), lo que significa que puede usar este método directamente desde las clases de código subyacente de las páginas de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="94c4d-173">Even the `Page` class derives from the `Control` class, meaning that you can use this method directly from your ASP.NET pages' code-behind classes.</span></span>


### <a name="usingin-the-declarative-markup"></a><span data-ttu-id="94c4d-174">Uso de`~`en el marcado declarativo</span><span class="sxs-lookup"><span data-stu-id="94c4d-174">Using`~`in the Declarative Markup</span></span>

<span data-ttu-id="94c4d-175">Varios controles Web de ASP.NET incluyen propiedades relacionadas con la dirección URL: el control de hipervínculo tiene un `NavigateUrl` propiedad; la imagen de control tiene un `ImageUrl` propiedad; y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="94c4d-175">Several ASP.NET Web controls include URL-related properties: the HyperLink control has a `NavigateUrl` property; the Image control has an `ImageUrl` property; and so on.</span></span> <span data-ttu-id="94c4d-176">Cuando se representan, estos controles pasan sus valores de propiedad relacionados con la dirección URL `ResolveClientUrl`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-176">When rendered, these controls pass their URL-related property values to `ResolveClientUrl`.</span></span> <span data-ttu-id="94c4d-177">Por lo tanto, si estas propiedades contienen un `~` para indicar la raíz de la aplicación web, se modificará la dirección URL a una dirección URL relativa válida.</span><span class="sxs-lookup"><span data-stu-id="94c4d-177">Consequently, if these properties contain a `~` to indicate the root of the web application, the URL will be modified to a valid relative URL.</span></span>

<span data-ttu-id="94c4d-178">Tenga en cuenta que solo los controles de servidor ASP.NET transforman el `~` en sus propiedades relacionadas con la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="94c4d-178">Keep in mind that only ASP.NET server controls transform the `~` in their URL-related properties.</span></span> <span data-ttu-id="94c4d-179">Si un `~` aparece en el marcado HTML estático, tales como `<img src="~/Images/PoweredByASPNET.gif" />`, el motor ASP.NET envía el `~` al explorador junto con el resto del contenido HTML.</span><span class="sxs-lookup"><span data-stu-id="94c4d-179">If a `~` appears in static HTML markup, such as `<img src="~/Images/PoweredByASPNET.gif" />`, the ASP.NET engine sends the `~` to the browser along with the rest of the HTML content.</span></span> <span data-ttu-id="94c4d-180">El explorador se da por supuesto que el `~` forma parte de la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="94c4d-180">The browser assumes that the `~` is part of the URL.</span></span> <span data-ttu-id="94c4d-181">Por ejemplo, si el explorador recibe el marcado `<img src="~/Images/PoweredByASPNET.gif" />` se supone que hay una subcarpeta denominada `~` con una subcarpeta `Images` que contiene el archivo de imagen `PoweredByASPNET.gif`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-181">For example, if the browser receives the markup `<img src="~/Images/PoweredByASPNET.gif" />` it assumes there is a subfolder named `~` with a subfolder `Images` that contains the image file `PoweredByASPNET.gif`.</span></span>

<span data-ttu-id="94c4d-182">Para corregir el marcado de la imagen `Site.master`, sustituya la `<img>` elemento con un control Web de la imagen de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="94c4d-182">To fix the image markup in `Site.master`, replace the existing `<img>` element with an ASP.NET Image Web control.</span></span> <span data-ttu-id="94c4d-183">Establecer el control de imagen Web `ID` a `PoweredByImage`, sus `ImageUrl` propiedad `~/Images/PoweredByASPNET.gif`y su `AlternateText` propiedad a "Con tecnología ASP.NET!"</span><span class="sxs-lookup"><span data-stu-id="94c4d-183">Set the Image Web control's `ID` to `PoweredByImage`, its `ImageUrl` property to `~/Images/PoweredByASPNET.gif`, and its `AlternateText` property to "Powered by ASP.NET!"</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="94c4d-184">Después de realizar este cambio en la página maestra, volver a visitar la `~/Admin/Default.aspx` página nuevo.</span><span class="sxs-lookup"><span data-stu-id="94c4d-184">After making this change to the master page, revisit the `~/Admin/Default.aspx` page again.</span></span> <span data-ttu-id="94c4d-185">Esta vez el `PoweredByASPNET.gif` archivo de imagen aparece en la página (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="94c4d-185">This time the `PoweredByASPNET.gif` image file appears in the page (see Figure 3).</span></span> <span data-ttu-id="94c4d-186">Cuando la Web de imagen de control es representa lo usa el `ResolveClientUrl` método para resolver su `ImageUrl` valor de propiedad.</span><span class="sxs-lookup"><span data-stu-id="94c4d-186">When the Image Web control is rendered it uses the `ResolveClientUrl` method to resolve its `ImageUrl` property value.</span></span> <span data-ttu-id="94c4d-187">En `~/Admin/Default.aspx` el `ImageUrl` se convierte en una dirección URL relativa correspondiente, como el siguiente fragmento de código fuente HTML muestra:</span><span class="sxs-lookup"><span data-stu-id="94c4d-187">In `~/Admin/Default.aspx` the `ImageUrl` is converted into an appropriate relative URL, as the following snippet of HTML source shows:</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample6.html)]

> [!NOTE]
> <span data-ttu-id="94c4d-188">Además de utilizarse en las propiedades del control Web basado en URL, el `~` también se puede usar cuando se llama a la `Response.Redirect` y `Server.MapPath` métodos, entre otros.</span><span class="sxs-lookup"><span data-stu-id="94c4d-188">In addition to being used in URL-based Web control properties, the `~` can also be used when calling the `Response.Redirect` and `Server.MapPath` methods, among others.</span></span> <span data-ttu-id="94c4d-189">Además, el `ResolveClientUrl` se puede invocar el método directamente desde ASP.NET o marcado declarativo de la página principal, si es necesario; consulte [Fritz Onion](https://www.pluralsight.com/blogs/fritz/)de entrada de blog [Using `ResolveClientUrl` en marcado](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span><span class="sxs-lookup"><span data-stu-id="94c4d-189">Also, the `ResolveClientUrl` method may be invoked directly from an ASP.NET or master page's declarative markup, if needed; see [Fritz Onion](https://www.pluralsight.com/blogs/fritz/)'s blog entry [Using `ResolveClientUrl` in Markup](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx).</span></span>


## <a name="fixing-the-master-pages-remaining-relative-urls"></a><span data-ttu-id="94c4d-190">Corrección de la página maestra restante de las direcciones URL relativas</span><span class="sxs-lookup"><span data-stu-id="94c4d-190">Fixing the Master Page's Remaining Relative URLs</span></span>

<span data-ttu-id="94c4d-191">Además el `<img>` elemento en el `footerContent` que se ha corregido, la página maestra contiene una dirección URL relativa más que requiere la atención.</span><span class="sxs-lookup"><span data-stu-id="94c4d-191">In addition to the `<img>` element in the `footerContent` that we just fixed, the master page contains one more relative URL that requires our attention.</span></span> <span data-ttu-id="94c4d-192">El `topContent` región incluye el vínculo "Master páginas tutoriales", que señala al `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-192">The `topContent` region includes the link "Master Pages Tutorials," which points to `Default.aspx`.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample7.html)]

<span data-ttu-id="94c4d-193">Dado que esta dirección URL es relativa, enviará al usuario la `Default.aspx` página en la carpeta de la página de contenido que están visitando.</span><span class="sxs-lookup"><span data-stu-id="94c4d-193">Because this URL is relative, it will send the user to the `Default.aspx` page in the folder of the content page they are visiting.</span></span> <span data-ttu-id="94c4d-194">Para que este vínculo siempre señalan a `Default.aspx` en la carpeta raíz es necesario reemplazar el `<a>` controlar el elemento con un sitio Web de hipervínculo para que podemos usar el `~` notación.</span><span class="sxs-lookup"><span data-stu-id="94c4d-194">To have this link always point to `Default.aspx` in the root folder we need to replace the `<a>` element with a HyperLink Web control so that we can use the `~` notation.</span></span>

<span data-ttu-id="94c4d-195">Quitar el `<a>` elementos de marcado y agregue un control de hipervínculo en su lugar.</span><span class="sxs-lookup"><span data-stu-id="94c4d-195">Remove the `<a>` element markup and add a HyperLink control in its place.</span></span> <span data-ttu-id="94c4d-196">Establecer el hipervínculo `ID` a `lnkHome`, sus `NavigateUrl` propiedad `~/Default.aspx`y su `Text` propiedad a "Tutoriales de páginas maestra".</span><span class="sxs-lookup"><span data-stu-id="94c4d-196">Set the HyperLink's `ID` to `lnkHome`, its `NavigateUrl` property to `~/Default.aspx`, and its `Text` property to "Master Pages Tutorials."</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample8.aspx)]

<span data-ttu-id="94c4d-197">Ya está.</span><span class="sxs-lookup"><span data-stu-id="94c4d-197">That's it!</span></span> <span data-ttu-id="94c4d-198">En este momento, todas las direcciones URL en la página maestra se basan correctamente cuando se representa con una página de contenido, independientemente de qué carpetas de la página maestra y la página de contenido se encuentran en.</span><span class="sxs-lookup"><span data-stu-id="94c4d-198">At this point all the URLs in our master page are properly based when rendered by a content page regardless of what folders the master page and content page are located in.</span></span>

### <a name="automatic-url-resolution-in-theheadsection"></a><span data-ttu-id="94c4d-199">Resolución automática de dirección URL en la`<head>`sección</span><span class="sxs-lookup"><span data-stu-id="94c4d-199">Automatic URL Resolution in the`<head>`Section</span></span>

<span data-ttu-id="94c4d-200">En el [ *crear un diseño de todo el sitio usar páginas maestra* ](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial se ha agregado un `<link>` a la `Styles.css` de archivos en el `<head>` región:</span><span class="sxs-lookup"><span data-stu-id="94c4d-200">In the [*Creating a Site-Wide Layout Using Master Pages*](creating-a-site-wide-layout-using-master-pages-cs.md) tutorial we added a `<link>` to the `Styles.css` file in the `<head>` region:</span></span>


[!code-aspx[Main](urls-in-master-pages-cs/samples/sample9.aspx)]

<span data-ttu-id="94c4d-201">Mientras el `<link>` del elemento `href` el atributo es relativo, se convierte automáticamente en una ruta de acceso adecuada en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="94c4d-201">While the `<link>` element's `href` attribute is relative, it's automatically converted to an appropriate path at runtime.</span></span> <span data-ttu-id="94c4d-202">Como se explicó en la [ *especificar el título, etiquetas Meta y otros encabezados HTML en la página maestra* ](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial, el `<head>` región es en realidad un control del lado servidor, lo que le permite modificar el contenido de sus controles internos cuando se representa.</span><span class="sxs-lookup"><span data-stu-id="94c4d-202">As we discussed in the [*Specifying the Title, Meta Tags, and Other HTML Headers in the Master Page*](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md) tutorial, the `<head>` region is actually a server-side control, which enables it to modify the contents of its inner controls when it is rendered.</span></span>

<span data-ttu-id="94c4d-203">Para comprobarlo, volver a visitar la `~/Admin/Default.aspx` página y ver el código fuente HTML enviado al explorador.</span><span class="sxs-lookup"><span data-stu-id="94c4d-203">To verify this, revisit the `~/Admin/Default.aspx` page and view the HTML source sent to the browser.</span></span> <span data-ttu-id="94c4d-204">Como se muestra en el siguiente fragmento, el `<link>` del elemento `href` atributo se ha modificado automáticamente en una dirección URL relativa correspondiente `../Styles.css`.</span><span class="sxs-lookup"><span data-stu-id="94c4d-204">As the snippet below illustrates, the `<link>` element's `href` attribute has been automatically modified to an appropriate relative URL, `../Styles.css`.</span></span>


[!code-html[Main](urls-in-master-pages-cs/samples/sample10.html)]

## <a name="summary"></a><span data-ttu-id="94c4d-205">Resumen</span><span class="sxs-lookup"><span data-stu-id="94c4d-205">Summary</span></span>

<span data-ttu-id="94c4d-206">Páginas maestras muy a menudo incluyen vínculos, imágenes y otros recursos externos que se deben especificar mediante una dirección URL.</span><span class="sxs-lookup"><span data-stu-id="94c4d-206">Master pages very often include links, images, and other external resources that must be specified via a URL.</span></span> <span data-ttu-id="94c4d-207">Dado que la página maestra y las páginas de contenido pueden no existir en la misma carpeta, es importante abstenerse de usar las direcciones URL relativas.</span><span class="sxs-lookup"><span data-stu-id="94c4d-207">Because the master page and content pages might not exist in the same folder, it is important to abstain from using relative URLs.</span></span> <span data-ttu-id="94c4d-208">Aunque es posible usar rígida de las direcciones URL absolutas, realizando fuertemente acopla la dirección URL absoluta a la aplicación web.</span><span class="sxs-lookup"><span data-stu-id="94c4d-208">While it is possible to use hard coded absolute URLs, doing so tightly couples the absolute URL to the web application.</span></span> <span data-ttu-id="94c4d-209">Si cambia la dirección URL absoluta: igual que con frecuencia al mover o implementar una aplicación web: tendrá que acordarse de volver atrás y actualizar las direcciones URL absolutas.</span><span class="sxs-lookup"><span data-stu-id="94c4d-209">If the absolute URL changes - as it often does when moving or deploying a web application - you'll have to remember to go back and update the absolute URLs.</span></span>

<span data-ttu-id="94c4d-210">El enfoque ideal es usar la tilde (`~`) para indicar la raíz de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="94c4d-210">The ideal approach is to use the tilde (`~`) to indicate the application root.</span></span> <span data-ttu-id="94c4d-211">Controles Web de ASP.NET que contienen propiedades relacionadas con la dirección URL se asignan los `~` a la raíz de la aplicación en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="94c4d-211">ASP.NET Web controls that contain URL-related properties map the `~` to the application root at runtime.</span></span> <span data-ttu-id="94c4d-212">Internamente, los controles Web utilicen la `Control` la clase `ResolveClientUrl` método para generar una dirección URL relativa válida.</span><span class="sxs-lookup"><span data-stu-id="94c4d-212">Internally, the Web controls use the `Control` class's `ResolveClientUrl` method to generate a valid relative URL.</span></span> <span data-ttu-id="94c4d-213">Este método es público y está disponible en cada control de servidor (incluido el `Page` clase), por lo que se puede utilizar mediante programación desde las clases de código subyacente, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="94c4d-213">This method is public and available from every server control (including the `Page` class), so you can use it programmatically from your code-behind classes, if needed.</span></span>

<span data-ttu-id="94c4d-214">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="94c4d-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="94c4d-215">Información adicional</span><span class="sxs-lookup"><span data-stu-id="94c4d-215">Further Reading</span></span>

<span data-ttu-id="94c4d-216">Para obtener más información sobre los temas tratados en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="94c4d-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="94c4d-217">Páginas maestras en ASP.NET</span><span class="sxs-lookup"><span data-stu-id="94c4d-217">Master Pages in ASP.NET</span></span>](http://www.odetocode.com/Articles/419.aspx)
- [<span data-ttu-id="94c4d-218">Modificación de la dirección URL base en una página principal</span><span class="sxs-lookup"><span data-stu-id="94c4d-218">URL Rebasing in a Master Page</span></span>](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/masterpages/default.aspx#urls)
- [<span data-ttu-id="94c4d-219">Uso de `ResolveClientUrl` en el marcado</span><span class="sxs-lookup"><span data-stu-id="94c4d-219">Using `ResolveClientUrl` in Markup</span></span>](https://www.pluralsight.com/blogs/fritz/archive/2006/02/06/18596.aspx)

### <a name="about-the-author"></a><span data-ttu-id="94c4d-220">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="94c4d-220">About the Author</span></span>

<span data-ttu-id="94c4d-221">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de varios libros sobre ASP/ASP.NET y fundador de 4GuysFromRolla.com, ha estado trabajando con tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="94c4d-221">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="94c4d-222">Scott trabaja como consultor independiente, instructor y escritor.</span><span class="sxs-lookup"><span data-stu-id="94c4d-222">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="94c4d-223">Su último libro es [ *Sams Teach usted mismo ASP.NET 3.5 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="94c4d-223">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="94c4d-224">Puede ponerse en contacto Scott [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) o a través de su blog en [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="94c4d-224">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="94c4d-225">Agradecimientos especiales a</span><span class="sxs-lookup"><span data-stu-id="94c4d-225">Special Thanks To</span></span>

<span data-ttu-id="94c4d-226">¿Está interesado en leer mi próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="94c4d-226">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="94c4d-227">Si es así, envíeme una línea en [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com).</span><span class="sxs-lookup"><span data-stu-id="94c4d-227">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="94c4d-228">[Anterior](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
> [Siguiente](control-id-naming-in-content-pages-cs.md)</span><span class="sxs-lookup"><span data-stu-id="94c4d-228">[Previous](specifying-the-title-meta-tags-and-other-html-headers-in-the-master-page-cs.md)
[Next](control-id-naming-in-content-pages-cs.md)</span></span>

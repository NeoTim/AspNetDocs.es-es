---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
title: Páginas maestras anidadasC#() | Microsoft Docs
author: rick-anderson
description: Muestra cómo anidar una página maestra dentro de otra.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 32b7fb6e-d74b-4048-91f8-70631b2523ee
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 67093266567a97cd22b353115616484fd9ef155e
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 11/28/2019
ms.locfileid: "74596772"
---
# <a name="nested-master-pages-c"></a><span data-ttu-id="93bb7-103">Páginas maestras anidadas (C#)</span><span class="sxs-lookup"><span data-stu-id="93bb7-103">Nested Master Pages (C#)</span></span>

<span data-ttu-id="93bb7-104">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="93bb7-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="93bb7-105">[Descargar código](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) o [Descargar PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="93bb7-105">[Download Code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) or [Download PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span></span>

> <span data-ttu-id="93bb7-106">Muestra cómo anidar una página maestra dentro de otra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-106">Shows how to nest one master page within another.</span></span>

## <a name="introduction"></a><span data-ttu-id="93bb7-107">Introducción</span><span class="sxs-lookup"><span data-stu-id="93bb7-107">Introduction</span></span>

<span data-ttu-id="93bb7-108">En el transcurso de los últimos nueve tutoriales, hemos aprendido a implementar un diseño de todo el sitio con páginas maestras.</span><span class="sxs-lookup"><span data-stu-id="93bb7-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="93bb7-109">En pocas palabras, las páginas maestras nos permiten al desarrollador de páginas definir el marcado común en la página maestra junto con regiones específicas que se pueden personalizar en una página de contenido por contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="93bb7-110">Los controles ContentPlaceHolder en una página maestra indican las regiones personalizables; el marcado personalizado para los controles de ContentPlaceHolder se define en la página de contenido a través de los controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="93bb7-111">Las técnicas de página maestra que hemos explorado hasta ahora son excelentes si tiene un diseño único que se usa en todo el sitio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="93bb7-112">Sin embargo, muchos sitios web grandes tienen un diseño de sitio que se personaliza en varias secciones.</span><span class="sxs-lookup"><span data-stu-id="93bb7-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="93bb7-113">Por ejemplo, imagine una aplicación de asistencia sanitaria usada por el personal de hospital para administrar la información, las actividades y la facturación de los pacientes.</span><span class="sxs-lookup"><span data-stu-id="93bb7-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="93bb7-114">Puede haber tres tipos de páginas web en esta aplicación:</span><span class="sxs-lookup"><span data-stu-id="93bb7-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="93bb7-115">Páginas específicas del personal en las que los miembros del personal pueden actualizar la disponibilidad, Ver programaciones o solicitar tiempo de vacaciones.</span><span class="sxs-lookup"><span data-stu-id="93bb7-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="93bb7-116">Páginas específicas del paciente en las que los miembros del personal ven o editan la información de un paciente específico.</span><span class="sxs-lookup"><span data-stu-id="93bb7-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="93bb7-117">Páginas específicas de facturación en las que los contables revisan los Estados de notificaciones actuales y los informes financieros.</span><span class="sxs-lookup"><span data-stu-id="93bb7-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="93bb7-118">Cada página puede compartir un diseño común, como un menú en la parte superior y una serie de vínculos usados con frecuencia a lo largo de la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="93bb7-119">Sin embargo, es posible que las páginas de personal, paciente y de facturación necesiten personalizar este diseño genérico.</span><span class="sxs-lookup"><span data-stu-id="93bb7-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="93bb7-120">Por ejemplo, es posible que todas las páginas específicas del personal incluyan un calendario y una lista de tareas que muestre la disponibilidad y la programación diaria del usuario que ha iniciado sesión actualmente.</span><span class="sxs-lookup"><span data-stu-id="93bb7-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="93bb7-121">Quizás todas las páginas específicas del paciente deben mostrar el nombre, la dirección y la información de seguros para el paciente cuya información se está editando.</span><span class="sxs-lookup"><span data-stu-id="93bb7-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="93bb7-122">Es posible crear diseños personalizados mediante el uso de *páginas maestras anidadas*.</span><span class="sxs-lookup"><span data-stu-id="93bb7-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="93bb7-123">Para implementar el escenario anterior, comenzaremos creando una página maestra que definía el diseño de todo el sitio, el contenido del menú y del pie de página, con ContentPlaceHolders que define las regiones personalizables.</span><span class="sxs-lookup"><span data-stu-id="93bb7-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="93bb7-124">A continuación, crearemos tres páginas maestras anidadas, una para cada tipo de página web.</span><span class="sxs-lookup"><span data-stu-id="93bb7-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="93bb7-125">Cada página maestra anidada definiría el contenido entre el tipo de páginas de contenido que utiliza la página maestra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="93bb7-126">En otras palabras, la página maestra anidada para las páginas de contenido específicas del paciente incluiría marcado y lógica de programación para mostrar información sobre el paciente que se está editando.</span><span class="sxs-lookup"><span data-stu-id="93bb7-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="93bb7-127">Al crear una nueva página específica del paciente, se enlazará a esta página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="93bb7-128">Este tutorial comienza resaltando las ventajas de las páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="93bb7-129">A continuación, se muestra cómo crear y usar páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="93bb7-130">Las páginas maestras anidadas se han podido realizar desde la versión 2,0 del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="93bb7-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="93bb7-131">Sin embargo, Visual Studio 2005 no incluía compatibilidad en tiempo de diseño para las páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="93bb7-132">La buena noticia es que Visual Studio 2008 ofrece una experiencia enriquecida en tiempo de diseño para las páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="93bb7-133">Si está interesado en usar páginas maestras anidadas pero sigue usando Visual Studio 2005, consulte la entrada de blog de [Scott Guthrie](https://weblogs.asp.net/scottgu/), [sugerencias para páginas maestras anidadas en vs 2005 en tiempo de diseño](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span><span class="sxs-lookup"><span data-stu-id="93bb7-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>

## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="93bb7-134">Ventajas de las páginas maestras anidadas</span><span class="sxs-lookup"><span data-stu-id="93bb7-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="93bb7-135">Muchos sitios web tienen un diseño de sitio más general, así como diseños más personalizados específicos de determinados tipos de páginas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="93bb7-136">Por ejemplo, en nuestra aplicación Web de demostración, hemos creado una sección de administración rudimentaria (las páginas de la carpeta `~/Admin`).</span><span class="sxs-lookup"><span data-stu-id="93bb7-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="93bb7-137">Actualmente, las páginas web de la carpeta `~/Admin` utilizan la misma página maestra que las páginas que no están en la sección de administración (es decir, `Site.master` o `Alternate.master`, en función de la selección del usuario).</span><span class="sxs-lookup"><span data-stu-id="93bb7-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="93bb7-138">Por ahora, supongamos que nuestro sitio tiene una sola página maestra, `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="93bb7-139">Abordaremos el uso de páginas maestras anidadas con dos (o más) páginas maestras que empiecen por "usar una página maestra anidada para la sección de administración" más adelante en este tutorial.</span><span class="sxs-lookup"><span data-stu-id="93bb7-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>

<span data-ttu-id="93bb7-140">Imagine que se le pidió personalizar el diseño de las páginas de administración para incluir información adicional o vínculos que, de otro modo, no estaban presentes en otras páginas del sitio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="93bb7-141">Hay cuatro técnicas para implementar este requisito:</span><span class="sxs-lookup"><span data-stu-id="93bb7-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="93bb7-142">Agregue manualmente la información específica de administración y los vínculos a todas las páginas de contenido de la carpeta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="93bb7-143">Actualice la página maestra de `Site.master` para incluir la información específica de la sección de administración y los vínculos y, a continuación, agregue el código a la página maestra para mostrar u ocultar estas secciones en función de si se está visitando una de las páginas de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="93bb7-144">Cree una nueva página maestra específicamente para la sección de administración, copie el marcado de `Site.master`, agregue la información específica de la sección de administración y los vínculos y, a continuación, actualice las páginas de contenido de la carpeta `~/Admin` para usar esta nueva página maestra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="93bb7-145">Cree una página maestra anidada que se enlace a `Site.master` y que las páginas de contenido de la carpeta `~/Admin` utilicen esta nueva página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="93bb7-146">Esta página maestra anidada incluiría solo la información adicional y los vínculos específicos de las páginas de administración y no necesitaría repetir el marcado ya definido en `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="93bb7-147">La primera opción es la menos palatable.</span><span class="sxs-lookup"><span data-stu-id="93bb7-147">The first option is the least palatable.</span></span> <span data-ttu-id="93bb7-148">Todo el punto de uso de las páginas maestras es dejar de tener que copiar y pegar manualmente el marcado común a las nuevas páginas de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="93bb7-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="93bb7-149">La segunda opción es aceptable, pero hace que la aplicación sea menos fácil de mantener, ya que realiza una copia masiva de las páginas maestras con marcado que solo se muestra ocasionalmente y requiere que los desarrolladores editen la página maestra para solucionar este marcado y tener que recordar cuándo, exactamente, se muestra cierto marcado en lugar de ocultarse.</span><span class="sxs-lookup"><span data-stu-id="93bb7-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="93bb7-150">Este enfoque sería menos tenable que las personalizaciones de más de tipos de páginas web que se debían incluir en esta única página maestra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="93bb7-151">La tercera opción quita los problemas de desorden y complejidad que aparecen en la segunda opción.</span><span class="sxs-lookup"><span data-stu-id="93bb7-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="93bb7-152">Sin embargo, la principal desventaja de la opción 3 es que requiere copiar y pegar el diseño común desde `Site.master` a la nueva página maestra específica de la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="93bb7-153">Si más adelante decide cambiar el diseño de todo el sitio, tenemos que recordar cambiarlo en dos lugares.</span><span class="sxs-lookup"><span data-stu-id="93bb7-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="93bb7-154">La cuarta opción, las páginas maestras anidadas, nos ofrecen lo mejor de las opciones segunda y tercera.</span><span class="sxs-lookup"><span data-stu-id="93bb7-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="93bb7-155">La información de diseño de todo el sitio se mantiene en un archivo: la página maestra de nivel superior, mientras que el contenido específico para determinadas regiones se separa en archivos diferentes.</span><span class="sxs-lookup"><span data-stu-id="93bb7-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="93bb7-156">En este tutorial se empieza con un vistazo a la creación y el uso de una página maestra anidada simple.</span><span class="sxs-lookup"><span data-stu-id="93bb7-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="93bb7-157">Creamos una nueva página maestra de nivel superior, dos páginas maestras anidadas y dos páginas de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="93bb7-158">A partir de la sección "uso de una página maestra anidada para la administración", veremos actualizar nuestra arquitectura de página maestra existente para incluir el uso de páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="93bb7-159">En concreto, se crea una página maestra anidada y se usa para incluir contenido personalizado adicional para las páginas de contenido de la carpeta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="93bb7-160">Paso 1: crear una página maestra de nivel superior simple</span><span class="sxs-lookup"><span data-stu-id="93bb7-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="93bb7-161">La creación de un maestro anidado basado en una de las páginas maestras existentes y después la actualización de una página de contenido existente para usar esta nueva página maestra anidada en lugar de la página maestra de nivel superior conlleva cierta complejidad, ya que las páginas de contenido existentes ya esperan cierto Los controles ContentPlaceHolder definidos en la página maestra de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="93bb7-162">Por lo tanto, la página maestra anidada también debe incluir los mismos controles de ContentPlaceHolder con los mismos nombres.</span><span class="sxs-lookup"><span data-stu-id="93bb7-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="93bb7-163">Además, nuestra aplicación de demostración concreta tiene dos páginas maestras (`Site.master` y `Alternate.master`) que se asignan dinámicamente a una página de contenido en función de las preferencias de un usuario, que se agregan aún más a esta complejidad.</span><span class="sxs-lookup"><span data-stu-id="93bb7-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="93bb7-164">Veremos cómo actualizar la aplicación existente para usar páginas maestras anidadas más adelante en este tutorial, pero vamos a centrarnos primero en un ejemplo de páginas maestras anidadas simples.</span><span class="sxs-lookup"><span data-stu-id="93bb7-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="93bb7-165">Cree una nueva carpeta denominada `NestedMasterPages` y, a continuación, agregue un nuevo archivo de página maestra a esa carpeta llamada `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="93bb7-166">(Consulte la figura 1 para ver una captura de pantalla de la Explorador de soluciones después de agregar esta carpeta y archivo). Arrastre el archivo de hoja de estilos `AlternateStyles.css` del Explorador de soluciones al diseñador.</span><span class="sxs-lookup"><span data-stu-id="93bb7-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="93bb7-167">Esto agrega un elemento `<link>` al archivo de hoja de estilos en el elemento `<head>`, después del cual el marcado del elemento `<head>` de la página maestra debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="93bb7-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="93bb7-168">A continuación, agregue el siguiente marcado en el formulario web de `Simple.master`:</span><span class="sxs-lookup"><span data-stu-id="93bb7-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="93bb7-169">Este marcado muestra un vínculo titulado "páginas maestras anidadas (simple)" en la parte superior de la página en una fuente blanca grande en un fondo azul marino.</span><span class="sxs-lookup"><span data-stu-id="93bb7-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="93bb7-170">Debajo es el `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="93bb7-171">En la figura 1 se muestra la página maestra de `Simple.master` cuando se carga en el diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>

<span data-ttu-id="93bb7-172">[![la página maestra anidada define el contenido específico de las páginas de la sección de administración](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="93bb7-173">**Figura 01**: la página maestra anidada define el contenido específico de las páginas de la sección Administración ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image3.png))</span></span>

## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="93bb7-174">Paso 2: crear una página maestra anidada simple</span><span class="sxs-lookup"><span data-stu-id="93bb7-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="93bb7-175">`Simple.master` contiene dos controles ContentPlaceHolder: el `MainContent` ContentPlaceHolder que se ha agregado en el formulario web junto con el `head` ContentPlaceHolder en el elemento `<head>`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="93bb7-176">Si creara una página de contenido y enlazarla a `Simple.master` la página de contenido tendría dos controles de contenido que hacían referencia a los dos ContentPlaceHolders.</span><span class="sxs-lookup"><span data-stu-id="93bb7-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="93bb7-177">Del mismo modo, si creamos una página maestra anidada y la enlazamos a `Simple.master`, la página maestra anidada tendrá dos controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="93bb7-178">Vamos a agregar una nueva página maestra anidada a la carpeta `NestedMasterPages` denominada `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="93bb7-179">Haga clic con el botón derecho en la carpeta `NestedMasterPages` y elija Agregar nuevo elemento.</span><span class="sxs-lookup"><span data-stu-id="93bb7-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="93bb7-180">Se abrirá el cuadro de diálogo Agregar nuevo elemento que se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="93bb7-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="93bb7-181">Seleccione el tipo de plantilla página maestra y escriba el nombre de la nueva página maestra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="93bb7-182">Para indicar que la nueva página maestra debe ser una página maestra anidada, active la casilla "seleccionar página maestra".</span><span class="sxs-lookup"><span data-stu-id="93bb7-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="93bb7-183">A continuación, haga clic en el botón Agregar.</span><span class="sxs-lookup"><span data-stu-id="93bb7-183">Next, click the Add button.</span></span> <span data-ttu-id="93bb7-184">Se mostrará el mismo cuadro de diálogo Seleccionar una página maestra que verá al enlazar una página de contenido a una página maestra (vea la figura 3).</span><span class="sxs-lookup"><span data-stu-id="93bb7-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="93bb7-185">Elija la página maestra de `Simple.master` en la carpeta `NestedMasterPages` y haga clic en Aceptar.</span><span class="sxs-lookup"><span data-stu-id="93bb7-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="93bb7-186">Si ha creado el sitio web de ASP.NET mediante el modelo de proyecto de aplicación web en lugar del modelo de proyecto de sitio web, no verá la casilla "seleccionar página maestra" en el cuadro de diálogo Agregar nuevo elemento que se muestra en la figura 2.</span><span class="sxs-lookup"><span data-stu-id="93bb7-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="93bb7-187">Para crear una página maestra anidada al usar el modelo de proyecto de aplicación Web, debe elegir la plantilla de página maestra anidada (en lugar de la plantilla de página maestra).</span><span class="sxs-lookup"><span data-stu-id="93bb7-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="93bb7-188">Después de seleccionar la plantilla página maestra anidada y hacer clic en agregar, aparecerá el mismo cuadro de diálogo Seleccionar una página maestra que se muestra en la figura 3.</span><span class="sxs-lookup"><span data-stu-id="93bb7-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>

<span data-ttu-id="93bb7-189">[![Active la casilla &quot;seleccionar página maestra&quot; para agregar una página maestra anidada](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span></span>

<span data-ttu-id="93bb7-190">**Figura 02**: Active la casilla "seleccionar página maestra" para agregar una página maestra anidada ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image6.png))</span></span>

<span data-ttu-id="93bb7-191">[![enlazar la página maestra anidada a la página maestra simple. Master](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span></span>

<span data-ttu-id="93bb7-192">**Figura 03**: enlace de la página maestra anidada a la página maestra de `Simple.master` ([haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image9.png))</span></span>

<span data-ttu-id="93bb7-193">El marcado declarativo de la página maestra anidada, que se muestra a continuación, contiene dos controles de contenido que hacen referencia a los dos controles ContentPlaceHolder de la Página principal de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="93bb7-194">A excepción de la Directiva `<%@ Master %>`, el marcado declarativo inicial de la página maestra anidada es idéntico al marcado que se genera inicialmente al enlazar una página de contenido a la misma página maestra de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="93bb7-195">Al igual que la Directiva de `<%@ Page %>` de una página de contenido, la Directiva de `<%@ Master %>` aquí incluye un atributo `MasterPageFile` que especifica la página maestra primaria de la página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="93bb7-196">La diferencia principal entre la página maestra anidada y una página de contenido enlazada a la misma página maestra de nivel superior es que la página maestra anidada puede incluir controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="93bb7-197">Los controles ContentPlaceHolder de la página maestra anidada definen las regiones en las que las páginas de contenido pueden personalizar el marcado.</span><span class="sxs-lookup"><span data-stu-id="93bb7-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="93bb7-198">Actualice esta página maestra anidada para que muestre el texto "Hello, from SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="93bb7-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="93bb7-199">en el control de contenido que corresponde al control ContentPlaceHolder `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample4.aspx)]

<span data-ttu-id="93bb7-200">Después de hacerlo, guarde la página maestra anidada y, a continuación, agregue una nueva página de contenido a la carpeta `NestedMasterPages` denominada `Default.aspx`y enlácelo a la página maestra `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="93bb7-201">Al agregar esta página, es posible que le sorprenda ver que no contiene controles de contenido (consulte la figura 4).</span><span class="sxs-lookup"><span data-stu-id="93bb7-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="93bb7-202">Una página de contenido solo puede tener acceso a la ContentPlaceHolders de su página maestra *primaria* .</span><span class="sxs-lookup"><span data-stu-id="93bb7-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="93bb7-203">`SimpleNested.master` no contiene ningún control ContentPlaceHolder; por lo tanto, cualquier página de contenido enlazada a esta página maestra no puede contener controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>

<span data-ttu-id="93bb7-204">[![la página de contenido nuevo no contiene controles de contenido](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-204">[![The New Content Page Contains No Content Controls](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span></span>

<span data-ttu-id="93bb7-205">**Figura 04**: la página nuevo contenido no contiene controles de contenido ([haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-cs/_static/image12.png))</span></span>

<span data-ttu-id="93bb7-206">Lo que hay que hacer es actualizar la página maestra anidada (`SimpleNested.master`) para incluir los controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="93bb7-207">Normalmente querrá que las páginas maestras anidadas incluyan un control ContentPlaceHolder para cada ContentPlaceHolder definido por su página maestra primaria, lo que permite que la página maestra secundaria o la página de contenido funcionen con cualquiera de los objetos ContentPlaceHolder de la página maestra de nivel superior. permite.</span><span class="sxs-lookup"><span data-stu-id="93bb7-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="93bb7-208">Actualice la página maestra de `SimpleNested.master` para incluir un control ContentPlaceHolder en sus dos controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="93bb7-209">Asigne a ContentPlaceHolder el mismo nombre que el control ContentPlaceHolder al que hace referencia su control de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="93bb7-210">Es decir, agregue un control ContentPlaceHolder denominado `MainContent` al control de contenido en `SimpleNested.master` que haga referencia a la `MainContent` ContentPlaceHolder en `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="93bb7-211">Haga lo mismo en el control de contenido que hace referencia a la `head` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="93bb7-212">Aunque recomiendo asignar un nombre a los controles de ContentPlaceHolder en la página maestra anidada igual que ContentPlaceHolders en la página maestra de nivel superior, esta simetría de nomenclatura no es necesaria.</span><span class="sxs-lookup"><span data-stu-id="93bb7-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="93bb7-213">Puede asignar a los controles ContentPlaceHolder en la página maestra anidada cualquier nombre que desee.</span><span class="sxs-lookup"><span data-stu-id="93bb7-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="93bb7-214">Sin embargo, es más fácil recordar qué ContentPlaceHolders se corresponden con las regiones de la página si la página maestra de nivel superior y las páginas maestras anidadas usan los mismos nombres.</span><span class="sxs-lookup"><span data-stu-id="93bb7-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>

<span data-ttu-id="93bb7-215">Después de hacer estas adiciones, el marcado declarativo de `SimpleNested.master` página maestra debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="93bb7-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="93bb7-216">Elimine la `Default.aspx` página de contenido que acaba de crear y, a continuación, vuelva a agregarla, enlazándolo a la página maestra de `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="93bb7-217">Esta vez, Visual Studio agrega dos controles de contenido al `Default.aspx`, haciendo referencia a ContentPlaceHolders ahora definido en `SimpleNested.master` (consulte la figura 6).</span><span class="sxs-lookup"><span data-stu-id="93bb7-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="93bb7-218">Agregue el texto "Hello, desde default. aspx!"</span><span class="sxs-lookup"><span data-stu-id="93bb7-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="93bb7-219">en el control de contenido al que hace referencia `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="93bb7-220">En la figura 5 se muestran las tres entidades implicadas aquí: `Simple.master`, `SimpleNested.master`y `Default.aspx`, y cómo se relacionan entre sí.</span><span class="sxs-lookup"><span data-stu-id="93bb7-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="93bb7-221">Como se muestra en el diagrama, la página maestra anidada implementa controles de contenido para el ContentPlaceHolder de su elemento primario.</span><span class="sxs-lookup"><span data-stu-id="93bb7-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="93bb7-222">Si es necesario tener acceso a estas regiones en la página de contenido, la página maestra anidada debe agregar su propio ContentPlaceHolders a los controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>

<span data-ttu-id="93bb7-223">[![las páginas maestras de nivel superior y anidadas determinan el diseño de la página de contenido](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span></span>

<span data-ttu-id="93bb7-224">**Figura 05**: las páginas maestras de nivel superior y anidadas dictan el diseño de la página de contenido ([haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-cs/_static/image15.png))</span></span>

<span data-ttu-id="93bb7-225">Este comportamiento ilustra el modo en que una página de contenido o una página maestra solo es Cognizant de su página maestra primaria.</span><span class="sxs-lookup"><span data-stu-id="93bb7-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="93bb7-226">Este comportamiento también lo indica el diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="93bb7-227">En la ilustración 6 se muestra el diseñador de `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="93bb7-228">Aunque el diseñador muestra claramente qué regiones se pueden editar en la página de contenido y qué partes no lo están, no se queda sin ambigüedades en lo que se refiere a las regiones no editables de la página maestra anidada y a qué regiones pertenecen a la página maestra de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>

<span data-ttu-id="93bb7-229">[![la página de contenido ahora incluye controles de contenido para el ContentPlaceHolders de la página maestra anidada](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span></span>

<span data-ttu-id="93bb7-230">**Figura 06**: la página de contenido ahora incluye controles de contenido para el ContentPlaceHolders de la página maestra anidada ([haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-cs/_static/image18.png))</span></span>

## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="93bb7-231">Paso 3: agregar una segunda página maestra anidada simple</span><span class="sxs-lookup"><span data-stu-id="93bb7-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="93bb7-232">La ventaja de las páginas maestras anidadas es más evidente cuando hay varias páginas maestras anidadas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="93bb7-233">Para ilustrar esta ventaja, cree otra página maestra anidada en la carpeta `NestedMasterPages`; asigne a esta nueva página maestra anidada el nombre `SimpleNestedAlternate.master` y enlácelo a la página maestra de `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="93bb7-234">Agregue controles ContentPlaceHolder en los dos controles de contenido de la página maestra anidada como hicimos en el paso 2.</span><span class="sxs-lookup"><span data-stu-id="93bb7-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="93bb7-235">Agregue también el texto "Hello, from SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="93bb7-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="93bb7-236">en el control de contenido que corresponde al `MainContent` ContentPlaceHolder de la página maestra de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="93bb7-237">Después de realizar estos cambios, el marcado declarativo de la nueva página maestra anidada debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="93bb7-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample6.aspx)]

<span data-ttu-id="93bb7-238">Cree una página de contenido denominada `Alternate.aspx` en la carpeta `NestedMasterPages` y enlácelo a la `SimpleNestedAlternate.master` página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="93bb7-239">Agregue el texto "Hello, from Alternate".</span><span class="sxs-lookup"><span data-stu-id="93bb7-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="93bb7-240">en el control de contenido que corresponde a `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="93bb7-241">La figura 7 muestra `Alternate.aspx` cuando se ve a través del diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>

<span data-ttu-id="93bb7-242">[![. aspx alternativo está enlazado a la página maestra SimpleNestedAlternate. Master](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span></span>

<span data-ttu-id="93bb7-243">**Figura 07**: `Alternate.aspx` está enlazado a la página maestra de `SimpleNestedAlternate.master` ([haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image21.png))</span></span>

<span data-ttu-id="93bb7-244">Compare el diseñador de la ilustración 7 con el diseñador de la figura 6.</span><span class="sxs-lookup"><span data-stu-id="93bb7-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="93bb7-245">Ambas páginas de contenido comparten el mismo diseño definido en la página maestra de nivel superior (`Simple.master`), es decir, el título "Tutorial de páginas maestras anidadas (simple)".</span><span class="sxs-lookup"><span data-stu-id="93bb7-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="93bb7-246">Pero ambos tienen contenido distinto definido en sus páginas maestras principales: el texto "Hello, from SimpleNested!"</span><span class="sxs-lookup"><span data-stu-id="93bb7-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="93bb7-247">en la figura 6 y "Hello, from SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="93bb7-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="93bb7-248">en la figura 7.</span><span class="sxs-lookup"><span data-stu-id="93bb7-248">in Figure 7.</span></span> <span data-ttu-id="93bb7-249">Concedidos, estas diferencias son triviales, pero podría ampliar este ejemplo para incluir diferencias más significativas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="93bb7-250">Por ejemplo, la página `SimpleNested.master` podría incluir un menú con opciones específicas para sus páginas de contenido, mientras que `SimpleNestedAlternate.master` puede tener información pertinente para las páginas de contenido que se enlazan a ella.</span><span class="sxs-lookup"><span data-stu-id="93bb7-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="93bb7-251">Ahora, Imagine que necesitábamos realizar un cambio en el diseño del sitio de sobrepaso.</span><span class="sxs-lookup"><span data-stu-id="93bb7-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="93bb7-252">Por ejemplo, Imagine que deseamos agregar una lista de vínculos comunes a todas las páginas de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="93bb7-253">Para ello, se actualiza la página maestra de nivel superior, `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="93bb7-254">Los cambios que se produzcan se reflejarán inmediatamente en sus páginas maestras anidadas y, por extensión, en sus páginas de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="93bb7-255">Para demostrar la facilidad con la que se puede cambiar el diseño del sitio de superpatrón, abra la página maestra de `Simple.master` y agregue el siguiente marcado entre los elementos `topContent` y `mainContent` `<div>`:</span><span class="sxs-lookup"><span data-stu-id="93bb7-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample7.aspx)]

<span data-ttu-id="93bb7-256">Esto agrega dos vínculos a la parte superior de todas las páginas que se enlazan a `Simple.master`, `SimpleNested.master`o `SimpleNestedAlternate.master`; Estos cambios se aplican a todas las páginas maestras anidadas y sus páginas de contenido inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="93bb7-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="93bb7-257">En la ilustración 8 se muestra `Alternate.aspx` cuando se ve a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="93bb7-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="93bb7-258">Observe la adición de los vínculos en la parte superior de la página (en comparación con la figura 7).</span><span class="sxs-lookup"><span data-stu-id="93bb7-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>

<span data-ttu-id="93bb7-259">[![cambiado a la página maestra de nivel superior se reflejan inmediatamente en sus páginas maestras anidadas y sus páginas de contenido](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span></span>

<span data-ttu-id="93bb7-260">**Figura 08**: los cambios en la página maestra de nivel superior se reflejan inmediatamente en sus páginas maestras anidadas y sus páginas de contenido ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-cs/_static/image24.png))</span></span>

## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="93bb7-261">Usar una página maestra anidada para la sección de administración</span><span class="sxs-lookup"><span data-stu-id="93bb7-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="93bb7-262">En este momento, hemos examinado las ventajas de las páginas maestras anidadas y hemos visto cómo crearlas y usarlas en una aplicación ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="93bb7-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="93bb7-263">Sin embargo, los ejemplos de los pasos 1, 2 y 3 implican la creación de una nueva página maestra de nivel superior, nuevas páginas maestras anidadas y nuevas páginas de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="93bb7-264">¿Qué ocurre cuando se agrega una nueva página maestra anidada a un sitio web con una página maestra de nivel superior y páginas de contenido existentes?</span><span class="sxs-lookup"><span data-stu-id="93bb7-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="93bb7-265">La integración de una página maestra anidada en un sitio web existente y su asociación con las páginas de contenido existentes requiere un poco más de esfuerzo que empezar desde cero.</span><span class="sxs-lookup"><span data-stu-id="93bb7-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="93bb7-266">Los pasos 4, 5, 6 y 7 exploran estos desafíos a medida que aumentamos nuestra aplicación de demostración para incluir una nueva página maestra anidada denominada `AdminNested.master` que contiene instrucciones para el administrador y que usan las páginas de ASP.NET en la carpeta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="93bb7-267">La integración de una página maestra anidada en nuestra aplicación de demostración presenta los siguientes obstáculos:</span><span class="sxs-lookup"><span data-stu-id="93bb7-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="93bb7-268">Las páginas de contenido existentes en la carpeta `~/Admin` tienen ciertas expectativas de su página maestra.</span><span class="sxs-lookup"><span data-stu-id="93bb7-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="93bb7-269">En el caso de los iniciadores, esperan que haya determinados controles ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="93bb7-270">Además, las páginas `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx` llaman al método de `RefreshRecentProductsGrid` público de la página maestra, establecen su propiedad `GridMessageText` o tienen un controlador de eventos para su evento `PricesDoubled`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="93bb7-271">Por consiguiente, nuestra página maestra anidada debe proporcionar los mismos ContentPlaceHolders y miembros públicos.</span><span class="sxs-lookup"><span data-stu-id="93bb7-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="93bb7-272">En el tutorial anterior se ha mejorado la clase `BasePage` para establecer dinámicamente la propiedad `MasterPageFile` del objeto `Page` basándose en una variable de sesión.</span><span class="sxs-lookup"><span data-stu-id="93bb7-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="93bb7-273">¿Cómo se admiten las páginas maestras dinámicas al usar páginas maestras anidadas?</span><span class="sxs-lookup"><span data-stu-id="93bb7-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="93bb7-274">Estos dos desafíos se verán a medida que se crea la página maestra anidada y se usa en las páginas de contenido existentes.</span><span class="sxs-lookup"><span data-stu-id="93bb7-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="93bb7-275">Investigaremos y superaremos estos problemas a medida que surjan.</span><span class="sxs-lookup"><span data-stu-id="93bb7-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="93bb7-276">Paso 4: crear la página maestra anidada</span><span class="sxs-lookup"><span data-stu-id="93bb7-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="93bb7-277">La primera tarea consiste en crear la página maestra anidada que usarán las páginas de la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="93bb7-278">Como vimos en el paso 2, al agregar una nueva página maestra anidada, es necesario especificar la página maestra primaria de la página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="93bb7-279">Pero tenemos dos páginas maestras de nivel superior: `Site.master` y `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="93bb7-280">Recuerde que hemos creado `Alternate.master` en el tutorial anterior y escrito código en la clase `BasePage` que establece la propiedad `MasterPageFile` del objeto de página en tiempo de ejecución en `Site.master` o `Alternate.master`, dependiendo del valor de la variable de sesión `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the Page object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="93bb7-281">¿Cómo se configura nuestra página maestra anidada para que use la página maestra de nivel superior adecuada?</span><span class="sxs-lookup"><span data-stu-id="93bb7-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="93bb7-282">Tenemos dos opciones:</span><span class="sxs-lookup"><span data-stu-id="93bb7-282">We have two options:</span></span>

- <span data-ttu-id="93bb7-283">Cree dos páginas maestras anidadas, `AdminNestedSite.master` y `AdminNestedAlternate.master`y enlazarlas a las páginas maestras de nivel superior `Site.master` y `Alternate.master`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="93bb7-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="93bb7-284">En `BasePage`, se establecerá la `MasterPageFile` del objeto de `Page` en la página maestra anidada adecuada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="93bb7-285">Cree una única página maestra anidada y haga que las páginas de contenido usen esta página maestra concreta.</span><span class="sxs-lookup"><span data-stu-id="93bb7-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="93bb7-286">A continuación, en tiempo de ejecución, es necesario establecer la propiedad `MasterPageFile` de la página maestra anidada en la página maestra de nivel superior adecuada en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="93bb7-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="93bb7-287">(Como podría haber descubierto ahora, las páginas maestras también tienen una propiedad `MasterPageFile`).</span><span class="sxs-lookup"><span data-stu-id="93bb7-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="93bb7-288">Vamos a usar la segunda opción.</span><span class="sxs-lookup"><span data-stu-id="93bb7-288">Let's use the second option.</span></span> <span data-ttu-id="93bb7-289">Cree un único archivo de página maestra anidada en la carpeta `~/Admin` denominada `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="93bb7-290">Dado que tanto `Site.master` como `Alternate.master` tienen el mismo conjunto de controles de ContentPlaceHolder, no importa a qué página maestra se enlaza, aunque recomiendo que lo enlace a `Site.master` por motivos de coherencia.</span><span class="sxs-lookup"><span data-stu-id="93bb7-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>

<span data-ttu-id="93bb7-291">[![agregar una página maestra anidada a la carpeta ~/admin.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span></span>

<span data-ttu-id="93bb7-292">**Figura 09**: agregar una página maestra anidada a la carpeta `~/Admin`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="93bb7-293">([Haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-293">([Click to view full-size image](nested-master-pages-cs/_static/image27.png))</span></span>

<span data-ttu-id="93bb7-294">Dado que la página maestra anidada se enlaza a una página maestra con cuatro controles ContentPlaceHolder, Visual Studio agrega cuatro controles de contenido al nuevo marcado inicial del archivo de la página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="93bb7-295">Como hicimos en los pasos 2 y 3, agregue un control ContentPlaceHolder en cada control de contenido y asígnele el mismo nombre que el control ContentPlaceHolder de la Página principal de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="93bb7-296">Agregue también el marcado siguiente al control de contenido que corresponde a la `MainContent` ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="93bb7-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>

[!code-html[Main](nested-master-pages-cs/samples/sample8.html)]

<span data-ttu-id="93bb7-297">A continuación, defina la clase CSS de `instructions` en los archivos CSS `Styles.css` y `AlternateStyles.css`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="93bb7-298">Las siguientes reglas de CSS hacen que los elementos HTML con el estilo de la clase `instructions` se muestren con un color de fondo amarillo claro y un borde sólido negro:</span><span class="sxs-lookup"><span data-stu-id="93bb7-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>

[!code-css[Main](nested-master-pages-cs/samples/sample9.css)]

<span data-ttu-id="93bb7-299">Dado que este marcado se ha agregado a la página maestra anidada, solo aparecerá en las páginas que utilizan esta página maestra anidada (es decir, las páginas de la sección de administración).</span><span class="sxs-lookup"><span data-stu-id="93bb7-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="93bb7-300">Después de hacer estas adiciones a la página maestra anidada, su marcado declarativo debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="93bb7-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample10.aspx)]

<span data-ttu-id="93bb7-301">Tenga en cuenta que cada control de contenido tiene un control ContentPlaceHolder y que las propiedades `ID` de los controles ContentPlaceHolder tienen asignados los mismos valores que los controles ContentPlaceHolder correspondientes en la página maestra de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="93bb7-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="93bb7-302">Además, el marcado específico de la sección de administración aparece en el `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="93bb7-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="93bb7-303">En la ilustración 10 se muestra la `AdminNested.master` página maestra anidada cuando se ve a través del diseñador de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="93bb7-304">Puede ver las instrucciones en el cuadro amarillo situado en la parte superior del control de contenido `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>

<span data-ttu-id="93bb7-305">[![la página maestra anidada extiende la página maestra de nivel superior para incluir instrucciones para el administrador.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span></span>

<span data-ttu-id="93bb7-306">**Figura 10**: la página maestra anidada extiende la página maestra de nivel superior para incluir instrucciones para el administrador.</span><span class="sxs-lookup"><span data-stu-id="93bb7-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="93bb7-307">([Haga clic para ver la imagen de tamaño completo](nested-master-pages-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-307">([Click to view full-size image](nested-master-pages-cs/_static/image30.png))</span></span>

## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="93bb7-308">Paso 5: actualizar las páginas de contenido existentes para usar la nueva página maestra anidada</span><span class="sxs-lookup"><span data-stu-id="93bb7-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="93bb7-309">Cada vez que se agrega una nueva página de contenido a la sección de administración, se debe enlazar con la `AdminNested.master` página maestra que se acaba de crear.</span><span class="sxs-lookup"><span data-stu-id="93bb7-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="93bb7-310">Pero ¿qué ocurre con las páginas de contenido existentes?</span><span class="sxs-lookup"><span data-stu-id="93bb7-310">But what about the existing content pages?</span></span> <span data-ttu-id="93bb7-311">Actualmente, todas las páginas de contenido del sitio se derivan de la clase `BasePage`, que establece mediante programación la página maestra de la página de contenido en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="93bb7-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="93bb7-312">Este no es el comportamiento que queremos en las páginas de contenido de la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="93bb7-313">En su lugar, queremos que estas páginas de contenido utilicen siempre la página `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="93bb7-314">Será responsabilidad de la página maestra anidada elegir la página de contenido de nivel superior derecha en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="93bb7-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="93bb7-315">La mejor manera de lograr este comportamiento deseado es crear una nueva clase de página base personalizada denominada `AdminBasePage` que extienda la clase `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="93bb7-316">a continuación, `AdminBasePage` puede invalidar el `SetMasterPageFile` y establecer el `MasterPageFile` del objeto `Page` en el valor codificado de forma rígida "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="93bb7-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="93bb7-317">De esta manera, cualquier página que se derive de `AdminBasePage` usará `AdminNested.master`, mientras que cualquier página que derive de `BasePage` tendrá su `MasterPageFile` propiedad establecida dinámicamente en "~/site.Master" o "~/Alternate.Master" según el valor de la variable de sesión `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="93bb7-318">Empiece agregando un nuevo archivo de clase a la carpeta `App_Code` denominada `AdminBasePage.cs`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.cs`.</span></span> <span data-ttu-id="93bb7-319">Tenga `AdminBasePage` extienda `BasePage` y, a continuación, invalide el método `SetMasterPageFile`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="93bb7-320">En ese método, asigne el `MasterPageFile` el valor "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="93bb7-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="93bb7-321">Después de realizar estos cambios, el archivo de clase debe ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="93bb7-321">After making these changes your class file should look similar to the following:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample11.cs)]

<span data-ttu-id="93bb7-322">Ahora es necesario que las páginas de contenido existentes en la sección de administración se deriven de `AdminBasePage` en lugar de `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="93bb7-323">Vaya al archivo de clase de código subyacente para cada página de contenido de la carpeta `~/Admin` y realice este cambio.</span><span class="sxs-lookup"><span data-stu-id="93bb7-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="93bb7-324">Por ejemplo, en `~/Admin/Default.aspx` cambiaría la declaración de clase de código subyacente de:</span><span class="sxs-lookup"><span data-stu-id="93bb7-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample12.cs)]

<span data-ttu-id="93bb7-325">A:</span><span class="sxs-lookup"><span data-stu-id="93bb7-325">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample13.cs)]

<span data-ttu-id="93bb7-326">En la figura 11 se muestra cómo se relacionan entre sí la página maestra de nivel superior (`Site.master` o `Alternate.master`), la página maestra anidada (`AdminNested.master`) y las páginas de contenido de la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>

<span data-ttu-id="93bb7-327">[![la página maestra anidada define el contenido específico de las páginas de la sección de administración](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span></span>

<span data-ttu-id="93bb7-328">**Figura 11**: la página maestra anidada define el contenido específico de las páginas de la sección Administración ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image33.png))</span></span>

## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="93bb7-329">Paso 6: crear un reflejo de los métodos y propiedades públicos de la página maestra</span><span class="sxs-lookup"><span data-stu-id="93bb7-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="93bb7-330">Recuerde que las páginas `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx` interactúan mediante programación con la página maestra: `~/Admin/AddProduct.aspx` llama al método de `RefreshRecentProductsGrid` público de la página maestra y establece su propiedad `GridMessageText`. `~/Admin/Products.aspx` tiene un controlador de eventos para el evento `PricesDoubled`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="93bb7-331">En el tutorial anterior, creamos una clase abstracta `BaseMasterPage` que definía estos miembros públicos.</span><span class="sxs-lookup"><span data-stu-id="93bb7-331">In the preceding tutorial we created an abstract `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="93bb7-332">En las páginas `~/Admin/AddProduct.aspx` y `~/Admin/Products.aspx` se supone que su página maestra se deriva de la clase `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="93bb7-333">Sin embargo, la página `AdminNested.master` extiende actualmente la clase `System.Web.UI.MasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="93bb7-334">Como resultado, al visitar `~/Admin/Products.aspx` se inicia una `InvalidCastException` con el mensaje: "no se puede convertir el objeto de tipo ' ASP. admin\_adminnested\_Master ' al tipo ' BaseMasterPage '".</span><span class="sxs-lookup"><span data-stu-id="93bb7-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="93bb7-335">Para solucionar este paso, es necesario que la clase de código subyacente `AdminNested.master` extienda `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="93bb7-336">Actualice la declaración de clase de código subyacente de la página maestra anidada de:</span><span class="sxs-lookup"><span data-stu-id="93bb7-336">Update the nested master page's code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample14.cs)]

<span data-ttu-id="93bb7-337">A:</span><span class="sxs-lookup"><span data-stu-id="93bb7-337">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample15.cs)]

<span data-ttu-id="93bb7-338">Todavía no hemos terminado.</span><span class="sxs-lookup"><span data-stu-id="93bb7-338">We're not done yet.</span></span> <span data-ttu-id="93bb7-339">Dado que la clase `BaseMasterPage` es abstracta, es necesario invalidar los miembros `abstract`, `RefreshRecentProductsGrid` y `GridMessageText`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-339">Because the `BaseMasterPage` class is abstract, we need to override the `abstract` members, `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="93bb7-340">Estos miembros se utilizan en las páginas maestras de nivel superior para actualizar sus interfaces de usuario.</span><span class="sxs-lookup"><span data-stu-id="93bb7-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="93bb7-341">(En realidad, solo el `Site.master` página maestra utiliza estos métodos, aunque las dos páginas maestras de nivel superior implementan estos métodos, ya que ambos `BaseMasterPage`extender).</span><span class="sxs-lookup"><span data-stu-id="93bb7-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="93bb7-342">Aunque necesitamos implementar estos miembros en `AdminNested.master`, todas estas implementaciones solo deben llamar al mismo miembro en la página maestra de nivel superior utilizada por la página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="93bb7-343">Por ejemplo, cuando una página de contenido de la sección de administración llama al método de `RefreshRecentProductsGrid` de la página maestra anidada, toda la página maestra anidada debe hacer, a su vez, llamar a `Site.master` o `Alternate.master`método de `RefreshRecentProductsGrid`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="93bb7-344">Para ello, empiece agregando la siguiente directiva de `@MasterType` a la parte superior de `AdminNested.master`:</span><span class="sxs-lookup"><span data-stu-id="93bb7-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample16.aspx)]

<span data-ttu-id="93bb7-345">Recuerde que la Directiva de `@MasterType` agrega una propiedad fuertemente tipada a la clase de código subyacente llamada `Master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="93bb7-346">A continuación, invalide los miembros `RefreshRecentProductsGrid` y `GridMessageText` y, simplemente, delegue la llamada al método correspondiente del `Master`:</span><span class="sxs-lookup"><span data-stu-id="93bb7-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample17.cs)]

<span data-ttu-id="93bb7-347">Con este código en su lugar, debería poder visitar y usar las páginas de contenido de la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="93bb7-348">En la ilustración 12 se muestra la página `~/Admin/Products.aspx` cuando se ve a través de un explorador.</span><span class="sxs-lookup"><span data-stu-id="93bb7-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="93bb7-349">Como puede ver, la página incluye el cuadro instrucciones de administración, que se define en la página maestra anidada.</span><span class="sxs-lookup"><span data-stu-id="93bb7-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>

<span data-ttu-id="93bb7-350">[![las páginas de contenido de la sección de administración incluyen instrucciones en la parte superior de cada página](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span></span>

<span data-ttu-id="93bb7-351">**Figura 12**: las páginas de contenido de la sección de administración incluyen instrucciones en la parte superior de cada página ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-cs/_static/image36.png))</span></span>

## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="93bb7-352">Paso 7: usar la página maestra de nivel superior adecuada en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="93bb7-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="93bb7-353">Aunque todas las páginas de contenido de la sección de administración son totalmente funcionales, utilizan la misma página maestra de nivel superior y omiten la página maestra seleccionada por el usuario en `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="93bb7-354">Este comportamiento se debe al hecho de que la página maestra anidada tiene su propiedad `MasterPageFile` establecida estáticamente en `Site.master` en su Directiva `<%@ Master %>`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="93bb7-355">Para usar la página maestra de nivel superior seleccionada por el usuario final, es necesario establecer la propiedad `MasterPageFile` del `AdminNested.master`en el valor de la variable de sesión `MyMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="93bb7-356">Dado que se establecen las propiedades de `MasterPageFile` de las páginas de contenido en `BasePage`, puede pensar que estableceremos la propiedad `MasterPageFile` de la página maestra anidada en `BaseMasterPage` o en la clase de código subyacente de la `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="93bb7-357">Sin embargo, esto no funcionará porque es necesario establecer la propiedad `MasterPageFile` al final de la fase de PreInit.</span><span class="sxs-lookup"><span data-stu-id="93bb7-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="93bb7-358">La primera vez que se pueda pulsar mediante programación en el ciclo de vida de la página desde una página maestra es la fase de inicialización (que se produce después de la fase de PreInit).</span><span class="sxs-lookup"><span data-stu-id="93bb7-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="93bb7-359">Por lo tanto, es necesario establecer la propiedad `MasterPageFile` de la página maestra anidada a partir de las páginas de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="93bb7-360">Las únicas páginas de contenido que utilizan la página maestra de `AdminNested.master` derivan de `AdminBasePage`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="93bb7-361">Por lo tanto, podemos colocar allí esta lógica.</span><span class="sxs-lookup"><span data-stu-id="93bb7-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="93bb7-362">En el paso 5 se reemplazó el método `SetMasterPageFile`, estableciendo la propiedad `MasterPageFile` del objeto `Page` en "~/Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="93bb7-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the `Page` object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="93bb7-363">Actualice `SetMasterPageFile` para establecer también la propiedad `MasterPageFile` de la página maestra en el resultado almacenado en la sesión:</span><span class="sxs-lookup"><span data-stu-id="93bb7-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample18.cs)]

<span data-ttu-id="93bb7-364">El método `GetMasterPageFileFromSession`, que se ha agregado a la clase `BasePage` en el tutorial anterior, devuelve la ruta de acceso del archivo de la página maestra adecuada según el valor de la variable de sesión.</span><span class="sxs-lookup"><span data-stu-id="93bb7-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="93bb7-365">Con este cambio, la selección de la página maestra del usuario se lleva a la sección de administración.</span><span class="sxs-lookup"><span data-stu-id="93bb7-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="93bb7-366">En la figura 13 se muestra la misma página que la figura 12, pero después de que el usuario cambia la selección de la página maestra a `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="93bb7-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>

<span data-ttu-id="93bb7-367">[![la página de administración anidada usa la página maestra de nivel superior seleccionada por el usuario](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="93bb7-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span></span>

<span data-ttu-id="93bb7-368">**Figura 13**: la página de administración anidada usa la página maestra de nivel superior seleccionada por el usuario ([haga clic para ver la imagen a tamaño completo](nested-master-pages-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="93bb7-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-cs/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="93bb7-369">Resumen</span><span class="sxs-lookup"><span data-stu-id="93bb7-369">Summary</span></span>

<span data-ttu-id="93bb7-370">Del mismo modo que las páginas de contenido se pueden enlazar a una página maestra, es posible crear páginas maestras anidadas haciendo que una página maestra secundaria se enlace a una página maestra primaria.</span><span class="sxs-lookup"><span data-stu-id="93bb7-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="93bb7-371">La página maestra secundaria puede definir controles de contenido para cada uno de los ContentPlaceHolders de elementos primarios. después, puede agregar sus propios controles ContentPlaceHolder (así como otro marcado) a estos controles de contenido.</span><span class="sxs-lookup"><span data-stu-id="93bb7-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="93bb7-372">Las páginas maestras anidadas son bastante útiles en aplicaciones Web de gran tamaño en las que todas las páginas comparten la apariencia y el funcionamiento, pero algunas secciones del sitio requieren personalizaciones únicas.</span><span class="sxs-lookup"><span data-stu-id="93bb7-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="93bb7-373">¡ Feliz programación!</span><span class="sxs-lookup"><span data-stu-id="93bb7-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="93bb7-374">Información adicional</span><span class="sxs-lookup"><span data-stu-id="93bb7-374">Further Reading</span></span>

<span data-ttu-id="93bb7-375">Para obtener más información sobre los temas descritos en este tutorial, consulte los siguientes recursos:</span><span class="sxs-lookup"><span data-stu-id="93bb7-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="93bb7-376">Páginas maestras de ASP.NET anidadas</span><span class="sxs-lookup"><span data-stu-id="93bb7-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="93bb7-377">Sugerencias para páginas maestras anidadas y VS 2005 en tiempo de diseño</span><span class="sxs-lookup"><span data-stu-id="93bb7-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="93bb7-378">Compatibilidad con la página maestra anidada de VS 2008</span><span class="sxs-lookup"><span data-stu-id="93bb7-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="93bb7-379">Acerca del autor</span><span class="sxs-lookup"><span data-stu-id="93bb7-379">About the Author</span></span>

<span data-ttu-id="93bb7-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), autor de varios libros de ASP/ASP. net y fundador de 4GuysFromRolla.com, ha estado trabajando con las tecnologías Web de Microsoft desde 1998.</span><span class="sxs-lookup"><span data-stu-id="93bb7-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="93bb7-381">Scott funciona como consultor, profesor y redactor independiente.</span><span class="sxs-lookup"><span data-stu-id="93bb7-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="93bb7-382">Su último libro se [*enseña a ASP.NET 3,5 en 24 horas*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="93bb7-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="93bb7-383">Se puede acceder a Scott en [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) o a través de su blog en [http://ScottOnWriting.NET](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="93bb7-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="93bb7-384">Agradecimiento especial a</span><span class="sxs-lookup"><span data-stu-id="93bb7-384">Special Thanks To</span></span>

<span data-ttu-id="93bb7-385">Muchos revisores útiles revisaron esta serie de tutoriales.</span><span class="sxs-lookup"><span data-stu-id="93bb7-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="93bb7-386">¿Está interesado en revisar los próximos artículos de MSDN?</span><span class="sxs-lookup"><span data-stu-id="93bb7-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="93bb7-387">Si es así, coloque una línea en [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="93bb7-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="93bb7-388">[Anterior](specifying-the-master-page-programmatically-cs.md)
> [Siguiente](creating-a-site-wide-layout-using-master-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="93bb7-388">[Previous](specifying-the-master-page-programmatically-cs.md)
[Next](creating-a-site-wide-layout-using-master-pages-vb.md)</span></span>

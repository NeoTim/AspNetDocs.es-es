---
uid: mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
title: Uso de HTML5 y calendario emergente de la interfaz de usuario Datepicker de jQuery con ASP.NET MVC - parte 4 | Microsoft Docs
author: Rick-Anderson
description: Este tutorial le enseñará los aspectos básicos de cómo trabajar con plantillas de editor, las plantillas de presentación y el calendario emergente de jQuery UI datepicker en una máquina virtual de ASP.NET...
ms.author: riande
ms.date: 08/29/2011
ms.assetid: 57666c69-2b0f-423a-a61d-be49547fa585
msc.legacyurl: /mvc/overview/older-versions/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc/using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4
msc.type: authoredcontent
ms.openlocfilehash: 0f6d58b8bf72c6b9d6909a8a05efe4f61ebd551a
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/09/2019
ms.locfileid: "59416745"
---
# <a name="using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc---part-4"></a><span data-ttu-id="7fe34-103">Uso de HTML5 y calendario emergente de la interfaz de usuario Datepicker de jQuery con ASP.NET MVC - parte 4</span><span class="sxs-lookup"><span data-stu-id="7fe34-103">Using the HTML5 and jQuery UI Datepicker Popup Calendar with ASP.NET MVC - Part 4</span></span>

<span data-ttu-id="7fe34-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="7fe34-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="7fe34-105">Este tutorial le enseñará los aspectos básicos de cómo trabajar con plantillas de editor, las plantillas de presentación y el calendario emergente de jQuery UI datepicker en una aplicación Web de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="7fe34-105">This tutorial will teach you the basics of how to work with editor templates, display templates, and the jQuery UI datepicker popup calendar in an ASP.NET MVC Web application.</span></span>


### <a name="adding-a-template-for-editing-dates"></a><span data-ttu-id="7fe34-106">Adición de una plantilla para editar las fechas</span><span class="sxs-lookup"><span data-stu-id="7fe34-106">Adding a Template for Editing Dates</span></span>

<span data-ttu-id="7fe34-107">En esta sección creará una plantilla para editar las fechas que se aplicarán cuando ASP.NET MVC muestra la interfaz de usuario para editar las propiedades del modelo que se marcan con el **fecha** enumeración de la [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) atributo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-107">In this section you'll create a template for editing dates that will be applied when ASP.NET MVC displays UI for editing model properties that are marked with the **Date** enumeration of the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatype.aspx) attribute.</span></span> <span data-ttu-id="7fe34-108">La plantilla representará solo la fecha; no se mostrará el tiempo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-108">The template will render only the date; time will not be displayed.</span></span> <span data-ttu-id="7fe34-109">En la plantilla usará el [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) calendario emergente para proporcionar una forma de editar las fechas.</span><span class="sxs-lookup"><span data-stu-id="7fe34-109">In the template you'll use the [jQuery UI Datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to provide a way to edit dates.</span></span>

<span data-ttu-id="7fe34-110">Para comenzar, abra el *Movie.cs* y agréguele el [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) atributo con el **fecha** enumeración para el `ReleaseDate` propiedad, como se muestra en el código siguiente:</span><span class="sxs-lookup"><span data-stu-id="7fe34-110">To begin, open the *Movie.cs* file and add the [DataType](https://msdn.microsoft.com/library/system.componentmodel.dataannotations.datatypeattribute.aspx) attribute with the **Date** enumeration to the `ReleaseDate` property, as shown in the following code:</span></span>

[!code-csharp[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample1.cs)]

<span data-ttu-id="7fe34-111">Este código hace que el `ReleaseDate` que se muestre sin el tiempo en ambos mostrar las plantillas y editar plantillas de campo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-111">This code causes the `ReleaseDate` field to be displayed without the time in both display templates and edit templates.</span></span> <span data-ttu-id="7fe34-112">Si la aplicación contiene un *date.cshtml* plantilla en el *Views\Shared\EditorTemplates* carpeta o en el *Views\Movies\EditorTemplates* carpeta, esa plantilla se usará para representar cualquier `DateTime` propiedad durante la edición.</span><span class="sxs-lookup"><span data-stu-id="7fe34-112">If your application contains a *date.cshtml* template in the *Views\Shared\EditorTemplates* folder or in the *Views\Movies\EditorTemplates* folder, that template will be used to render any `DateTime` property while editing.</span></span> <span data-ttu-id="7fe34-113">En caso contrario, el sistema de creación de plantillas ASP.NET integrado mostrará la propiedad como una fecha.</span><span class="sxs-lookup"><span data-stu-id="7fe34-113">Otherwise the built-in ASP.NET templating system will display the property as a date.</span></span>

<span data-ttu-id="7fe34-114">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-114">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="7fe34-115">Seleccione un vínculo de edición para comprobar que el campo de entrada para la fecha de lanzamiento muestra solo la fecha.</span><span class="sxs-lookup"><span data-stu-id="7fe34-115">Select an edit link to verify that the input field for the release date is showing only the date.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image1.png)

<span data-ttu-id="7fe34-116">En **el Explorador de soluciones**, expanda el *vistas* carpeta, expanda la *Shared* carpeta y, a continuación, con el botón secundario el *Views\Shared\EditorTemplates* carpeta.</span><span class="sxs-lookup"><span data-stu-id="7fe34-116">In **Solution Explorer**, expand the *Views* folder, expand the *Shared* folder, and then right-click the *Views\Shared\EditorTemplates* folder.</span></span>

<span data-ttu-id="7fe34-117">Haga clic en **agregar**y, a continuación, haga clic en **vista**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-117">Click **Add**, and then click **View**.</span></span> <span data-ttu-id="7fe34-118">El **agregar vista** se muestra el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-118">The **Add View** dialog box is displayed.</span></span>

<span data-ttu-id="7fe34-119">En el **nombre de la vista** , escriba &quot;fecha&quot;.</span><span class="sxs-lookup"><span data-stu-id="7fe34-119">In the **View name** box, type &quot;Date&quot;.</span></span>

<span data-ttu-id="7fe34-120">Seleccione el **crear como una vista parcial** casilla de verificación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-120">Select the **Create as a partial view** check box.</span></span> <span data-ttu-id="7fe34-121">Asegúrese de que el **utiliza una página de diseño o maestra** y **crear una vista fuertemente tipada** no están activadas las casillas de verificación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-121">Make sure that the **Use a layout or master page** and **Create a strongly-typed view** check boxes are not selected.</span></span>

<span data-ttu-id="7fe34-122">Haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-122">Click **Add**.</span></span> <span data-ttu-id="7fe34-123">El *Views\Shared\EditorTemplates\Date.cshtml* se crea la plantilla.</span><span class="sxs-lookup"><span data-stu-id="7fe34-123">The *Views\Shared\EditorTemplates\Date.cshtml* template is created.</span></span>

<span data-ttu-id="7fe34-124">Agregue el código siguiente a la *Views\Shared\EditorTemplates\Date.cshtml* plantilla.</span><span class="sxs-lookup"><span data-stu-id="7fe34-124">Add the following code to the *Views\Shared\EditorTemplates\Date.cshtml* template.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample2.cshtml)]

<span data-ttu-id="7fe34-125">La primera línea declara el modelo sea un `DateTime` tipo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-125">The first line declares the model to be a `DateTime` type.</span></span> <span data-ttu-id="7fe34-126">Aunque no es necesario declarar el tipo de modelo de edición y mostrar las plantillas, es una práctica recomendada para que obtenga el tiempo de compilación del modelo que se pasan a la vista de la comprobación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-126">Although you don't need to declare the model type in edit and display templates, it's a best practice so that you get compile-time checking of the model being passed to the view.</span></span> <span data-ttu-id="7fe34-127">(Otra ventaja es que, a continuación, obtendrá IntelliSense para el modelo en la vista en Visual Studio). Si no se ha declarado el tipo de modelo, ASP.NET MVC considera un [dinámica](https://msdn.microsoft.com/library/dd264741.aspx) tipo y no hay ningún tiempo de compilación comprobación de tipos.</span><span class="sxs-lookup"><span data-stu-id="7fe34-127">(Another benefit is that you then get IntelliSense for the model in the view in Visual Studio.) If the model type is not declared, ASP.NET MVC considers it a [dynamic](https://msdn.microsoft.com/library/dd264741.aspx) type and there's no compile-time type checking.</span></span> <span data-ttu-id="7fe34-128">Si el modelo se declara un `DateTime` tipo, se convierte en establecimiento inflexible.</span><span class="sxs-lookup"><span data-stu-id="7fe34-128">If you declare the model to be a `DateTime` type, it becomes strongly typed.</span></span>

<span data-ttu-id="7fe34-129">La segunda línea es simplemente literal marcado HTML que muestra &quot;utilizando la plantilla de fecha&quot; antes de un campo de fecha.</span><span class="sxs-lookup"><span data-stu-id="7fe34-129">The second line is just literal HTML markup that displays &quot;Using Date Template&quot; before a date field.</span></span> <span data-ttu-id="7fe34-130">Usará esta línea temporalmente para comprobar que se está usando esta plantilla de fecha.</span><span class="sxs-lookup"><span data-stu-id="7fe34-130">You'll use this line temporarily to verify that this date template is being used.</span></span>

<span data-ttu-id="7fe34-131">La siguiente línea es un [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) auxiliar que presenta un `input` campo que es un cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="7fe34-131">The next line is an [Html.TextBox](https://msdn.microsoft.com/library/system.web.mvc.html.inputextensions.textbox.aspx) helper that renders an `input` field that's a text box.</span></span> <span data-ttu-id="7fe34-132">El tercer parámetro para la aplicación auxiliar usa un tipo anónimo para definir la clase para el cuadro de texto `datefield` y el tipo a `date`.</span><span class="sxs-lookup"><span data-stu-id="7fe34-132">The third parameter for the helper uses an anonymous type to set the class for the text box to `datefield` and the type to `date`.</span></span> <span data-ttu-id="7fe34-133">(Porque `class` está reservado en C#, deberá usar el `@` carácter para escapar el `class` atributo en el analizador de C#.)</span><span class="sxs-lookup"><span data-stu-id="7fe34-133">(Because `class` is a reserved in C#, you need to use the `@` character to escape the `class` attribute in the C# parser.)</span></span>

<span data-ttu-id="7fe34-134">El `date` tipo es un tipo de entrada de HTML5 que permite que los exploradores compatibles con HTML5 representar un control de calendario de HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-134">The `date` type is an HTML5 input type that enables HTML5-aware browsers to render a HTML5 calendar control.</span></span> <span data-ttu-id="7fe34-135">Más adelante agregará código de JavaScript para datepicker de jQuery para enlazar el `Html.TextBox` elemento mediante el `datefield` clase.</span><span class="sxs-lookup"><span data-stu-id="7fe34-135">Later on you'll add some JavaScript to hook up the jQuery datepicker to the `Html.TextBox` element using the `datefield` class.</span></span>

<span data-ttu-id="7fe34-136">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-136">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="7fe34-137">Puede comprobar que la `ReleaseDate` propiedad en la vista de edición es mediante la plantilla de edición porque muestra la plantilla &quot;utilizando la plantilla de fecha&quot; justo antes del `ReleaseDate` , cuadro de entrada de texto como se muestra en esta imagen:</span><span class="sxs-lookup"><span data-stu-id="7fe34-137">You can verify that the `ReleaseDate` property in the edit view is using the edit template because the template displays &quot;Using Date Template&quot; just before the `ReleaseDate` text input box, as shown in this image:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image2.png)

<span data-ttu-id="7fe34-138">En el explorador, vea el origen de la página.</span><span class="sxs-lookup"><span data-stu-id="7fe34-138">In your browser, view the source of the page.</span></span> <span data-ttu-id="7fe34-139">(Por ejemplo, haga clic en la página y seleccione **ver código fuente**.) El siguiente ejemplo muestra parte del marcado de la página, que ilustra el `class` y `type` atributos en el HTML representado.</span><span class="sxs-lookup"><span data-stu-id="7fe34-139">(For example, right-click the page and select **View source**.) The following example shows some of the markup for the page, illustrating the `class` and `type` attributes in the rendered HTML.</span></span>

[!code-html[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample3.html)]

<span data-ttu-id="7fe34-140">Vuelva a la *Views\Shared\EditorTemplates\Date.cshtml* plantilla y quitar el &quot;utilizando la plantilla de fecha&quot; marcado.</span><span class="sxs-lookup"><span data-stu-id="7fe34-140">Return to the *Views\Shared\EditorTemplates\Date.cshtml* template and remove the &quot;Using Date Template&quot; markup.</span></span> <span data-ttu-id="7fe34-141">Ahora la plantilla completa tiene este aspecto:</span><span class="sxs-lookup"><span data-stu-id="7fe34-141">Now the completed template looks like this:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample4.cshtml)]

### <a name="adding-a-jquery-ui-datepicker-popup-calendar-using-nuget"></a><span data-ttu-id="7fe34-142">Adición de un calendario emergente de la interfaz de usuario Datepicker de jQuery mediante NuGet</span><span class="sxs-lookup"><span data-stu-id="7fe34-142">Adding a jQuery UI Datepicker Popup Calendar using NuGet</span></span>

<span data-ttu-id="7fe34-143">En esta sección agregará el [datepicker de jQuery UI](http://jqueryui.com/demos/datepicker/) calendario emergente para la plantilla de edición de la fecha.</span><span class="sxs-lookup"><span data-stu-id="7fe34-143">In this section you'll add the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar to the date-edit template.</span></span> <span data-ttu-id="7fe34-144">El [jQuery UI](http://jqueryui.com/) biblioteca proporciona compatibilidad para animación, efectos y widgets personalizables avanzados.</span><span class="sxs-lookup"><span data-stu-id="7fe34-144">The [jQuery UI](http://jqueryui.com/) library provides support for animation, advanced effects, and customizable widgets.</span></span> <span data-ttu-id="7fe34-145">Se basa en la biblioteca JavaScript jQuery.</span><span class="sxs-lookup"><span data-stu-id="7fe34-145">It's built on top of the jQuery JavaScript library.</span></span> <span data-ttu-id="7fe34-146">El calendario emergente datepicker hace fácil y natural a escribir las fechas mediante un calendario en lugar de escribir una cadena.</span><span class="sxs-lookup"><span data-stu-id="7fe34-146">The datepicker popup calendar makes it easy and natural to enter dates using a calendar instead of entering a string.</span></span> <span data-ttu-id="7fe34-147">El calendario emergente también limita a los usuarios a fechas legales: entrada de texto normal para una fecha permitiría escribir algo parecido a `2/33/1999` (febrero 33rd, 1999), pero la [datepicker de jQuery UI](http://jqueryui.com/demos/datepicker/) calendario emergente no permitirá que.</span><span class="sxs-lookup"><span data-stu-id="7fe34-147">The popup calendar also limits users to legal dates — ordinary text entry for a date would let you enter something like `2/33/1999` ( February 33rd, 1999), but the [jQuery UI datepicker](http://jqueryui.com/demos/datepicker/) popup calendar won't allow that.</span></span>

<span data-ttu-id="7fe34-148">En primer lugar, debe instalar las bibliotecas de interfaz de usuario de jQuery.</span><span class="sxs-lookup"><span data-stu-id="7fe34-148">First, you have to install the jQuery UI libraries.</span></span> <span data-ttu-id="7fe34-149">Para ello, deberá usar NuGet, que es un administrador de paquetes que se incluye en las versiones de SP1 de Visual Studio 2010 y Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="7fe34-149">To do that, you'll use NuGet, which is a package manager that's included in SP1 versions of Visual Studio 2010 and Visual Web Developer.</span></span>

<span data-ttu-id="7fe34-150">En Visual Web Developer, desde el **herramientas** menú, seleccione **Administrador de paquetes de NuGet** y, a continuación, seleccione **administrar paquetes de NuGet**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-150">In Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Manage NuGet Packages**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image3.png)

<span data-ttu-id="7fe34-151">Nota: Si el **herramientas** no muestra el menú el **Administrador de paquetes de NuGet** de comandos, deberá instalar NuGet, siga las instrucciones de la [instalar NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) página de la Sitio Web de NuGet.</span><span class="sxs-lookup"><span data-stu-id="7fe34-151">Note: If the **Tools** menu doesn't display the **NuGet Package Manager** command, you need to install NuGet by following the instructions on the [Installing NuGet](http://docs.nuget.org/docs/start-here/installing-nuget) page of the NuGet website.</span></span>   
  
<span data-ttu-id="7fe34-152">Si usa Visual Studio en lugar de Visual Web Developer, desde el **herramientas** menú, seleccione **Administrador de paquetes de NuGet** y, a continuación, seleccione **Agregar referencia de paquetes de biblioteca**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-152">If you're using Visual Studio instead of Visual Web Developer, from the **Tools** menu, select **NuGet Package Manager** and then select **Add Library Package Reference**.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image4.png)

<span data-ttu-id="7fe34-153">En el **MVCMovie - administrar paquetes de NuGet** cuadro de diálogo, haga clic en el **Online** pestaña a la izquierda y, a continuación, escriba &quot;jQuery.UI&quot; en el cuadro de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="7fe34-153">In the **MVCMovie - Manage NuGet Packages** dialog box, click the **Online** tab on the left and then enter &quot;jQuery.UI&quot; in the search box.</span></span> <span data-ttu-id="7fe34-154">Seleccione j **Widgets de interfaz de usuario de consulta: Datepicker**, a continuación, seleccione el **instalar** botón.</span><span class="sxs-lookup"><span data-stu-id="7fe34-154">Select j **Query UI Widgets:Datepicker**, then select the **Install** button.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image5.png)

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image6.png)

<span data-ttu-id="7fe34-155">NuGet agrega estas versiones de depuración y minimizados de jQuery UI Core y el selector de fecha de la interfaz de usuario de jQuery al proyecto:</span><span class="sxs-lookup"><span data-stu-id="7fe34-155">NuGet adds these debug versions and minified versions of jQuery UI Core and the jQuery UI date picker to your project:</span></span>

- *<span data-ttu-id="7fe34-156">jquery.ui.core.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-156">jquery.ui.core.js</span></span>*
- *<span data-ttu-id="7fe34-157">jquery.ui.core.min.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-157">jquery.ui.core.min.js</span></span>*
- *<span data-ttu-id="7fe34-158">jquery.ui.datepicker.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-158">jquery.ui.datepicker.js</span></span>*
- *<span data-ttu-id="7fe34-159">jquery.ui.datepicker.min.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-159">jquery.ui.datepicker.min.js</span></span>*

<span data-ttu-id="7fe34-160">Nota: Las versiones de depuración (los archivos sin la *. min.js* extensión) son útiles para la depuración, pero en un sitio de producción, también debe incluir solo las versiones reducidas.</span><span class="sxs-lookup"><span data-stu-id="7fe34-160">Note: The debug versions (the files without the *.min.js* extension) are useful for debugging, but in a production site, you'd include only the minified versions.</span></span>

<span data-ttu-id="7fe34-161">Para utilizar realmente el selector de fecha de jQuery, deberá crear una secuencia de comandos de jQuery se enlazará el widget de calendario a la plantilla de edición.</span><span class="sxs-lookup"><span data-stu-id="7fe34-161">To actually use the jQuery date picker, you need to create a jQuery script that will hook up the calendar widget to the edit template.</span></span> <span data-ttu-id="7fe34-162">En **el Explorador de soluciones**, haga clic en el *Scripts* carpeta y seleccione **agregar**, a continuación, **nuevo elemento**y, a continuación, **JScript Archivo**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-162">In **Solution Explorer**, right-click the *Scripts* folder and select **Add**, then **New Item**, and then **JScript File**.</span></span> <span data-ttu-id="7fe34-163">Nombre del archivo *DatePickerReady.js*.</span><span class="sxs-lookup"><span data-stu-id="7fe34-163">Name the file *DatePickerReady.js*.</span></span>

<span data-ttu-id="7fe34-164">Agregue el código siguiente a la *DatePickerReady.js* archivo:</span><span class="sxs-lookup"><span data-stu-id="7fe34-164">Add the following code to the *DatePickerReady.js* file:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample5.js)]

<span data-ttu-id="7fe34-165">Si no está familiarizado con jQuery, presentamos una breve explicación de lo que hace: la primera línea es el &quot;jQuery listo&quot; función, que se llama cuando se han cargado todos los elementos DOM en una página.</span><span class="sxs-lookup"><span data-stu-id="7fe34-165">If you're not familiar with jQuery, here's a brief explanation of what this does: the first line is the &quot;jQuery ready&quot; function, which is called when all the DOM elements in a page have loaded.</span></span> <span data-ttu-id="7fe34-166">La segunda línea selecciona todos los elementos de DOM que tienen el nombre de clase `datefield`, a continuación, invoca el `datepicker` función para cada uno de ellos.</span><span class="sxs-lookup"><span data-stu-id="7fe34-166">The second line selects all DOM elements that have the class name `datefield`, then invokes the `datepicker` function for each of them.</span></span> <span data-ttu-id="7fe34-167">(Recuerde que ha agregado el `datefield` clase a la *Views\Shared\EditorTemplates\Date.cshtml* plantilla anteriormente en este tutorial.)</span><span class="sxs-lookup"><span data-stu-id="7fe34-167">(Remember that you added the `datefield` class to the *Views\Shared\EditorTemplates\Date.cshtml* template earlier in the tutorial.)</span></span>

<span data-ttu-id="7fe34-168">A continuación, abra el *Views\Shared\\_Layout.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-168">Next, open the *Views\Shared\\_Layout.cshtml* file.</span></span> <span data-ttu-id="7fe34-169">Es preciso agregar referencias a los archivos siguientes, que son necesarios para que pueda usar el selector de fecha:</span><span class="sxs-lookup"><span data-stu-id="7fe34-169">You need to add references to the following files, which are all required so that you can use the date picker:</span></span>

- *<span data-ttu-id="7fe34-170">Content/themes/base/jquery.ui.core.css</span><span class="sxs-lookup"><span data-stu-id="7fe34-170">Content/themes/base/jquery.ui.core.css</span></span>*
- *<span data-ttu-id="7fe34-171">Content/themes/base/jquery.ui.datepicker.css</span><span class="sxs-lookup"><span data-stu-id="7fe34-171">Content/themes/base/jquery.ui.datepicker.css</span></span>*
- *<span data-ttu-id="7fe34-172">Content/themes/base/jquery.ui.theme.css</span><span class="sxs-lookup"><span data-stu-id="7fe34-172">Content/themes/base/jquery.ui.theme.css</span></span>*
- *<span data-ttu-id="7fe34-173">jquery.ui.core.min.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-173">jquery.ui.core.min.js</span></span>*
- *<span data-ttu-id="7fe34-174">jquery.ui.datepicker.min.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-174">jquery.ui.datepicker.min.js</span></span>*
- *<span data-ttu-id="7fe34-175">DatePickerReady.js</span><span class="sxs-lookup"><span data-stu-id="7fe34-175">DatePickerReady.js</span></span>*

<span data-ttu-id="7fe34-176">El ejemplo siguiente se muestra el código real que debe agregar en la parte inferior de la `head` elemento en el *Views\Shared\\_Layout.cshtml* archivo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-176">The following example shows the actual code that you should add at the bottom of the `head` element in the *Views\Shared\\_Layout.cshtml* file.</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample6.cshtml)]

<span data-ttu-id="7fe34-177">La completa `head` sección se muestra aquí:</span><span class="sxs-lookup"><span data-stu-id="7fe34-177">The complete `head` section is shown here:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample7.cshtml)]

<span data-ttu-id="7fe34-178">El [auxiliar contenido URL](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) método convierte la ruta de acceso de recursos en una ruta de acceso absoluta.</span><span class="sxs-lookup"><span data-stu-id="7fe34-178">The [URL content helper](https://msdn.microsoft.com/library/system.web.mvc.urlhelper.content.aspx) method converts the resource path to an absolute path.</span></span> <span data-ttu-id="7fe34-179">Debe usar `@URL.Content` referencia correctamente a estos recursos cuando se ejecuta la aplicación en IIS.</span><span class="sxs-lookup"><span data-stu-id="7fe34-179">You must use `@URL.Content` to correctly reference these resources when the application is running on IIS.</span></span>

<span data-ttu-id="7fe34-180">Presione CTRL+F5 para ejecutar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7fe34-180">Press CTRL+F5 to run the application.</span></span> <span data-ttu-id="7fe34-181">Seleccione un vínculo de edición, a continuación, coloque el punto de inserción en el **ReleaseDate** campo.</span><span class="sxs-lookup"><span data-stu-id="7fe34-181">Select an edit link, then put the insertion point into the **ReleaseDate** field.</span></span> <span data-ttu-id="7fe34-182">Se muestra el calendario emergente de la interfaz de usuario de jQuery.</span><span class="sxs-lookup"><span data-stu-id="7fe34-182">The jQuery UI popup calendar is displayed.</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image7.png)

<span data-ttu-id="7fe34-183">Al igual que la mayoría de los controles de jQuery, datepicker permite personalizarla ampliamente.</span><span class="sxs-lookup"><span data-stu-id="7fe34-183">Like most jQuery controls, the datepicker lets you customize it extensively.</span></span> <span data-ttu-id="7fe34-184">Para obtener información, consulte [personalización Visual: Diseñar un tema de la interfaz de usuario de jQuery](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) en el [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) sitio.</span><span class="sxs-lookup"><span data-stu-id="7fe34-184">For information, see [Visual Customization: Designing a jQuery UI theme](http://learn.jquery.com/jquery-ui/getting-started/#visual-customization-designing-a-jquery-ui-theme) on the [jQuery UI](http://learn.jquery.com/jquery-ui/getting-started/) site.</span></span>

### <a name="supporting-the-html5-date-input-control"></a><span data-ttu-id="7fe34-185">Compatibilidad con el Control de entrada de fecha de HTML5</span><span class="sxs-lookup"><span data-stu-id="7fe34-185">Supporting the HTML5 Date Input Control</span></span>

<span data-ttu-id="7fe34-186">Como los exploradores más compatibilidad con HTML5, querrá usar la HTML5 nativo de entrada, como el `date` elemento de entrada y no usan el calendario de la interfaz de usuario de jQuery.</span><span class="sxs-lookup"><span data-stu-id="7fe34-186">As more browsers support HTML5, you'll want to use the native HTML5 input, such as the `date` input element, and not use the jQuery UI calendar.</span></span> <span data-ttu-id="7fe34-187">Puede agregar lógica a la aplicación para usar automáticamente controles HTML5 si el explorador admite.</span><span class="sxs-lookup"><span data-stu-id="7fe34-187">You can add logic to your application to automatically use HTML5 controls if the browser supports them.</span></span> <span data-ttu-id="7fe34-188">Para ello, reemplace el contenido de la *DatePickerReady.js* archivo por lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="7fe34-188">To do this, replace the contents of the *DatePickerReady.js* file with the following:</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample8.js)]

<span data-ttu-id="7fe34-189">La primera línea de este script usa Modernizr para comprobar que se admite la entrada de fecha de HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-189">The first line of this script uses Modernizr to verify that HTML5 date input is supported.</span></span> <span data-ttu-id="7fe34-190">Si no se admite, el selector de fecha de la interfaz de usuario de jQuery está enlazado en su lugar.</span><span class="sxs-lookup"><span data-stu-id="7fe34-190">If it's not supported, the jQuery UI date picker is hooked up instead.</span></span> <span data-ttu-id="7fe34-191">([Modernizr](http://www.modernizr.com/docs/) es una biblioteca de JavaScript de código abierto que detecta la disponibilidad de implementaciones nativas de HTML5 y CSS3.</span><span class="sxs-lookup"><span data-stu-id="7fe34-191">([Modernizr](http://www.modernizr.com/docs/) is an open-source JavaScript library that detects the availability of native implementations of HTML5 and CSS3.</span></span> <span data-ttu-id="7fe34-192">Modernizr se incluye en los nuevos proyectos de ASP.NET MVC que cree.)</span><span class="sxs-lookup"><span data-stu-id="7fe34-192">Modernizr is included in any new ASP.NET MVC projects that you create.)</span></span>

<span data-ttu-id="7fe34-193">Después de realizar este cambio, puede probarla mediante un explorador compatible con HTML5, como 11 Opera.</span><span class="sxs-lookup"><span data-stu-id="7fe34-193">After you've made this change, you can test it by using a browser that supports HTML5, such as Opera 11.</span></span> <span data-ttu-id="7fe34-194">Ejecute la aplicación mediante un explorador compatible con HTML5 y editar una entrada de la película.</span><span class="sxs-lookup"><span data-stu-id="7fe34-194">Run the application using an HTML5-compatible browser and edit a movie entry.</span></span> <span data-ttu-id="7fe34-195">El control de fecha de HTML5 se utiliza en lugar del calendario emergente de la interfaz de usuario de jQuery:</span><span class="sxs-lookup"><span data-stu-id="7fe34-195">The HTML5 date control is used instead of the jQuery UI popup calendar:</span></span>

![](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/_static/image8.png)

<span data-ttu-id="7fe34-196">Dado que las nuevas versiones de los exploradores están implementando HTML5 incrementalmente, un buen enfoque por ahora es agregar código a su sitio Web que dé cabida a una amplia variedad de compatibilidad con HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-196">Because new versions of browsers are implementing HTML5 incrementally, a good approach for now is to add code to your website that accommodates a wide variety of HTML5 support.</span></span> <span data-ttu-id="7fe34-197">Por ejemplo, un más sólido *DatePickerReady.js* script se muestra a continuación que permite los exploradores de soporte técnico de sitio que admiten solo parcialmente el control de fecha HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-197">For example, a more robust *DatePickerReady.js* script is shown below that lets your site support browsers that only partially support the HTML5 date control.</span></span>

[!code-javascript[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample9.js)]

<span data-ttu-id="7fe34-198">Esta secuencia de comandos selecciona HTML5 `input` elementos de tipo `date` que no son totalmente compatibles con el control de fecha HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-198">This script selects HTML5 `input` elements of type `date` that don't fully support the HTML5 date control.</span></span> <span data-ttu-id="7fe34-199">Para esos elementos, enlaza el calendario emergente de la interfaz de usuario de jQuery y, a continuación, cambia el `type` de atributo de `date` a `text`.</span><span class="sxs-lookup"><span data-stu-id="7fe34-199">For those elements, it hooks up the jQuery UI popup calendar and then changes the `type` attribute from `date` to `text`.</span></span> <span data-ttu-id="7fe34-200">Cambiando el `type` de atributo de `date` a `text`, se ha eliminado la compatibilidad parcial con la fecha HTML5.</span><span class="sxs-lookup"><span data-stu-id="7fe34-200">By changing the `type` attribute from `date` to `text`, partial HTML5 date support is eliminated.</span></span> <span data-ttu-id="7fe34-201">Más robustas *DatePickerReady.js* script puede encontrarse en [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span><span class="sxs-lookup"><span data-stu-id="7fe34-201">An even more robust *DatePickerReady.js* script can be found at [JSFIDDLE](http://jsfiddle.net/XSTK8/15/).</span></span>

### <a name="adding-nullable-dates-to-the-templates"></a><span data-ttu-id="7fe34-202">Agregar fechas que aceptan valores NULL a las plantillas</span><span class="sxs-lookup"><span data-stu-id="7fe34-202">Adding Nullable Dates to the Templates</span></span>

<span data-ttu-id="7fe34-203">Si usa una de las plantillas existentes de fecha y pase una fecha null, obtendrá un error en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="7fe34-203">If you use one of the existing date templates and pass a null date, you'll get a run-time error.</span></span> <span data-ttu-id="7fe34-204">Para que las plantillas de fecha más sólido, va a cambiar para controlar valores null.</span><span class="sxs-lookup"><span data-stu-id="7fe34-204">To make the date templates more robust, you'll change them to handle null values.</span></span> <span data-ttu-id="7fe34-205">Para admitir las fechas que aceptan valores NULL, cambie el código en el *Views\Shared\DisplayTemplates\DateTime.cshtml* al siguiente:</span><span class="sxs-lookup"><span data-stu-id="7fe34-205">To support nullable dates, change the code in the *Views\Shared\DisplayTemplates\DateTime.cshtml* to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample10.cshtml)]

<span data-ttu-id="7fe34-206">El código devuelve una cadena vacía cuando el modelo es **null**.</span><span class="sxs-lookup"><span data-stu-id="7fe34-206">The code returns an empty string when the model is **null**.</span></span>

<span data-ttu-id="7fe34-207">Cambie el código en el *Views\Shared\EditorTemplates\Date.cshtml* archivo a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="7fe34-207">Change the code in the *Views\Shared\EditorTemplates\Date.cshtml* file to the following:</span></span>

[!code-cshtml[Main](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-4/samples/sample11.cshtml)]

<span data-ttu-id="7fe34-208">Cuando este código se ejecuta, si el modelo no es null, el modelo `DateTime` se usa el valor.</span><span class="sxs-lookup"><span data-stu-id="7fe34-208">When this code runs, if the model is not null, the model's `DateTime` value is used.</span></span> <span data-ttu-id="7fe34-209">Si el modelo es null, se usa en su lugar la fecha actual.</span><span class="sxs-lookup"><span data-stu-id="7fe34-209">If the model is null, the current date is used instead.</span></span>

### <a name="wrapup"></a><span data-ttu-id="7fe34-210">Wrapup</span><span class="sxs-lookup"><span data-stu-id="7fe34-210">Wrapup</span></span>

<span data-ttu-id="7fe34-211">Este tutorial trata los aspectos básicos de las aplicaciones auxiliares con plantilla de ASP.NET y muestra cómo usar el calendario de emergente datepicker de jQuery UI en una aplicación ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="7fe34-211">This tutorial has covered the basics of ASP.NET templated helpers and shows you how to use the jQuery UI datepicker popup calendar in an ASP.NET MVC application.</span></span> <span data-ttu-id="7fe34-212">Para obtener más información, pruebe estos recursos:</span><span class="sxs-lookup"><span data-stu-id="7fe34-212">For more information, try these resources:</span></span>

- <span data-ttu-id="7fe34-213">Para obtener información sobre la localización, consulte el blog de Rajeesh [JQueryUI Datepicker en ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span><span class="sxs-lookup"><span data-stu-id="7fe34-213">For information on localization, see Rajeesh's blog [JQueryUI Datepicker in ASP.NET MVC](http://www.rajeeshcv.com/2010/02/jqueryui-datepicker-in-asp-net-mvc/).</span></span>
- <span data-ttu-id="7fe34-214">Para obtener información acerca de la UI de jQuery, consulte [jQuery UI](http://docs.jquery.com/UI).</span><span class="sxs-lookup"><span data-stu-id="7fe34-214">For information about jQuery UI, see [jQuery UI](http://docs.jquery.com/UI).</span></span>
- <span data-ttu-id="7fe34-215">Para obtener información sobre cómo localizar el control datepicker, consulte [Datepicker/interfaz de usuario/localización](http://docs.jquery.com/UI/Datepicker/Localization).</span><span class="sxs-lookup"><span data-stu-id="7fe34-215">For information about how to localize the datepicker control, see [UI/Datepicker/Localization](http://docs.jquery.com/UI/Datepicker/Localization).</span></span>
- <span data-ttu-id="7fe34-216">Para obtener más información acerca de las plantillas de ASP.NET MVC, vea la serie de blogs de Brad Wilson en [plantillas de ASP.NET MVC 2](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span><span class="sxs-lookup"><span data-stu-id="7fe34-216">For more information about the ASP.NET MVC templates, see Brad Wilson's blog series on [ASP.NET MVC 2 Templates](http://bradwilson.typepad.com/blog/2009/10/aspnet-mvc-2-templates-part-1-introduction.html).</span></span> <span data-ttu-id="7fe34-217">Aunque la serie se escribió para ASP.NET MVC 2, el material todavía se aplica a la versión actual de ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="7fe34-217">Although the series was written for ASP.NET MVC 2, the material still applies for the current version of ASP.NET MVC.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7fe34-218">Anterior</span><span class="sxs-lookup"><span data-stu-id="7fe34-218">Previous</span></span>](using-the-html5-and-jquery-ui-datepicker-popup-calendar-with-aspnet-mvc-part-3.md)

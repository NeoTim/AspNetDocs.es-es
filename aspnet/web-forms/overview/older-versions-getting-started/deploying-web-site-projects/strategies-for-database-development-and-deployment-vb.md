---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
title: Las estrategias de desarrollo de base de datos y la implementación (VB) | Microsoft Docs
author: rick-anderson
description: Al implementar una aplicación controlada por datos por primera vez ciegamente puede copiar la base de datos en el entorno de desarrollo al entorno de producción. B...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: 07b8905d-78ac-4252-97fb-8675b3fb0bbf
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
msc.type: authoredcontent
ms.openlocfilehash: 27a5ceda5f9b5227e26036c5405612dcbc15b48e
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/06/2019
ms.locfileid: "65130249"
---
# <a name="strategies-for-database-development-and-deployment-vb"></a><span data-ttu-id="751a2-104">Estrategias del desarrollo e implementación de bases de datos (VB)</span><span class="sxs-lookup"><span data-stu-id="751a2-104">Strategies for Database Development and Deployment (VB)</span></span>

<span data-ttu-id="751a2-105">por [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="751a2-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="751a2-106">Descargar PDF</span><span class="sxs-lookup"><span data-stu-id="751a2-106">Download PDF</span></span>](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial10_DBDevel_vb.pdf)

> <span data-ttu-id="751a2-107">Al implementar una aplicación controlada por datos por primera vez ciegamente puede copiar la base de datos en el entorno de desarrollo al entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-107">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="751a2-108">Pero realizar un blind copia en implementaciones posteriores sobrescribirán los datos introducidos en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-108">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="751a2-109">En su lugar, la implementación de una base de datos implica aplicar los cambios realizados en la base de datos de desarrollo desde la última implementación en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-109">Instead, deploying a database involves applying the changes made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="751a2-110">En este tutorial se examina estos desafíos y ofrece varias estrategias para ayudar a que relata y aplicar los cambios realizados en la base de datos desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-110">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="introduction"></a><span data-ttu-id="751a2-111">Introducción</span><span class="sxs-lookup"><span data-stu-id="751a2-111">Introduction</span></span>

<span data-ttu-id="751a2-112">Como se describe en los tutoriales anteriores, implementar una aplicación ASP.NET implica copiar el contenido pertinente desde el entorno de desarrollo al entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-112">As discussed in previous tutorials, deploying an ASP.NET application entails copying the pertinent content from the development environment to the production environment.</span></span> <span data-ttu-id="751a2-113">Implementación no es un evento único, pero en su lugar algo que ocurre cada vez que se lanza una nueva versión del software, o cuando los errores o problemas de seguridad se han identificado y solucionado.</span><span class="sxs-lookup"><span data-stu-id="751a2-113">Deployment is not a one-time event, but rather something that happens every time a new version of the software is released or when bugs or security concerns have been identified and addressed.</span></span> <span data-ttu-id="751a2-114">Cuando se copian las páginas ASP.NET, imágenes, archivos JavaScript y otros archivos de este tipo en el entorno de producción que no es necesario preocuparse de cómo estos archivos se cambiaron desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-114">When copying ASP.NET pages, images, JavaScript files, and other such files to the production environment you do not need to concern yourself with how these file have been changed since the last deployment.</span></span> <span data-ttu-id="751a2-115">Ciegamente puede copiar el archivo a producción, sobrescribiendo el contenido existente.</span><span class="sxs-lookup"><span data-stu-id="751a2-115">You can blindly copy the file to production, overwriting the existing content.</span></span> <span data-ttu-id="751a2-116">Lamentablemente, esta sencillez no se extiende a la implementación de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-116">Unfortunately, this simplicity does not extend to deploying the database.</span></span>

<span data-ttu-id="751a2-117">Al implementar una aplicación controlada por datos por primera vez ciegamente puede copiar la base de datos en el entorno de desarrollo al entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-117">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="751a2-118">Pero realizar un blind copia en implementaciones posteriores sobrescribirán los datos introducidos en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-118">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="751a2-119">En su lugar, la implementación de una base de datos implica aplicar el *cambios* realizados en la base de datos de desarrollo desde la última implementación en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-119">Instead, deploying a database involves applying the *changes* made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="751a2-120">En este tutorial se examina estos desafíos y ofrece varias estrategias para ayudar a que relata y aplicar los cambios realizados en la base de datos desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-120">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="the-challenges-of-deploying-a-database"></a><span data-ttu-id="751a2-121">Los desafíos de la implementación de una base de datos</span><span class="sxs-lookup"><span data-stu-id="751a2-121">The Challenges of Deploying a Database</span></span>

<span data-ttu-id="751a2-122">Antes de que se ha implementado una aplicación controlada por datos por primera vez, hay solo una base de datos, es decir, la base de datos en el entorno de desarrollo, lo que al implementar una aplicación controlada por datos por primera vez ciegamente puede copiar la base de datos en el entorno de desarrollo al entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-122">Before a data-driven application has been deployed for the first time, there is only one database, namely the database in the development environment, which is why when deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="751a2-123">Sin embargo, una vez que se ha implementado la aplicación hay dos copias de la base de datos: uno en uno de producción y desarrollo.</span><span class="sxs-lookup"><span data-stu-id="751a2-123">But once the application has been deployed there are two copies of the database: one in development and one in production.</span></span>

<span data-ttu-id="751a2-124">Entre las implementaciones de las bases de datos de desarrollo y producción pueden dejen de estar sincronizados. Mientras permanece sin modificar el esquema s de base de datos de producción, puede cambiar el esquema s de base de datos de desarrollo cuando se agregan nuevas características.</span><span class="sxs-lookup"><span data-stu-id="751a2-124">Between deployments the development and production databases can become out of sync. While the production database s schema remains unchanged, the development database s schema may change as new features are added.</span></span> <span data-ttu-id="751a2-125">Puede agregar o quitar columnas, tablas, vistas o procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="751a2-125">You might add or remove columns, tables, views, or stored procedures.</span></span> <span data-ttu-id="751a2-126">También puede haber datos importantes que se agregan a la base de datos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="751a2-126">There may also be important data that gets added to the development database.</span></span> <span data-ttu-id="751a2-127">Muchas aplicaciones controladas por datos incluyen tablas de búsqueda que se rellena con datos codificados de forma rígida, específica de la aplicación que no se puede modificar el usuario.</span><span class="sxs-lookup"><span data-stu-id="751a2-127">Many data-driven applications include lookup tables populated with hard-coded, application-specific data that are not user-editable.</span></span> <span data-ttu-id="751a2-128">Por ejemplo, un sitio Web de subasta podría tener una lista desplegable con las opciones que describen el estado del elemento que se contemple la subasta: Nuevas, como nuevo, bueno y justa.</span><span class="sxs-lookup"><span data-stu-id="751a2-128">For example, an auction website might have a drop-down list with choices that describe the condition of the item being auctioned: New, Like New, Good, and Fair.</span></span> <span data-ttu-id="751a2-129">En lugar de codificar estas opciones directamente en la lista desplegable es normalmente lo mejor colocarlos en una tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-129">Rather than hard-coding these options directly in the drop-down list it is usually better to place them in a database table.</span></span> <span data-ttu-id="751a2-130">Si, durante el desarrollo, una nueva condición denominada a deficiente se agrega a la tabla, a continuación, al implementar la aplicación en este mismo registro debe agregarse a la tabla de búsqueda en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-130">If, during development, a new condition named Poor is added to the table then when deploying the application this same record needs to be added to the lookup table in the production database.</span></span>

<span data-ttu-id="751a2-131">Idealmente, la implementación de la base de datos implicaría copiar la base de datos de desarrollo a producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-131">Ideally, deploying the database would involve copying the database from development to production.</span></span> <span data-ttu-id="751a2-132">Pero tenga en cuenta que después de haber implementado la aplicación y reanudar el desarrollo, la base de datos de producción se rellena con datos reales de usuarios reales.</span><span class="sxs-lookup"><span data-stu-id="751a2-132">But keep in mind that after you have deployed the application and resumed development, the production database is being populated with real data from real users.</span></span> <span data-ttu-id="751a2-133">Por lo tanto, si tuviera que simplemente copiar la base de datos de desarrollo a producción en la siguiente implementación de sobrescribir la base de datos de producción y perder los datos existentes.</span><span class="sxs-lookup"><span data-stu-id="751a2-133">Therefore, if you were to simply copy the database from development to production at the next deployment you would overwrite the production database and lose its existing data.</span></span> <span data-ttu-id="751a2-134">El resultado neto es que la implementación de la base de datos se reduce a aplicar los cambios realizados en la base de datos de desarrollo desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-134">The net result is that deploying the database boils down to applying the changes made to the development database since the last deployment.</span></span>

<span data-ttu-id="751a2-135">Dado que la implementación de una base de datos implica aplicar los cambios en el esquema y, posiblemente, los datos desde la última implementación, un historial de cambios debe ser mantiene (o puede determinar en tiempo de implementación) para que se puedan aplicar esos cambios en producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-135">Because deploying a database involves applying the changes in the schema and, possibly, the data since the last deployment, a history of changes must be maintained (or determined at deploy-time) so that those changes can be applied on production.</span></span> <span data-ttu-id="751a2-136">Hay una variedad de técnicas para administrar y aplicar los cambios al modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-136">There are a variety of techniques for managing and applying changes to the data model.</span></span>

### <a name="defining-the-baseline"></a><span data-ttu-id="751a2-137">Definición de la línea de base</span><span class="sxs-lookup"><span data-stu-id="751a2-137">Defining the Baseline</span></span>

<span data-ttu-id="751a2-138">Para mantener los cambios en la base de datos de aplicación s deberá tener algún estado inicial, una línea base a los que se aplican los cambios.</span><span class="sxs-lookup"><span data-stu-id="751a2-138">To maintain the changes to your application s database you need to have some starting state, a baseline to which the changes are applied to.</span></span> <span data-ttu-id="751a2-139">En un extremo, el estado inicial podría ser una base de datos vacía con ningún tablas, vistas o procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="751a2-139">At one extreme the starting state could be an empty database with no tables, views, or stored procedures.</span></span> <span data-ttu-id="751a2-140">Una línea base de este tipo da como resultado un registro de cambios grandes porque debe incluir la creación de todas las tablas de base de datos s, vistas y procedimientos almacenados junto con los cambios realizados después de la implementación inicial.</span><span class="sxs-lookup"><span data-stu-id="751a2-140">Such a baseline results in a large change log because it must include the creation of all of the database s tables, views, and stored procedures along with any changes made after the initial deployment.</span></span> <span data-ttu-id="751a2-141">En el otro extremo del espectro se pudo establecer la línea de base como la versión de la base de datos que se implementa inicialmente en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-141">At the other end of the spectrum you could set the baseline as the version of the database that is initially deployed to the production environment.</span></span> <span data-ttu-id="751a2-142">Esta opción da como resultado un registro de cambios mucho más pequeño porque solo incluye los cambios realizados en la base de datos después de la primera implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-142">This choice results in a much smaller change log because it only includes the changes made to the database following the first deployment.</span></span> <span data-ttu-id="751a2-143">Este es el enfoque que prefiera.</span><span class="sxs-lookup"><span data-stu-id="751a2-143">This is the approach I prefer.</span></span> <span data-ttu-id="751a2-144">Y por supuesto puede elegir un medio más del enfoque de carretera, definir la línea de base como en algún momento entre la creación inicial de la base de datos y se implementa por primera vez cuando la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-144">And of course you can choose a more middle of the road approach, defining the baseline as some point between the initial creation of the database and when the database is first deployed.</span></span>

<span data-ttu-id="751a2-145">Una vez haya elegido una línea de base puede ser conveniente generar una secuencia de comandos SQL que se puede ejecutar para volver a crear la versión de línea de base.</span><span class="sxs-lookup"><span data-stu-id="751a2-145">Once you have chosen a baseline consider generating a SQL script that can be executed to recreate the baseline version.</span></span> <span data-ttu-id="751a2-146">Este script permite volver rápidamente a la versión de línea de base de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-146">Such a script makes it possible to quickly recreate the baseline version of the database.</span></span> <span data-ttu-id="751a2-147">Esta funcionalidad es especialmente útil en proyectos grandes, donde puede haber varios desarrolladores que trabajan en el proyecto o entornos adicionales, como una prueba o ensayo, que cada uno tenga su propia copia de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-147">This functionality is especially useful in larger projects, where there may be multiple developers working on the project or additional environments, such as testing or staging, that each need their own copy of the database.</span></span>

<span data-ttu-id="751a2-148">Hay una variedad de herramientas a su disposición para generar un script SQL de la versión de referencia.</span><span class="sxs-lookup"><span data-stu-id="751a2-148">There are a variety of tools at your disposal to generate a SQL script of the baseline version.</span></span> <span data-ttu-id="751a2-149">Desde SQL Server Management Studio (SSMS) puede hacer clic en la base de datos, vaya al submenú de tareas y elija la opción Generar Scripts.</span><span class="sxs-lookup"><span data-stu-id="751a2-149">From SQL Server Management Studio (SSMS) you can right-click on the database, go to the Tasks submenu, and choose the Generate Scripts option.</span></span> <span data-ttu-id="751a2-150">Esto inicia al Asistente para la secuencia de comandos, que puede indicar a generar un archivo que contiene los comandos SQL para crear objetos de s de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-150">This launches the Script Wizard, which you can instruct to generate a file that contains the SQL commands to create your database s objects.</span></span> <span data-ttu-id="751a2-151">Otra opción es el Asistente para publicación de base de datos, lo que puede generar los comandos SQL para crear no solo el esquema de base de datos, sino también los datos en las tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-151">Another option is the Database Publishing Wizard, which can generate the SQL commands to not only create the database schema, but also the data in the database tables.</span></span> <span data-ttu-id="751a2-152">El Asistente para publicación de base de datos se describe detalladamente en la *implementar una base de datos* tutorial.</span><span class="sxs-lookup"><span data-stu-id="751a2-152">The Database Publishing Wizard was examined in detail back in the *Deploying a Database* tutorial.</span></span> <span data-ttu-id="751a2-153">Independientemente de la herramienta que utilice, al final debe tener un archivo de script que puede usar para volver a crear la versión de línea de base de la base de datos, debe la necesidad de surgir.</span><span class="sxs-lookup"><span data-stu-id="751a2-153">Regardless of what tool you use, in the end you should have a script file that you can use to recreate the baseline version of your database, should the need arise.</span></span>

## <a name="documenting-the-database-changes-in-prose"></a><span data-ttu-id="751a2-154">Documentar los cambios de la base de datos en texto</span><span class="sxs-lookup"><span data-stu-id="751a2-154">Documenting the Database Changes in Prose</span></span>

<span data-ttu-id="751a2-155">Es la manera más sencilla para mantener un registro de cambios al modelo de datos durante la fase de desarrollo registrar los cambios en texto.</span><span class="sxs-lookup"><span data-stu-id="751a2-155">The simplest way to maintain a log of changes to the data model during the development phase is to record the changes in prose.</span></span> <span data-ttu-id="751a2-156">Por ejemplo, si agrega una nueva columna a durante el desarrollo de una aplicación ya ha implementado el `Employees` de tabla, quitar una columna de la `Orders` de tabla y agregar una nueva tabla (`ProductCategories`), podría mantener un archivo de texto o un documento de Microsoft Word con el historial de la siguiente:</span><span class="sxs-lookup"><span data-stu-id="751a2-156">For example, if during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`), you would maintain a text file or Microsoft Word document with the following history:</span></span>

<a id="0.8_table01"></a>

| <span data-ttu-id="751a2-157">**Fecha de cambio**</span><span class="sxs-lookup"><span data-stu-id="751a2-157">**Change Date**</span></span> | <span data-ttu-id="751a2-158">**Cambiar detalles**</span><span class="sxs-lookup"><span data-stu-id="751a2-158">**Change Details**</span></span> |
| --- | --- |
| <span data-ttu-id="751a2-159">2009-02-03:</span><span class="sxs-lookup"><span data-stu-id="751a2-159">2009-02-03:</span></span> | <span data-ttu-id="751a2-160">Columna agregada `DepartmentID` (`int`, no es NULL) para el `Employees` tabla.</span><span class="sxs-lookup"><span data-stu-id="751a2-160">Added column `DepartmentID` (`int`, NOT NULL) to the `Employees` table.</span></span> <span data-ttu-id="751a2-161">Agrega una restricción foreign key de `Departments.DepartmentID` a `Employees.DepartmentID`.</span><span class="sxs-lookup"><span data-stu-id="751a2-161">Added a foreign key constraint from `Departments.DepartmentID` to `Employees.DepartmentID`.</span></span> |
| <span data-ttu-id="751a2-162">2009-02-05:</span><span class="sxs-lookup"><span data-stu-id="751a2-162">2009-02-05:</span></span> | <span data-ttu-id="751a2-163">Columna quitada `TotalWeight` desde el `Orders` tabla.</span><span class="sxs-lookup"><span data-stu-id="751a2-163">Removed column `TotalWeight` from the `Orders` table.</span></span> <span data-ttu-id="751a2-164">Asociados de datos ya está capturados en `OrderDetails` registros.</span><span class="sxs-lookup"><span data-stu-id="751a2-164">Data already captured in associated `OrderDetails` records.</span></span> |
| <span data-ttu-id="751a2-165">2009-02-12:</span><span class="sxs-lookup"><span data-stu-id="751a2-165">2009-02-12:</span></span> | <span data-ttu-id="751a2-166">Crea el `ProductCategories` tabla.</span><span class="sxs-lookup"><span data-stu-id="751a2-166">Created the `ProductCategories` table.</span></span> <span data-ttu-id="751a2-167">Hay tres columnas: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), y `Active` (`bit`, `NOT NULL`).</span><span class="sxs-lookup"><span data-stu-id="751a2-167">There are three columns: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), and `Active` (`bit`, `NOT NULL`).</span></span> <span data-ttu-id="751a2-168">Agrega una restricción primary key a `ProductCategoryID`y un valor predeterminado de 1 a `Active`.</span><span class="sxs-lookup"><span data-stu-id="751a2-168">Added a primary key constraint to `ProductCategoryID`, and a default value of 1 to `Active`.</span></span> |

<span data-ttu-id="751a2-169">Existen varios inconvenientes de este enfoque.</span><span class="sxs-lookup"><span data-stu-id="751a2-169">There are a number of drawbacks to this approach.</span></span> <span data-ttu-id="751a2-170">Para empezar, no hay ninguna esperanza para la automatización.</span><span class="sxs-lookup"><span data-stu-id="751a2-170">For starters, there is no hope for automation.</span></span> <span data-ttu-id="751a2-171">En cualquier momento estos cambios deben aplicarse a una base de datos -, como cuando se implementa la aplicación: un desarrollador deberá implementar manualmente cada uno de ellos cambia, una vez.</span><span class="sxs-lookup"><span data-stu-id="751a2-171">Anytime these changes need to be applied to a database - such as when the application is deployed - a developer must manually implement each change, one at a time.</span></span> <span data-ttu-id="751a2-172">Además, si necesita reconstruir una versión concreta de la base de datos desde la línea de base mediante el registro de cambios, si lo hace por lo que tardará más tiempo a medida que crece el tamaño del registro.</span><span class="sxs-lookup"><span data-stu-id="751a2-172">Moreover, if you need to reconstruct a particular version of the database from the baseline using the change log, doing so will take more and more time as the size of the log grows.</span></span> <span data-ttu-id="751a2-173">Otro inconveniente de este método es que la claridad y el nivel de detalle de cada entrada de registro de cambios se deja a la persona que registrar el cambio.</span><span class="sxs-lookup"><span data-stu-id="751a2-173">Another drawback to this method is that the clarity and level of detail of each change log entry is left to the person recording the change.</span></span> <span data-ttu-id="751a2-174">En un equipo con varios desarrolladores algunos pueden realizar entradas más detalladas, más legibles o más precisas que otras.</span><span class="sxs-lookup"><span data-stu-id="751a2-174">In a team with multiple developers some may make more detailed, more readable, or more precise entries than others.</span></span> <span data-ttu-id="751a2-175">Además, son posibles errores tipográficos y otros errores de entrada de datos relacionados con humanos.</span><span class="sxs-lookup"><span data-stu-id="751a2-175">Also, typos and other human-related data entry errors are possible.</span></span>

<span data-ttu-id="751a2-176">La principal ventaja de documentar los cambios de la base de datos en texto es la simplicidad.</span><span class="sxs-lookup"><span data-stu-id="751a2-176">The primary benefit of documenting the database changes in prose is simplicity.</span></span> <span data-ttu-id="751a2-177">Cuando no está familiarizado de necesidad de t con la sintaxis SQL para crear y modificar objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-177">You don t need familiarity with the SQL syntax for creating and altering database objects.</span></span> <span data-ttu-id="751a2-178">En su lugar, puede registrar los cambios en prose e implementarlos a través de la interfaz gráfica de usuario de SQL Server Management Studio s.</span><span class="sxs-lookup"><span data-stu-id="751a2-178">Instead, you can record the changes in prose and implement them through SQL Server Management Studio s graphical user interface.</span></span>

<span data-ttu-id="751a2-179">Mantener el registro de cambios de prose es, ciertamente, no muy sofisticados y no funcionará bien con determinados proyectos, por ejemplo, si son grandes en el ámbito, tiene cambios frecuentes en el modelo de datos o implicar varios desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="751a2-179">Maintaining your change log in prose is, admittedly, not very sophisticated and won't work well with certain projects, such as ones that are large in scope, have frequent changes to the data model, or involve multiple developers.</span></span> <span data-ttu-id="751a2-180">Pero he visto este enfoque funciona bastante bien en proyectos pequeños, solo miembro que tienen sólo realicen cambios en el modelo de datos y donde el único desarrollador no tiene un gran conocimiento de la sintaxis SQL para crear y modificar objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-180">But I have seen this approach work quite well in small, one-man projects that have only occasional changes to the data model and where the solo developer does not have a strong background in the SQL syntax for creating and altering database objects.</span></span>

> [!NOTE]
> <span data-ttu-id="751a2-181">Mientras que la información en el registro de cambios es, técnicamente, solo es necesario hasta que el tiempo de implementación, recomienda mantener un historial de cambios.</span><span class="sxs-lookup"><span data-stu-id="751a2-181">While the information in the change log is, technically, only needed until deploy-time, I recommend keeping a history of changes.</span></span> <span data-ttu-id="751a2-182">Pero en vez de mantener una sola, crece constantemente el archivo de registro de cambios, considere la posibilidad de tener un archivo de registro de cambio diferente para cada versión de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-182">But rather than maintaining a single, ever growing change log file, consider having a different change log file for each database version.</span></span> <span data-ttu-id="751a2-183">Normalmente, le interesará a la versión de la base de datos cada vez que se implementa.</span><span class="sxs-lookup"><span data-stu-id="751a2-183">Typically you will want to version the database each time it is deployed.</span></span> <span data-ttu-id="751a2-184">Al mantener un registro de los registros de cambio puede, a partir de la línea base, volver a cualquier versión de la base de datos mediante la ejecución de las secuencias de comandos de cambio de registro a partir de la versión 1 y continuando hasta llegar a la versión debe volver a crear.</span><span class="sxs-lookup"><span data-stu-id="751a2-184">By maintaining a log of change logs you can, starting from the baseline, recreate any database version by executing the change log scripts starting from version 1 and continuing until you reach the version you need to recreate.</span></span>

## <a name="recording-the-sql-change-statements"></a><span data-ttu-id="751a2-185">Grabación de las instrucciones de cambio SQL</span><span class="sxs-lookup"><span data-stu-id="751a2-185">Recording the SQL Change Statements</span></span>

<span data-ttu-id="751a2-186">El principal inconveniente de mantener el registro de cambios en texto es la falta de automatización.</span><span class="sxs-lookup"><span data-stu-id="751a2-186">The primary drawback of maintaining the change log in prose is the lack of automation.</span></span> <span data-ttu-id="751a2-187">Idealmente, la implementación de los cambios de la base de datos en la base de datos de producción en tiempo de implementación sería tan fácil como hacer clic en un botón para ejecutar un script en lugar de tener que realizar manualmente una lista de instrucciones.</span><span class="sxs-lookup"><span data-stu-id="751a2-187">Ideally, implementing the database changes to the production database at deploy-time would be as easy as clicking a button to execute a script rather than having to manually perform a list of instructions.</span></span> <span data-ttu-id="751a2-188">Tal automatización es posible por mantener un registro de cambios que contiene los comandos SQL que se usa para modificar el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-188">Such automation is possible by maintaining a change log that contains those SQL commands used to alter the data model.</span></span>

<span data-ttu-id="751a2-189">La sintaxis SQL incluye una serie de instrucciones para crear y modificar distintos objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-189">The SQL syntax includes a number of statements for creating and modifying various database objects.</span></span> <span data-ttu-id="751a2-190">Por ejemplo, el [ *instrucción CREATE TABLE*](https://msdn.microsoft.com/library/ms174979.aspx), cuando se ejecuta, crea una nueva tabla con las restricciones y las columnas especificadas.</span><span class="sxs-lookup"><span data-stu-id="751a2-190">For example, the [*CREATE TABLE statement*](https://msdn.microsoft.com/library/ms174979.aspx), when executed, creates a new table with the specified columns and constraints.</span></span> <span data-ttu-id="751a2-191">El [ *instrucción ALTER TABLE* ](https://msdn.microsoft.com/library/ms190273.aspx) modifica una tabla existente, agregar, quitar o modificar sus columnas o restricciones.</span><span class="sxs-lookup"><span data-stu-id="751a2-191">The [*ALTER TABLE statement*](https://msdn.microsoft.com/library/ms190273.aspx) modifies an existing table, adding, removing, or modifying its columns or constraints.</span></span> <span data-ttu-id="751a2-192">También existen instrucciones para crear, modificar y quitar índices, vistas, funciones definidas por el usuario, procedimientos almacenados, desencadenadores y otros objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-192">There are also statements to create, modify, and drop indexes, views, user-defined functions, stored procedures, triggers, and other database objects.</span></span>

<span data-ttu-id="751a2-193">Volviendo a nuestro ejemplo anterior, que la imagen durante el desarrollo de una aplicación ya implementadas, agregar una nueva columna a la `Employees` de tabla, quitar una columna de la `Orders` de tabla y agregar una nueva tabla (`ProductCategories`).</span><span class="sxs-lookup"><span data-stu-id="751a2-193">Returning to our earlier example, image that during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`).</span></span> <span data-ttu-id="751a2-194">Estas acciones daría como resultado en un archivo de registro de cambios con los siguientes comandos SQL:</span><span class="sxs-lookup"><span data-stu-id="751a2-194">Such actions would result in a change log file with the following SQL commands:</span></span>

[!code-sql[Main](strategies-for-database-development-and-deployment-vb/samples/sample1.sql)]

<span data-ttu-id="751a2-195">Inserción de estos cambios en la base de datos de producción en tiempo de implementación es una operación de un solo clic: Abra SQL Server Management Studio, conectarse a la base de datos de producción, abra una ventana nueva consulta, pegue el contenido del registro de cambios y haga clic en ejecutar para ejecutar el script.</span><span class="sxs-lookup"><span data-stu-id="751a2-195">Pushing these changes to the production database at deploy-time is a one-click operation: open SQL Server Management Studio, connect to your production database, open a New Query window, paste the contents of the change log, and click Execute to run the script.</span></span>

## <a name="using-a-comparison-tool-to-synchronize-the-data-models"></a><span data-ttu-id="751a2-196">Uso de una herramienta de comparación para sincronizar los modelos de datos</span><span class="sxs-lookup"><span data-stu-id="751a2-196">Using a Comparison Tool to Synchronize the Data Models</span></span>

<span data-ttu-id="751a2-197">Documentar los cambios de la base de datos en texto es fácil, pero los cambios de implementación requiere un desarrollador tomar cada cambio en la base de datos de producción uno cada vez; Documentar los comandos de cambio SQL facilita la implementación de esos cambios en la base de datos de producción lo más fácil y rápido como hacer clic en un botón, pero requiere aprender y dominar las instrucciones SQL y sintaxis para crear y modificar objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-197">Documenting database changes in prose is easy, but implementing the changes requires a developer to make each change on the production database one at a time; documenting the change SQL commands makes implementing those changes on the production database as easy and quick as clicking a button, but requires learning and mastering the SQL statements and syntax for creating and altering database objects.</span></span> <span data-ttu-id="751a2-198">Herramientas de comparación de la base de datos toman lo mejor de ambos enfoques y descartar la peor.</span><span class="sxs-lookup"><span data-stu-id="751a2-198">Database comparison tools take the best from both approaches and discard the worst.</span></span>

<span data-ttu-id="751a2-199">Una herramienta de comparación de la base de datos compara el esquema o cuyos datos de dos bases de datos y muestra un informe de resumen que muestra cómo difieren de las bases de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-199">A database comparison tool compares the schema or data of two databases and displays a summary report showing you how the databases differ.</span></span> <span data-ttu-id="751a2-200">A continuación, con sólo pulsar un botón, puede generar los comandos SQL para la sincronización de uno o más objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-200">Then, with the click of a button, you can generate the SQL commands for synchronizing one or more database objects.</span></span> <span data-ttu-id="751a2-201">En pocas palabras, puede usar una herramienta de comparación de la base de datos para comparar el desarrollo y los comandos de las bases de datos de producción en tiempo de implementación, generar un archivo que contiene la instrucción SQL que, cuando se ejecute, se aplicarán los cambios en el esquema de base de datos s de producción por lo que ese TI refleja el esquema de base de datos s de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="751a2-201">In a nutshell, you can use a database comparison tool to compare the development and production databases at deploy-time, generating a file that contains the SQL commands that, when executed, will apply the changes to the production database s schema so that it mirrors the development database s schema.</span></span>

<span data-ttu-id="751a2-202">Hay una variedad de herramientas de comparación de base de datos de terceros ofrecidas por distintos proveedores.</span><span class="sxs-lookup"><span data-stu-id="751a2-202">There are a variety of third-party database comparison tools offered by many different vendors.</span></span> <span data-ttu-id="751a2-203">Un ejemplo es [ *SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), de manera [ *Red Gate Software*](http://www.red-gate.com/).</span><span class="sxs-lookup"><span data-stu-id="751a2-203">One such example is [*SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), by [*Red Gate Software*](http://www.red-gate.com/).</span></span> <span data-ttu-id="751a2-204">Permiten s recorra el proceso de uso de SQL Compare para comparar y sincronizar los esquemas de bases de datos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-204">Let s walk through the process of using SQL Compare to compare and synchronize the development and production databases schemas.</span></span>

> [!NOTE]
> <span data-ttu-id="751a2-205">En el momento de redactar este artículo la versión actual de SQL Compare era la versión 7.1, con la edición Standard valoración 395 dólares.</span><span class="sxs-lookup"><span data-stu-id="751a2-205">At the time of this writing the current version of SQL Compare was version 7.1, with the Standard Edition costing $395.</span></span> <span data-ttu-id="751a2-206">Puede seguir descargando una evaluación gratuita de 14 días.</span><span class="sxs-lookup"><span data-stu-id="751a2-206">You can follow along by downloading a free 14-day trial.</span></span>

<span data-ttu-id="751a2-207">Cuando se inicia SQL Compare abre el cuadro de diálogo de proyectos de comparación, que muestra los proyectos de SQL Compare guardados.</span><span class="sxs-lookup"><span data-stu-id="751a2-207">When SQL Compare starts the Comparison Projects dialog box opens, showing the saved SQL Compare projects.</span></span> <span data-ttu-id="751a2-208">Cree un nuevo proyecto.</span><span class="sxs-lookup"><span data-stu-id="751a2-208">Create a new project.</span></span> <span data-ttu-id="751a2-209">Esto inicia el Asistente de configuración del proyecto, que solicita información acerca de las bases de datos para comparar (consulte la figura 1).</span><span class="sxs-lookup"><span data-stu-id="751a2-209">This launches the Project Configuration wizard, which prompts for information about the databases to compare (see Figure 1).</span></span> <span data-ttu-id="751a2-210">Escriba la información de las bases de datos de entorno de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-210">Enter the information for the development and production environment databases.</span></span>

<span data-ttu-id="751a2-211">[![Comparar el desarrollo y las bases de datos de producción](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="751a2-211">[![Compare the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span></span>

<span data-ttu-id="751a2-212">**Figura 1**: Comparar el desarrollo y las bases de datos de producción ([haga clic aquí para ver imagen en tamaño completo](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="751a2-212">**Figure 1**: Compare the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span></span>

> [!NOTE]
> <span data-ttu-id="751a2-213">Si la base de datos del entorno de desarrollo es un archivo de base de datos de SQL Express Edition en el `App_Data` carpeta del sitio Web deberá registrar la base de datos en el servidor de base de datos de SQL Server Express para poder seleccionarlo en el cuadro de diálogo se muestra en la figura 1.</span><span class="sxs-lookup"><span data-stu-id="751a2-213">If your development environment database is a SQL Express Edition database file in the `App_Data` folder of your website you will need to register the database in the SQL Server Express database server in order to select it from the dialog box shown in Figure 1.</span></span> <span data-ttu-id="751a2-214">La manera más fácil de hacerlo es abrir SQL Server Management Studio (SSMS), conectar con el servidor de base de datos de SQL Server Express y adjuntar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-214">The easiest way to accomplish this is to open SQL Server Management Studio (SSMS), connect to the SQL Server Express database server, and attach the database.</span></span> <span data-ttu-id="751a2-215">Si no tiene SSMS instalado en el equipo puede descargar e instalar la versión gratuita [ *versión de SQL Server 2008 Management Studio Basic*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span><span class="sxs-lookup"><span data-stu-id="751a2-215">If you do not have SSMS installed on your computer you can download and install the free [*SQL Server 2008 Management Studio Basic version*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span></span>

<span data-ttu-id="751a2-216">Además de seleccionar las bases de datos para comparar, también puede especificar una variedad de opciones de comparación de la ficha Opciones. Una opción es posible que desee activar es la "Omitir restricción e índice nombres".</span><span class="sxs-lookup"><span data-stu-id="751a2-216">In addition to selecting the databases to compare, you can also specify a variety of comparison settings from the Options tab. One option you may want to turn on is the "Ignore constraint and index names."</span></span> <span data-ttu-id="751a2-217">Recuerde que en el tutorial anterior se ha agregado que la aplicación de servicios de objetos de base de datos para las bases de datos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-217">Recall that in the preceding tutorial we added the application services database objects to the development and production databases.</span></span> <span data-ttu-id="751a2-218">Si ha usado el `aspnet_regsql.exe` herramienta para crear estos objetos en la base de datos de producción, a continuación, encontrará que la clave principal y los nombres de restricción unique difieren entre las bases de datos de desarrollo y producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-218">If you used the `aspnet_regsql.exe` tool to create these objects on the production database then you will find that the primary key and unique constraint names differ between the development and production databases.</span></span> <span data-ttu-id="751a2-219">Por lo tanto, SQL Compare marcará todas las tablas de servicios de aplicación como distintos.</span><span class="sxs-lookup"><span data-stu-id="751a2-219">Consequently, SQL Compare will flag all of the application services tables as differing.</span></span> <span data-ttu-id="751a2-220">O bien puede dejar los "Omitir restricción e índice nombres" desactivada y sincronizar los nombres de restricción, o indicar SQL Compare para omitir estas diferencias.</span><span class="sxs-lookup"><span data-stu-id="751a2-220">You can either leave the "Ignore constraint and index names" unchecked and synchronize the constraint names, or instruct SQL Compare to ignore these differences.</span></span>

<span data-ttu-id="751a2-221">Después de seleccionar las bases de datos para comparar (y revisar las opciones de comparación), haga clic en el botón Comparar ahora para iniciar la comparación.</span><span class="sxs-lookup"><span data-stu-id="751a2-221">After selecting the databases to compare (and reviewing the comparison options), click the Compare Now button to begin the comparison.</span></span> <span data-ttu-id="751a2-222">A través de los segundos siguientes, SQL Compare examina los esquemas de las dos bases de datos y genera un informe de qué se diferencian.</span><span class="sxs-lookup"><span data-stu-id="751a2-222">Over the next several seconds, SQL Compare examines the schemas of the two databases and generates a report of how they differ.</span></span> <span data-ttu-id="751a2-223">Se ve intencionadamente realiza algunas modificaciones en la base de datos de desarrollo para mostrar cómo se indica el tipo de discrepancias en la interfaz de comparación de SQL.</span><span class="sxs-lookup"><span data-stu-id="751a2-223">I ve purposefully made some modifications to the development database to show how such discrepancies are noted in the SQL Compare interface.</span></span> <span data-ttu-id="751a2-224">Como se muestra en la figura 2, puedo ve agrega un `BirthDate` columna a la `Authors` tabla, se quitan el `ISBN` columna desde la `Books` de tabla y agrega una nueva tabla, `Ratings`, que está pensado para permitir que los usuarios que visitan los libros revisados de la tasa de sitio.</span><span class="sxs-lookup"><span data-stu-id="751a2-224">As Figure 2 shows, I ve added a `BirthDate` column to the `Authors` table, removed the `ISBN` column from the `Books` table, and added a new table, `Ratings`, which is meant to let users visiting the site rate the reviewed books.</span></span>

> [!NOTE]
> <span data-ttu-id="751a2-225">Se realizaron los cambios realizados en este tutorial del modelo de datos para ilustrar el uso de una herramienta de comparación de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-225">The data model changes made in this tutorial were done to illustrate using a database comparison tool.</span></span> <span data-ttu-id="751a2-226">No encontrará estos cambios en la base de datos en tutoriales futuros.</span><span class="sxs-lookup"><span data-stu-id="751a2-226">You will not find these changes in the database in future tutorials.</span></span>

<span data-ttu-id="751a2-227">[![Comparación SQL enumera las diferencias entre el desarrollo y las bases de datos de producción](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="751a2-227">[![SQL Compare Lists the Differences Between the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span></span>

<span data-ttu-id="751a2-228">**Figura 2**: Comparación SQL enumera las diferencias entre el desarrollo y las bases de datos de producción ([haga clic aquí para ver imagen en tamaño completo](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="751a2-228">**Figure 2**: SQL Compare Lists the Differences Between the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span></span>

<span data-ttu-id="751a2-229">SQL Compare desglosan todos los objetos de base de datos en grupos, mostrar rápidamente los objetos que existen en ambas bases de datos, pero son diferente, que los objetos existen en una base de datos, pero no el otro y qué objetos son idénticos.</span><span class="sxs-lookup"><span data-stu-id="751a2-229">SQL Compare breaks down the database objects into groups, quickly showing you what objects exist in both databases but are different, which objects exist in one database but not the other, and which objects are identical.</span></span> <span data-ttu-id="751a2-230">Como puede ver, hay dos objetos que existen en ambas bases de datos, pero son diferentes: el `Authors` tabla, que tenía que agregar una columna, y el `Books` tabla, lo que ha tenido quitado.</span><span class="sxs-lookup"><span data-stu-id="751a2-230">As you can see, there are two objects that exist in both databases but are different: the `Authors` table, which had a column added, and the `Books` table, which had one removed.</span></span> <span data-ttu-id="751a2-231">Hay un objeto que solo existe en la base de datos de desarrollo, es decir, el recién creado `Ratings` tabla.</span><span class="sxs-lookup"><span data-stu-id="751a2-231">There is one object that exists only in the development database, namely the newly created `Ratings` table.</span></span> <span data-ttu-id="751a2-232">Y hay 117 objetos que son idénticos en ambas bases de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-232">And there are 117 objects that are identical in both databases.</span></span>

<span data-ttu-id="751a2-233">Seleccionar un objeto de base de datos muestra la ventana de diferencias de SQL, que se muestra cómo se diferencian estos objetos.</span><span class="sxs-lookup"><span data-stu-id="751a2-233">Selecting a database object displays the SQL Differences window, which shows how these objects differ.</span></span> <span data-ttu-id="751a2-234">La ventana de diferencias de SQL, se muestra en la parte inferior en la figura 2, que resalta el `Authors` tabla en la base de datos de desarrollo tiene el `BirthDate` columna, que no se encuentra en la `Authors` tabla en la base de datos de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-234">The SQL Differences window, displayed at the bottom in Figure 2, highlights that the `Authors` table in the development database has the `BirthDate` column, which is not found in the `Authors` table on the production database.</span></span>

<span data-ttu-id="751a2-235">Después de revisar las diferencias y seleccionar los objetos que desea sincronizar, el siguiente paso es generar los comandos SQL necesarios para actualizar el esquema s de base de datos de producción para que coincida con la base de datos de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="751a2-235">After reviewing the differences and selecting which objects you want to synchronize, the next step is to generate the SQL commands needed to update the production database s schema to match the development database.</span></span> <span data-ttu-id="751a2-236">Esto se logra mediante el Asistente para la sincronización.</span><span class="sxs-lookup"><span data-stu-id="751a2-236">This is accomplished through the Synchronization Wizard.</span></span> <span data-ttu-id="751a2-237">El Asistente para sincronización Confirma qué objetos se deben para sincronizar y resume la acción previsto (consulte la figura 3).</span><span class="sxs-lookup"><span data-stu-id="751a2-237">The Synchronization Wizard confirms what objects to synchronize and summarizes the action plan (see Figure 3).</span></span> <span data-ttu-id="751a2-238">Puede sincronizar las bases de datos inmediatamente o generar un script con los comandos SQL que se pueden ejecutar en su tiempo libre.</span><span class="sxs-lookup"><span data-stu-id="751a2-238">You can synchronize the databases immediately or generate a script with the SQL commands that can be run at your leisure.</span></span>

<span data-ttu-id="751a2-239">[![Utilice al Asistente para la sincronización para sincronizar los esquemas de bases de datos](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="751a2-239">[![Use the Synchronization Wizard to Synchronize Your Databases Schemas](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span></span>

<span data-ttu-id="751a2-240">**Figura 3**: Utilice el Asistente para la sincronización para sincronizar los esquemas de bases de datos ([haga clic aquí para ver imagen en tamaño completo](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="751a2-240">**Figure 3**: Use the Synchronization Wizard to Synchronize Your Databases Schemas ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span></span>

<span data-ttu-id="751a2-241">Herramientas de comparación de la base de datos, como s SQL Compare Asegúrese de aplicar los cambios al esquema de base de datos de desarrollo para la base de datos de producción tan sencillo como señalar y haga clic en Red Gate Software.</span><span class="sxs-lookup"><span data-stu-id="751a2-241">Database comparison tools like Red Gate Software s SQL Compare make applying the changes to the development database schema to the production database as easy as point and click.</span></span>

> [!NOTE]
> <span data-ttu-id="751a2-242">Comparación de SQL compara y sincroniza dos bases de datos *esquemas*.</span><span class="sxs-lookup"><span data-stu-id="751a2-242">SQL Compare compares and synchronizes two databases *schemas*.</span></span> <span data-ttu-id="751a2-243">Lamentablemente, no comparar y sincronizar los datos dentro de las tablas de dos bases de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-243">Unfortunately, it does not compare and synchronize the data within two databases tables.</span></span> <span data-ttu-id="751a2-244">Red Gate Software ofrece un producto denominado [ *SQL Compare datos* ](http://www.red-gate.com/products/SQL_Data_Compare/) que compara y sincroniza los datos entre dos bases de datos, pero es un producto independiente de SQL Compare y cuesta otro 395 dólares.</span><span class="sxs-lookup"><span data-stu-id="751a2-244">Red Gate Software does offer a product named [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) that compares and synchronizes the data between two databases, but it is a separate product from SQL Compare and costs another $395.</span></span>

## <a name="taking-the-application-offline-during-deployment"></a><span data-ttu-id="751a2-245">Poner la aplicación sin conexión durante la implementación</span><span class="sxs-lookup"><span data-stu-id="751a2-245">Taking the Application Offline During Deployment</span></span>

<span data-ttu-id="751a2-246">Como se ve, visto a lo largo de estos tutoriales, la implementación es un proceso que implica varios pasos: copiar las páginas ASP.NET, las páginas maestras, CSS archivos, JavaScript archivos, imágenes y otros contenidos necesarios desde el entorno de desarrollo para la producción entorno; copia de seguridad de la información de configuración específicos del entorno de producción, si es necesario; y aplicar los cambios al modelo de datos desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-246">As we ve seen throughout these tutorials, deployment is a process that involves multiple steps: copying the ASP.NET pages, master pages, CSS files, JavaScript files, images, and other necessary content from the development environment to the production environment; copying up the production environment-specific configuration information, if needed; and applying the changes to the data model since the last deployment.</span></span> <span data-ttu-id="751a2-247">Según el número de archivos y la complejidad de los cambios de la base de datos, estos pasos pueden tardar desde unos segundos hasta varios minutos en completarse.</span><span class="sxs-lookup"><span data-stu-id="751a2-247">Depending on the number of files and the complexity of your database changes, these steps can take anywhere from a few seconds to several minutes to complete.</span></span> <span data-ttu-id="751a2-248">Durante esta ventana de la aplicación web es inestable y los usuarios que visitan el sitio pueden experimentar errores o un comportamiento inesperado.</span><span class="sxs-lookup"><span data-stu-id="751a2-248">During this window the web application is in flux and users visiting the site may experience errors or unexpected behavior.</span></span>

<span data-ttu-id="751a2-249">Al implementar un sitio Web es mejor desconectar la aplicación web "" hasta que finalice la implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-249">When deploying a website it is best to take the web application "offline" until deployment has completed.</span></span> <span data-ttu-id="751a2-250">Desconectar la aplicación (y ponerla copia de seguridad una vez finalizado el proceso de implementación) es tan sencillo como cargar un archivo y, a continuación, eliminarlo.</span><span class="sxs-lookup"><span data-stu-id="751a2-250">Taking the application offline (and bringing it back up once the deployment process has finished) is as easy as uploading a file and then deleting it.</span></span> <span data-ttu-id="751a2-251">A partir de ASP.NET 2.0, la mera presencia de un archivo denominado `app_offline.htm` s de la aplicación en el directorio raíz toma todo el sitio Web "sin conexión".</span><span class="sxs-lookup"><span data-stu-id="751a2-251">Starting with ASP.NET 2.0, the mere presence of a file named `app_offline.htm` in the application s root directory takes the entire website "offline."</span></span> <span data-ttu-id="751a2-252">Cualquier solicitud a una página ASP.NET en el sitio se respondió automáticamente con el contenido de la `app_offline.htm` archivo.</span><span class="sxs-lookup"><span data-stu-id="751a2-252">Any request to an ASP.NET page on that site is automatically responded with the contents of the `app_offline.htm` file.</span></span> <span data-ttu-id="751a2-253">Una vez que se quita ese archivo, la aplicación vuelve a conectarse.</span><span class="sxs-lookup"><span data-stu-id="751a2-253">Once that file is removed, the application comes back online.</span></span>

<span data-ttu-id="751a2-254">Tomar una aplicación sin conexión durante la implementación, a continuación, es tan sencillo como cargar un `app_offline.htm` archivo en el entorno de producción s directorio raíz antes de comenzar el proceso de implementación y, a continuación, eliminarlo (o al cambiar el nombre a otra cosa) una vez implementación completada.</span><span class="sxs-lookup"><span data-stu-id="751a2-254">Taking an application offline during deployment, then, is as simple as uploading an `app_offline.htm` file to the production environment s root directory prior to beginning the deployment process and then deleting it (or renaming it to something else) once deployment is complete.</span></span> <span data-ttu-id="751a2-255">Para obtener más información sobre esta técnica consulte el artículo de John Peterson s, teniendo un [ *aplicación ASP.NET sin conexión*](http://www.15seconds.com/issue/061207.htm).</span><span class="sxs-lookup"><span data-stu-id="751a2-255">For more information on this technique refer to John Peterson s article, Taking an [*ASP.NET Application Offline*](http://www.15seconds.com/issue/061207.htm).</span></span>

## <a name="summary"></a><span data-ttu-id="751a2-256">Resumen</span><span class="sxs-lookup"><span data-stu-id="751a2-256">Summary</span></span>

<span data-ttu-id="751a2-257">El desafío principal en la implementación de una aplicación controlada por datos se centra en la implementación de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-257">The main challenge in deploying a data-driven application centers around deploying the database.</span></span> <span data-ttu-id="751a2-258">Dado que hay dos versiones de la base de datos, uno en el entorno de desarrollo y uno en el entorno de producción estos esquemas de dos bases de datos pueden dejen de estar sincronizados cuando se agregan nuevas características en desarrollo.</span><span class="sxs-lookup"><span data-stu-id="751a2-258">Because there are two versions of the database - one in the development environment and one in the production environment - these two databases schemas can become out of sync as new features are added in development.</span></span> <span data-ttu-id="751a2-259">¿Qué más, dado que la base de datos de producción como que se rellena con datos reales de usuarios reales, no se puede sobrescribir la base de datos de producción con la base de datos de desarrollo modificadas igual que al implementar los archivos que componen la aplicación (las páginas ASP.NET, s archivos de imagen y así sucesivamente).</span><span class="sxs-lookup"><span data-stu-id="751a2-259">What s more, because the production database as being populated with real data from real users, you cannot overwrite the production database with the modified development database like you can when deploying the files that make up the application (the ASP.NET pages, image files, and so forth).</span></span> <span data-ttu-id="751a2-260">En su lugar, la implementación de una base de datos implica implementar el conjunto preciso de los cambios realizados en la base de datos de desarrollo en la base de datos de producción desde la última implementación.</span><span class="sxs-lookup"><span data-stu-id="751a2-260">Instead, deploying a database entails implementing the precise set of changes made to the development database on the production database since the last deployment.</span></span>

<span data-ttu-id="751a2-261">En este tutorial examinado tres técnicas para mantener y aplicar un registro de cambios de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-261">This tutorial looked at three techniques for maintaining and applying a log of database changes.</span></span> <span data-ttu-id="751a2-262">Es el enfoque más sencillo registrar los cambios en texto.</span><span class="sxs-lookup"><span data-stu-id="751a2-262">The simplest approach is to record the changes in prose.</span></span> <span data-ttu-id="751a2-263">Mientras esta táctica facilita la implementación de estos cambios en la base de datos de producción, un proceso manual, no requieren conocimientos de los comandos SQL para crear y modificar objetos de base de datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-263">While this tactic makes implementing these changes on the production database a manual process, it does not require knowledge of the SQL commands for creating and altering database objects.</span></span> <span data-ttu-id="751a2-264">Un enfoque más sofisticado y otro que es mucho más aceptable en proyectos o proyectos más grandes con varios desarrolladores consiste en registrar los cambios como una serie de comandos SQL.</span><span class="sxs-lookup"><span data-stu-id="751a2-264">A more sophisticated approach, and one that is much more palatable in larger projects or projects with multiple developers, is to record the changes as a series of SQL commands.</span></span> <span data-ttu-id="751a2-265">Esto agiliza en gran medida notablemente implementando estos cambios en la base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="751a2-265">This greatly hastens rolling out these changes to the target database.</span></span> <span data-ttu-id="751a2-266">Lo mejor de ambos enfoques se consigue mediante una herramienta de comparación de la base de datos, como s Red Gate Software SQL Compare.</span><span class="sxs-lookup"><span data-stu-id="751a2-266">The best of both approaches can be achieved by using a database comparison tool, such as Red Gate Software s SQL Compare.</span></span>

<span data-ttu-id="751a2-267">En este tutorial concluye nuestro enfoque en la implementación de una aplicación controlada por datos.</span><span class="sxs-lookup"><span data-stu-id="751a2-267">This tutorial concludes our focus on deploying a data-driven application.</span></span> <span data-ttu-id="751a2-268">El siguiente conjunto de tutoriales explica cómo responder a errores en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="751a2-268">The next set of tutorials looks at how to respond to errors in the production environment.</span></span> <span data-ttu-id="751a2-269">Echemos un vistazo cómo mostrar una página de error descriptivo en su lugar, en lugar de la pantalla amarilla de la muerte.</span><span class="sxs-lookup"><span data-stu-id="751a2-269">We'll look at how to display a friendly error page rather instead of the Yellow Screen of Death.</span></span> <span data-ttu-id="751a2-270">Y veremos cómo registrar los detalles del error s y cómo le alerte cuando se producen estos errores.</span><span class="sxs-lookup"><span data-stu-id="751a2-270">And we'll see how to log the error s details and how to alert you when such errors occur.</span></span>

<span data-ttu-id="751a2-271">Feliz programación.</span><span class="sxs-lookup"><span data-stu-id="751a2-271">Happy Programming!</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="751a2-272">[Anterior](configuring-a-website-that-uses-application-services-vb.md)
> [Siguiente](displaying-a-custom-error-page-vb.md)</span><span class="sxs-lookup"><span data-stu-id="751a2-272">[Previous](configuring-a-website-that-uses-application-services-vb.md)
[Next](displaying-a-custom-error-page-vb.md)</span></span>

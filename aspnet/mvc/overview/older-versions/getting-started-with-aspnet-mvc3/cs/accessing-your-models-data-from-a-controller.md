---
uid: mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/accessing-your-models-data-from-a-controller
title: Acceso a los datos del modelo desde un controlador (C#) | Microsoft Docs
author: Rick-Anderson
description: Este tutorial le enseñará los aspectos básicos de la creación de una aplicación web MVC de ASP.NET con Microsoft Visual Web Developer 2010 Express Service Pack 1, que es...
ms.author: riande
ms.date: 01/12/2011
ms.assetid: 002ada5c-f114-47ab-a441-57dbdb728ea0
msc.legacyurl: /mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/accessing-your-models-data-from-a-controller
msc.type: authoredcontent
ms.openlocfilehash: 2e9c7f24d426635760b613f570b85455ce71b3dc
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/06/2020
ms.locfileid: "78506029"
---
# <a name="accessing-your-models-data-from-a-controller-c"></a><span data-ttu-id="30a2d-103">Obtener acceso a los datos del modelo desde un controlador (C#)</span><span class="sxs-lookup"><span data-stu-id="30a2d-103">Accessing your Model's Data from a Controller (C#)</span></span>

<span data-ttu-id="30a2d-104">por [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="30a2d-104">by [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> > [!NOTE]
> > <span data-ttu-id="30a2d-105">[Hay disponible una](../../../getting-started/introduction/getting-started.md) versión actualizada de este tutorial que usa ASP.NET MVC 5 y Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="30a2d-105">An updated version of this tutorial is available [here](../../../getting-started/introduction/getting-started.md) that uses ASP.NET MVC 5 and Visual Studio 2013.</span></span> <span data-ttu-id="30a2d-106">Es más seguro, mucho más fácil de seguir y demuestra más características.</span><span class="sxs-lookup"><span data-stu-id="30a2d-106">It's more secure, much simpler to follow and demonstrates more features.</span></span>
> 
> 
> <span data-ttu-id="30a2d-107">Este tutorial le enseñará los aspectos básicos de la creación de una aplicación web MVC de ASP.NET con Microsoft Visual Web Developer 2010 Express Service Pack 1, que es una versión gratuita de Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="30a2d-107">This tutorial will teach you the basics of building an ASP.NET MVC Web application using Microsoft Visual Web Developer 2010 Express Service Pack 1, which is a free version of Microsoft Visual Studio.</span></span> <span data-ttu-id="30a2d-108">Antes de empezar, asegúrese de que ha instalado los requisitos previos que se enumeran a continuación.</span><span class="sxs-lookup"><span data-stu-id="30a2d-108">Before you start, make sure you've installed the prerequisites listed below.</span></span> <span data-ttu-id="30a2d-109">Para instalar todos ellos, haga clic en el vínculo siguiente: [instalador de plataforma web](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="30a2d-109">You can install all of them by clicking the following link: [Web Platform Installer](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack).</span></span> <span data-ttu-id="30a2d-110">Como alternativa, puede instalar individualmente los requisitos previos con los siguientes vínculos:</span><span class="sxs-lookup"><span data-stu-id="30a2d-110">Alternatively, you can individually install the prerequisites using the following links:</span></span>
> 
> - [<span data-ttu-id="30a2d-111">Requisitos previos de Visual Studio Web Developer Express SP1</span><span class="sxs-lookup"><span data-stu-id="30a2d-111">Visual Studio Web Developer Express SP1 prerequisites</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appid=VWD2010SP1Pack)
> - [<span data-ttu-id="30a2d-112">ASP.NET MVC 3 Tools Update</span><span class="sxs-lookup"><span data-stu-id="30a2d-112">ASP.NET MVC 3 Tools Update</span></span>](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=MVC3)
> - <span data-ttu-id="30a2d-113">[SQL Server Compact 4,0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(compatibilidad con herramientas y tiempo de ejecución)</span><span class="sxs-lookup"><span data-stu-id="30a2d-113">[SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support)</span></span>
> 
> <span data-ttu-id="30a2d-114">Si utiliza Visual Studio 2010 en lugar de Visual Web Developer 2010, instale los requisitos previos haciendo clic en el siguiente vínculo: [requisitos previos de Visual Studio 2010](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span><span class="sxs-lookup"><span data-stu-id="30a2d-114">If you're using Visual Studio 2010 instead of Visual Web Developer 2010, install the prerequisites by clicking the following link: [Visual Studio 2010 prerequisites](https://www.microsoft.com/web/gallery/install.aspx?appsxml=&amp;appid=VS2010SP1Pack).</span></span>
> 
> <span data-ttu-id="30a2d-115">Hay disponible un proyecto de Visual C# Web Developer con código fuente para acompañar este tema.</span><span class="sxs-lookup"><span data-stu-id="30a2d-115">A Visual Web Developer project with C# source code is available to accompany this topic.</span></span> <span data-ttu-id="30a2d-116">[Descargue la C# versión](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span><span class="sxs-lookup"><span data-stu-id="30a2d-116">[Download the C# version](https://code.msdn.microsoft.com/Introduction-to-MVC-3-10d1b098).</span></span> <span data-ttu-id="30a2d-117">Si prefiere Visual Basic, cambie a la [versión Visual Basic](../vb/intro-to-aspnet-mvc-3.md) de este tutorial.</span><span class="sxs-lookup"><span data-stu-id="30a2d-117">If you prefer Visual Basic, switch to the [Visual Basic version](../vb/intro-to-aspnet-mvc-3.md) of this tutorial.</span></span>

<span data-ttu-id="30a2d-118">En esta sección, creará una nueva clase de `MoviesController` y escribirá código que recupera los datos de la película y los muestra en el explorador con una plantilla de vista.</span><span class="sxs-lookup"><span data-stu-id="30a2d-118">In this section, you'll create a new `MoviesController` class and write code that retrieves the movie data and displays it in the browser using a view template.</span></span> <span data-ttu-id="30a2d-119">Asegúrese de compilar la aplicación antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="30a2d-119">Be sure to build your application before proceeding.</span></span>

<span data-ttu-id="30a2d-120">Haga clic con el botón secundario en la carpeta *Controllers* y cree un nuevo controlador de `MoviesController`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-120">Right-click the *Controllers* folder and create a new `MoviesController` controller.</span></span> <span data-ttu-id="30a2d-121">Seleccione las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="30a2d-121">Select the following options:</span></span>

- <span data-ttu-id="30a2d-122">Nombre del controlador: **MoviesController**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-122">Controller name: **MoviesController**.</span></span> <span data-ttu-id="30a2d-123">(Este es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="30a2d-123">(This is the default.</span></span> <span data-ttu-id="30a2d-124">)</span><span class="sxs-lookup"><span data-stu-id="30a2d-124">)</span></span>
- <span data-ttu-id="30a2d-125">Plantilla: **controlador con acciones de lectura/escritura y vistas, utilizando Entity Framework**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-125">Template: **Controller with read/write actions and views, using Entity Framework**.</span></span>
- <span data-ttu-id="30a2d-126">Clase de modelo: **Movie (MvcMovie. Models)** .</span><span class="sxs-lookup"><span data-stu-id="30a2d-126">Model class: **Movie (MvcMovie.Models)**.</span></span>
- <span data-ttu-id="30a2d-127">Clase de contexto de datos: **MovieDBContext (MvcMovie. Models)** .</span><span class="sxs-lookup"><span data-stu-id="30a2d-127">Data context class: **MovieDBContext (MvcMovie.Models)**.</span></span>
- <span data-ttu-id="30a2d-128">Vistas: **Razor (CSHTML)** .</span><span class="sxs-lookup"><span data-stu-id="30a2d-128">Views: **Razor (CSHTML)**.</span></span> <span data-ttu-id="30a2d-129">(El valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="30a2d-129">(The default.)</span></span>

<span data-ttu-id="30a2d-130">[![AddScaffoldedMovieController](accessing-your-models-data-from-a-controller/_static/image2.png "AddScaffoldedMovieController")](accessing-your-models-data-from-a-controller/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-130">[![AddScaffoldedMovieController](accessing-your-models-data-from-a-controller/_static/image2.png "AddScaffoldedMovieController")](accessing-your-models-data-from-a-controller/_static/image1.png)</span></span>

<span data-ttu-id="30a2d-131">Haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-131">Click **Add**.</span></span> <span data-ttu-id="30a2d-132">Visual Web Developer crea los siguientes archivos y carpetas:</span><span class="sxs-lookup"><span data-stu-id="30a2d-132">Visual Web Developer creates the following files and folders:</span></span>

- <span data-ttu-id="30a2d-133">*Un archivo MoviesController.CS* en la carpeta de *Controladores* del proyecto.</span><span class="sxs-lookup"><span data-stu-id="30a2d-133">*A MoviesController.cs* file in the project's *Controllers* folder.</span></span>
- <span data-ttu-id="30a2d-134">Una carpeta *películas* en la carpeta *vistas* del proyecto.</span><span class="sxs-lookup"><span data-stu-id="30a2d-134">A *Movies* folder in the project's *Views* folder.</span></span>
- <span data-ttu-id="30a2d-135">*Cree. cshtml, DELETE. cshtml, details. cshtml, Edit. cshtml*e *index. cshtml* en la nueva carpeta *Views\Movies*</span><span class="sxs-lookup"><span data-stu-id="30a2d-135">*Create.cshtml, Delete.cshtml, Details.cshtml, Edit.cshtml*, and *Index.cshtml* in the new *Views\Movies* folder.</span></span>

<span data-ttu-id="30a2d-136">[![NewMovieControllerScreenShot](accessing-your-models-data-from-a-controller/_static/image4.png "NewMovieControllerScreenShot")](accessing-your-models-data-from-a-controller/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-136">[![NewMovieControllerScreenShot](accessing-your-models-data-from-a-controller/_static/image4.png "NewMovieControllerScreenShot")](accessing-your-models-data-from-a-controller/_static/image3.png)</span></span>

<span data-ttu-id="30a2d-137">El mecanismo de scaffolding de ASP.NET MVC 3 crea automáticamente las vistas y los métodos de acción CRUD (crear, leer, actualizar y eliminar).</span><span class="sxs-lookup"><span data-stu-id="30a2d-137">The ASP.NET MVC 3 scaffolding mechanism automatically created the CRUD (create, read, update, and delete) action methods and views for you.</span></span> <span data-ttu-id="30a2d-138">Ahora tiene una aplicación web totalmente funcional que le permite crear, enumerar, editar y eliminar entradas de películas.</span><span class="sxs-lookup"><span data-stu-id="30a2d-138">You now have a fully functional web application that lets you create, list, edit, and delete movie entries.</span></span>

<span data-ttu-id="30a2d-139">Ejecute la aplicación y vaya al controlador de `Movies` anexando */Movies* a la dirección URL en la barra de direcciones del explorador.</span><span class="sxs-lookup"><span data-stu-id="30a2d-139">Run the application and browse to the `Movies` controller by appending */Movies* to the URL in the address bar of your browser.</span></span> <span data-ttu-id="30a2d-140">Dado que la aplicación se basa en el enrutamiento predeterminado (definido en el archivo *global. asax* ), la solicitud del explorador `http://localhost:xxxxx/Movies` se enruta al método de acción de `Index` predeterminado del controlador de `Movies`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-140">Because the application is relying on the default routing (defined in the *Global.asax* file), the browser request `http://localhost:xxxxx/Movies` is routed to the default `Index` action method of the `Movies` controller.</span></span> <span data-ttu-id="30a2d-141">En otras palabras, la solicitud del explorador `http://localhost:xxxxx/Movies` es realmente la misma que la solicitud del explorador `http://localhost:xxxxx/Movies/Index`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-141">In other words, the browser request `http://localhost:xxxxx/Movies` is effectively the same as the browser request `http://localhost:xxxxx/Movies/Index`.</span></span> <span data-ttu-id="30a2d-142">El resultado es una lista vacía de películas, ya que aún no ha agregado ninguna.</span><span class="sxs-lookup"><span data-stu-id="30a2d-142">The result is an empty list of movies, because you haven't added any yet.</span></span>

![](accessing-your-models-data-from-a-controller/_static/image5.png)

### <a name="creating-a-movie"></a><span data-ttu-id="30a2d-143">Crear una película</span><span class="sxs-lookup"><span data-stu-id="30a2d-143">Creating a Movie</span></span>

<span data-ttu-id="30a2d-144">Seleccione el vínculo **Crear nuevo**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-144">Select the **Create New** link.</span></span> <span data-ttu-id="30a2d-145">Escriba algunos detalles sobre una película y, a continuación, haga clic en el botón **crear** .</span><span class="sxs-lookup"><span data-stu-id="30a2d-145">Enter some details about a movie and then click the **Create** button.</span></span>

![](accessing-your-models-data-from-a-controller/_static/image6.png)

<span data-ttu-id="30a2d-146">Al hacer clic en el botón **crear** , el formulario se envía al servidor, donde se guarda la información de la película en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="30a2d-146">Clicking the **Create** button causes the form to be posted to the server, where the movie information is saved in the database.</span></span> <span data-ttu-id="30a2d-147">A continuación, se le redirigirá a la dirección URL de */Movies* , donde podrá ver la película recién creada en la lista.</span><span class="sxs-lookup"><span data-stu-id="30a2d-147">You're then redirected to the */Movies* URL, where you can see the newly created movie in the listing.</span></span>

<span data-ttu-id="30a2d-148">[![IndexWhenHarryMet](accessing-your-models-data-from-a-controller/_static/image8.png "IndexWhenHarryMet")](accessing-your-models-data-from-a-controller/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-148">[![IndexWhenHarryMet](accessing-your-models-data-from-a-controller/_static/image8.png "IndexWhenHarryMet")](accessing-your-models-data-from-a-controller/_static/image7.png)</span></span>

<span data-ttu-id="30a2d-149">Cree un par de entradas más de película.</span><span class="sxs-lookup"><span data-stu-id="30a2d-149">Create a couple more movie entries.</span></span> <span data-ttu-id="30a2d-150">Compruebe que todos los vínculos **Editar**, **Detalles** y **Eliminar** son funcionales.</span><span class="sxs-lookup"><span data-stu-id="30a2d-150">Try the **Edit**, **Details**, and **Delete** links, which are all functional.</span></span>

## <a name="examining-the-generated-code"></a><span data-ttu-id="30a2d-151">Examinar el código generado</span><span class="sxs-lookup"><span data-stu-id="30a2d-151">Examining the Generated Code</span></span>

<span data-ttu-id="30a2d-152">Abra el archivo *Controllers\MoviesController.CS* y examine el método de `Index` generado.</span><span class="sxs-lookup"><span data-stu-id="30a2d-152">Open the *Controllers\MoviesController.cs* file and examine the generated `Index` method.</span></span> <span data-ttu-id="30a2d-153">A continuación se muestra una parte del controlador de película con el método `Index`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-153">A portion of the movie controller with the `Index` method is shown below.</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample1.cs)]

<span data-ttu-id="30a2d-154">La siguiente línea de la clase `MoviesController` crea una instancia de un contexto de la base de datos Movie, tal como se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="30a2d-154">The following line from the `MoviesController` class instantiates a movie database context, as described previously.</span></span> <span data-ttu-id="30a2d-155">Puede usar el contexto de la base de datos de películas para consultar, editar y eliminar películas.</span><span class="sxs-lookup"><span data-stu-id="30a2d-155">You can use the movie database context to query, edit, and delete movies.</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample2.cs)]

<span data-ttu-id="30a2d-156">Una solicitud al controlador de `Movies` devuelve todas las entradas de la tabla `Movies` de la base de datos de películas y, a continuación, pasa los resultados a la vista `Index`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-156">A request to the `Movies` controller returns all the entries in the `Movies` table of the movie database and then passes the results to the `Index` view.</span></span>

## <a name="strongly-typed-models-and-the-model-keyword"></a><span data-ttu-id="30a2d-157">Modelos fuertemente tipados y la palabra clave @model</span><span class="sxs-lookup"><span data-stu-id="30a2d-157">Strongly Typed Models and the @model Keyword</span></span>

<span data-ttu-id="30a2d-158">Anteriormente en este tutorial, vio cómo un controlador puede pasar datos u objetos a una plantilla de vista mediante el objeto `ViewBag`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-158">Earlier in this tutorial, you saw how a controller can pass data or objects to a view template using the `ViewBag` object.</span></span> <span data-ttu-id="30a2d-159">La `ViewBag` es un objeto dinámico que proporciona una cómoda manera de enlazar información a una vista.</span><span class="sxs-lookup"><span data-stu-id="30a2d-159">The `ViewBag` is a dynamic object that provides a convenient late-bound way to pass information to a view.</span></span>

<span data-ttu-id="30a2d-160">ASP.NET MVC también proporciona la capacidad de pasar datos o objetos fuertemente tipados a una plantilla de vista.</span><span class="sxs-lookup"><span data-stu-id="30a2d-160">ASP.NET MVC also provides the ability to pass strongly typed data or objects to a view template.</span></span> <span data-ttu-id="30a2d-161">Este enfoque fuertemente tipado permite una mejor comprobación en tiempo de compilación del código y IntelliSense más enriquecida en el editor de Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="30a2d-161">This strongly typed approach enables better compile-time checking of your code and richer IntelliSense in the Visual Web Developer editor.</span></span> <span data-ttu-id="30a2d-162">Estamos usando este enfoque con la clase `MoviesController` y la plantilla de vista *index. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="30a2d-162">We're using this approach with the `MoviesController` class and *Index.cshtml* view template.</span></span>

<span data-ttu-id="30a2d-163">Observe cómo el código crea un objeto [`List`](https://msdn.microsoft.com/library/6sh2ey19.aspx) cuando llama al método auxiliar `View` en el método de acción `Index`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-163">Notice how the code creates a [`List`](https://msdn.microsoft.com/library/6sh2ey19.aspx) object when it calls the `View` helper method in the `Index` action method.</span></span> <span data-ttu-id="30a2d-164">A continuación, el código pasa esta `Movies` lista del controlador a la vista:</span><span class="sxs-lookup"><span data-stu-id="30a2d-164">The code then passes this `Movies` list from the controller to the view:</span></span>

[!code-csharp[Main](accessing-your-models-data-from-a-controller/samples/sample3.cs)]

<span data-ttu-id="30a2d-165">Al incluir una instrucción `@model` en la parte superior del archivo de plantilla de vista, puede especificar el tipo de objeto que espera la vista.</span><span class="sxs-lookup"><span data-stu-id="30a2d-165">By including a `@model` statement at the top of the view template file, you can specify the type of object that the view expects.</span></span> <span data-ttu-id="30a2d-166">Al crear el controlador de película, Visual Web Developer incluye automáticamente la siguiente instrucción `@model` en la parte superior del archivo *index. cshtml* :</span><span class="sxs-lookup"><span data-stu-id="30a2d-166">When you created the movie controller, Visual Web Developer automatically included the following `@model` statement at the top of the *Index.cshtml* file:</span></span>

[!code-cshtml[Main](accessing-your-models-data-from-a-controller/samples/sample4.cshtml)]

<span data-ttu-id="30a2d-167">Esta directiva de `@model` permite tener acceso a la lista de películas que el controlador pasó a la vista mediante un objeto de `Model` fuertemente tipado.</span><span class="sxs-lookup"><span data-stu-id="30a2d-167">This `@model` directive allows you to access the list of movies that the controller passed to the view by using a `Model` object that's strongly typed.</span></span> <span data-ttu-id="30a2d-168">Por ejemplo, en la plantilla *index. cshtml* , el código recorre en bucle las películas mediante una instrucción `foreach` sobre el objeto `Model` fuertemente tipado:</span><span class="sxs-lookup"><span data-stu-id="30a2d-168">For example, in the *Index.cshtml* template, the code loops through the movies by doing a `foreach` statement over the strongly typed `Model` object:</span></span>

[!code-cshtml[Main](accessing-your-models-data-from-a-controller/samples/sample5.cshtml)]

<span data-ttu-id="30a2d-169">Dado que el objeto `Model` está fuertemente tipado (como un objeto `IEnumerable<Movie>`), cada `item` objeto del bucle se escribe como `Movie`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-169">Because the `Model` object is strongly typed (as an `IEnumerable<Movie>` object), each `item` object in the loop is typed as `Movie`.</span></span> <span data-ttu-id="30a2d-170">Entre otras ventajas, esto significa que obtiene la comprobación en tiempo de compilación del código y la compatibilidad completa con IntelliSense en el editor de código:</span><span class="sxs-lookup"><span data-stu-id="30a2d-170">Among other benefits, this means that you get compile-time checking of the code and full IntelliSense support in the code editor:</span></span>

<span data-ttu-id="30a2d-171">[![ModelIntelliSense](accessing-your-models-data-from-a-controller/_static/image10.png "ModelIntelliSense")](accessing-your-models-data-from-a-controller/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-171">[![ModelIntelliSense](accessing-your-models-data-from-a-controller/_static/image10.png "ModelIntelliSense")](accessing-your-models-data-from-a-controller/_static/image9.png)</span></span>

## <a name="working-with-sql-server-compact"></a><span data-ttu-id="30a2d-172">Trabajar con SQL Server Compact</span><span class="sxs-lookup"><span data-stu-id="30a2d-172">Working with SQL Server Compact</span></span>

<span data-ttu-id="30a2d-173">Entity Framework Code First detectó que la cadena de conexión de base de datos que se proporcionó apuntaba a una base de datos de `Movies` que todavía no existía, por lo que Code First creó la base de datos automáticamente.</span><span class="sxs-lookup"><span data-stu-id="30a2d-173">Entity Framework Code First detected that the database connection string that was provided pointed to a `Movies` database that didn't exist yet, so Code First created the database automatically.</span></span> <span data-ttu-id="30a2d-174">Para comprobar que se ha creado, busque en la carpeta *App\_Data* .</span><span class="sxs-lookup"><span data-stu-id="30a2d-174">You can verify that it's been created by looking in the *App\_Data* folder.</span></span> <span data-ttu-id="30a2d-175">Si no ve el archivo *movies. sdf* , haga clic en el botón **Mostrar todos los archivos** en la barra de herramientas **Explorador de soluciones** , haga clic en el botón **Actualizar** y, a continuación, expanda la carpeta *App\_Data* .</span><span class="sxs-lookup"><span data-stu-id="30a2d-175">If you don't see the *Movies.sdf* file, click the **Show All Files** button in the **Solution Explorer** toolbar, click the **Refresh** button, and then expand the *App\_Data* folder.</span></span>

<span data-ttu-id="30a2d-176">[![SDF_in_SolnExp](accessing-your-models-data-from-a-controller/_static/image12.png "SDF_in_SolnExp")](accessing-your-models-data-from-a-controller/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-176">[![SDF_in_SolnExp](accessing-your-models-data-from-a-controller/_static/image12.png "SDF_in_SolnExp")](accessing-your-models-data-from-a-controller/_static/image11.png)</span></span>

<span data-ttu-id="30a2d-177">Haga doble clic en *movies. sdf* para abrir **Explorador de servidores**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-177">Double-click *Movies.sdf* to open **Server Explorer**.</span></span> <span data-ttu-id="30a2d-178">A continuación, expanda la carpeta **tablas** para ver las tablas que se han creado en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="30a2d-178">Then expand the **Tables** folder to see the tables that have been created in the database.</span></span>

> [!NOTE]
> <span data-ttu-id="30a2d-179">Si recibe un error al hacer doble clic en *movies. sdf*, asegúrese de que ha instalado [SQL Server Compact 4,0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(compatibilidad con el motor de tiempo de ejecución y las herramientas).</span><span class="sxs-lookup"><span data-stu-id="30a2d-179">If you get an error when you double-click *Movies.sdf*, make sure you've installed [SQL Server Compact 4.0](https://www.microsoft.com/web/gallery/install.aspx?appid=SQLCE;SQLCEVSTools_4_0)(runtime + tools support).</span></span> <span data-ttu-id="30a2d-180">(Para obtener vínculos al software, consulte la lista de requisitos previos en la primera parte de esta serie de tutoriales). Si instala la versión ahora, tendrá que cerrar y volver a abrir Visual Web Developer.</span><span class="sxs-lookup"><span data-stu-id="30a2d-180">(For links to the software, see the list of prerequisites in part 1 of this tutorial series.) If you install the release now, you'll have to close and re-open Visual Web Developer.</span></span>

<span data-ttu-id="30a2d-181">[![DB_explorer](accessing-your-models-data-from-a-controller/_static/image14.png "DB_explorer")](accessing-your-models-data-from-a-controller/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-181">[![DB_explorer](accessing-your-models-data-from-a-controller/_static/image14.png "DB_explorer")](accessing-your-models-data-from-a-controller/_static/image13.png)</span></span>

<span data-ttu-id="30a2d-182">Hay dos tablas, una para el conjunto de entidades `Movie` y, a continuación, la tabla `EdmMetadata`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-182">There are two tables, one for the `Movie` entity set and then the `EdmMetadata` table.</span></span> <span data-ttu-id="30a2d-183">El Entity Framework usa la tabla `EdmMetadata` para determinar cuándo el modelo y la base de datos no están sincronizados.</span><span class="sxs-lookup"><span data-stu-id="30a2d-183">The `EdmMetadata` table is used by the Entity Framework to determine when the model and the database are out of sync.</span></span>

<span data-ttu-id="30a2d-184">Haga clic con el botón secundario en la tabla `Movies` y seleccione **Mostrar datos de tabla** para ver los datos que ha creado.</span><span class="sxs-lookup"><span data-stu-id="30a2d-184">Right-click the `Movies` table and select **Show Table Data** to see the data you created.</span></span>

<span data-ttu-id="30a2d-185">[![MoviesTable](accessing-your-models-data-from-a-controller/_static/image16.png "MoviesTable")](accessing-your-models-data-from-a-controller/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-185">[![MoviesTable](accessing-your-models-data-from-a-controller/_static/image16.png "MoviesTable")](accessing-your-models-data-from-a-controller/_static/image15.png)</span></span>

<span data-ttu-id="30a2d-186">Haga clic con el botón secundario en la tabla `Movies` y seleccione **Editar esquema de tabla**.</span><span class="sxs-lookup"><span data-stu-id="30a2d-186">Right-click the `Movies` table and select **Edit Table Schema**.</span></span>

<span data-ttu-id="30a2d-187">[![EditTableSchema](accessing-your-models-data-from-a-controller/_static/image18.png "EditTableSchema")](accessing-your-models-data-from-a-controller/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-187">[![EditTableSchema](accessing-your-models-data-from-a-controller/_static/image18.png "EditTableSchema")](accessing-your-models-data-from-a-controller/_static/image17.png)</span></span>

<span data-ttu-id="30a2d-188">[![TableSchemaSM](accessing-your-models-data-from-a-controller/_static/image20.png "TableSchemaSM")](accessing-your-models-data-from-a-controller/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-188">[![TableSchemaSM](accessing-your-models-data-from-a-controller/_static/image20.png "TableSchemaSM")](accessing-your-models-data-from-a-controller/_static/image19.png)</span></span>

<span data-ttu-id="30a2d-189">Observe cómo se asigna el esquema de la tabla `Movies` a la clase `Movie` que creó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="30a2d-189">Notice how the schema of the `Movies` table maps to the `Movie` class you created earlier.</span></span> <span data-ttu-id="30a2d-190">Entity Framework Code First crea automáticamente este esquema en función de la clase `Movie`.</span><span class="sxs-lookup"><span data-stu-id="30a2d-190">Entity Framework Code First automatically created this schema for you based on your `Movie` class.</span></span>

<span data-ttu-id="30a2d-191">Cuando haya terminado, cierre la conexión.</span><span class="sxs-lookup"><span data-stu-id="30a2d-191">When you're finished, close the connection.</span></span> <span data-ttu-id="30a2d-192">(Si no cierra la conexión, es posible que reciba un error la próxima vez que ejecute el proyecto).</span><span class="sxs-lookup"><span data-stu-id="30a2d-192">(If you don't close the connection, you might get an error the next time you run the project).</span></span>

<span data-ttu-id="30a2d-193">[![CloseConnection](accessing-your-models-data-from-a-controller/_static/image22.png "CloseConnection")](accessing-your-models-data-from-a-controller/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="30a2d-193">[![CloseConnection](accessing-your-models-data-from-a-controller/_static/image22.png "CloseConnection")](accessing-your-models-data-from-a-controller/_static/image21.png)</span></span>

<span data-ttu-id="30a2d-194">Ahora tiene la base de datos y una página de lista simple para mostrar su contenido.</span><span class="sxs-lookup"><span data-stu-id="30a2d-194">You now have the database and a simple listing page to display content from it.</span></span> <span data-ttu-id="30a2d-195">En el siguiente tutorial, examinaremos el resto del código con scaffolding y agregaremos un método `SearchIndex` y una vista `SearchIndex` que le permita buscar películas en esta base de datos.</span><span class="sxs-lookup"><span data-stu-id="30a2d-195">In the next tutorial, we'll examine the rest of the scaffolded code and add a `SearchIndex` method and a `SearchIndex` view that lets you search for movies in this database.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="30a2d-196">[Anterior](adding-a-model.md)
> [Siguiente](examining-the-edit-methods-and-edit-view.md)</span><span class="sxs-lookup"><span data-stu-id="30a2d-196">[Previous](adding-a-model.md)
[Next](examining-the-edit-methods-and-edit-view.md)</span></span>
